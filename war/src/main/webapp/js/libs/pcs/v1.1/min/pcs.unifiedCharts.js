define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,a,o){if(n===o)return!0;if(e===a){if("http"===e)return t(n,"80")===t(o,"80");if("https"===e)return t(n,"443")===t(o,"443")}return!1}var a,o,s,i,r,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],d=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,b="undefined"!=typeof location&&location.href,p=b&&location.protocol&&location.protocol.replace(/\:/,""),u=b&&location.hostname,m=b&&(location.port||void 0),v={},h=e.config&&e.config()||{};return a={version:"2.0.15",strip:function(e){if(e){e=e.replace(d,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:h.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=l[t];try{e=new ActiveXObject(n)}catch(a){}if(e){l=[n];break}}return e},parseName:function(e){var t,n,a,o=!1,s=e.lastIndexOf("."),i=0===e.indexOf("./")||0===e.indexOf("../");return-1!==s&&(!i||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,a=n||t,s=a.indexOf("!"),-1!==s&&(o="strip"===a.substring(s+1),a=a.substring(0,s),n?n=a:t=a),{moduleName:t,ext:n,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,o,s){var i,r,l,d=a.xdRegExp.exec(e);return d?(i=d[2],r=d[3],r=r.split(":"),l=r[1],r=r[0],(!i||i===t)&&(!r||r.toLowerCase()===o.toLowerCase())&&(!l&&!r||n(i,l,t,s))):!0},finishLoad:function(e,t,n,o){n=t?a.strip(n):n,h.isBuild&&(v[e]=n),o(n)},load:function(e,t,n,o){if(o&&o.isBuild&&!o.inlineText)return void n();h.isBuild=o&&o.isBuild;var s=a.parseName(e),i=s.moduleName+(s.ext?"."+s.ext:""),r=t.toUrl(i),l=h.useXhr||a.useXhr;return 0===r.indexOf("empty:")?void n():void(!b||l(r,p,u,m)?a.get(r,function(t){a.finishLoad(e,s.strip,t,n)},function(e){n.error&&n.error(e)}):t([i],function(e){a.finishLoad(s.moduleName+"."+s.ext,s.strip,e,n)}))},write:function(e,t,n,o){if(v.hasOwnProperty(t)){var s=a.jsEscape(v[t]);n.asModule(e+"!"+t,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,t,n,o,s){var i=a.parseName(t),r=i.ext?"."+i.ext:"",l=i.moduleName+r,d=n.toUrl(i.moduleName+r)+".js";a.load(l,n,function(t){var n=function(e){return o(d,e)};n.asModule=function(e,t){return o.asModule(e,d,t)},a.write(e,l,n,s)},s)}},"node"===h.env||!h.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(o=require.nodeRequire("fs"),a.get=function(e,t,n){try{var a=o.readFileSync(e,"utf8");"\ufeff"===a[0]&&(a=a.substring(1)),t(a)}catch(s){n&&n(s)}}):"xhr"===h.env||!h.env&&a.createXhr()?a.get=function(e,t,n,o){var s,i=a.createXhr();if(i.open("GET",e,!0),o)for(s in o)o.hasOwnProperty(s)&&i.setRequestHeader(s.toLowerCase(),o[s]);h.onXhr&&h.onXhr(i,e),i.onreadystatechange=function(a){var o,s;4===i.readyState&&(o=i.status||0,o>399&&600>o?(s=new Error(e+" HTTP status: "+o),s.xhr=i,n&&n(s)):t(i.responseText),h.onXhrComplete&&h.onXhrComplete(i,e))},i.send(null)}:"rhino"===h.env||!h.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?a.get=function(e,t){var n,a,o="utf-8",s=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),o)),l="";try{for(n=new java.lang.StringBuffer,a=r.readLine(),a&&a.length()&&65279===a.charAt(0)&&(a=a.substring(1)),null!==a&&n.append(a);null!==(a=r.readLine());)n.append(i),n.append(a);l=String(n.toString())}finally{r.close()}t(l)}:("xpconnect"===h.env||!h.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(s=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in s,a.get=function(e,t){var n,a,o,l={};r&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{n=s["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(o,1,0,!1),a=s["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),a.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(n.available(),l),a.close(),n.close(),t(l.value)}catch(d){throw new Error((o&&o.path||"")+": "+d)}}),a}),define("text!pcs/charts/unifiedCharts/templates/pcs-unified-container.html",[],function(){return' <div id="bpm-charts-container">\n    <div class="oj-row oj-cols-nopad">\n        <div class="oj-xl-12 oj-lg-12 oj-md-12 oj-col">\n			<div id="bpm-unifiedCharts-tabs" data-bind="ojComponent:{component: \'ojTabs\'}">\n			    <ul>\n			      <li><span data-bind="text: bundle.vis.formlbl.dashboard"></span></li>\n			      <li><span data-bind="text: bundle.vis.formlbl.visualization"></span></li>\n			    </ul>\n\n			    <div id="bpm-charts-tabs-1">\n			      <div id="bpm-charts-dash"></div>\n			    </div>\n			    <div id="bpm-charts-tabs-2">\n			      <div id="bpm-charts-vis"></div>\n			    </div>\n		  	</div>\n        </div>\n    </div>\n</div>\n'}),define("pcs/util/loggerUtil",["jquery"],function(e){"use strict";function t(){var e=this;return e.enableLog=!1,{log:function(t){e.enableLog&&console.log(t)},error:function(t){e.enableLog&&console.error(t)},debug:function(t){e.enableLog&&console.debug(t)},warn:function(t){e.enableLog&&console.warn(t)},enableLog:function(){e.enableLog=!0},disableLog:function(){e.enableLog=!1}}}var n=new t;return n}),define("pcs/util/pcsUtil",["module","knockout","ojs/ojcore","jquery","pcs/util/loggerUtil"],function(e,t,n,a,o){"use strict";function s(){var e,t={};if(-1===window.location.href.indexOf("?"))return t;for(var n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<n.length;a++){e=n[a].split("=");var o=decodeURIComponent(e[0]),s=decodeURIComponent(e[1]),i=JSON.parse(s);t[o]=i}return t}var i={};a.CustomEvent=function(e){var t,n=e&&i[e];return n||(t=a.Callbacks(),n={publish:t.fire,subscribe:t.add,unsubscribe:t.remove},e&&(i[e]=n)),n},function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return"function"==typeof window.CustomEvent?!1:(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}();var r={addHandler:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeHandler:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}};String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,value:function(e,t){return t=t||0,this.substr(t,e.length)===e}}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{enumerable:!1,value:function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var a=n.indexOf(e,t);return-1!==a&&a===t}});var l=function(e){"function"==typeof window.doADFProxyCall?window.doADFProxyCall(e):e&&window.location.assign(e)},d=function(e){function t(e){for(var t=e.split("\r\n"),n="text/plain",a="pcsFormUrl",o={contentType:n,fieldName:a},s=1;s<t.length;s++){var i=t[s],r=i.match(/^.*filename="([^"]*)"/);if(r)o.fieldName=r[1];else{var l="Content-Type:";i.indexOf(l)>-1&&(r=i.substring(i.indexOf(l)+l.length)),r&&(o.contentType=r.trim())}}return o}var n=e.getResponseHeader("Content-Type"),a=e.response,o=n.match(/boundary=(?:'([^']+)'|([^;]+))/i);if(!o)throw new Error("Bad content-type header, no multipart boundary");var s,i,r=o[1]||o[2],l="string"!=typeof a;if(r="\r\n--"+r,l){var d=new Uint8Array(a),c=32768,b=[];for(i=0;i<d.length;i+=c)b.push(String.fromCharCode.apply(null,d.subarray(i,i+c)));s=b.join("")}else s=a;s="\r\n"+s;var p=s.split(new RegExp(r)),u={};for(i=1;i<p.length-1;i++){var m="\r\n\r\n",v=p[i].substring(p[i].indexOf(m)+m.length),h=p[i].substring(0,p[i].indexOf(m)),f=t(h),g=!1;l&&!f.contentType.startsWith("text")&&(g=!0),u[f.fieldName]={data:v,contentType:f.contentType,fileName:f.fieldName}}return u},c=function(e){return a.ajax({type:"GET",url:e,dataType:"text",xhrFields:{withCredentials:!0}})};return{adfProxyCall:l,getAuthToken:c,multipartParse:d,getUrlParametersObject:s,eventHandler:r,initComponentForIFrame:function(e,t,n){if(a.isEmptyObject(a.pcsConnection)){if(a.pcsConnection={},!a.isEmptyObject(e)&&(e.testMode&&(a.pcsConnection.testMode=e.testMode),e.serverURL&&(a.pcsConnection.serverURL=e.serverURL),e.authInfo))return a.pcsConnection.authInfo=e.authInfo,void t();var s=this,i=function(){var e=s.getServerURL();o.log("Script loaded and ready, getting token"),s.getAuthToken(e+"/ic/process/workspace/auth/token").done(function(e){e&&e.startsWith("<html")?n.text("User cannot be authorized").show():(a.pcsConnection.authInfo="Bearer "+e,t())}).fail(function(e){n.text("User cannot be authorized").show()})},r=document.createElement("script");r.onload=i,r.onreadystatechange=function(){"complete"===this.readyState&&i()};var l=this.getServerURL();r.src=l+"/ic/process/workspace/faces/js/homePage.js",document.getElementsByTagName("head")[0].appendChild(r)}else t()},getCookie:function(e){var t;return(t=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?t[1]:null},storeLoggedInUser:function(e){a.pcsConnection.isAdmin=e.adminFlag,a.pcsConnection.isProcessOwner=!1,e.roles&&e.roles.items&&a.each(e.roles.items,function(e,t){return t.id.endsWith(".ProcessOwner")?(a.pcsConnection.isProcessOwner=!0,!1):void 0})},getServerURL:function(){if(a.pcsConnection&&a.pcsConnection.serverURL)return a.pcsConnection.serverURL.endsWith("/")?a.pcsConnection.serverURL.substring(0,a.pcsConnection.serverURL.length-1):a.pcsConnection.serverURL;var e=window.location.origin;return a.pcsConnection||(a.pcsConnection={}),a.pcsConnection.serverURL=e,e},getRestUri:function(){return"/bpm/api/4.0/"},getAuthInfo:function(){if(a.pcsConnection&&a.pcsConnection.authInfo){var e=a.pcsConnection.authInfo;return e.startsWith("Bearer ")||e.startsWith("Basic ")||(e="Bearer "+e),e}return""},getRestURL:function(){if(a.pcsConnection&&a.pcsConnection.restURL)return a.pcsConnection.restURL;var e=this.getServerURL()+this.getRestUri();return a.pcsConnection&&(a.pcsConnection.restURL=e),e},getDpServerURL:function(){return a.pcsConnection&&a.pcsConnection.dpServerURL?a.pcsConnection.dpServerURL.endsWith("/")?a.pcsConnection.dpServerURL.substring(0,a.pcsConnection.dpServerURL.length-1):a.pcsConnection.dpServerURL:this.getServerURL()},getDpRestURL:function(){var e=this.getDpServerURL()+"/bpm/api/4.0/";return e},beforeRequestCallback:function(e,t){t.adfProxyCall();var n=t.getAuthInfo();n&&e.setRequestHeader("Authorization",n),t.isTestMode()&&e.setRequestHeader("pcs_mode","dev");var a=requirejs.s.contexts._.config.locale;a&&e.setRequestHeader("Accept-Language",a)},isTestMode:function(){return a.pcsConnection&&a.pcsConnection.testMode?!0:!1},taskIconColor:function(e){var t=["#6e8598","#754b9a","#45ac62","#ed813d","#3f92d0","#E85E93","#81BB5F","#DFE146","#FABC39","#EB5B60","#1FB4AD","#00B6D1"];if(!e)return"grey";var n,a,o,s=0;for(n=0,o=e.length;o>n;n++)a=e.charCodeAt(n),s=(s<<5)-s+a,s|=0;var i=s%t.length;return t[Math.abs(i)]},taskInitials:function(e){if(!e)return"NA";e=e.replace(" ","");for(var t=e.charAt(0).toUpperCase(),n="",a=1;a<e.length;a++)if(e.charAt(a)===e.charAt(a).toUpperCase()){n=e.charAt(a);break}return t+n},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},unApplyBindings:function(e,n){e.find("*").each(function(){a(this).off(),a(this).unbind()}),e.off(),n?(t.cleanNode(e[0]),e.find("*").each(function(){a(this).remove()}),t.removeNode(e)):(t.cleanNode(e),e.find("*").each(function(){a(this).remove()}))},compositeVersion:function(e){var t;if(e)try{var n=e.split("!"),a=n[1].split("*");t=a[0]}catch(s){o.error("Error while getting version")}return t},applicationName:function(e){var t;if(e)try{var n=e.split("~"),a=n[1].split("*");t=a[0]}catch(s){o.error("Error while getting application Name")}return t}}}),function(){function e(e,t,n,a,o,s){return t[e]||(e=e.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),t[e]?(n.push(e),!0!==t[e]&&1!==t[e]||a.push(o+e+"/"+s),!0):!1}function t(e){var t=e.toLowerCase().split(/-|_/);e=[t[0]];var n,a=1;for(n=1;n<t.length;n++){var o=t[n],s=o.length;if(1==s)break;switch(a){case 1:if(a=2,4==s){e.push(o.charAt(0).toUpperCase()+o.slice(1));break}case 2:a=3,e.push(o.toUpperCase());break;default:e.push(o)}}return"zh"!=e[0]||1<e.length&&4==e[1].length||(t="Hans",a=1<e.length?e[1]:null,("TW"===a||"MO"===a||"HK"===a)&&(t="Hant"),e.splice(1,0,t)),e}function n(e,t){for(var a in t)t.hasOwnProperty(a)&&(null==e[a]?e[a]=t[a]:"object"==typeof t[a]&&"object"==typeof e[a]&&n(e[a],t[a]))}var a=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("ojL10n",["module"],function(o){var s=o.config?o.config():{};return{version:"2.0.1+",load:function(o,i,r,l){l=l||{},l.locale&&(s.locale=l.locale);var d,c,b,p,u,m,v,h,f,g=a.exec(o),y=g[1],A=g[5],T=[],j={},_="";for(g[5]?(y=g[1],o=y+A,d=g[4]):(A=g[4],d=s.locale,"undefined"!=typeof document?(d||(d=l.isBuild?"root":document.documentElement.lang)||(d=void 0===navigator?"root":navigator.language||navigator.userLanguage||"root"),s.locale=d):d="root"),c=t(d),p=s.noOverlay,u=s.defaultNoOverlayLocale,(g=s.merge)&&(m=g[y+A])&&(g=a.exec(m),v=g[1],h=g[4]),f=[],g=0;g<c.length;g++)b=c[g],_+=(_?"-":"")+b,f.push(_);l.isBuild?(T.push(o),m&&T.push(m),i(T,function(){r()})):("query"==s.includeLocale&&(o=i.toUrl(o+".js"),o+=(-1===o.indexOf("?")?"?":"&")+"loc="+d),l=[o],m&&l.push(m),i(l,function(t,a){var o=[],s=function(t,n,a){for(var s=p||!0===t.__noOverlay,i=u||t.__defaultNoOverlayLocale,r=!1,l=f.length-1;l>=0&&(!r||!s);l--)r=e(f[l],t,o,T,n,a);l=1===f.length&&"root"===f[0],s&&(l||!r)&&i&&e(i,t,o,T,n,a),l||e("root",t,o,T,n,a)};s(t,y,A);var l=o.length;a&&s(a,v,h),i(T,function(){var e=function(e,t,a,s,r){for(;a>t&&o[t];t++){var l=o[t],d=e[l];(!0===d||1===d)&&(d=i(s+l+"/"+r)),n(j,d)}};e(a,l,o.length,v,h),e(t,0,l,y,A),j._ojLocale_=c.join("-"),r(j)})}))}}})}(),define("pcs/resources/nls/dashboardResource",{root:!0,de:!0,es:!0,fr:!0,it:!0,ja:!0,ko:!0,pt:!0,"zh-Hans":!0,"zh-Hant":!0}),define("text!pcs/charts/visualization/templates/pcs-visualization.html",[],function(){return'<div id="bpm-vis-mainContainer">\n	<div  class="oj-row bpm-vis-center-align">\n		<div id="bpm-vis-loading-indicator" class="bpm-vis-center-align bpm-vis-loading"/>\n	</div>\n	<div class="oj-row">\n		<div class="oj-xl-12 oj-lg-12 oj-md-12 oj-col">\n			<div id="visualizationContainer" data-bind="ojModule: { name: \'pcs/charts/visualization/viewModel/visualizationContainer\', viewName: \'pcs/charts/visualization/view/visualizationContainer\',\n				params: {parent: $data}}"></div>\n		</div>\n	</div>\n</div>\n'}),define("pcs/charts/visualization/viewModel/util/visualizationUtil",["jquery","knockout","ojL10n!pcs/resources/nls/dashboardResource"],function(e,t,n){var a=function(e){if(e.columnsInfo){var t,n={};for(t=0;t<e.columnsInfo.length;t++)n[e.columnsInfo[t].columnName.replace("TASK","PROCESS")]=t;return n}},o=function(e){"function"==typeof doADFProxyCall?doADFProxyCall(e):e&&window.location.assign(e)},s=function(t,a){e("#bpm-dsb-error-dialog").ojDialog("open");var o=n.container.generic_error_msg;a?o=a:t&&401===t.status&&(o=n.container.access_error_msg),e("#bpm-dsb-error-dialog-custom-text").text(o)},i={queries:{APPLICATION_LIST:"PROCESS_LABEL_LIST"},dataType:{TIMESTAMP:"TIMESTAMP",DATETIME:"DATETIME",INT:"INT"},misc:{ANY:"ANY",ALL:"ALL",VALUE:"value",VISIBLE:"visible"},chartType:{BAR:"bar",LINE:"line",AREA:"area",PIE:"pie",LINEWITHAREA:"lineWithArea",FUNNEL:"funnel",COMBO:"combo"},columnTypes:{ATTRIBUTE:"ATTRIBUTE",DIMENSION:"DIMENSION",MEASURE:"MEASURE"},dataSource:{PROCESS:"PROCESS",ACTIVITY:"ACTIVITY",TASK:"TASK",ASSIGNMENT:"ASSIGNMENT"},functionList:{SUM:"SUM",COUNT:"COUNT",AVG:"AVG",MIN:"MIN",MEDIAN:"MEDIAN",MAX:"MAX",STDDEV:"STDDEV",COUNTDISTINCT:"COUNTDISTINCT",VARIANCE:"VARIANCE"},timeGroups:["YEAR","QUARTER","MONTH","WEEK","DAYOFYEAR","DAYOFMONTH","DAYOFWEEK","HOUR","MINUTE","SECOND"],lastNDays:{7:"1WEEK",30:"1MONTH",60:"2MONTHS",90:"3MONTHS",180:"6MONTHS",270:"9MONTHS",365:"1YEAR"}};return{columnAlias:a,constants:i,drilldown:o,errorHandler:s,refreshAll:function(e,n){e.valueWillMutate(),e.removeAll(),t.utils.arrayPushAll(e,n),e.valueHasMutated()},addAll:function(e,n){e.valueWillMutate(),t.utils.arrayPushAll(e,n),e.valueHasMutated()},startsWith:function(e,t,n){return n=n||0,e.substr(n,t.length)===t}}}),define("pcs/charts/visualization/viewModel/services/DataServices",["jquery","pcs/charts/visualization/viewModel/util/visualizationUtil"],function(e,t){function n(n){var a=oj.Translations.getTranslatedString("vis.error_msg.data_fetch_error");if(400===n.status||500===n.status){var o=e.parseJSON(n.responseText),s=o&&o.detail?o.detail:a;t.errorHandler("",s)}else 403!==n.status&&404!==n.status&&204!==n.status&&t.errorHandler("",a)}var a={applicationNameList:"ootbqueries/APPLICATION_NAME_LIST",datasources:"businessquery-metadata/datasources",columnsListByApp:"businessquery-metadata/datasources/{dataSource}/columns?applicationName={appName}",processList:"ootbqueries/PROCESS_LABEL_LIST",aggregateOperations:"businessquery-metadata/aggregateoperations",comparisonOperators:"businessquery-metadata/comparisonoperators",businessQuery:"businessquery",businessQueries:"businessquery-metadata/businessqueries",businessQueryById:"businessquery-metadata/businessqueries/{businessQueryId}"},o="",s="",i=function(e){return t.drilldown(),c(e,"GET")},r=function(e,n){return t.drilldown(),c(e,"POST",n)},l=function(e,n){return t.drilldown(),c(e,"PUT",n)},d=function(e,n){return t.drilldown(),c(e,"DELETE",n)},c=function(t,a,s){var i=e.ajax({type:a,url:t,data:s,beforeSend:function(e){o&&e.setRequestHeader("Authorization",o)},xhrFields:{withCredentials:!0},contentType:"application/json",dataType:"json",error:function(e){n(e)}});return i},b=function(e,t){return e.replace(/{\w+}/g,function(e){return t[e]})},p={setAuthInfo:function(e){o=e},setBaseRestURL:function(e){s=e},getAppNameList:function(){var e=s+a.applicationNameList;return i(e)},getDataSourceList:function(){var e=s+a.datasources;return i(e)},getColumnListByApp:function(e){var t=s+a.columnsListByApp;return t=b(t,e),i(t)},getProcessList:function(){var e=s+a.processList;return i(e)},getAggregateOperations:function(){var e=s+a.aggregateOperations;return i(e)},getComparisonOperators:function(){var e=s+a.comparisonOperators;return i(e)},getChartData:function(e){var t=s+a.businessQuery;return r(t,e)},getSavedQueries:function(){var e=s+a.businessQueries;return i(e)},saveQuery:function(e){var t=s+a.businessQueries;return r(t,e)},updateQuery:function(e,t){var n=s+a.businessQueryById;return n=b(n,t),l(n,e)},deleteQuery:function(e){var t=s+a.businessQueryById;return t=b(t,e),d(t)},getQuery:function(e){var t=s+a.businessQueryById;return t=b(t,e),i(t)}};return p}),define("pcs/charts/visualization/viewModel/custom/customDashboard",["ojs/ojcore","knockout","pcs/charts/visualization/viewModel/util/visualizationUtil","pcs/charts/visualization/viewModel/services/DataServices","ojs/ojradioset","ojs/ojdialog","ojs/ojselectcombobox","ojs/ojbutton","ojs/ojchart","ojs/ojtoolbar","ojs/ojdatetimepicker","ojs/ojtable","ojL10n!pcs/resources/nls/dashboardResource","ojs/ojknockout","promise","ojs/ojlistview","ojs/ojdatacollection-common"],function(e,t,n,a){function o(o){function s(){T(),i()}function i(){a.getDataSourceList().done(function(e){n.refreshAll(k.dataSourceList,r(e)),k.selectedDataSource([k.dataSourceList()[0].name]),d(),u()})}function r(e){return e.map(function(e){return{name:e,displayName:k.bundle.vis.datasource[e]}})}function l(e,t){var a=function(t){return t.name===e.value[0]};if(e.option==n.constants.misc.VALUE){var o=k.dimensionList().filter(a);o=0===o.length?k.dimensionBIList().filter(a):o,o.length>0&&o[0].dataType===n.constants.dataType.DATETIME?$("#bpm-vis-"+t+"-timegroups").show():($("#bpm-vis-"+t+"-timegroups").hide(),"srs"===t?k.selectedSrsTimeGroup([]):"grp"===t&&k.selectedGrpTimeGroup([]))}}function d(){a.getAggregateOperations().done(function(e){k.allFunctionArr=e,n.refreshAll(k.functionList,c(e)),k.selectedFunction([k.functionList()[0].name])})}function c(e){var t=e.map(function(e){return{name:e,displayName:k.bundle.vis.functions[e]}});return t}function b(e,t){if(e.name===t){var a;e.supportedAggregations&&e.supportedAggregations.length>0?(a=c(e.supportedAggregations),k.selectedFunction([a[0].name])):a=c(k.allFunctionArr),n.refreshAll(k.functionList,a)}}function p(e){return e&&(e=e.map(function(e){return{name:e.values[0],displayName:e.values[1]}})),e}function u(){a.getAppNameList().done(function(e){n.refreshAll(k.appNameList,p(e.rows)),k.selectedAppName([n.constants.misc.ANY])})}function m(e,t){var o;o=t==n.constants.misc.ANY?{"{dataSource}":e,"{appName}":""}:{"{dataSource}":e,"{appName}":t},a.getColumnListByApp(o).done(function(e){v(e),$("#bpm-vis-cust-query-overlay",k.rootElement).removeClass("bpm-vis-load-overlay")})}function v(e){var a=[],o=[],s=[],i=[],r=[],l=[],d=[];e.map(function(e){switch(e.type){case n.constants.columnTypes.ATTRIBUTE:L(a,e);break;case n.constants.columnTypes.DIMENSION:n.startsWith(e.name,"B_")||n.startsWith(e.name,"R_")?L(s,e):L(o,e);break;case n.constants.columnTypes.MEASURE:n.startsWith(e.name,"B_")||n.startsWith(e.name,"R_")?L(r,e):L(i,e);break;default:x.log("missing type info"+t.toJSON(e))}n.startsWith(e.name,"B_")||n.startsWith(e.name,"R_")?L(d,e):L(l,e)}),n.refreshAll(k.columnDataList,l),n.refreshAll(k.columnDataBIList,d),n.refreshAll(k.measureList,i),n.refreshAll(k.measureBIList,r),n.refreshAll(k.dimensionList,o),n.refreshAll(k.dimensionBIList,s),n.refreshAll(k.attributeList,a),h()}function h(){if("reload"===k.formState&&k.selectedQueryJSON){var e=k.selectedQueryJSON.legend;k.selectedSeries([e]);var t=k.selectedQueryJSON.groups[0];if(k.selectedGroup([t]),k.selectedFunction([k.selectedQueryJSON.dataSeries[0].aggregateOperation]),k.selectedMeasure([k.selectedQueryJSON.dataSeries[0].measureColumn]),k.selectedQueryJSON.lastNDays&&k.selectedLastDays([k.selectedQueryJSON.lastNDays.toString()]),k.selectedQueryJSON.timeGroupings&&(k.selectedQueryJSON.timeGroupings[e]&&k.selectedSrsTimeGroup([k.selectedQueryJSON.timeGroupings[e].timeGroupingUnits[0]]),k.selectedQueryJSON.timeGroupings[t]&&k.selectedGrpTimeGroup([k.selectedQueryJSON.timeGroupings[t].timeGroupingUnits[0]])),k.selectedQueryJSON.filter){k.selectedFilterType(k.selectedQueryJSON.filter.filterType);var a=[];k.selectedQueryJSON.filter.filterEntries.map(function(e){var t=new E;t.columnDataValue([e.columnName]),t.operatorValue([e.operator]),t.dataType(e.columnDataType),a.push(t)}),n.refreshAll(k.filterCriteriaList,a),k.selectedQueryJSON.filter.filterEntries.map(function(e){k.filterCriteriaList().map(function(t){if(e.columnName===t.columnDataValue()[0])if(t.dataType()===n.constants.dataType.DATETIME&&e.value&&""!==e.value){var a=new Date(parseInt(e.value)),o=k.oj.IntlConverterUtils.dateToLocalIso(a);t.selectedValue(o)}else t.selectedValue(e.value)})})}k.selectedQueryJSON.properties?k.selectedQueryJSON.properties.map(function(e){e.name&&"chartType"===e.name&&k.selectedChartType(e.value?e.value:n.constants.chartType.BAR)}):k.selectedChartType(n.constants.chartType.BAR)}else"new"===k.formState&&(k.selectedFilterType(n.constants.misc.ALL),k.selectedLastDays(["30"]),k.selectedSeries([k.dimensionList()[0].name]),k.selectedGroup([k.dimensionList()[1].name]),k.selectedFunction()[0]!==n.constants.functionList.COUNT&&k.selectedMeasure([k.measureList()[0].name]))}function f(e,t){var o=t?t:g(e);k.groupKey=o.groups[0],k.seriesKey=o.legend;var s="*"===o.dataSeries[0].measureColumn?"X":o.dataSeries[0].measureColumn;k.measureKey=o.dataSeries[0].aggregateOperation+s,a.getChartData(JSON.stringify(o)).done(function(e){k.populateChartData(e)}).fail(function(){$("#bpm-vis-cust-chart-overlay",k.rootElement).removeClass("bpm-vis-load-overlay"),n.errorHandler("",k.bundle.vis.error_msg.data_fetch_error)})}function g(e){var t={filterType:k.selectedFilterType(),filterEntries:[]};k.filterCriteriaList().map(function(a){var o=a.selectedValue()instanceof Array?a.selectedValue()[0]:a.selectedValue(),s=a.dataType();s===n.constants.dataType.DATETIME&&o&&""!==o?o=e.IntlConverterUtils.isoToLocalDate(o).getTime():s===n.constants.dataType.INT&&""!==o&&(o=parseInt(o)),t.filterEntries.push({columnName:a.columnDataValue()[0],operator:a.operatorValue()[0],value:o,columnDataType:s})});var a={id:k.selectedQueryJSON?k.selectedQueryJSON.id:"",title:k.queryName(),description:k.description(),dataSource:k.selectedDataSource()[0],applicationName:k.selectedAppName()[0]===n.constants.misc.ANY?null:k.selectedAppName()[0],queryType:"GROUP",dataSeries:[{measureColumn:k.selectedMeasure()[0],aggregateOperation:k.selectedFunction()[0]}],groups:[k.selectedGroup()[0]===n.constants.misc.ANY?"*":k.selectedGroup()[0]],legend:k.selectedSeries()[0]===n.constants.misc.ANY?"*":k.selectedSeries()[0],filter:t,topN:null,sortEntries:null,lastNDays:k.selectedLastDays()[0],properties:[{name:"chartType",value:k.selectedChartType()}]};return a.timeGroupings={},k.selectedSrsTimeGroup().length>0&&(a.timeGroupings[k.selectedSeries()[0]]={timeGroupingUnits:[k.selectedSrsTimeGroup()[0]]}),k.selectedGrpTimeGroup().length>0&&(a.timeGroupings[k.selectedGroup()[0]]={timeGroupingUnits:[k.selectedGrpTimeGroup()[0]]}),a}function y(e){var t=[];k.csvGridData=k.groupKey+", "+k.seriesKey+", "+k.measureKey,e.rows.map(function(e){var n=e.values[k.groupIndex],a=e.values[k.seriesIndex],o=e.values[k.measureIndex],s={};s[k.groupKey]=n,s[k.seriesKey]=a,s[k.measureKey]=o,t.push(s),k.csvGridData+="\n"+n+", "+a+", "+o});var a="",o="",s="Count";k.columnDataList().map(function(e){switch(e.name){case k.groupKey:a=e.displayName;break;case k.seriesKey:o=e.displayName}}),k.columnDataBIList().map(function(e){switch(e.name){case k.groupKey:a=e.displayName;break;case k.seriesKey:o=e.displayName}}),k.measureList().map(function(e){var t=k.selectedFunction()[0]+e.name;t===k.measureKey&&(s=e.displayName)}),k.measureBIList().map(function(e){var t=k.selectedFunction()[0]+e.name;t===k.measureKey&&(s=e.displayName)}),k.xLabel(a),k.yLabel(s);var i=[{headerText:a,field:k.groupKey},{headerText:o,field:k.seriesKey},{headerText:s,field:k.measureKey}];n.refreshAll(k.headerTextArr,i),k.gridDataSource.reset(t)}function A(){var e=[];for(var t in n.constants.lastNDays){var a={};a.id=t,a.label=k.bundle.vis.lastNDays[n.constants.lastNDays[t]],e.push(a)}return e}function T(e){a.getSavedQueries().done(function(t){if(n.refreshAll(k.savedQueries,_(t)),e)k.selectedQuery([e]);else{var a=k.savedQueries().length>0?[k.savedQueries()[0].id]:[];k.selectedQuery(a)}$("#bpm-vis-query-listview").ojListView("refresh"),j()})}function j(){return k.savedQueries().length<=0?($("#bpm-vis-popup1").ojPopup("isOpen")&&$("#bpm-vis-popup1").ojPopup("close","#bpm-vis-querybtn"),$("#bpm-vis-business-analytics").hide(),$("#bpm-vis-main-splash").show(),!0):($("#bpm-vis-main-splash").hide(),$("#bpm-vis-business-analytics").show(),!1)}function _(e){return e.map(function(e){var t=e.href.lastIndexOf("/");return{id:e.href.slice(++t),label:e.title}})}function w(){k.selectedSrsTimeGroup([]),k.selectedGrpTimeGroup([]),k.queryName(k.selectedQueryJSON.title),k.description(k.selectedQueryJSON.description);var e=k.selectedQueryJSON.applicationName?k.selectedQueryJSON.applicationName:n.constants.misc.ANY;k.selectedAppName([e]),k.selectedDataSource([k.selectedQueryJSON.dataSource])}function C(e,t){$("#bpm-vis-cust-splash").hide(),$("#bpm-vis-chart-tools").show(),$("#bpm-vis-chart-row1").show(),$("#bpm-vis-chart-row2").show(),$("#bpm-vis-cust-chart-overlay",k.rootElement).addClass("bpm-vis-load-overlay"),f(e,t),$("#bpm-vis-cust-chart-container").show()}function S(){k.selectedQueryJSON=null,k.queryName(""),k.description(""),k.selectedDataSource.removeAll(),k.selectedAppName([n.constants.misc.ANY]),i(),k.formState="new",$("#bpm-vis-cust-saved-queries").ojSelect("refresh"),$("#bpm-vis-cust-splash").show(),$("#bpm-vis-cust-chart-container").hide(),$("#bpm-vis-chart-tools").hide(),$("#bpm-vis-chart-row1").hide(),$("#bpm-vis-chart-row2").hide()}function E(){var e=this;e.columnDataValue=t.observableArray([k.columnDataList()[0].name]),e.operatorValue=t.observableArray(["EQ"]),e.selectedValue=t.observableArray([""]),e.dataType=t.observable(k.columnDataList()[0].dataType),e.columnDataValueChangeHandler=function(t,n){if(e.selectedValue(""),"value"==n.option){for(var a=n.value[0],o=0;o<k.columnDataList().length;o++){var s=k.columnDataList()[o].name;if(s===a){var i=k.columnDataList()[o].dataType;e.dataType(i),e.operatorValue(["EQ"]);break}}for(var r=0;r<k.columnDataBIList().length;r++){var l=k.columnDataBIList()[r].name;if(l===a){var d=k.columnDataBIList()[r].dataType;e.dataType(d),e.operatorValue(["EQ"]);break}}}}}var k=this;k.oj=e;var x=require("pcs/util/loggerUtil");k.bundle=require("ojL10n!pcs/resources/nls/dashboardResource"),k.parent=o.parent,a.setAuthInfo(k.parent.authInfo),a.setBaseRestURL(k.parent.baseRestUrl),k.rootElement=this.parent.rootElement,k.processList=t.observableArray([]),k.columnDataList=t.observableArray([""]),k.columnDataBIList=t.observableArray([""]),k.measureList=t.observableArray([{name:"",displayName:""}]),k.measureBIList=t.observableArray([{name:"",displayName:""}]),k.dimensionList=t.observableArray([{name:"",displayName:""}]),k.dimensionBIList=t.observableArray([{name:"",displayName:""}]),k.attributeList=t.observableArray([]),k.filterCriteriaList=t.observableArray([]),k.functionList=t.observableArray([{name:"",displayName:""}]),k.allFunctionArr=[],k.chartTypeList=[{name:n.constants.chartType.BAR,displayName:k.bundle.vis.button.bar,icon:"oj-fwk-icon btn-bar-chart"},{name:n.constants.chartType.LINE,displayName:k.bundle.vis.button.line,icon:"oj-fwk-icon btn-line-chart"},{name:n.constants.chartType.AREA,displayName:k.bundle.vis.button.area,icon:"oj-fwk-icon btn-area-chart"},{name:n.constants.chartType.LINEWITHAREA,displayName:k.bundle.vis.button.line_with_area,icon:"oj-fwk-icon btn-linewitharea-chart"},{name:n.constants.chartType.COMBO,displayName:k.bundle.vis.button.combo,icon:"oj-fwk-icon btn-combo-chart"}],k.timeGroups=n.constants.timeGroups.map(function(e){return{id:e,label:k.bundle.vis.timeGroups[e]}}),k.selectedSrsTimeGroup=t.observableArray([]),k.selectedGrpTimeGroup=t.observableArray([]),k.selectedVisualizationName=t.observable(""),k.selectedDataSource=t.observableArray([""]),k.selectedProcess=t.observableArray([n.constants.misc.ANY]),k.selectedSeries=t.observableArray([""]),k.selectedGroup=t.observableArray([""]),k.selectedMeasure=t.observableArray([""]),k.selectedFunction=t.observableArray([""]),k.selectedFilterType=t.observable(n.constants.misc.ALL),k.selectedAppName=t.observableArray([n.constants.misc.ANY]),k.measureDisabled=t.observable(!1),k.queryName=t.observable(""),k.description=t.observable(""),k.savedQueries=t.observableArray([]),k.queriesDS=new e.ArrayTableDataSource(k.savedQueries,{idAttribute:"id"}),k.selectedQuery=t.observableArray([]),k.selectedQueryJSON=null,k.dataSourceList=t.observableArray([{name:"",displayName:""}]),k.appNameList=t.observableArray([""]),k.formState="new",k.lastNDaysFilter=A(),k.selectedLastDays=t.observableArray(["30"]),s();var L=function(e,t){e.push({name:t.name,displayName:t.displayName,dataType:t.dataType,supportedAggregations:t.supportedAggregations})};k.populateChartData=function(e){k.groupsArray=[],k.seriesArray=[];var t={formatType:"date",pattern:"M/d/y h:mm"},a=k.oj.Validation.converterFactory("datetime").createConverter(t);e.columnsInfo.map(function(e,t){e.columnName.indexOf(k.groupKey)>=0?(k.groupIndex=t,
k.groupType=e.type):e.columnName.indexOf(k.seriesKey)>=0?(k.seriesIndex=t,k.seriesType=e.type):e.columnName===k.measureKey&&(k.measureIndex=t,k.measureType=e.type)}),e.rows.map(function(e){var t=null===e.values[k.groupIndex]?"":e.values[k.groupIndex],o=null===e.values[k.seriesIndex]?"":e.values[k.seriesIndex];t=k.groupType===n.constants.dataType.TIMESTAMP&&""!==t?a.format(k.oj.IntlConverterUtils.dateToLocalIso(new Date(t))):t,o=k.seriesType===n.constants.dataType.TIMESTAMP&&""!==o?a.format(k.oj.IntlConverterUtils.dateToLocalIso(new Date(o))):o,k.groupsArray[t]||(k.groupsArray[t]=0),k.seriesArray[o]||(k.seriesArray[o]=[]),e.values[k.groupIndex]=t,e.values[k.seriesIndex]=o}),Object.keys(k.seriesArray).forEach(function(e){var t=$.extend({},k.groupsArray);this[e]=t},k.seriesArray),y(e),e.rows.map(function(e){var t=null===e.values[k.groupIndex]?"":e.values[k.groupIndex],n=null===e.values[k.seriesIndex]?"":e.values[k.seriesIndex],a=e.values[k.measureIndex];k.seriesArray[n][t]=a}),D=[],O=[],Object.keys(k.seriesArray).forEach(function(e){var t={};t.name=k.selectedSrsTimeGroup().length>0?e+" "+k.bundle.vis.timeGroups[k.selectedSrsTimeGroup()[0]]:e,t.items=[];var n=this[e];Object.keys(n).forEach(function(e){t.items.push(this[e])},n),D.push(t)},k.seriesArray),Object.keys(k.groupsArray).forEach(function(e){e=k.selectedGrpTimeGroup().length>0?e+" "+k.bundle.vis.timeGroups[k.selectedGrpTimeGroup()[0]]:e,O.push(e)},k.groupsArray),k.barSeriesValue(D),k.barGroupsValue(O),$("#bpm-vis-cust-chart-overlay",k.rootElement).removeClass("bpm-vis-load-overlay")},k.saveQuery=function(e,t){if(""===k.queryName().trim()){$("#bpm-dsb-warning-dialog").ojDialog("open");var o=k.bundle.vis.error_msg.enter_query_name;return void $("#bpm-vis-warning-dialog-text").text(o)}if(k.selectedSeries()[0]===k.selectedGroup()[0])return void n.errorHandler("",k.bundle.vis.error_msg.fields_cant_be_same);var s=g(e.oj);if(k.selectedQueryJSON){var i=k.selectedQuery()[0];a.updateQuery(JSON.stringify(s),{"{businessQueryId}":i}).done(function(e){T(i)})}else a.saveQuery(JSON.stringify(s)).done(function(e){var t;if(e.href){var n=e.href.lastIndexOf("/");t=e.href.slice(++n)}T(t)})},k.deleteConfirm=function(){if(k.selectedQueryJSON){$("#bpm-dsb-confirm-dialog").ojDialog("open");var e=k.bundle.vis.error_msg.delete_confirm;$("#bpm-vis-confirm-dialog-text").text(e)}else{$("#bpm-dsb-warning-dialog").ojDialog("open");var t=k.bundle.vis.error_msg.no_query_selected;$("#bpm-vis-warning-dialog-text").text(t)}},k.deleteQuery=function(e,t){$("#bpm-vis-popup1").ojPopup("isOpen")&&$("#bpm-vis-popup1").ojPopup("close","#bpm-vis-querybtn"),$("#bpm-dsb-confirm-dialog").ojDialog("close"),a.deleteQuery({"{businessQueryId}":k.selectedQuery()[0]}).done(function(e){T(),S()}),$("#bpm-vis-delete-app").ojDialog("isOpen")&&$("#bpm-vis-delete-app").ojDialog("close")},k.newQuery=function(e,t){S(),k.queryName(k.bundle.vis.formlbl.default_query_name),$("#bpm-vis-chart-row1").show(),$("#bpm-vis-chart-row2").show(),k.selectedQuery([]),k.selectedQueryBtn([n.constants.misc.VISIBLE]),k.selectedQuery.removeAll(),$("#bpm-vis-delete-app").ojDialog("isOpen")&&$("#bpm-vis-delete-app").ojDialog("close")},k.copyQuery=function(e,t){if(k.selectedQueryJSON){k.selectedQueryJSON=null,k.selectedQuery.removeAll(),k.selectedQueryBtn([n.constants.misc.VISIBLE]);var a=k.bundle.vis.formlbl.copy_of+" "+k.queryName();k.queryName(a)}},k.queryChangeHandler=function(e,t){if(t.option==n.constants.misc.VALUE){var o=t.value[0];o&&($("#bpm-vis-cust-query-overlay",k.rootElement).addClass("bpm-vis-load-overlay"),a.getQuery({"{businessQueryId}":o}).done(function(e){k.formState="reload",k.selectedQueryJSON=e,w(),C(k.oj,k.selectedQueryJSON)}).fail(function(e){if($("#bpm-vis-cust-query-overlay",k.rootElement).removeClass("bpm-vis-load-overlay"),403===e.status){var t=$.parseJSON(e.responseText),n=t&&t.message?t.message:"";$("#bpm-vis-delete-app").ojDialog("open"),$("#bpm-vis-delete-app-text").text(n)}})),!o&&k.savedQueries().length>0&&"shouldWrite"===t.optionMetadata.writeback&&($("#bpm-vis-cust-query-overlay",k.rootElement).addClass("bpm-vis-load-overlay"),S())}},k.resetQuery=function(e,t){k.formState="reload",k.selectedQueryJSON?(w(),C(k.oj,k.selectedQueryJSON)):(k.selectedQueryJSON=null,k.selectedDataSource.removeAll(),k.selectedAppName([n.constants.misc.ANY]),i(),k.formState="new",$("#bpm-vis-cust-splash").show(),$("#bpm-vis-cust-chart-container").hide(),k.selectedQuery.removeAll())},k.dataSourceChangeHandler=function(e,t){$("#bpm-vis-cust-query-overlay",k.rootElement).addClass("bpm-vis-load-overlay"),t.option==n.constants.misc.VALUE&&("shouldWrite"===t.optionMetadata.writeback&&(k.formState="new"),m(k.selectedDataSource()[0],k.selectedAppName()[0]),k.filterCriteriaList.removeAll())},k.appNameChangeHandler=function(e,t){if(t.option==n.constants.misc.VALUE){if("shouldWrite"===t.optionMetadata.writeback){k.formState="new";var a=k.selectedAppName()[0];$("#bpm-vis-cust-query-overlay",k.rootElement).addClass("bpm-vis-load-overlay"),m(k.selectedDataSource()[0],a)}k.filterCriteriaList.removeAll()}},k.seriesChangeHandler=function(e,t){l(t,"srs")},k.groupChangeHandler=function(e,t){l(t,"grp")},k.functionChangeHandler=function(e,t){if(t.option==n.constants.misc.VALUE){var a=t.value[0];a!==n.constants.functionList.COUNT||k.measureDisabled()?a!==n.constants.functionList.COUNT&&k.measureDisabled()&&(k.measureDisabled(!1),(k.selectedMeasure().length<1||"*"===k.selectedMeasure()[0])&&k.selectedMeasure([k.measureList()[0].name])):(k.measureDisabled(!0),k.selectedMeasure(["*"]))}},k.measureChangeHandler=function(e,t){if(t.option==n.constants.misc.VALUE){var a=t.value[0];k.measureList().map(function(e){b(e,a)}),k.measureBIList().map(function(e){b(e,a)})}},k.handleLastNDaySelect=function(e,t){t.option==n.constants.misc.VALUE&&"shouldWrite"===t.optionMetadata.writeback&&k.runQuery(e,t)},k.visualize=function(e,t){k.selectedChartType(n.constants.chartType.BAR),k.runQuery(e,t)},k.runQuery=function(e,t){return k.selectedSeries()[0]===k.selectedGroup()[0]?void n.errorHandler("",k.bundle.vis.error_msg.fields_cant_be_same):(k.closePopup(),void C(e.oj))},k.handleStartClick=function(e,t){$("#bpm-vis-main-splash").hide(),$("#bpm-vis-business-analytics").show(),$("#bpm-vis-chart-row1").show(),$("#bpm-vis-chart-row2").show(),k.queryName(k.bundle.vis.formlbl.default_query_name),k.selectedQuery([]),k.selectedQueryBtn([n.constants.misc.VISIBLE])},k.addFilter=function(){var e=new E;k.filterCriteriaList.push(e)},k.removeFilter=function(e){k.filterCriteriaList.remove(e)},k.handleSnapBtnClick=function(e,t){var n=!1,a={duration:"slide",start:function(){$("#bpm-vis-chart").hide(),n=$("#bpm-vis-popup1").ojPopup("isOpen"),$("#bpm-vis-popup1").ojPopup("close","#bpm-vis-querybtn")},complete:function(){$("#bpm-vis-chart").show().toggleClass("oj-lg-11"),n&&$("#bpm-vis-popup1").ojPopup("open","#bpm-vis-querybtn")}};$("#bpm-vis-cust-drawer").toggle(a).toggleClass("closed"),$("#bpm-vis-cust-drawer").is(".closed")?$("#show-hide-navigation").toggleClass("bpm-vis-show-navlist"):$("#show-hide-navigation").toggleClass("bpm-vis-show-navlist")},k.selectedQuery.subscribe(function(e){if(e.length>0?($("#bpm-vis-copy").ojButton({disabled:!1}),$("#bpm-vis-delete").ojButton({disabled:!1})):($("#bpm-vis-copy").ojButton({disabled:!0}),$("#bpm-vis-delete").ojButton({disabled:!0})),e.length>0){var t=e;t&&a.getQuery({"{businessQueryId}":t}).done(function(e){k.formState="reload",k.selectedQueryJSON=e,w(),C(k.oj,k.selectedQueryJSON)}).fail(function(e){if($("#bpm-vis-cust-query-overlay",k.rootElement).removeClass("bpm-vis-load-overlay"),403===e.status){var t=$.parseJSON(e.responseText),n=t&&t.message?t.message:"";$("#bpm-vis-delete-app").ojDialog("open"),$("#bpm-vis-delete-app-text").text(n)}})}}),k.selectedQueryBtn=t.observableArray([]),k.selectedQueryBtn.subscribe(function(e){n.constants.misc.VISIBLE===e[0]?($("#bpm-vis-popup1").ojPopup({position:{my:"start top",at:"start bottom",of:"#bpm-vis-querybtn"}}),$("#bpm-vis-popup1").ojPopup("open","#bpm-vis-querybtn")):$("#bpm-vis-popup1").ojPopup("close","#bpm-vis-querybtn")}),k.closePopup=function(){k.selectedQueryBtn([])},$("#bpm-unifiedCharts-tabs").ojTabs({deselect:function(e,t){$("#bpm-vis-popup1").ojPopup("isOpen")&&($("#bpm-vis-popup1").ojPopup("close","#bpm-vis-querybtn"),k.selectedQueryBtn([]))}});var N=e.Validation.converterFactory("number");k.stackValue=t.observable("off"),k.orientationValue=t.observable("vertical"),k.selectedChartType=t.observable(n.constants.chartType.BAR),k.xLabel=t.observable(""),k.yLabel=t.observable("");var D=[],O=[],R=N.createConverter({minimumFractionDigits:0,maximumFractionDigits:3});k.barSeriesValue=t.observableArray(D),k.barGroupsValue=t.observableArray(O),k.yAxisConverter=t.observable(R),k.stackOptions=[{id:"unstacked",label:k.bundle.vis.chart.unstacked,value:"off",icon:"oj-icon demo-bar-unstack"},{id:"stacked",label:k.bundle.vis.chart.stacked,value:"on",icon:"oj-icon demo-bar-stack"}],k.orientationOptions=[{id:"vertical",label:k.bundle.vis.chart.vertical,value:"vertical",icon:"oj-icon demo-bar-vert"},{id:"horizontal",label:k.bundle.vis.chart.horizontal,value:"horizontal",icon:"oj-icon demo-bar-horiz"}],k.selectedGridToggle=t.observableArray([]);var I;k.selectedGridToggle.subscribe(function(e){e.length>0?($("#bpm-vis-cust-chart").hide(),$("#bpm-vis-cust-grid-data").show(),$("#bpm-vis-cust-table").ojTable("refresh"),null!==k.selectedChartType()&&(I=k.selectedChartType(),k.selectedChartType(null))):(k.selectedChartType(I),$("#bpm-vis-cust-chart").show(),$("#bpm-vis-cust-chart").ojChart("refresh"),$("#bpm-vis-cust-grid-data").hide())}),k.selectedChartType.subscribe(function(e){null!==e&&(I=e,k.selectedGridToggle([]))}),k.downloadCsv=function(e){var t,n,a;t="export.csv",a=e.csvGridData,a="data:text/csv;charset=utf-8,"+a,e=encodeURI(a),n=document.createElement("a"),n.style="visibility:hidden",n.setAttribute("href",e),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)},k.csvGridData="",k.headerTextArr=t.observableArray([]),k.graphGridDataArray=t.observableArray([]),k.gridDataSource=new e.ArrayTableDataSource(k.graphGridDataArray(),{}),k.closeErrorDialog=function(e,t){$("#bpm-dsb-warning-dialog").ojDialog("close")}}return o}),define("text!pcs/charts/visualization/view/custom/businessAnalytics.html",[],function(){return'<div class="bpm-vis-panel">\n	<div id="bpm-vis-business-analytics" class="demo-grid-sizes demo-grid-display">\n		<div class="oj-flex">\n			<div id="bpm-vis-cust-drawer" class="oj-flex-item oj-xl-3 oj-lg-3 oj-md-3 oj-sm-12  oj-panel bpm-vis-query-style">\n				<div id="bpm-vis-cust-querytoolbar" class="bpm-vis-querytoolbar">\n					<div aria-label="Query Toolbar">\n						<span id="bpm-vis-left-headericon">\n		                </span>\n						<span id="reportsHeader" data-bind="text:bundle.vis.formlbl.reports"></span>\n						<button id="bpm-vis-delete" class="bpm-vis-floatright"\n								data-bind="click:deleteConfirm, ojComponent: {\n				                    component:\'ojButton\', label: bundle.vis.button.delete, display: \'icons\',  disabled: \'true\', chroming: \'half\',\n				                    icons: {start:\'oj-fwk-icon bpm-vis-trash-icon\'}\n				                }">\n						</button>\n						<button id="bpm-vis-copy" class="bpm-vis-floatright"\n								data-bind="click: copyQuery, ojComponent: {\n				                    component:\'ojButton\', label: bundle.vis.button.copy, display: \'icons\', disabled: \'true\', chroming: \'half\',\n				                    icons: {start:\'oj-fwk-icon bpm-vis-copy-icon\'}\n				                }">\n						</button>\n						<button id="bpm-vis-new" class="bpm-vis-floatright"\n								data-bind="click: newQuery, ojComponent: {\n				                    component:\'ojButton\', label: bundle.vis.button.new, display: \'icons\', chroming: \'half\',\n				                    icons: {start:\'oj-fwk-icon bpm-vis-new-icon\'}\n				                }">\n						</button>\n					</div>\n				</div>\n				<ul id="bpm-vis-query-listview"\n					data-bind="ojComponent: {\n				       		component: \'ojListView\',\n				       		data: queriesDS,\n				       		selection: selectedQuery,\n				       		selectionMode: \'single\',\n				       		item: {\n				       				template: \'bpm-vis-listTemplate\'\n					            }\n				       		},\n				       		translations : { msgNoData  : bundle.vis.chart.no_saved_queries},\n				       		">\n				</ul>\n				<script type="text/html" id="bpm-vis-listTemplate">\n					<li class="bpm-vis-queryItem">\n						<div>\n							<div class="">\n				                <span class=\'bpm-vis-listitem clipped\' data-bind="text:label, attr:{title:label}">\n				                </span>\n							</div>\n						</div>\n					</li>\n				</script>\n			</div>\n			<div class="oj-flex-item oj-lg-1 oj-md-1 oj-sm-12  bpm-vis-snap-out">\n				<div class="bpm-vis-snap-middle">\n					<div id="show-hide-navigation" class="bpm-vis-hide-navlist"\n						 data-bind="click: handleSnapBtnClick"></div>\n				</div>\n			</div>\n			<div id="bpm-vis-chart" class="oj-flex-item oj-lg-8 oj-md-8 oj-sm-12 ">\n				<div class="bpm-vis-hidden box-shadow" id="bpm-vis-chart-row1">\n					<div id="bpm-vis-title-area">\n						<input id="bpm-vis-chartname-input"  type="text" aria-label="Query Name"\n							   data-bind="ojComponent: {component: \'ojInputText\', value: queryName, rootAttributes:{style: \'margin-bottom:2px;\'}}"/>\n						<input id="bpm-vis-chartname-desc"  type="text" aria-label="Query Description"\n							   data-bind="ojComponent: {component: \'ojInputText\', value: description, placeholder:bundle.vis.formlbl.description}"/>\n					</div>\n					<span id="bpm-vis-btnset">\n					    <a id="bpm-vis-cust-download-btn" href="#" class="bpm-vis-floatright"\n						   data-bind="click: downloadCsv, attr: {title: bundle.vis.button.download_csv},\n			                                   ojComponent: {component:\'ojButton\',\n			                                   label: bundle.vis.button.download_csv,\n			                                   display: \'icons\', chroming: \'half\',\n			                                   icons: {start: \'bpm-vis-download-icon oj-fwk-icon\'}\n			                        }">\n						</a>\n						<button id="bpm-vis-save" class="bpm-vis-floatright"\n								data-bind="click: saveQuery, ojComponent: {\n					                    component:\'ojButton\', chroming: \'half\', label: bundle.vis.button.save, display: \'icons\',\n					                    icons: {start:\'oj-fwk-icon bpm-vis-save-icon\'}\n					                }">\n						</button>\n						<button id="bpm-vis-refresh" class="bpm-vis-floatright"\n								data-bind="click: resetQuery, ojComponent: {\n					                    component:\'ojButton\', chroming: \'half\', label: bundle.vis.button.reset, display: \'icons\',\n					                    icons: {start:\'oj-fwk-icon bpm-vis-refresh-icon\'}\n					                }">\n						</button>\n\n					</span>\n\n				</div>\n				<div class="bpm-vis-hidden bpm-vis-chart-row2" id="bpm-vis-chart-row2">\n					<!--<button id="bpm-vis-querybtn" data-bind="ojComponent: {component: \'ojButton\',-->\n					<!--label: bundle.vis.button.query,-->\n					<!--icons:{end:\'oj-fwk-icon-arrow02-s oj-fwk-icon\'},-->\n					<!--chroming: \'outlined\'},-->\n					<!--click: handleQueryBtn">-->\n					<!--</button>-->\n					<span id="bpm-vis-querybtn" data-bind="ojComponent: {component: \'ojButtonset\', checked: selectedQueryBtn}">\n								<label for="bpm-vis-cust-querybtn"></label>\n								<input type="checkbox" id="bpm-vis-cust-querybtn" value="visible"\n									   data-bind="attr:{title:bundle.vis.button.query},\n										ojComponent: { component: \'ojButton\',\n										label: bundle.vis.button.query,\n										chroming: \'outlined\',\n										icons:{end:\'oj-fwk-icon-arrow02-s oj-fwk-icon\'},\n										rootAttributes: {style:\'font-weight: bold;\'}}"/>\n					</span>\n					<span id="bpm-vis-chart-tools">\n						<span id=\'bpm-vis-cust-chart-selection\'>\n							<!-- Grid Toggle button -->\n		                    <span id="bpm-vis-cust-chart-icons"\n								  data-bind="ojComponent: {component: \'ojButtonset\', checked: selectedChartType, chroming: \'outlined\'}"\n								  aria-label="Select chart type.">\n								<!-- ko foreach: chartTypeList -->\n										<label data-bind="attr: {for: name}"></label>\n										<input type="radio" name="chart-types"\n											   data-bind="value: name, attr: {id: name},\n										ojComponent: { component: \'ojButton\', label: displayName, icons: {start: icon}, display: \'icons\'}"/>\n								<!-- /ko -->\n		                    </span>\n		                    <span id="bpm-vis-cust-grid-toggle"\n								  data-bind="ojComponent: {component: \'ojButtonset\', checked: selectedGridToggle}">\n								<label for="bpm-vis-cust-data-grid"></label>\n								<input type="checkbox" id="bpm-vis-cust-data-grid" value="dataGrid"\n									   data-bind="attr:{title:bundle.vis.button.graph_data},\n										ojComponent: { component: \'ojButton\',\n										label: bundle.vis.button.graph_data,\n										display: \'icons\', chroming: \'outlined\',\n										icons: {start: \'bpm-vis-table-icon oj-fwk-icon\'}}"/>\n							</span>\n		                </span>\n					</span>\n					<div id="bpm-vis-lastNDays" class="bpm-vis-floatright">\n						<select id="bpm-vis-lastNDaySelect" aria-label="Data for last" data-bind="ojComponent: {component: \'ojSelect\',\n                                                    value: selectedLastDays,\n                                                    optionChange: handleLastNDaySelect,\n                                                    rootAttributes: {style:\'max-width:6em\'}}">\n							<!-- ko foreach: lastNDaysFilter -->\n							<option data-bind="value:id, text:label ,title:label"></option>\n							<!-- /ko -->\n						</select>\n					</div>\n					<div id="bpm-vis-ndaystxt" class="bpm-vis-floatright"><span id="bpm-vis-ndaysspan"\n																				data-bind="text: bundle.vis.formlbl.data_last"></span>\n					</div>\n\n					<div class="oj-lg-12 oj-md-12 oj-sm-12 bpm-vis-hidden" id="bpm-vis-popup1"\n						 data-bind="ojComponent:{component: \'ojPopup\', initialFocus: \'none\', autoDismiss : \'none\', rootAttributes: {style:\'margin-top:40px\'}}">\n						<!-- <div id="bpm-vis-pop-container" data-bind="ojModule: {viewName: \'custom/queryForm\'" ></div> -->\n						<div class="">\n							<div class="oj-form oj-md-odd-cols-4 oj-md-labels-inline">\n								<div  class=" oj-md-labels-inline ">\n									<div class="oj-flex oj-sm-justify-content-flex-end">\n										<button id="bpm-vis-close-popup" class="bpm-vis-floatright"\n												data-bind="click: closePopup, ojComponent: {\n														component:\'ojButton\', label: bundle.vis.button.close, display: \'icons\', chroming: \'half\',\n														icons: {start:\'oj-fwk-icon oj-fwk-icon-cross\'}\n													}">\n										</button>\n									</div>\n								</div>\n								<div id="bpm-vis-cust-ds-div" class="oj-flex oj-md-labels-inline">\n									<div class="oj-flex-item">\n										<label for="bpm-vis-cust-data-source-list"\n											   data-bind="text: bundle.vis.formlbl.data_source_type"></label>\n									</div>\n									<div class="oj-flex-item">\n										<select id="bpm-vis-cust-data-source-list" data-bind="ojComponent: {component: \'ojSelect\',\n																			value: selectedDataSource, optionChange: dataSourceChangeHandler,\n																			rootAttributes: {style:\'max-width:20em\'}}">\n											<!-- ko foreach: dataSourceList -->\n											<option data-bind="value:name, text:displayName, title:displayName"></option>\n											<!-- /ko -->\n										</select>\n									</div>\n								</div>\n								<div id="bpm-vis-cust-app-div" class="oj-flex oj-md-labels-inline">\n									<div class="oj-flex-item">\n										<label for="bpm-vis-cust-app-list"\n											   data-bind="text: bundle.vis.formlbl.select_application"></label>\n									</div>\n									<div class="oj-flex-item">\n										<select id="bpm-vis-cust-app-list" data-bind="ojComponent: {component: \'ojSelect\',\n																value: selectedAppName, optionChange: appNameChangeHandler,\n																rootAttributes: {style:\'max-width:20em\'}}">\n											<option value="ANY"\n													data-bind="text: bundle.vis.formlbl.select_application_opt1"></option>\n											<!-- ko foreach: appNameList -->\n											<option data-bind="text:name, title:displayName"></option>\n											<!-- /ko -->\n										</select>\n									</div>\n								</div>\n								<fieldset class="oj-form oj-md-odd-cols-4 oj-md-labels-inline">\n									<legend class="bold-txt"\n											data-bind="text: bundle.vis.formlbl.x_axis"></legend>\n									<div class="oj-flex">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-series-list"\n												   data-bind="text: bundle.vis.formlbl.series"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-series-list" data-bind="ojComponent: {component: \'ojSelect\',\n																							value: selectedSeries, optionChange : seriesChangeHandler,\n																							rootAttributes: {style:\'max-width:20em\'}}">\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.business_indicators}">\n													<!-- ko foreach: dimensionBIList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.system_indicators}">\n													<!-- ko foreach: dimensionList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n											</select>\n										</div>\n									</div>\n									<div id="bpm-vis-srs-timegroups" class="oj-flex bpm-vis-timegroups">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-timegroups-series"\n												   data-bind="text: bundle.vis.formlbl.timegroups"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-timegroups-series" data-bind="ojComponent: {component: \'ojSelect\',\n																							value: selectedSrsTimeGroup, placeholder: bundle.vis.formlbl.select_none, rootAttributes: {style:\'max-width:20em\'}}">\n												<!-- ko foreach: timeGroups -->\n												<option data-bind="value:id, text:label"></option>\n												<!-- /ko -->\n											</select>\n										</div>\n									</div>\n									<div class="oj-flex">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-group-list"\n												   data-bind="text: bundle.vis.formlbl.group"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-group-list" data-bind="ojComponent: {component: \'ojSelect\',\n																							value: selectedGroup, optionChange : groupChangeHandler, rootAttributes: {style:\'max-width:20em\'}}">\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.business_indicators}">\n													<!-- ko foreach: dimensionBIList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.system_indicators}">\n													<!-- ko foreach: dimensionList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n											</select>\n										</div>\n									</div>\n									<div id="bpm-vis-grp-timegroups" class="oj-flex bpm-vis-timegroups">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-timegroups-group"\n												   data-bind="text: bundle.vis.formlbl.timegroups"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-timegroups-group" data-bind="ojComponent: {component: \'ojSelect\',\n																							value: selectedGrpTimeGroup, placeholder: bundle.vis.formlbl.select_none, rootAttributes: {style:\'max-width:20em\'}}">\n												<!-- ko foreach: timeGroups -->\n												<option data-bind="value:id, text:label"></option>\n												<!-- /ko -->\n											</select>\n										</div>\n									</div>\n								</fieldset>\n								<fieldset class="oj-form oj-md-odd-cols-4 oj-md-labels-inline">\n									<legend class="bold-txt"\n											data-bind="text: bundle.vis.formlbl.y_axis"></legend>\n									<div class="oj-flex">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-measure-list"\n												   data-bind="text: bundle.vis.formlbl.measure"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-measure-list"\n													data-bind="ojComponent: {component: \'ojSelect\', disabled:measureDisabled, value: selectedMeasure, optionChange: measureChangeHandler, rootAttributes: {style:\'max-width:20em\'}}">\n												<option value=\'*\' disabled\n														data-bind="text: bundle.vis.formlbl.select_none"></option>\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.business_indicators}">\n													<!-- ko foreach: measureBIList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.system_indicators}">\n													<!-- ko foreach: measureList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n											</select>\n										</div>\n									</div>\n									<div class="oj-flex">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-function-list"\n												   data-bind="text: bundle.vis.formlbl.function"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-function-list" data-bind="ojComponent: {component: \'ojSelect\',\n																					value: selectedFunction, optionChange: functionChangeHandler,rootAttributes: {style:\'max-width:20em\'}}">\n												<!-- ko foreach: functionList -->\n												<option data-bind="value:name, text:displayName"></option>\n												<!-- /ko -->\n											</select>\n										</div>\n									</div>\n								</fieldset>\n								<br>\n							</div>\n							<div>\n								<div class="">\n									<div class="oj-label-inline">\n										<label id="bpm-vis-cust-match" class="oj-label-inline"\n											   data-bind="text: bundle.vis.formlbl.match"></label>\n										<div data-bind="ojComponent: {component: \'ojRadioset\' ,value :selectedFilterType}"\n											 aria-labelledby="bpm-vis-cust-match">\n											<span class="oj-choice-row-inline">\n												<input id="bpm-vis-cust-match-all" type="radio" name="filterType"\n													   value="ALL">\n												<label for="bpm-vis-cust-match-all"\n													   data-bind="text: bundle.vis.formlbl.all"></label>\n											</span>\n											<span class="oj-choice-row-inline">\n												<input id="bpm-vis-cust-match-any" type="radio" name="filterType"\n													   value="ANY">\n												<label for="bpm-vis-cust-match-any"\n													   data-bind="text: bundle.vis.formlbl.any"></label>\n											</span>\n										</div>\n									</div>\n									<div class="bpm-vis-floatright">\n										<button data-bind="click: addFilter, attr: {title: bundle.vis.button.add_filter},\n											   ojComponent: {component:\'ojButton\',\n											   label: bundle.vis.button.add_filter,\n											   icons: {start: \'bpm-vis-add-filter-icon oj-fwk-icon\'}}">\n										</button>\n									</div>\n								</div>\n								<div class="">\n									<hr/>\n								</div>\n								<div class=" oj-cols-nopad">\n									<!-- ko foreach: filterCriteriaList -->\n									<div class="oj-flex oj-cols-nopad bpm-vis-filters-style">\n										<div class="oj-flex-item oj-lg-4 oj-md-8 oj-sm-12 ">\n\n											<select data-bind="ojComponent: {component: \'ojSelect\',\n																		value: columnDataValue, optionChange: columnDataValueChangeHandler}">\n												<optgroup\n														data-bind="attr:{label: $parent.bundle.vis.formlbl.business_indicators}">\n													<!-- ko foreach: $parent.columnDataBIList -->\n													<option data-bind="value:name, text:displayName ,title:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n												<optgroup\n														data-bind="attr:{label: $parent.bundle.vis.formlbl.system_indicators}">\n													<!-- ko foreach: $parent.columnDataList -->\n													<option data-bind="value:name, text:displayName ,title:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n											</select>\n										</div>\n										<div class="oj-flex-item oj-lg-4 oj-md-8 oj-sm-12 ">\n											<select data-bind="ojComponent: {component: \'ojSelect\',\n																		value: operatorValue}">\n												<option value="EQ"\n														data-bind="text:$parent.bundle.vis.filter.equal"></option>\n												<option value="NE"\n														data-bind="text:$parent.bundle.vis.filter.not_equal"></option>\n												<option value="NULL"\n														data-bind="text:$parent.bundle.vis.filter.null"></option>\n												<option value="NOTNULL"\n														data-bind="text:$parent.bundle.vis.filter.not_null"></option>\n												<!-- ko ifnot: dataType() == \'VARCHAR\' || dataType() == \'BOOLEAN\'-->\n												<option value="LT"\n														data-bind="text:$parent.bundle.vis.filter.lesser"></option>\n												<option value="LE"\n														data-bind="text:$parent.bundle.vis.filter.lesser_equal, attr:{title:$parent.bundle.vis.filter.lesser_equal}"></option>\n												<option value="GT"\n														data-bind="text:$parent.bundle.vis.filter.greater"></option>\n												<option value="GE"\n														data-bind="text:$parent.bundle.vis.filter.greater_equal"></option>\n												<!-- /ko -->\n												<!-- ko if: dataType() == \'VARCHAR\' -->\n												<option value="LIKE" data-bind="text:$parent.bundle.vis.filter.like"></option>\n												<option value="NOTLIKE" data-bind="text:$parent.bundle.vis.filter.not_like" ></option>\n												<!-- /ko -->\n											</select>\n										</div>\n										<div class="oj-flex-item oj-lg-4 oj-md-8 oj-sm-12 ">\n											<!-- ko ifnot: operatorValue()== \'NULL\' || operatorValue()== \'NOTNULL\'-->\n											<!-- ko if: dataType()== \'BOOLEAN\' -->\n											<select data-bind="ojComponent: {component: \'ojSelect\',\n																		value: selectedValue}">\n												<option value="TRUE"\n														data-bind="text:$parent.bundle.vis.filterValues.true"\n														selected="selected"></option>\n												<option value="FALSE"\n														data-bind="text:$parent.bundle.vis.filterValues.false"></option>\n											</select>\n											<!-- /ko -->\n											<!-- ko if: dataType()== \'VARCHAR\'-->\n											<input data-bind="ojComponent: {component: \'ojInputText\',validators : [{type: \'regExp\', options : {pattern: \'[a-zA-Z0-9. _-]{1,}\',hint: $parent.bundle.vis.error_msg.hintAlphanumeric, messageSummary: \'Value \\\'{value}\\\' Invalid\',messageDetail: $parent.bundle.vis.error_msg.msgAlphanumeric}}], value:selectedValue, rootAttributes: {style:\'max-width:16em\'}}">\n											<!-- /ko -->\n											<!-- ko if: dataType()== \'INT\' || dataType()== \'DECIMAL\'-->\n											<input data-bind="ojComponent: {component: \'ojInputText\', validators : [{type: \'regExp\', options : {pattern: \'[0-9.]{1,}\',hint: $parent.bundle.vis.error_msg.hintNumber, messageSummary: \'Value \\\'{value}\\\' Invalid\',messageDetail: $parent.bundle.vis.error_msg.msgNumber}}], value:selectedValue, rootAttributes: {style:\'max-width:16em\'}}">\n											<!-- /ko -->\n											<!-- ko if: dataType()== \'DATETIME\' -->\n											<input data-bind="ojComponent: {component: \'ojInputDateTime\',\n																		value: selectedValue, rootAttributes: {style:\'max-width:16em\'}}">\n											<!-- /ko -->\n											<!-- /ko -->\n											<button id="bpm-vis-delete-row" class="bpm-vis-floatright"\n													data-bind="click:$parent.removeFilter, ojComponent: {\n														component:\'ojButton\', label: $parent.bundle.vis.button.delete, display: \'icons\', chroming: \'half\',\n														icons: {start:\'oj-fwk-icon oj-fwk-icon-cross02\'}\n													}">\n											</button>\n										</div>\n									</div>\n									<!-- /ko -->\n								</div>\n								<br>\n								<div class="oj-flex oj-sm-justify-content-center ">\n									<button id="bpm-vis-visualize-btn" class="oj-button-primary" data-bind="click: visualize,\n													attr: {title: bundle.vis.button.visualize},\n													ojComponent: {component:\'ojButton\', label: bundle.vis.button.visualize}">\n									</button>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n				<div class="">\n					<div id="bpm-vis-cust-main" class="oj-lg-12 oj-md-12 oj-sm-12 ">\n						<div class="">\n							<div id="bpm-vis-cust-splash" class="bpm-vis-splash-style">\n								<span class="bpm-vis-chart-msg"\n									  data-bind="text:bundle.vis.chart.blank_chart_header"></span><br><br>\n								<span class="bpm-vis-chart-msgdtl"\n									  data-bind="text:bundle.vis.chart.blank_chart_details"></span>\n							</div>\n							<div id="bpm-vis-cust-chart-container" class="  bpm-vis-center-align bpm-vis-hidden">\n								<div id="bpm-vis-cust-chart" class="bpm-vis-center-align bpm-vis-chart-style"\n									 data-bind="ojComponent: {\n		                                    component: \'ojChart\',\n		                                    type: selectedChartType,\n		                                    orientation: orientationValue,\n		                                    stack: stackValue,\n		                                    animationOnDisplay: \'auto\',\n		                                    animationOnDataChange: \'auto\',\n							                hoverBehavior: \'dim\',\n							                zoomAndScroll: \'live\',\n							                overview: {rendered: \'on\', height: \'65px\'},\n		                                    yAxis: {title: yLabel()},\n		                                    xAxis: {title: xLabel()},\n		                                    legend: {position: \'end\'},\n							                translations : { labelNoData : bundle.vis.chart.no_chart_data},\n							                title : {text :  selectedVisualizationName() , halign : \'plotAreaCenter\' },\n							                hideAndShowBehavior: \'withRescale\',\n		                                    series: barSeriesValue,\n		                                    groups: barGroupsValue,\n		                                }">\n								</div>\n								<div id="bpm-vis-cust-grid-data" class="bpm-vis-center-align bpm-vis-hidden">\n									<table id="bpm-vis-cust-table" summary="Chart Data Table"\n										   aria-label="Chart Data Table"\n										   data-bind="ojComponent: {component: \'ojTable\',\n		                                                            data: gridDataSource,\n		                                                            display: \'grid\',\n		                                                            translations: {msgNoData : bundle.vis.chart.no_chart_data},\n		                                                            columnsDefault: {sortable: \'none\'},\n		                                                            columns: headerTextArr,\n		                                                            rootAttributes: {\'style\':\'width: 600px; height: 600px;margin-top:20px;\'}}">\n									</table>\n								</div>\n								<div id="bpm-vis-cust-chart-overlay"></div>\n								<div class="bpm-vis-center-align bpm-vis-tool-style oj-flex oj-sm-justify-content-center" id="bpm-vis-cust-toolbar"\n									 aria-label="Chart Display Options Toolbar"\n									 data-bind="ojComponent: {component:\'ojToolbar\'}">\n		                            <span id="bpm-vis-cust-graph-tools" class="oj-flex-item">\n										<!-- vertical/horizontal toggle button -->\n		                                <span id="bpm-vis-cust-radio-buttonset"\n											  data-bind="ojComponent: {component: \'ojButtonset\', focusManagement:\'none\', checked: orientationValue}"\n											  class="oj-button-half-chrome" aria-label="Choose an orientation.">\n		                                    <!-- ko foreach: orientationOptions -->\n		                                    <label data-bind="attr: {for: id}"></label>\n		                                    <input type="radio" name="orientation"\n												   data-bind="value: value, attr: {id: id},\n		                                            ojComponent: {component: \'ojButton\', label: label,\n		                                            icons: {start: icon}, display: \'icons\'}"/>\n											<!-- /ko -->\n		                                </span>\n		                                <span role="separator" aria-orientation="vertical"\n											  class="oj-toolbar-separator"></span>\n										<!-- unstacked/stacked toggle button -->\n		                                <span id="bpm-vis-cust-radio-buttonset2"\n											  data-bind="ojComponent: {component: \'ojButtonset\', focusManagement:\'none\', checked: stackValue}"\n											  class="oj-button-half-chrome" aria-label="Choose a stack setting.">\n		                                    <!-- ko foreach: stackOptions -->\n		                                    <label data-bind="attr: {for: id}"></label>\n		                                    <input type="radio" name="stack"\n												   data-bind="value: value, attr: {id: id},\n		                                               ojComponent: {component: \'ojButton\', label: label,\n		                                                icons: {start: icon}, display: \'icons\'}"/>\n											<!-- /ko -->\n		                                </span>\n		                            </span>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div class="bpm-vis-hidden" id="bpm-dsb-warning-dialog"\n		 data-bind="attr : { title : bundle.vis.dialog.warning }, ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\'}">\n		<div class="oj-dialog-body">\n			<div id="bpm-vis-warning-dialog-text"></div>\n		</div>\n		<div class="oj-dialog-footer">\n			<button data-bind="click : closeErrorDialog , ojComponent: {component: \'ojButton\', label: bundle.vis.dialog.ok}"></button>\n		</div>\n	</div>\n	<div class="bpm-vis-hidden" id="bpm-dsb-confirm-dialog"\n		 data-bind="attr : { title : bundle.vis.dialog.confirm }, ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\'}">\n		<div class="oj-dialog-body">\n			<div id="bpm-vis-confirm-dialog-text"></div>\n		</div>\n		<div class="oj-dialog-footer">\n			<button id="bpm-vis-cancelButton"\n					data-bind="click : function(){$(\'#bpm-dsb-confirm-dialog\').ojDialog(\'close\');} , ojComponent: {component: \'ojButton\', label: bundle.vis.dialog.cancel}"></button>\n			<button id="bpm-vis-okButton"\n					data-bind="click : deleteQuery , ojComponent: {component: \'ojButton\', label: bundle.vis.dialog.ok}"></button>\n		</div>\n	</div>\n	<div class="bpm-vis-hidden" id="bpm-vis-delete-app"\n		 data-bind="attr : { title : bundle.vis.dialog.confirm }, ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\', cancelBehavior: \'none\'}">\n		<div class="oj-dialog-body">\n			<div id="bpm-vis-delete-app-text"></div>\n			</br>\n			<div data-bind="text: bundle.vis.dialog.delete_app_msg"></div>\n		</div>\n		<div class="oj-dialog-footer">\n			<button id="bpm-vis-deleteButton"\n					data-bind="click : deleteQuery , ojComponent: {component: \'ojButton\', label: bundle.vis.dialog.delete}"></button>\n			<button id="bpm-vis-continueButton"\n					data-bind="click : newQuery , ojComponent: {component: \'ojButton\', label: bundle.vis.dialog.continue}"></button>\n		</div>\n	</div>\n	<div id="bpm-vis-main-splash" style="display: none" class="bpm-vis-splash-style ">\n		<span class="bpm-vis-chart-msg"\n			  data-bind="text:bundle.vis.formlbl.start_msg"></span><br><br>\n		<button id="bpm-vis-startButton" class="bpm-vis-startBtn oj-button-confirm" data-bind="click : handleStartClick , ojComponent: {component: \'ojButton\', label: bundle.vis.button.start,\n					icons: {end:\'oj-fwk-icon bpm-vis-start-icon\'}}"></button>\n	</div>\n</div>\n';
}),define("pcs/charts/visualization/viewModel/visualizationContainer",["ojs/ojcore","knockout","pcs/charts/visualization/viewModel/util/visualizationUtil","ojs/ojknockout","pcs/charts/visualization/viewModel/custom/customDashboard","!text!pcs/charts/visualization/view/custom/businessAnalytics.html","ojL10n!pcs/resources/nls/dashboardResource"],function(e,t,n){function a(e){var t=this;this.parent=e.parent,this.baseURL=this.parent.baseURL,this.baseRestUrl=this.parent.baseRestURL,this.authInfo=this.parent.authInfo,this.chartEndpoint="analytics/ootbqueries/",this.processTrackingPage=this.parent.processTrackingPage,this.tasksPage=this.parent.tasksPage,this.rootElement=this.parent.rootElement,$("#bpm-vis-loading-indicator",this.rootElement).hide(),t.bundle=require("ojL10n!pcs/resources/nls/dashboardResource")}return a}),define("text!pcs/charts/visualization/view/visualizationContainer.html",[],function(){return'<div id="bpm-vis-container">\n	<div id="bpm-vis-custom" class="bpm-vis-tab-panel">\n		<div id="bpm-vis-custom-container" data-bind="ojModule: { name: \'pcs/charts/visualization/viewModel/custom/customDashboard\',\n        viewName: \'pcs/charts/visualization/view/custom/businessAnalytics\', params: {parent: $data}}">\n		</div>\n	</div>\n\n</div>\n'}),define("pcs/pcs.visualization",["ojs/ojcore","knockout","jquery","!text!pcs/charts/visualization/templates/pcs-visualization.html","pcs/util/pcsUtil","pcs/util/loggerUtil","pcs/charts/visualization/viewModel/visualizationContainer","!text!pcs/charts/visualization/view/visualizationContainer.html","ojs/ojmodule","jqueryui-amd/widget"],function(e,t,n,a,o){"use strict";n.widget("pcs.visualization",{options:{baseUri:"",baseRestUri:"/bpm/api/3.0/analytics/",username:"weblogic",password:"weblogic1",processTrackingPage:"processTracking.jspx",tasksPage:"worklist.jspx"},_authHeader:function(){return o.getAuthInfo()},_create:function(){function e(){var e=this;e.baseURL=n.options.baseUri,e.baseRestURL=e.baseURL+n.options.baseRestUri,e.processTrackingPage=e.baseURL+n.options.processTrackingPage,e.tasksPage=e.baseURL+n.options.tasksPage,e.authInfo=n._authHeader(),e.rootElement=n.element}var n=this;this.options.baseUri=o.getServerURL();var s=new e;this.element.html(a),t.applyBindings(s,this.element[0])},_setOption:function(e,t){this.options[e]=t,n.Widget.prototype._setOption.apply(this,arguments)}})}),define("text!pcs/charts/dashboard/templates/pcs-dashboard.html",[],function(){return'<div id="bpm-charts-mainContainer">\n	<div  class="oj-sm-12 bpm-dsb-center-align">\n		<div id="bpm-dsb-loading-indicator" class="bpm-dsb-center-align bpm-dsb-loading"/>\n	</div>\n	<div class="oj-flex">\n		<div class="oj-xl-12 oj-lg-12 oj-md-12 oj-col">\n			<div id="dashboardContainer" data-bind="ojModule: { name: \'pcs/charts/dashboard/viewModel/dashboardContainer\', viewName: \'pcs/charts/dashboard/view/dashboardContainer\',\n				params: {parent: $data}}"></div>\n		</div>\n	</div>\n</div>\n'}),define("pcs/charts/dashboard/util",[],function(){return _columnAlias=function(e){if(e.columnsInfo){var t,n={};for(t=0;t<e.columnsInfo.length;t++)n[e.columnsInfo[t].columnName.replace("TASK","PROCESS")]=t;return n}},_paramList=function(e){var t="",n=e.parent.filterPanel;if(n){if(!n.selectedSelectAllProcess){for(var a=0;a<n.selectedProcesses.length;a++)t=t+"&processNames="+encodeURIComponent(n.selectedProcesses[a]);""===t&&(t+="&processNames=")}n.selectedAssignees&&1===n.selectedAssignees.length&&(t=t+"&assigneeType="+encodeURIComponent(n.selectedAssignees[0])),n.selectedTopN&&(t=t+"&topN="+n.selectedTopN),n.selectedDateRange&&(t=t+"&daysAgo="+n.selectedDateRange),t.length>0&&(t="?"+t.substring(1))}return _adfProxyCall(),t},_adfProxyCall=function(e){"function"==typeof doADFProxyCall?doADFProxyCall(e):e&&window.location.assign(e)},_errorHandler=function(e,t){$("#bpm-dsb-error-dialog").ojDialog("open");var n=oj.Translations.getTranslatedString("container.generic_error_msg");t?n=t:e&&401===e.status&&(n=oj.Translations.getTranslatedString("container.access_error_msg")),$("#bpm-dsb-error-dialog-custom-text").text(n)},_queries={WORKLOAD_ANALYSIS_BILLBOARD:"WORKLOAD_ANALYSIS_BILLBOARD",OPEN_TASK_ON_TRACK_ANALYSIS_CHART:"OPEN_TASK_ON_TRACK_ANALYSIS_CHART",OPEN_TASK_OVER_DUE_ANALYSIS_CHART:"OPEN_TASK_OVER_DUE_ANALYSIS_CHART",OPEN_TASK_DUE_SOON_ANALYSIS_CHART:"OPEN_TASK_DUE_SOON_ANALYSIS_CHART",OPEN_ASSIGNEES_ON_TRACK_ANALYSIS_CHART:"OPEN_ASSIGNEES_ON_TRACK_ANALYSIS_CHART",OPEN_ASSIGNEES_DUE_SOON_ANALYSIS_CHART:"OPEN_ASSIGNEES_DUE_SOON_ANALYSIS_CHART",OPEN_ASSIGNEES_OVER_DUE_ANALYSIS_CHART:"OPEN_ASSIGNEES_OVER_DUE_ANALYSIS_CHART",DUE_DATE_ANALYSIS_BY_OPEN_PROCESS_TREEMAP:"DUE_DATE_ANALYSIS_BY_OPEN_PROCESS_TREEMAP",DUE_DATE_ANALYSIS_BY_ASSIGNEE_TREEMAP:"DUE_DATE_ANALYSIS_BY_ASSIGNEE_TREEMAP",DUE_DATE_ANALYSIS_BY_OPEN_TASKS_TREEMAP:"DUE_DATE_ANALYSIS_BY_OPEN_TASKS_TREEMAP",PROCESS_HEALTH_BILLBOARD:"PROCESS_HEALTH_BILLBOARD",PROCESS_HEALTH_TABLE:"PROCESS_HEALTH_TABLE"},{columnAlias:_columnAlias,queries:_queries,paramList:_paramList,drilldown:_adfProxyCall,errorHandler:_errorHandler}}),define("pcs/charts/dashboard/viewModel/dashboards/healthDashboard",["ojs/ojcore","knockout","pcs/charts/dashboard/util","ojL10n!pcs/resources/nls/dashboardResource"],function(e,t,n){function a(a){var o=this,s=require("pcs/util/loggerUtil");o.bundle=require("ojL10n!pcs/resources/nls/dashboardResource"),o.parent=a.parent,o.baseRestUrl=o.parent.baseRestUrl,o.restEndPoint=o.parent.baseRestUrl+o.parent.chartEndpoint;var i=o.parent.authInfo;o.openCount=t.observable(0),o.progressCount=t.observable(0),o.recoverableCount=t.observable(0),o.suspendedCount=t.observable(0),o.processTrackingPage=o.parent.processTrackingPage,o.totalCountURL=o.processTrackingPage,o.progressCountURL=o.processTrackingPage+"?status=OPEN&userRole=USER_ROLE_ADMIN",o.recoverableCountURL=o.processTrackingPage+"?status=FAULTED_RECOVERABLE&userRole=USER_ROLE_ADMIN",o.suspendedCountURL=o.processTrackingPage+"?status=SUSPENDED&userRole=USER_ROLE_ADMIN",o.barSeriesValue=t.observableArray(),o.barGroupsValue=t.observableArray(),o.refresh=function(){o.loadData(),o.parent.loadProcessList()},o.paramList=function(){var e=n.paramList(o);return e},o.loadData=function(){var e=o.paramList();$("#bpm-dsb-health-chart-overlay").addClass("bpm-dsb-load-overlay"),o.load(n.queries.PROCESS_HEALTH_BILLBOARD+e,o.populateHealthBillboardData),o.load(n.queries.PROCESS_HEALTH_TABLE+e,o.populateHealthTable)},o.load=function(e,t){var a=o.restEndPoint+e;$.ajax({type:"GET",url:a,beforeSend:function(e){i&&e.setRequestHeader("Authorization",i)},xhrFields:{withCredentials:!0},contentType:"application/json",success:function(e){t(e)},error:function(e){t(),n.errorHandler(e)},failure:function(){s.log("failed in loading health data -"+e)}})},o.populateHealthBillboardData=function(e){if(e&&e.rows){var t=n.columnAlias(e),a=e.rows[0];o.openCount(a.values[t.TOTAL_OPEN]+0),o.progressCount(a.values[t.TOTAL_ACTIVE]+0),o.suspendedCount(a.values[t.TOTAL_SUSPENDED]+0),o.recoverableCount(a.values[t.TOTAL_FAULTED_RECOVERABLE]+0)}},o.populateHealthTable=function(t){var a=[],s=[],i=[],r=[],l={ACTIVE:"#bde2a0",RECOVERABLE:"#f0a7a8",SUSPENDED:"#bee5f6",ABORT:"#003366"},d={},c={};if(t&&t.rows){for(var b=n.columnAlias(t),p=0;p<t.rows.length;p++){var u=t.rows[p].values[b.PROCESS_LABEL],m=t.rows[p].values[b.PROCESS_INSTANCE_STATUS],v=t.rows[p].values[b.TOTALCOUNT],h=t.rows[p].values[b.PERCENTAGE],f=t.rows[p].values[b.PROCESS_NAME];-1===s.indexOf(m)&&(d[m]=s.length,s.push(m),i.push([])),-1===a.map(function(e){return e.id}).indexOf(f)&&(a.push({name:u,id:f,shortDesc:o.bundle.health.chart.process_id+" : "+f}),c[f]={title:u}),c[f][m]={COUNT:v,PERCENT:h}}for(var g in c)for(var y=c[g],A=0;A<s.length;A++){var m=s[A],T=e.Translations.getTranslatedString(m);T=T?T:m,void 0!=y[m]?i[d[m]].push({y:y[m].PERCENT,label:y[m].COUNT,labelPosition:"auto",shortDesc:o.bundle.health.chart.state+" : "+T+"&lt;br/&gt;"+o.bundle.health.chart.process_name+" : "+y.title+"&lt;br/&gt;"+o.bundle.health.chart.process_id+" : "+g+"&lt;br/&gt;"+o.bundle.health.chart.no_instances+" : "+y[m].COUNT+"&lt;br/&gt;"+o.bundle.health.chart.percentage+" : "+y[m].PERCENT+"%"}):i[d[m]].push({y:0,label:0,labelPosition:"auto"})}for(var p=0;p<s.length;p++){var m=s[p];T=T?T:m;var T=e.Translations.getTranslatedString(m);r.push({name:T,items:i[d[m]],color:l[m],id:m})}}$("#bpm-dsb-health-chart-overlay").removeClass("bpm-dsb-load-overlay"),o.barSeriesValue(r),o.barGroupsValue(a)},o.parent.selectedTab.subscribe(function(e){0===e&&o.loadData()}),o.parent.filterApplied.subscribe(function(){0===o.parent.selectedTab()&&o.loadData()}),o.totalDrilldown=function(){n.drilldown(o.totalCountURL)},o.activeDrilldown=function(){n.drilldown(o.progressCountURL)},o.recoverableDrilldown=function(){n.drilldown(o.recoverableCountURL)},o.suspendedDrilldown=function(){n.drilldown(o.suspendedCountURL)},this.handleAttached=function(e){a.loadImmediate&&o.loadData(),$("#bpm-dsb-health-chart").ojChart({drill:function(e,t){var a="",i="";t.series&&(i=t.series),t.group&&(a=t.group),s.log(a+";"+i),""!==a&&(""===i?n.drilldown(o.processTrackingPage+"?processName="+a):"ACTIVE"===i?n.drilldown(o.processTrackingPage+"?processName="+a+"&status=OPEN&userRole=USER_ROLE_ADMIN"):"RECOVERABLE"===i?n.drilldown(o.processTrackingPage+"?processName="+a+"&status=FAULTED_RECOVERABLE&userRole=USER_ROLE_ADMIN"):"SUSPENDED"===i&&n.drilldown(o.processTrackingPage+"?processName="+a+"&status=SUSPENDED&userRole=USER_ROLE_ADMIN"))}})}}return a}),define("text!pcs/charts/dashboard/view/dashboards/healthDashboard.html",[],function(){return'<div class="oj-offcanvas-outer-wrapper bpm-dsb-panel">\n\n	<div data-bind="template: { name: \'bpm-dsb-icon-bar-template\', data: $data }"></div>\n\n	<h1 data-bind="text: bundle.health.title"></h1>\n\n	<div  class="oj-sm-12 bpm-dsb-center-align" >\n		<div  class="bpm-dsb-center-align" >\n			<div class="bpm-dsb-billb-box bpm-dsb-dark-grey-bg right-width-zero">\n				<div class="bpm-dsb-billboard-number">\n					<a data-bind="click : totalDrilldown" class="bpm-dsb-dark-black-numb" style=" text-decoration: none;cursor: pointer;"><span data-bind="text:openCount" ></span></a>\n				</div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.health.billboard.total_open  , attr : { title : bundle.health.billboard.total_open }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-green-bg right-width-zero">\n				<div class="bpm-dsb-billboard-number"  >\n					<a data-bind="click : activeDrilldown" class="bpm-dsb-dark-green-numb" style=" text-decoration: none;cursor: pointer;"><span data-bind="text:progressCount" ></span></a>\n				</div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.health.billboard.in_progress  , attr : { title : bundle.health.billboard.in_progress }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-red-bg right-width-zero" >\n				<div class="bpm-dsb-billboard-number">\n					<a  data-bind="click : recoverableDrilldown" class="bpm-dsb-dark-red-numb" style=" text-decoration: none;cursor: pointer;"><span data-bind="text:recoverableCount" ></span></a>\n				</div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.health.billboard.recoverable  , attr : { title : bundle.health.billboard.recoverable }"></div>\n			</div>\n			<div style="background-color: #bee5f6"  class="bpm-dsb-billb-box" >\n				<div class="bpm-dsb-billboard-number">\n					<a  data-bind="click : suspendedDrilldown" style="color:#101356;text-decoration: none;cursor: pointer;"><span data-bind="text:suspendedCount" ></span></a>\n				</div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.health.billboard.suspended  , attr : { title : bundle.health.billboard.suspended }"></div>\n			</div>\n		</div>\n	</div>\n\n\n	<div class="oj-flex bpm-dsb-chart-container" id="bpm-dsb-health-chart-container">\n		<div id="bpm-dsb-health-chart" class="oj-sm-12 oj-md-12 oj-lg-12 oj-xl-12 oj-col bpm-dsb-chart-height" data-bind="ojComponent: {\n            component: \'ojChart\',\n            type: \'bar\',\n            orientation: \'horizontal\',\n            stack: \'on\',\n            series: barSeriesValue,\n            groups: barGroupsValue,\n            zoomAndScroll: \'live\',\n            animationOnDisplay: \'auto\',\n            animationOnDataChange: \'auto\',\n            hoverBehavior: \'dim\',\n            drilling:\'on\',\n            selectionMode: \'single\',\n            hideAndShowBehavior: \'withRescale\'\n        }">\n		</div>\n		<div id="bpm-dsb-health-chart-overlay"/>\n	</div>\n\n</div>\n'}),define("pcs/charts/dashboard/viewModel/dashboards/openDashboard",["ojs/ojcore","knockout","pcs/charts/dashboard/util","jquery","ojs/ojtable","ojs/ojbutton","ojL10n!pcs/resources/nls/dashboardResource"],function(e,t,n,a){function o(o){var s=this,i=require("pcs/util/loggerUtil");s.bundle=require("ojL10n!pcs/resources/nls/dashboardResource"),this.parent=o.parent,this.baseRestUrl=this.parent.baseRestUrl,this.restEndPoint=this.parent.baseRestUrl+this.parent.chartEndpoint,this.drilldownUrl=this.parent.processTrackingPage+"?processName=";var r=this.parent.authInfo;s.processes=t.observableArray([]),s.datasource=new e.ArrayTableDataSource(s.processes,{idAttribute:"index"}),s.totals=t.observable([0,0,0,0,0,0]),s.renderHeader=function(e){var t=e.columnIndex;if(3==t)var n=s.bundle.open.table.due_this_week.split("\n");else if(7==t)var n=s.bundle.open.table.opened_today.split("\n");else var n=s.bundle.open.table.closed_today.split("\n");e.columnHeaderSortableIconRenderer(null,function(e){for(var t=0;t<n.length;t++){var o=a(document.createElement("div"));o.text(n[t]),e.append(o)}e.parent().attr("style","height:auto; text-align: center;")})},s.columns=[{headerText:s.bundle.open.table.application,field:"application",style:"width: 15%"},{style:"width: 15%",headerTemplate:"bpm_charts_open_proc_header",template:"bpm_charts_open_proc_proc_name"},{headerText:s.bundle.open.table.on_track,field:"ontrack",style:"width: 10%",className:"bpm-dsb-open-tbl-ontrack-column bpm-dsb-light-green-bg"},{headerRenderer:s.renderHeader,field:"due",style:"width: 10%",className:"bpm-dsb-open-tbl-due-column bpm-dsb-light-orange-bg"},{headerText:s.bundle.open.table.overdue,field:"overdue",style:"width: 10%",className:"bpm-dsb-open-tbl-overdue-column bpm-dsb-light-red-bg"},{headerText:s.bundle.open.table.recoverable,field:"recoverable",style:"width: 10%",className:"bpm-dsb-open-tbl-column"},{headerText:s.bundle.open.table.suspended,field:"suspended",style:"width: 10%",className:"bpm-dsb-open-tbl-column"},{headerRenderer:s.renderHeader,field:"opened",style:"width: 10%",className:"bpm-dsb-open-tbl-today-column bpm-dsb-light-grey-bg"},{headerRenderer:s.renderHeader,field:"closed",style:"width: 10%",className:"bpm-dsb-open-tbl-today-column bpm-dsb-light-grey-bg"}],s.refresh=function(){s.loadData(),s.parent.loadProcessList()},s.paramList=function(){var e=n.paramList(s);return e},this.loadData=function(){var e=s.paramList();a("#openProcesses").ojTable("option","currentRow",null),a("#bpm-dsb-open-table-overlay").addClass("bpm-dsb-load-overlay"),s.load("OPEN_PROCESS_SUMMARY_BILLBOARD"+e,s.populateOpenBillboard),s.load("OPEN_PROCESS_SUMMARY_TABLE"+e,s.populateOpenTable)},s.load=function(e,t){var o=s.restEndPoint+e;a.ajax({type:"GET",url:o,beforeSend:function(e){r&&e.setRequestHeader("Authorization",r)},xhrFields:{withCredentials:!0},contentType:"application/json",success:function(e){t(e)},error:function(e){t(),n.errorHandler(e)},failure:function(){i.log("failed in "+e)}})},s.populateOpenBillboard=function(e){if(e&&e.rows){var t=[0,0,0,0,0,0],a=n.columnAlias(e),o=e.rows[0];t[0]=o.values[a.TOTAL_OPEN]+0,t[1]=o.values[a.TOTAL_OPEN_NOT_DUE_SOON]+0,t[2]=o.values[a.TOTAL_DUE_SOON]+0,t[3]=o.values[a.TOTAL_OVERDUE]+0,t[4]=o.values[a.TOTAL_OPENED_TODAY]+0,t[5]=o.values[a.TOTAL_CLOSED_TODAY]+0,s.totals(t)}},s.populateOpenTable=function(e){var t=[];if(e&&e.rows){var o=n.columnAlias(e);a.each(e.rows,function(e,n){var a={};a.index=e,a.application=n.values[o.COMPOSITE_NAME],a.process=n.values[o.PROCESS_LABEL],a.ontrack=n.values[o.TOTAL_OPEN_NOT_DUE_SOON],a.due=n.values[o.TOTAL_DUE_SOON],a.overdue=n.values[o.TOTAL_OVERDUE],a.recoverable=n.values[o.TOTAL_FAULTED_RECOVERABLE],a.suspended=n.values[o.TOTAL_SUSPENDED],a.opened=n.values[o.TOTAL_OPENED_TODAY],a.closed=n.values[o.TOTAL_CLOSED_TODAY],a.processId=n.values[o.PROCESS_NAME],t.push(a)})}a("#bpm-dsb-open-table-overlay").removeClass("bpm-dsb-load-overlay"),s.processes(t)},s.parent.selectedTab.subscribe(function(e){1===e&&s.loadData()}),s.parent.filterApplied.subscribe(function(){1===s.parent.selectedTab()&&s.loadData()}),this.processDrillDown=function(e,t){("keypress"!==t.type||13==t.keyCode)&&n.drilldown(s.drilldownUrl+e.processId)},this.handleAttached=function(e){}}return o}),define("text!pcs/charts/dashboard/view/dashboards/openDashboard.html",[],function(){return'<div class="oj-offcanvas-outer-wrapper bpm-dsb-panel">\n\n	<div data-bind="template: { name: \'bpm-dsb-icon-bar-template\', data: $data }"></div>\n\n	<h1 data-bind="text: bundle.open.title"></h1>\n\n\n	<div  class="oj-sm-12 bpm-dsb-center-align">\n		<div class="bpm-dsb-center-align">\n			<div class="bpm-dsb-billb-box bpm-dsb-dark-grey-bg">\n				<div class="bpm-dsb-billboard-number" data-bind="text: totals()[0]"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.open.billboard.total_open  , attr : { title : bundle.open.billboard.total_open }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-green-bg open-on-track" >\n				<div class="bpm-dsb-billboard-number bpm-dsb-dark-green-numb" data-bind="text: totals()[1]"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.open.billboard.on_track  , attr : { title : bundle.open.billboard.on_track }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-orange-bg right-width-zero" >\n				<div class="bpm-dsb-billboard-number bpm-dsb-dark-orange-numb" data-bind="text: totals()[2]"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.open.billboard.due_this_week  , attr : { title : bundle.open.billboard.due_this_week }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-red-bg" >\n				<div class="bpm-dsb-billboard-number bpm-dsb-dark-red-numb" data-bind="text: totals()[3]"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.open.billboard.overdue  , attr : { title : bundle.open.billboard.overdue }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-grey-bg open-opened-today" >\n				<div class="bpm-dsb-billboard-number" data-bind="text: totals()[4]"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.open.billboard.opened_today  , attr : { title : bundle.open.billboard.opened_today }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-grey-bg" >\n				<div class="bpm-dsb-billboard-number"  data-bind="text: totals()[5]"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.open.billboard.closed_today  , attr : { title : bundle.open.billboard.closed_today }"></div>\n			</div>\n		</div>\n	</div>\n\n	<div class="bpm-dsb-chart-container oj-flex">\n		<table id="openProcesses" summary="Open Processes" aria-label="Open Processes Table"\n			   data-bind="ojComponent: {component: \'ojTable\',\n								 data: datasource,\n								 columns: columns,\n								 rootAttributes: {\'style\': \'width: 100%; height: 100%; font-size: 16px; \'}}">\n		</table>\n		<div id="bpm-dsb-open-table-overlay"></div>\n	</div>\n\n	<!-- This template is used in the process name Column of the above table -->\n	<script type="text/html" id="bpm_charts_open_proc_header">\n		<th style="padding-left: 5px; padding-right: 5px;">\n			<span data-bind="text:$parent.bundle.open.table.process"></span>\n		</th>\n	</script>\n	<script type="text/html" id="bpm_charts_open_proc_proc_name">\n		<td>\n			<a tabindex="0" data-bind="click : $parent.processDrillDown,text: process , attr: { title: processId },\n								event: {keypress: $parent.processDrillDown }" style="cursor:pointer;"></a>\n		</td>\n	</script>\n\n</div>\n\n'}),define("pcs/charts/dashboard/viewModel/dashboards/workloadDashboard",["ojs/ojcore","knockout","pcs/charts/dashboard/util","ojs/ojtreemap","ojs/ojlegend","ojL10n!pcs/resources/nls/dashboardResource"],function(e,t,n){function a(a){function o(e,t,n,a,o){var i="8";t&&(t=+t.toFixed(2));var l=t?t:"N.A",d="";return d=o===p.PROCESS?0===a?r.bundle.workload.treemap.process:1===a?r.bundle.workload.treemap.task:r.bundle.workload.treemap.assignee:o===p.TASK?0===a?r.bundle.workload.treemap.task:r.bundle.workload.treemap.assignee:1===a?r.bundle.workload.treemap.task:r.bundle.workload.treemap.assignee,i=0>t?"overdue":t>0&&7>t?"due":"on_track",{label:e,id:e,value:n,color:s(i),nodes:[],shortDesc:d+" : "+e+"&lt;br/&gt;"+r.bundle.workload.treemap.sizeLabel+" : "+n+"&lt;br/&gt;"+r.bundle.workload.treemap.colorLabel+" : "+l}}function s(e){return c.getValue(e)}function i(e,t,n,a,s,r,l){if(0===a){var d=o(t.values[n],t.values[s],t.values[r],n,l);e.nodes.push(d)}else for(var c=0;c<e.nodes.length;c++)if(e.nodes[c].id===t.values[n-a]){i(e.nodes[c],t,n,a-1,s,r,l);break}}var r=this,l=require("pcs/util/loggerUtil");r.bundle=require("ojL10n!pcs/resources/nls/dashboardResource"),this.parent=a.parent,r.baseRestUrl=this.parent.baseRestUrl,r.restEndPoint=this.parent.baseRestUrl+this.parent.chartEndpoint,r.authInfo=this.parent.authInfo,r.dataType=t.observable("top10_by_task"),r.dataTypeRadios=[{id:"top10_by_task",label:r.bundle.workload.type.top10_by_task},{id:"top10_by_assignee",label:r.bundle.workload.type.top10_by_assignee},{id:"bottleneck_by_process",label:r.bundle.workload.type.bottleneck_by_process},{id:"bottleneck_by_task",label:r.bundle.workload.type.bottleneck_by_task},{id:"bottleneck_by_assignee",label:r.bundle.workload.type.bottleneck_by_assignee}],r.handleDataTypeChange=function(e,t){r.parent.workloadSubTab(r.dataType()),r.loadChartData()},r.openCount=t.observable(0),r.onTrackCount=t.observable(0),r.dueCount=t.observable(0),r.overdueCount=t.observable(0),r.barSeriesValueOnTrack=t.observableArray(),r.barGroupsValueOnTrack=t.observableArray(),r.barSeriesValueDueWeek=t.observableArray(),r.barGroupsValueDueWeek=t.observableArray(),r.barSeriesValueOverdue=t.observableArray(),r.barGroupsValueOverdue=t.observableArray();var d={ON_TRACK:1,DUE_SOON:2,OVER_DUE:3},c=new e.ColorAttributeGroupHandler;c.addMatchRule("on_track","#bde2a0"),c.addMatchRule("due","#FFF2CC"),c.addMatchRule("overdue","#f0a7a8");var b=[["","",""],["#38761d","#FFF2CC","#f0a7a8"],["#bde2a0","#bf9000","#f0a7a8"],["#bde2a0","#FFF2CC","#990000"]],p={PROCESS:1,TASK:2,ASSIGNEE:3};r.nodeValues=t.observableArray([]),r.refresh=function(){r.loadData(),r.parent.loadProcessList()},r.paramList=function(){return n.paramList(r)},r.loadData=function(){r.load(n.queries.WORKLOAD_ANALYSIS_BILLBOARD+r.paramList(),r.populateWorkloadBillboardData),r.loadChartData()},r.loadChartData=function(){"bottleneck_by_process"==r.dataType()||"bottleneck_by_task"==r.dataType()||"bottleneck_by_assignee"==r.dataType()?($("#bpm-dsb-wkld-treemap-container").show(),$("#bpm-dsb-wkld-chart-container").hide(),r.loadBottleneckData()):($("#bpm-dsb-wkld-treemap-container").hide(),$("#bpm-dsb-wkld-chart-container").show(),r.loadTop10Data())},r.loadTop10Data=function(){var e=r.paramList();$("#bpm-dsb-wrkld-chart-ontrack-overlay").addClass("bpm-dsb-load-overlay"),$("#bpm-dsb-wrkld-chart-due-overlay").addClass("bpm-dsb-load-overlay"),$("#bpm-dsb-wrkld-chart-overdue-overlay").addClass("bpm-dsb-load-overlay"),"top10_by_assignee"===r.dataType()?(r.load(n.queries.OPEN_ASSIGNEES_ON_TRACK_ANALYSIS_CHART+e,r.populateTop10ChartData,d.ON_TRACK),r.load(n.queries.OPEN_ASSIGNEES_OVER_DUE_ANALYSIS_CHART+e,r.populateTop10ChartData,d.OVER_DUE),r.load(n.queries.OPEN_ASSIGNEES_DUE_SOON_ANALYSIS_CHART+e,r.populateTop10ChartData,d.DUE_SOON)):"top10_by_task"===r.dataType()&&(r.load(n.queries.OPEN_TASK_ON_TRACK_ANALYSIS_CHART+e,r.populateTop10ChartData,d.ON_TRACK),r.load(n.queries.OPEN_TASK_OVER_DUE_ANALYSIS_CHART+e,r.populateTop10ChartData,d.OVER_DUE),r.load(n.queries.OPEN_TASK_DUE_SOON_ANALYSIS_CHART+e,r.populateTop10ChartData,d.DUE_SOON))},r.loadBottleneckData=function(){var e=r.paramList();$("#bpm-dsb-wkld-bottleneck-treemap-overlay").addClass("bpm-dsb-load-overlay"),"bottleneck_by_process"===r.dataType()?r.load(n.queries.DUE_DATE_ANALYSIS_BY_OPEN_PROCESS_TREEMAP+e,r.populateBottleneckData,p.PROCESS):"bottleneck_by_task"===r.dataType()?r.load(n.queries.DUE_DATE_ANALYSIS_BY_OPEN_TASKS_TREEMAP+e,r.populateBottleneckData,p.TASK):"bottleneck_by_assignee"===r.dataType()&&r.load(n.queries.DUE_DATE_ANALYSIS_BY_ASSIGNEE_TREEMAP+e,r.populateBottleneckData,p.ASSIGNEE)},r.load=function(e,t,a){var o=r.restEndPoint+e;$.ajax({type:"GET",url:o,beforeSend:function(e){r.authInfo&&e.setRequestHeader("Authorization",r.authInfo)},xhrFields:{withCredentials:!0},contentType:"application/json",success:function(e){t(e,a)},error:function(e){t(null,a),n.errorHandler(e)},failure:function(){l.log("failed in load -"+e)}})},r.populateWorkloadBillboardData=function(e){if(e&&e.rows){var t=n.columnAlias(e),a=e.rows[0];r.openCount(a.values[t.TOTAL_OPEN]+0),r.onTrackCount(a.values[t.TOTAL_OPEN_AND_NOT_DUE_SOON]+0),r.dueCount(a.values[t.TOTAL_DUE_SOON]+0),r.overdueCount(a.values[t.TOTAL_OVERDUE]+0)}},r.populateTop10ChartData=function(e,n){var a=[],o=3,s=[],i=[],l=[r.bundle.workload.billboard.on_track,r.bundle.workload.billboard.due_soon,r.bundle.workload.billboard.overdue],c=b[n];if(e&&e.rows){for(var p=0;o>p;p++)s.push([]);for(var p=0;p<e.rows.length;p++){a.push(e.rows[p].values[0]);for(var u=0;o>u;u++){var m=e.rows[p].values[u+1];s[u].push({y:m,label:""+m,shortDesc:"&lt;b&gt;"+m+" "+l[u],labelPosition:"auto"})}}for(var p=0;o>p;p++){var v="hidden";p+1==n&&(v="visible"),i.push({name:l[p],items:s[p],color:c[p],visibility:v})}}if(n===d.ON_TRACK){$("#bpm-dsb-wrkld-chart-ontrack-overlay").removeClass("bpm-dsb-load-overlay");var h=document.getElementById("bpm-dsb-wrkld-chart-ontrack");t.cleanNode(h),t.applyBindings(r,h),r.barSeriesValueOnTrack(i),r.barGroupsValueOnTrack(a)}else if(n===d.DUE_SOON){$("#bpm-dsb-wrkld-chart-due-overlay").removeClass("bpm-dsb-load-overlay");var h=document.getElementById("bpm-dsb-wrkld-chart-due");t.cleanNode(h),t.applyBindings(r,h),r.barSeriesValueDueWeek(i),r.barGroupsValueDueWeek(a)}else if(n===d.OVER_DUE){$("#bpm-dsb-wrkld-chart-overdue-overlay").removeClass("bpm-dsb-load-overlay");var h=document.getElementById("bpm-dsb-wrkld-chart-overdue");t.cleanNode(h),t.applyBindings(r,h),r.barSeriesValueOverdue(i),r.barGroupsValueOverdue(a)}},r.populateBottleneckData=function(e,t){if(e&&e.rows&&e.rows.length>0){for(var a=n.columnAlias(e),s=o("Process",0,1,0,1),l=0;l<e.rows.length;l++){var d=0,c=e.rows[l].values[a.BAM_GROUPING_1],b=e.rows[l].values[a.BAM_GROUPING_2],u=e.rows[l].values[a.BAM_GROUPING_3];if(t===p.PROCESS){var m=c+b+u;d=2-m}else{var m=c+b;d=1-m}var v=d;i(s,e.rows[l],d,v,a.AVG_DAYS_UNTIL_DUE_DATE,a.TOTALCOUNT,t)}r.nodeValues([s])}else r.nodeValues([]);$("#bpm-dsb-wkld-bottleneck-treemap-overlay").removeClass("bpm-dsb-load-overlay")},r.parent.selectedTab.subscribe(function(e){2===e&&r.loadData()}),r.parent.filterApplied.subscribe(function(){2===r.parent.selectedTab()&&r.loadData()}),this.handleAttached=function(e){}}return a}),define("text!pcs/charts/dashboard/view/dashboards/workloadDashboard.html",[],function(){return'<div class="oj-offcanvas-outer-wrapper bpm-dsb-panel">\n\n	<div data-bind="template: { name: \'bpm-dsb-icon-bar-template\', data: $data }"></div>\n\n	<h1 data-bind="text: bundle.workload.title"></h1>\n\n	<div  class="oj-sm-12 bpm-dsb-center-align" >\n		<div  class="bpm-dsb-center-align" >\n			<div class="bpm-dsb-billb-box bpm-dsb-dark-grey-bg right-width-zero">\n				<div data-bind="text:openCount" class="bpm-dsb-billboard-number"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.workload.billboard.total_open , attr : { title : bundle.workload.billboard.total_open }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-green-bg right-width-zero">\n				<div data-bind="text:onTrackCount" class="bpm-dsb-billboard-number bpm-dsb-dark-green-numb"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.workload.billboard.on_track , attr : { title : bundle.workload.billboard.on_track }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-orange-bg right-width-zero">\n				<div data-bind="text:dueCount" class="bpm-dsb-billboard-number bpm-dsb-dark-orange-numb"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.workload.billboard.due_this_week , attr : { title : bundle.workload.billboard.due_this_week }"></div>\n			</div>\n\n			<div class="bpm-dsb-billb-box bpm-dsb-light-red-bg">\n				<div data-bind="text:overdueCount" class="bpm-dsb-billboard-number bpm-dsb-dark-red-numb"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.workload.billboard.overdue , attr : { title : bundle.workload.billboard.overdue }"></div>\n			</div>\n\n		</div>\n	</div>\n\n\n	<div id=\'buttons-container\' style="text-align: center;" class="stats-margin">\n		<div id="chartType"  class="workload-chartType oj-button-half-chrome oj-button-primary" data-bind="ojComponent: {component: \'ojButtonset\', checked: dataType,\n							optionChange: handleDataTypeChange}"\n			 aria-label="Choose Chart Type">\n			<!-- ko foreach: dataTypeRadios -->\n			<label data-bind="attr: {for: id , title: label}"></label>\n			<input type="radio" name="chart" data-bind="value: id, attr: {id: id},\n							ojComponent: { component: \'ojButton\', label: label }"/>\n			<span class="btn-separator"></span>\n			<!-- /ko -->\n		</div>\n	</div>\n\n	<div class="oj-flex " id=\'bpm-dsb-wkld-chart-container\'>\n		<div class="oj-flex-item oj-sm-12 oj-md-6 oj-lg-4 oj-xl-4 oj-col ">\n			<!--<h3 style="text-align: center"><span data-bind="text: bundle.workload.billboard.on_track"></span></h3>-->\n			<div class="bpm-dsb-chart-container">\n				<div id="bpm-dsb-wrkld-chart-ontrack" data-bind="ojComponent: {\n						component: \'ojChart\',\n						type: \'bar\',\n						orientation: \'horizontal\',\n						stack: \'on\',\n						series: barSeriesValueOnTrack,\n						groups: barGroupsValueOnTrack,\n						zoomAndScroll: \'live\',\n						overview: {rendered: \'on\'},\n						dataCursor:\'on\',\n						legend: {rendered: \'on\'},\n						animationOnDisplay: \'auto\',\n						animationOnDataChange: \'auto\',\n						hoverBehavior: \'dim\',\n						hideAndShowBehavior: \'withRescale\',\n						yAxis: {minStep :1},\n						translations : { labelNoData :  bundle.workload.chart.no_open_task},\n						title : {text :  bundle.workload.billboard.on_track , halign : \'center\' }\n					}"\n					 class="bpm-dsb-chart-height">\n				</div>\n				<div id="bpm-dsb-wrkld-chart-ontrack-overlay"/>\n			</div>\n		</div>\n		<div class="oj-flex-item oj-sm-12 oj-md-6 oj-lg-4 oj-xl-4 oj-col verticalLine">\n			<!--<h3 style="text-align: center"><span data-bind="text: bundle.workload.billboard.due_this_week"></span></h3>-->\n			<div class="bpm-dsb-chart-container">\n				<div id="bpm-dsb-wrkld-chart-due" data-bind="ojComponent: {\n						component: \'ojChart\',\n						type: \'bar\',\n						orientation: \'horizontal\',\n						stack: \'on\',\n						series: barSeriesValueDueWeek,\n						groups: barGroupsValueDueWeek,\n						legend: {rendered: \'on\'},\n						zoomAndScroll: \'live\',\n						overview: {rendered: \'on\'},\n						dataCursor:\'on\',\n						animationOnDisplay: \'auto\',\n						animationOnDataChange: \'auto\',\n						hoverBehavior: \'dim\',\n						hideAndShowBehavior: \'withRescale\',\n						translations : { labelNoData :  bundle.workload.chart.due_this_week},\n						title : {text :  bundle.workload.billboard.due_this_week , halign : \'center\' },\n						yAxis: {minStep :1}\n					}"\n					 class="bpm-dsb-chart-height">\n				</div>\n				<div id="bpm-dsb-wrkld-chart-due-overlay"/>\n			</div>\n		</div>\n		<div class="oj-flex-item oj-sm-12 oj-md-6 oj-lg-4 oj-xl-4 oj-col verticalLine">\n			<!--<h3 style="text-align: center"><span data-bind="text: bundle.workload.billboard.overdue"></span></h3>-->\n			<div class="bpm-dsb-chart-container">\n				<div id="bpm-dsb-wrkld-chart-overdue" data-bind="ojComponent: {\n						component: \'ojChart\',\n						type: \'bar\',\n						orientation: \'horizontal\',\n						stack: \'on\',\n						series: barSeriesValueOverdue,\n						groups: barGroupsValueOverdue,\n						zoomAndScroll: \'live\',\n						overview: {rendered: \'on\'},\n						dataCursor:\'on\',\n						legend: {rendered: \'on\'},\n						animationOnDisplay: \'auto\',\n						animationOnDataChange: \'auto\',\n						hoverBehavior: \'dim\',\n						hideAndShowBehavior: \'withRescale\',\n						yAxis: {minStep :1},\n						translations : { labelNoData : bundle.workload.chart.overdue},\n						title : {text :  bundle.workload.billboard.overdue , halign : \'center\' }\n					}"\n					 class="bpm-dsb-chart-height">\n				</div>\n				<div id="bpm-dsb-wrkld-chart-overdue-overlay"/>\n			</div>\n		</div>\n	</div>\n\n	<div class="oj-flex " id=\'bpm-dsb-wkld-treemap-container\' style="display:none">\n\n		<div class="bpm-dsb-chart-container">\n			<div id=\'bpm-dsb-wkld-bottleneck-treemap\' data-bind="ojComponent: {\n				component: \'ojTreemap\',\n				animationOnDisplay: \'auto\',\n				animationOnDataChange: \'auto\',\n				colorLabel: bundle.workload.treemap.colorLabel,\n				sizeLabel: bundle.workload.treemap.sizeLabel,\n				nodes: nodeValues\n			}"\n				 class="bpm-dsb-chart-height" style="border:none;">\n			</div>\n			<div id="bpm-dsb-wkld-bottleneck-treemap-overlay"/>\n		</div>\n\n		<!--<div id=\'legend-container\' class="bpm-dsb-center-align" style="width: 100%">-->\n		<!--<div data-bind="ojComponent: {-->\n		<!--component: \'ojLegend\',-->\n		<!--orientation: \'horizontal\',-->\n		<!--textStyle: \'font-size:14px;\',-->\n		<!--sections: legendSections-->\n		<!--}"-->\n		<!--style="min-width:500px;" class="bpm-dsb-center-align" >-->\n		<!--</div>-->\n		<!--</div>-->\n	</div>\n\n\n</div>\n';
}),define("pcs/charts/dashboard/viewModel/dashboards/cycleTimeDashboard",["ojs/ojcore","knockout","pcs/charts/dashboard/util","ojs/ojchart","ojL10n!pcs/resources/nls/dashboardResource"],function(e,t,n){function a(a){var o=this,s=require("pcs/util/loggerUtil");o.bundle=require("ojL10n!pcs/resources/nls/dashboardResource"),this.parent=a.parent,this.baseRestUrl=this.parent.baseRestUrl,o.restEndPoint=this.parent.baseRestUrl+this.parent.chartEndpoint;var i=this.parent.authInfo;o.cycleSeries=t.observableArray(),o.cycleGroups=t.observableArray(),o.workloadSeries=t.observableArray(),o.workloadGroups=t.observableArray(),o.total=t.observable(0),o.opened=t.observable(0),o.closed=t.observable(0);var r=e.Validation.converterFactory("number"),l=r.createConverter({minimumFractionDigits:0,maximumFractionDigits:0});o.workloadValueConverter=t.observable(l);var d=r.createConverter({minimumFractionDigits:0,maximumFractionDigits:2});o.cycleValueConverter=t.observable(d),o.viewBy=new t.observable("BY_PROCESS"),o.viewByLabel1=t.computed(function(){return"BY_PROCESS"===o.viewBy()?o.bundle.cycleTime.chart.process_cycle_time:o.bundle.cycleTime.chart.task_cycle_time}),o.viewByLabel2=t.computed(function(){return"BY_PROCESS"===o.viewBy()?o.bundle.cycleTime.chart.process_workload:o.bundle.cycleTime.chart.task_workload}),o.viewButtons=[{id:"BY_PROCESS",label:o.bundle.cycleTime.button.by_process},{id:"BY_TASK",label:o.bundle.cycleTime.button.by_task}],o.refresh=function(){o.loadData(),o.parent.loadProcessList()},o.paramList=function(){var e=n.paramList(o);return e},this.loadData=function(){var e=o.paramList();$("#bpm-dsb-cycle-chart-cycle-overlay").addClass("bpm-dsb-load-overlay"),$("#bpm-dsb-cycle-chart-wkld-overlay").addClass("bpm-dsb-load-overlay"),o.load("CYCLE_TIME_"+o.viewBy()+"_BILLBOARD"+e,o.populateCycleTimeBillboard),o.load("CYCLE_TIME_"+o.viewBy()+"_CHART"+e,o.populateCycleTimeChart),o.load("WORKLOAD_"+o.viewBy()+"_CHART"+e,o.populateWorkloadChart)},o.load=function(e,t){var a=o.restEndPoint+e;$.ajax({type:"GET",url:a,beforeSend:function(e){i&&e.setRequestHeader("Authorization",i)},xhrFields:{withCredentials:!0},contentType:"application/json",success:function(e){t(e)},error:function(e){t(),n.errorHandler(e)},failure:function(){s.log("failed in "+e)}})},o.populateCycleTimeBillboard=function(e){if(e&&e.rows){var t=n.columnAlias(e),a=e.rows[0];o.total(a.values[t.TOTAL_OPEN]+0),o.opened(a.values[t.TOTAL_OPENED_TODAY]+0),o.closed(a.values[t.TOTAL_CLOSED_TODAY]+0)}},o.populateCycleTimeChart=function(e){var t=[],a=[];if(e&&e.rows&&e.rows.length>0){var s=n.columnAlias(e),i={};t=o.setDateRange(e.rows,s);var r=t[0];$.each(e.rows,function(e,n){var a=o.dayOffset(n,r,s),l=n.values[s.PROCESS_LABEL];if(!(l in i)){i[l]=[];for(var d=0;d<t.length;d++)i[l][d]=0}i[l][a]=n.values[s.AVG_CYCLE_TIME]});for(var l in i)a.push({name:l,items:i[l]})}$("#bpm-dsb-cycle-chart-cycle-overlay").removeClass("bpm-dsb-load-overlay"),o.cycleSeries(a),o.cycleGroups(t)},o.populateWorkloadChart=function(e){var t=[],a=[];if(e&&e.rows&&e.rows.length>0){var s=n.columnAlias(e),i={};t=o.setDateRange(e.rows,s);var r=t[0];$.each(e.rows,function(e,t){var n=o.dayOffset(t,r,s),a=t.values[s.PROCESS_LABEL];a in i||(i[a]=[]),i[a][n]=t.values[s.TOTALWORKLOAD]});for(var l in i)a.push({name:l,items:i[l]})}$("#bpm-dsb-cycle-chart-wkld-overlay").removeClass("bpm-dsb-load-overlay"),o.workloadSeries(a),o.workloadGroups(t)},o.dayOffset=function(e,t,n){var a=new Date(e.values[n.YEAR_PROCESS_DATE],e.values[n.MONTH_PROCESS_DATE]-1,e.values[n.DAYOFMONTH_PROCESS_DATE]);return(a.getTime()-t.getTime())/864e5},o.setDateRange=function(e,t){var n=e[0].values,a=new Date(n[t.YEAR_PROCESS_DATE],n[t.MONTH_PROCESS_DATE]-1,n[t.DAYOFMONTH_PROCESS_DATE]);n=e[e.length-1].values;var o=new Date(n[t.YEAR_PROCESS_DATE],n[t.MONTH_PROCESS_DATE]-1,n[t.DAYOFMONTH_PROCESS_DATE]),s=(o.getTime()-a.getTime()+1)/864e5,i=new Date(a);i.setHours(0,0,0,0);for(var r=[],l=0;s>l;l++)r.push(new Date(i)),i.setDate(i.getDate()+1);return r},o.viewBy.subscribe(function(){o.loadData()}),o.parent.selectedTab.subscribe(function(e){3===e&&o.loadData()}),o.parent.filterApplied.subscribe(function(){3===o.parent.selectedTab()&&o.loadData()}),this.handleAttached=function(e){}}return a}),define("text!pcs/charts/dashboard/view/dashboards/cycleTimeDashboard.html",[],function(){return'<div class="oj-offcanvas-outer-wrapper bpm-dsb-panel">\n\n	<div data-bind="template: { name: \'bpm-dsb-icon-bar-template\', data: $data }"></div>\n\n	<h1 data-bind="text: bundle.cycleTime.title"></h1>\n\n	<div id="viewBy-container" class="trend-viewBy-container">\n		<div id="viewBy" class="oj-button-half-chrome oj-button-primary trend-viewBy"\n			 data-bind="ojComponent: {component: \'ojButtonset\', checked: viewBy}"\n			 aria-label="Select a view">\n			<!-- ko foreach: viewButtons -->\n			<label data-bind="attr: {for: id , title: label}"></label>\n			<input type="radio" name="viewBy"\n				   data-bind="value: id, attr: {id: id},\n							  ojComponent: {component: \'ojButton\', label: label}"/>\n			<span class="btn-separator"></span>\n			<!-- /ko -->\n		</div>\n	</div>\n	<div  class="oj-sm-12 bpm-dsb-center-align stats-margin">\n		<div   class="bpm-dsb-center-align" >\n			<div class="bpm-dsb-billb-box bpm-dsb-dark-grey-bg right-width-zero">\n				<div class="bpm-dsb-billboard-number" data-bind="text: total"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.cycleTime.billboard.total_open , attr : { title : bundle.cycleTime.billboard.total_open }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-grey-bg right-width-zero">\n				<div class="bpm-dsb-billboard-number" data-bind="text: opened"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.cycleTime.billboard.opened_today , attr : { title : bundle.cycleTime.billboard.opened_today }"></div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-grey-bg">\n				<div class="bpm-dsb-billboard-number" data-bind="text: closed"></div>\n				<div class="bpm-dsb-billboard-title"\n					 data-bind="text: bundle.cycleTime.billboard.closed_today , attr : { title : bundle.cycleTime.billboard.closed_today }"></div>\n			</div>\n\n		</div>\n	</div>\n	<div class="oj-flex">\n		<div id="cycleTimeChart" class="oj-flex-item oj-col oj-sm-12 oj-md-6">\n			<!--<h3 data-bind="text: viewByLabel1"></h3>-->\n			<div class="bpm-dsb-chart-container">\n				<div\n						data-bind="ojComponent: {\n					component: \'ojChart\',\n					type: \'line\',\n					series: cycleSeries,\n					groups: cycleGroups,\n					animationOnDisplay: \'auto\',\n					hoverBehavior: \'dim\',\n					timeAxisType: \'enabled\',\n					zoomAndScroll: \'live\',\n					overview: {rendered: \'on\'},\n					hideAndShowBehavior: \'withRescale\',\n					yAxis: {title: bundle.cycleTime.chart.days},\n					styleDefaults: {markerSize: 18},\n					xAxis: {step :86400000},\n					translations : { labelNoData : bundle.cycleTime.chart.no_data_cycle},\n					title : {text :  viewByLabel1() , halign : \'plotAreaCenter\' },\n					valueFormats: [{type: \'series\', tooltipLabel:  bundle.cycleTime.chart.process},\n					 				{type: \'value\', tooltipLabel:  bundle.cycleTime.chart.time_days, scaling : \'none\'  ,converter : ko.toJS(cycleValueConverter)}]\n				}" style="width: 100%; height: 500px">\n				</div>\n				<div id="bpm-dsb-cycle-chart-cycle-overlay"/>\n			</div>\n		</div>\n\n		<div id="workloadChart" class="oj-flex-item oj-col oj-sm-12 oj-md-6 verticalLine">\n			<!--<h3 data-bind="text: viewByLabel2"></h3>-->\n			<div class="bpm-dsb-chart-container">\n				<div\n						data-bind="ojComponent: {\n					component: \'ojChart\',\n					type: \'line\',\n					series: workloadSeries,\n					groups: workloadGroups,\n					animationOnDisplay: \'auto\',\n					hoverBehavior: \'dim\',\n					timeAxisType: \'enabled\',\n					zoomAndScroll: \'live\',\n					overview: {rendered: \'on\'},\n					hideAndShowBehavior: \'withRescale\',\n					translations : { labelNoData : bundle.cycleTime.chart.no_data_wkld},\n					title : {text :  viewByLabel2() , halign : \'plotAreaCenter\' },\n					yAxis: {minStep :1 , title: bundle.cycleTime.chart.count},\n					xAxis: {step :86400000},\n					valueFormats: [{type: \'series\', tooltipLabel:  bundle.cycleTime.chart.process},\n					 				{type: \'value\', tooltipLabel: bundle.cycleTime.chart.count, scaling : \'none\'  ,converter : ko.toJS(workloadValueConverter)}]\n				}" style="width: 100%; height: 500px">\n				</div>\n				<div id="bpm-dsb-cycle-chart-wkld-overlay"/>\n			</div>\n		</div>\n	</div>\n</div>\n'}),define("pcs/charts/dashboard/viewModel/dashboards/closedDashboard",["ojs/ojcore","knockout","pcs/charts/dashboard/util","jquery","ojs/ojtable","ojs/ojbutton","ojL10n!pcs/resources/nls/dashboardResource"],function(e,t,n,a){function o(o){var s=this,i=require("pcs/util/loggerUtil");s.bundle=require("ojL10n!pcs/resources/nls/dashboardResource"),this.parent=o.parent,this.baseRestUrl=this.parent.baseRestUrl,this.restEndPoint=this.parent.baseRestUrl+this.parent.chartEndpoint;var r=this.parent.authInfo;s.processes=t.observableArray([]),s.datasource=new e.ArrayTableDataSource(s.processes,{idAttribute:"index"}),s.period=t.observable("today"),s.periodButtons=[{id:"today",label:s.bundle.closed.button.today},{id:"week",label:s.bundle.closed.button.this_week},{id:"month",label:s.bundle.closed.button.this_month}],s.periodLabels={today:[s.bundle.closed.period.today,s.bundle.closed.period.yesterday],week:[s.bundle.closed.period.this_week,s.bundle.closed.period.last_week],month:[s.bundle.closed.period.this_month,s.bundle.closed.period.last_month]},s.periodQueries={today:"TODAY",week:"THIS_WEEK",month:"THIS_MONTH"},s.totals=t.observable([0,0,0,0]),s.handlePeriodChange=function(){s.loadData();var e=document.getElementById("closedProcesses");t.cleanNode(e),t.applyBindings(s,e)},s.renderHeader=function(e){var t=e.columnIndex;if(t>4){var n=[s.bundle.closed.table.completed,s.bundle.closed.table.aborted,s.bundle.closed.table.errored,s.bundle.closed.table.avg_cycle,s.bundle.closed.table.avg_cycle,s.bundle.closed.table.max_cycle],o=[n[t-2],s.periodLabels[s.period()][6==t?1:0]];e.columnHeaderSortableIconRenderer(null,function(e){for(var t=0;t<o.length;t++){var n=a(document.createElement("div"));n.text(o[t]),e.append(n)}e.parent().attr("style","height:auto; text-align: center;")})}},s.columns=[{headerText:s.bundle.closed.table.application,field:"application",style:"width: 24%"},{headerText:s.bundle.closed.table.process,field:"process",style:"width: 25%"},{headerText:s.bundle.closed.table.completed,field:"completed",style:"width: 8.5%",className:"bpm-dsb-closed-tbl-succ-column bpm-dsb-light-green-bg"},{headerText:s.bundle.closed.table.aborted,field:"aborted",style:"width: 8.5%",className:"bpm-dsb-closed-tbl-fail-column bpm-dsb-light-red-bg"},{headerText:s.bundle.closed.table.errored,field:"errored",style:"width: 8.5%",className:"bpm-dsb-closed-tbl-fail-column bpm-dsb-light-red-bg"},{field:"avgThis",style:"width: 8.5%",className:"bpm-dsb-closed-tbl-column",template:"bpm_charts_closed_proc_avg_cycle_tmpl"},{field:"avgLast",style:"width: 8.5%",className:"bpm-dsb-closed-tbl-column"},{field:"max",style:"width: 8.5%",className:"bpm-dsb-closed-tbl-max-column"}],s.refresh=function(){s.loadData(),s.parent.loadProcessList()},s.paramList=function(){var e=n.paramList(s);return e},this.loadData=function(){var e=s.paramList();a("#bpm-dsb-closed-table-overlay").addClass("bpm-dsb-load-overlay");var t="CLOSED_PROCESS_ANALYSIS_"+s.periodQueries[s.period()];s.load(t+"_BILLBOARD"+e,s.populateClosedBillboard),s.load(t+"_TABLE"+e,s.populateClosedTable)},s.load=function(e,t){var o=s.restEndPoint+e;a.ajax({type:"GET",url:o,beforeSend:function(e){r&&e.setRequestHeader("Authorization",r)},xhrFields:{withCredentials:!0},contentType:"application/json",success:function(e){t(e)},error:function(e){t(),n.errorHandler(e)},failure:function(){i.log("failed in "+e)}})},s.populateClosedBillboard=function(e){if(e&&e.rows){var t=[0,0,0,0],a=n.columnAlias(e),o=e.rows[0];t[0]=o.values[a.TOTAL_CLOSED]+0,t[1]=o.values[a.TOTAL_COMPLETED]+0,t[2]=o.values[a.TOTAL_ABORTED]+0,t[3]=o.values[a.TOTAL_FAULTED]+0,s.totals(t)}},s.populateClosedTable=function(e){var t=[];if(e&&e.rows){var o=n.columnAlias(e);a.each(e.rows,function(e,n){var a={};a.index=e,a.application=n.values[o.COMPOSITE_NAME],a.process=n.values[o.PROCESS_LABEL],a.completed=n.values[o.TOTAL_COMPLETED]+0,a.aborted=n.values[o.TOTAL_ABORTED]+0,a.errored=n.values[o.TOTAL_FAULTED]+0,a.avgThis=(n.values[o.CURR_AVG_CYCLE_TIME_IN_DAYS]+0).toFixed(1),a.avgLast=(n.values[o.PREV_AVG_CYCLE_TIME_IN_DAYS]+0).toFixed(1),a.isCycletimeIncreasing=n.values[o.IS_CYCLE_TIME_INCREASING]+0,a.max=(n.values[o.MAX_CYCLE_TIME_IN_DAYS]+0).toFixed(1),t.push(a)})}a("#bpm-dsb-closed-table-overlay").removeClass("bpm-dsb-load-overlay"),s.processes(t)},s.parent.selectedTab.subscribe(function(e){4===e&&s.loadData()}),s.parent.filterApplied.subscribe(function(){4===s.parent.selectedTab()&&s.loadData()}),this.handleAttached=function(e){}}return o}),define("text!pcs/charts/dashboard/view/dashboards/closedDashboard.html",[],function(){return'<div class="oj-offcanvas-outer-wrapper bpm-dsb-panel">\n\n	<div data-bind="template: { name: \'bpm-dsb-icon-bar-template\', data: $data }"></div>\n\n	<h1 data-bind="text: bundle.closed.title"></h1>\n\n	<div id="period-container" class="closed-period-container">\n		<div id="period" class="closed-period oj-button-half-chrome oj-button-primary"\n			 data-bind="ojComponent: {component: \'ojButtonset\', checked: period,\n								  optionChange: handlePeriodChange}"\n			 aria-label="Select a reporting period">\n			<!-- ko foreach: periodButtons -->\n			<label data-bind="attr: {for: id, title: label}"></label>\n			<input type="radio" name="period"\n				   data-bind="value: id, attr: {id: id},\n							  ojComponent: {component: \'ojButton\', label: label}"/>\n			<span class="btn-separator"></span>\n			<!-- /ko -->\n		</div>\n	</div>\n	<div  class="oj-sm-12 bpm-dsb-center-align stats-margin">\n		<div class="bpm-dsb-center-align" >\n			<div class="bpm-dsb-billb-box bpm-dsb-dark-grey-bg right-width-zero">\n				<div class="bpm-dsb-billboard-number" data-bind="text: totals()[0]"></div>\n				<div class="bpm-dsb-billboard-title">\n					<span data-bind="text:bundle.closed.billboard.total_closed , attr : { title : bundle.closed.billboard.total_closed }"></span>\n					<!--<br/>-->\n					<!--<span data-bind="text: periodLabels[period()][0]"></span>-->\n				</div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-green-bg right-width-zero">\n				<div class="bpm-dsb-billboard-number bpm-dsb-dark-green-numb" data-bind="text: totals()[1]"></div>\n				<div class="bpm-dsb-billboard-title">\n					<span data-bind="text:bundle.closed.billboard.completed , attr : { title : bundle.closed.billboard.completed }"></span>\n					<!--<br/>-->\n					<!--<span data-bind="text: periodLabels[period()][0]"></span>-->\n				</div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-red-bg right-width-zero">\n				<div class="bpm-dsb-billboard-number bpm-dsb-dark-red-numb" data-bind="text: totals()[2]"></div>\n				<div class="bpm-dsb-billboard-title">\n					<span data-bind="text:bundle.closed.billboard.aborted , attr : { title : bundle.closed.billboard.aborted }"></span>\n					<!--<br/>-->\n					<!--<span data-bind="text: periodLabels[period()][0]"></span>-->\n				</div>\n			</div>\n			<div class="bpm-dsb-billb-box bpm-dsb-light-red-bg">\n				<div class="bpm-dsb-billboard-number bpm-dsb-dark-red-numb" data-bind="text: totals()[3]"></div>\n				<div class="bpm-dsb-billboard-title">\n					<span data-bind="text:bundle.closed.billboard.errored , attr : { title : bundle.closed.billboard.errored }"></span>\n					<!--<br/>-->\n					<!--<span data-bind="text: periodLabels[period()][0]"></span>-->\n				</div>\n			</div>\n\n		</div>\n	</div>\n\n	<div class="bpm-dsb-chart-container oj-flex">\n		<table id="closedProcesses" summary="Closed Processes" aria-label="Closed Processes Table"\n			   data-bind="ojComponent: {component: \'ojTable\',\n								 data: datasource,\n								 columns: columns,\n								 columnsDefault: {headerRenderer: renderHeader},\n								 rootAttributes: {\'style\': \'width: 100%; height: 100%; font-size: 16px\'}}">\n		</table>\n		<div id="bpm-dsb-closed-table-overlay"/>\n	</div>\n\n	<!-- This template is used in the Avg cycle Column of the above table -->\n	<script type="text/html" id="bpm_charts_closed_proc_avg_cycle_tmpl">\n		<td>\n			<span data-bind="text: avgThis"></span>\n			<!-- ko if: isCycletimeIncreasing === 1 -->\n			<span class="bpm-dsb-closed-tbl-cycle-inc" data-bind="attr :{title : $parent.bundle.closed.table.increased}"></span>\n			<!-- /ko -->\n			<!-- ko if: isCycletimeIncreasing === -1 -->\n			<span class="bpm-dsb-closed-tbl-cycle-dec" data-bind="attr :{title : $parent.bundle.closed.table.decreased}"></span>\n			<!-- /ko -->\n		</td>\n	</script>\n\n</div>\n'}),define("pcs/charts/dashboard/viewModel/dashboards/filters/processFilter",["ojs/ojcore","knockout","pcs/charts/dashboard/util","ojs/ojinputnumber","ojs/ojoffcanvas","ojs/ojbutton","ojs/ojinputtext","ojs/ojcheckboxset","ojL10n!pcs/resources/nls/dashboardResource"],function(e,t,n){function a(e){var n=this;n.bundle=require("ojL10n!pcs/resources/nls/dashboardResource"),n.parent=e.parent,n.searchText=t.observable(),n.processList=t.observableArray(),n.actualProcessList=[],n.processes=t.observableArray(),n.selectAllProcess=t.computed({read:function(){var e=n.processes().length===n.actualProcessList.length;return e},write:function(e){if(n.processes.removeAll(),e===!0)for(var t=0;t<n.processList().length;t++){var a=n.processList()[t];n.processes.push(a)}}}),n.showSelectAll=t.computed(function(){return n.processList().length!=n.actualProcessList.length?!1:!0}),n.assignees=t.observable(["Roles and Groups","Users"]),n.dateRange=t.observable(30),n.topN=t.observable(10),n.selectedAssignees=["Roles and Groups","Users"],n.selectedDateRange=30,n.selectedTopN=10,n.selectedProcesses=[],n.selectedSelectAllProcess=!0,n.parent.processListChangeSwitch.subscribe(function(){n.populateProcessList(n.parent.processData)}),n.populateProcessList=function(e){var t=n.selectAllProcess();if(n.processList.removeAll(),n.actualProcessList=[],t&&n.processes.removeAll(),e&&e.rows&&e.rows.length>0)for(var a=0;a<e.rows.length;a++)n.actualProcessList.push(e.rows[a].values[0]),n.processList.push(e.rows[a].values[0]),t&&n.processes.push(e.rows[a].values[0]);n.selectedProcesses=n.processes.slice(),$(".bpm-dsb-processSetId").ojCheckboxset("refresh"),$(".bpm-dsb-process-list-loading").hide()},n.search=function(){var e=n.searchText();if(void 0!=e&&null!=e){e=e.trim().toLowerCase(),n.processList.removeAll(),n.processes.removeAll();for(var t=0;t<n.actualProcessList.length;t++)-1!==n.actualProcessList[t].toLowerCase().indexOf(e)&&n.processList.push(n.actualProcessList[t]);$(".bpm-dsb-processSetId").ojCheckboxset("refresh")}},this.handleBindingsApplied=function(e){n.populateProcessList(n.parent.processData)},n.apply=function(){n.selectedAssignees=n.assignees(),n.selectedDateRange=n.dateRange(),n.selectedTopN=n.topN(),n.selectedProcesses=n.processes.slice(),n.selectedSelectAllProcess=n.selectAllProcess(),n.parent.filterPanel=n,n.parent.apply()},n.reset=function(){n.assignees(n.selectedAssignees),n.dateRange(n.selectedDateRange),n.topN(n.selectedTopN),n.processes.removeAll();for(var e=0;e<n.selectedProcesses.length;e++)n.processes.push(n.selectedProcesses[e])},n.handleAttached=function(e){$("#endDrawer").on("ojclose",function(){n.reset()}),n.parent.filterPanel=n}}return a}),define("text!pcs/charts/dashboard/view/dashboards/filters/processFilter.html",[],function(){return'<div class="demo-offcanvas-close">\n	<button class="oj-button-sm "\n			aria-label="close" role="button"\n			data-bind="click: $parent.closeInner, ojComponent: {component:\'ojButton\',\n                                     label: bundle.processFilter.close,\n                                     display: \'icons\',\n                                     icons: {start: \'oj-fwk-icon-cross oj-fwk-icon\'}}">\n	</button>\n</div>\n\n<br/>\n\n<div class="bpm-dsb-parameter-box-width" >\n\n	<div data-bind="if : $parent.selectedTab() === 3">\n		<label for="dateRangeInput" ><span data-bind="text: bundle.processFilter.date_range"></span>	</label>\n		<input id="dateRangeInput"\n			   data-bind="ojComponent: {component: \'ojInputNumber\',min:0,value:dateRange} , attr :{placeholder : bundle.processFilter.days}"/>\n		<br/>\n		<br/>\n		<hr/>\n		<br/>\n	</div>\n\n	<div>\n		<label for="input" id="processlabelid"><span data-bind="text: bundle.processFilter.select_process"></span>	</label>\n		<input id="input" placeholder="" data-bind="ojComponent: {component: \'ojInputText\',value : searchText}, attr :{placeholder : bundle.processFilter.search_process}">\n		<button  data-bind="click: search,\n									   ojComponent: {component:\'ojButton\',\n									   label:  bundle.processFilter.search,\n										display: \'icons\',\n									   icons: {start: \'oj-fwk-icon-magnifier oj-fwk-icon\'}}">\n		</button>\n\n\n		<div  style="margin-top: 10px" data-bind="if: showSelectAll">\n			<input type="checkbox" id="checkboxAll" data-bind="checked: selectAllProcess " />\n			<label for="checkboxAll" style="margin-left: 8px;" ><span data-bind="text: bundle.processFilter.all"></span> </label>\n		</div>\n		<div class="bpm-dsb-process-list-loading bpm-dsb-parameter-box-width bpm-dsb-center-align">\n			<div class="bpm-dsb-loading bpm-dsb-center-align"></div>\n		</div>\n		<div id="processSetId" class="bpm-dsb-processSetId bpm-dsb-parameter-box-width" aria-labelledby="processlabelid" data-bind="ojComponent: {component: \'ojCheckboxset\', value: processes}">\n			<!-- ko foreach:processList -->\n			<span class="oj-choice-row">\n					<input data-bind="attr: { value: $data , id: $data }" type="checkbox">\n					<label data-bind="attr: { for: $data }"><span data-bind="text :$data"></span> </label>\n				</span>\n			<!-- /ko  -->\n		</div>\n\n\n		<br/>\n		<br/>\n		<hr/>\n		<br/>\n	</div>\n\n	<div data-bind="if :$parent.selectedTab() === 2 && $parent.workloadSubTab() !== \'top10_by_task\'">\n		<label id="assigneelabelid"><span data-bind="text: bundle.processFilter.show_assignee"></span></label>\n		<div id="assigneeSetId" aria-labelledby="assigneelabelid"\n			 data-bind="ojComponent: {\n			  component: \'ojCheckboxset\',\n			  value: assignees}" >\n		  <span class="oj-choice-row">\n			<input id="roles&Groups" type="checkbox" value="Roles and Groups">\n			<label for="roles&Groups"><span data-bind="text: bundle.processFilter.roles_groups"></span></label>\n		  </span>\n			<span class="oj-choice-row">\n			<input id="user" type="checkbox" value="Users">\n			<label for="user"><span data-bind="text: bundle.processFilter.users"></span></label>\n		  </span>\n		</div>\n		<br/>\n		<br />\n		<hr/>\n		<br/>\n	</div>\n\n	<div data-bind="if : $parent.selectedTab() === 3">\n		<label for="topNRangeInput" ><span data-bind="text: bundle.processFilter.show_top_N"></span></label>\n		<input id="topNRangeInput"\n			   data-bind="ojComponent: {component: \'ojInputNumber\',min:0,value:topN}, attr :{placeholder : bundle.processFilter.top_N}"/>\n		<br/>\n		<br/>\n		<hr/>\n		<br/>\n	</div>\n\n	<div class="bpm-dsb-param-apply">\n		<button  data-bind="click: apply, attr: {title: bundle.processFilter.apply},\n							ojComponent: {component:\'ojButton\',\n							  label: bundle.processFilter.apply,\n							}">\n		</button>\n	</div>\n\n</div>\n\n'}),define("pcs/charts/dashboard/viewModel/dashboardContainer",["ojs/ojcore","knockout","pcs/charts/dashboard/util","ojs/ojknockout","ojs/ojtabs","ojs/ojoffcanvas","ojs/ojbutton","ojs/ojinputtext","ojs/ojcheckboxset","ojs/ojchart","ojs/ojlegend","ojs/ojdialog","ojL10n!pcs/resources/nls/dashboardResource","pcs/charts/dashboard/viewModel/dashboards/healthDashboard","!text!pcs/charts/dashboard/view/dashboards/healthDashboard.html","pcs/charts/dashboard/viewModel/dashboards/openDashboard","!text!pcs/charts/dashboard/view/dashboards/openDashboard.html","pcs/charts/dashboard/viewModel/dashboards/workloadDashboard","!text!pcs/charts/dashboard/view/dashboards/workloadDashboard.html","pcs/charts/dashboard/viewModel/dashboards/cycleTimeDashboard","!text!pcs/charts/dashboard/view/dashboards/cycleTimeDashboard.html","pcs/charts/dashboard/viewModel/dashboards/closedDashboard","!text!pcs/charts/dashboard/view/dashboards/closedDashboard.html","pcs/charts/dashboard/viewModel/dashboards/filters/processFilter","!text!pcs/charts/dashboard/view/dashboards/filters/processFilter.html"],function(e,t,n){function a(a){var o=this,s=require("pcs/util/loggerUtil");this.parent=a.parent,this.baseURL=this.parent.baseURL,this.baseRestUrl=this.parent.baseRestURL,o.bundle=require("ojL10n!pcs/resources/nls/dashboardResource"),this.authInfo=this.parent.authInfo,this.chartEndpoint="analytics/ootbqueries/",this.processTrackingPage=this.parent.processTrackingPage,this.tasksPage=this.parent.tasksPage,this.selectedTab=t.observable(0),this.workloadSubTab=t.observable("top10_by_task"),o.processRestEndPoint=this.baseRestUrl+this.chartEndpoint+"PROCESS_LABEL_LIST",o.processListChangeSwitch=t.observable(!1),o.processData=[],o.loadProcessList=function(){var e=o.processRestEndPoint;$.ajax({type:"GET",url:e,beforeSend:function(e){o.authInfo&&e.setRequestHeader("Authorization",o.authInfo)},xhrFields:{withCredentials:!0},contentType:"application/json",success:function(e){o.populateProcessList(e)},error:function(e){n.errorHandler(e)},failure:function(){s.log("error in loadProcessList")}})},o.populateProcessList=function(e){o.processData=e,o.processListChangeSwitch(!o.processListChangeSwitch())},o.loadProcessList(),o.filterApplied=t.observable(!1),o.offcanvasMap={displayMode:"overlay",selector:"#endDrawer"},o.toggleDrawer=function(t,n){var a=n.currentTarget.id,s=o.offcanvasMap;return s.launcherId=a,e.OffcanvasUtils.open(s)},o.closeInner=function(){return e.OffcanvasUtils.close(o.offcanvasMap)},o.apply=function(){o.filterApplied(!o.filterApplied()),o.closeInner()},o.closeErrorDialog=function(){$("#bpm-dsb-error-dialog").ojDialog("close")},$("#bpm-dsb-loading-indicator").hide()}return a}),define("text!pcs/charts/dashboard/view/dashboardContainer.html",[],function(){return'<div id="bpm-dsb-tabs-container">\n	<!-- offcanvas outer most wrapper -->\n	<div class="oj-offcanvas-outer-wrapper">\n		<div id="bpm-dsb-vtabs" class="oj-tabs-text-icon"\n			 data-bind="ojComponent:{component: \'ojTabs\' , edge : \'start\', selected: selectedTab}">\n			<ul>\n				<li>\n					<div>\n						<div class="oj-top bpm-dsb-health-icon demo-icon-font bpm-dsb-nav-icon"\n							 data-bind="attr: {title: bundle.container.health}"\n							 role="img">\n						</div>\n						<div class="oj-sm-only-hide bpm-dsb-nav-text"\n							 data-bind="text: bundle.container.health, attr: {title: bundle.container.health}"></div>\n					</div>\n				</li>\n				<li>\n					<div>\n						<div class="oj-start bpm-dsb-open-icon demo-icon-font bpm-dsb-nav-icon"\n							 data-bind="attr: {title: bundle.container.open}"\n							 role="img">\n						</div>\n						<div class="oj-sm-only-hide bpm-dsb-nav-text"\n							 data-bind="text: bundle.container.open, attr: {title: bundle.container.open}"></div>\n					</div>\n				</li>\n				<li>\n					<div>\n						<div class="oj-start bpm-dsb-wkld-icon demo-icon-font bpm-dsb-nav-icon"\n							 data-bind="attr: {title: bundle.container.workload}"\n							 role="img">\n\n						</div>\n						<div class="oj-sm-only-hide bpm-dsb-nav-text"\n							 data-bind="text: bundle.container.workload, attr: {title: bundle.container.workload}"></div>\n					</div>\n				</li>\n				<li>\n					<div>\n						<div class="oj-start bpm-dsb-cycle-icon demo-icon-font bpm-dsb-nav-icon"\n							 data-bind="attr: {title: bundle.container.cycleTime}"\n							 role="img">\n						</div>\n						<div class="oj-sm-only-hide bpm-dsb-nav-text"\n							 data-bind="text: bundle.container.cycleTime, attr: {title: bundle.container.cycleTime}"></div>\n					</div>\n				</li>\n				<li>\n					<div>\n						<div class="oj-start bpm-dsb-closed-icon demo-icon-font  bpm-dsb-nav-icon"\n							 data-bind="attr: {title: bundle.container.closed}"\n							 role="img">\n						</div>\n						<div class="oj-sm-only-hide bpm-dsb-nav-text"\n							 data-bind="text: bundle.container.closed, attr: {title: bundle.container.closed}"></div>\n					</div>\n				</li>\n			</ul>\n\n			<div id="bpm-dsb-health" class="bpm-dsb-tab-panel">\n				<div id="bpm-dsb-health-container" data-bind="ojModule: { name: \'pcs/charts/dashboard/viewModel/dashboards/healthDashboard\', viewName: \'pcs/charts/dashboard/view/dashboards/healthDashboard\',\n					params: {parent: $data, loadImmediate: true}}">\n				</div>\n			</div>\n			<div id="bpm-dsb-open" class="bpm-dsb-tab-panel">\n				<div id="bpm-dsb-open-container" data-bind="ojModule: { name: \'pcs/charts/dashboard/viewModel/dashboards/openDashboard\', viewName: \'pcs/charts/dashboard/view/dashboards/openDashboard\',\n					params: {parent: $data}}">\n				</div>\n			</div>\n			<div id="bpm-dsb-work" class="bpm-dsb-tab-panel">\n				<div id="bpm-dsb-work-container"\n					 data-bind="ojModule: { name: \'pcs/charts/dashboard/viewModel/dashboards/workloadDashboard\', viewName: \'pcs/charts/dashboard/view/dashboards/workloadDashboard\',\n					params: {parent: $data}}">\n				</div>\n			</div>\n			<div id="bpm-dsb-cycle" class="bpm-dsb-tab-panel">\n				<div id="bpm-dsb-cycle-container"\n					 data-bind="ojModule: { name: \'pcs/charts/dashboard/viewModel/dashboards/cycleTimeDashboard\', viewName: \'pcs/charts/dashboard/view/dashboards/cycleTimeDashboard\',\n					params: {parent: $data}}">\n				</div>\n			</div>\n			<div id="bpm-dsb-closed" class="bpm-dsb-tab-panel">\n				<div id="bpm-dsb-closed-container" data-bind="ojModule: { name: \'pcs/charts/dashboard/viewModel/dashboards/closedDashboard\', viewName: \'pcs/charts/dashboard/view/dashboards/closedDashboard\',\n					params: {parent: $data}}">\n				</div>\n			</div>\n		</div>\n\n		<!-- end offcanvas -->\n		<div id="endDrawer" class="oj-offcanvas-end oj-panel"	>\n			<div id="bpm-dsb-proc-filter" data-bind="ojModule: { name: \'pcs/charts/dashboard/viewModel/dashboards/filters/processFilter\', viewName: \'pcs/charts/dashboard/view/dashboards/filters/processFilter\',\n	 								params: {parent: $data}}"></div>\n		</div>\n\n	</div>\n\n	<script type="text/html" id="bpm-dsb-icon-bar-template">\n		<div class="demo-main-content" style="float: right" >\n			<button data-bind="click: parent.toggleDrawer, attr: {title: $parent.bundle.container.parameters},\n									   ojComponent: {component:\'ojButton\',\n									   label: bundle.container.parameters,\n									   icons: {start: \'bpm-dsb-filter-icon oj-fwk-icon\'}}">\n			</button>\n			<button  data-bind="click: refresh, attr: {title: $parent.bundle.container.refresh},\n									   ojComponent: {component:\'ojButton\',\n									   label: bundle.container.refresh,\n									   icons: {start: \'bpm-dsb-refresh-icon oj-fwk-icon\'}}">\n			</button>\n		</div>\n	</script>\n	<div style="display:none" id="bpm-dsb-error-dialog"\n		 data-bind="attr : { title : bundle.container.error }, ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\'}">\n		<div class="oj-dialog-body">\n			<div id="bpm-dsb-error-dialog-custom-text"/>\n		</div>\n		<div class="oj-dialog-footer">\n			<button id="okButton"  data-bind="click : closeErrorDialog , ojComponent: {component: \'ojButton\', label: bundle.container.ok}"> </button>\n		</div>\n	</div>\n</div>\n'}),define("pcs/pcs.dashboard",["ojs/ojcore","knockout","jquery","!text!pcs/charts/dashboard/templates/pcs-dashboard.html","pcs/util/pcsUtil","pcs/util/loggerUtil","pcs/charts/dashboard/viewModel/dashboardContainer","!text!pcs/charts/dashboard/view/dashboardContainer.html","ojs/ojmodule","jqueryui-amd/widget"],function(e,t,n,a,o){"use strict";n.widget("pcs.dashboard",{options:{baseUri:"",
baseRestUri:"/bpm/api/3.0/",username:"weblogic",password:"weblogic1",processTrackingPage:"processTracking.jspx",tasksPage:"worklist.jspx"},_authHeader:function(){return o.getAuthInfo()},_create:function(){function e(){var e=this;e.baseURL=n.options.baseUri,e.baseRestURL=e.baseURL+n.options.baseRestUri,e.processTrackingPage=e.baseURL+n.options.processTrackingPage,e.tasksPage=e.baseURL+n.options.tasksPage,e.authInfo=n._authHeader()}var n=this;this.options.baseUri=o.getServerURL();var s=new e;this.element.html(a),t.applyBindings(s,this.element[0])},_setOption:function(e,t){this.options[e]=t,n.Widget.prototype._setOption.apply(this,arguments)}})}),define("pcs/pcs.unifiedCharts",["ojs/ojcore","knockout","jquery","!text!pcs/charts/unifiedCharts/templates/pcs-unified-container.html","pcs/util/pcsUtil","pcs/util/loggerUtil","ojs/ojknockout","ojs/ojtabs","ojL10n!pcs/resources/nls/dashboardResource","pcs/pcs.visualization","pcs/pcs.dashboard","jqueryui-amd/widget"],function(e,t,n,a,o){"use strict";n.widget("pcs.unifiedCharts",{options:{processTrackingPage:"processTracking.jspx",tasksPage:"worklist.jspx"},_authHeader:function(){return o.getAuthInfo()},_create:function(){function e(){var e=this;e.bundle=require("ojL10n!pcs/resources/nls/dashboardResource")}var o=this,s=new e;this.element.html(a),t.applyBindings(s,this.element[0]),n("#bpm-charts-dash").dashboard({authInfo:o._authHeader(),processTrackingPage:o.options.processTrackingPage,tasksPage:o.options.tasksPage}),n("#bpm-charts-vis").visualization({authInfo:o._authHeader(),processTrackingPage:o.options.processTrackingPage,tasksPage:o.options.tasksPage})},_setOption:function(e,t){this.options[e]=t,n.Widget.prototype._setOption.apply(this,arguments)}})});
//# sourceMappingURL=pcs.unifiedCharts.js.map