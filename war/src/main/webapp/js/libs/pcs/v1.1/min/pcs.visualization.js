define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,a,o){if(n===o)return!0;if(e===a){if("http"===e)return t(n,"80")===t(o,"80");if("https"===e)return t(n,"443")===t(o,"443")}return!1}var a,o,i,s,r,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],d=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,p=u&&location.protocol&&location.protocol.replace(/\:/,""),m=u&&location.hostname,v=u&&(location.port||void 0),b={},f=e.config&&e.config()||{};return a={version:"2.0.15",strip:function(e){if(e){e=e.replace(d,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=l[t];try{e=new ActiveXObject(n)}catch(a){}if(e){l=[n];break}}return e},parseName:function(e){var t,n,a,o=!1,i=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==i&&(!s||i>1)?(t=e.substring(0,i),n=e.substring(i+1)):t=e,a=n||t,i=a.indexOf("!"),-1!==i&&(o="strip"===a.substring(i+1),a=a.substring(0,i),n?n=a:t=a),{moduleName:t,ext:n,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,o,i){var s,r,l,d=a.xdRegExp.exec(e);return d?(s=d[2],r=d[3],r=r.split(":"),l=r[1],r=r[0],(!s||s===t)&&(!r||r.toLowerCase()===o.toLowerCase())&&(!l&&!r||n(s,l,t,i))):!0},finishLoad:function(e,t,n,o){n=t?a.strip(n):n,f.isBuild&&(b[e]=n),o(n)},load:function(e,t,n,o){if(o&&o.isBuild&&!o.inlineText)return void n();f.isBuild=o&&o.isBuild;var i=a.parseName(e),s=i.moduleName+(i.ext?"."+i.ext:""),r=t.toUrl(s),l=f.useXhr||a.useXhr;return 0===r.indexOf("empty:")?void n():void(!u||l(r,p,m,v)?a.get(r,function(t){a.finishLoad(e,i.strip,t,n)},function(e){n.error&&n.error(e)}):t([s],function(e){a.finishLoad(i.moduleName+"."+i.ext,i.strip,e,n)}))},write:function(e,t,n,o){if(b.hasOwnProperty(t)){var i=a.jsEscape(b[t]);n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,n,o,i){var s=a.parseName(t),r=s.ext?"."+s.ext:"",l=s.moduleName+r,d=n.toUrl(s.moduleName+r)+".js";a.load(l,n,function(t){var n=function(e){return o(d,e)};n.asModule=function(e,t){return o.asModule(e,d,t)},a.write(e,l,n,i)},i)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(o=require.nodeRequire("fs"),a.get=function(e,t,n){try{var a=o.readFileSync(e,"utf8");"\ufeff"===a[0]&&(a=a.substring(1)),t(a)}catch(i){n&&n(i)}}):"xhr"===f.env||!f.env&&a.createXhr()?a.get=function(e,t,n,o){var i,s=a.createXhr();if(s.open("GET",e,!0),o)for(i in o)o.hasOwnProperty(i)&&s.setRequestHeader(i.toLowerCase(),o[i]);f.onXhr&&f.onXhr(s,e),s.onreadystatechange=function(a){var o,i;4===s.readyState&&(o=s.status||0,o>399&&600>o?(i=new Error(e+" HTTP status: "+o),i.xhr=s,n&&n(i)):t(s.responseText),f.onXhrComplete&&f.onXhrComplete(s,e))},s.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?a.get=function(e,t){var n,a,o="utf-8",i=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),o)),l="";try{for(n=new java.lang.StringBuffer,a=r.readLine(),a&&a.length()&&65279===a.charAt(0)&&(a=a.substring(1)),null!==a&&n.append(a);null!==(a=r.readLine());)n.append(s),n.append(a);l=String(n.toString())}finally{r.close()}t(l)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,s=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in i,a.get=function(e,t){var n,a,o,l={};r&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),n.init(o,1,0,!1),a=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),a.init(n,"utf-8",n.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(n.available(),l),a.close(),n.close(),t(l.value)}catch(d){throw new Error((o&&o.path||"")+": "+d)}}),a}),define("text!pcs/charts/visualization/templates/pcs-visualization.html",[],function(){return'<div id="bpm-vis-mainContainer">\n	<div  class="oj-row bpm-vis-center-align">\n		<div id="bpm-vis-loading-indicator" class="bpm-vis-center-align bpm-vis-loading"/>\n	</div>\n	<div class="oj-row">\n		<div class="oj-xl-12 oj-lg-12 oj-md-12 oj-col">\n			<div id="visualizationContainer" data-bind="ojModule: { name: \'pcs/charts/visualization/viewModel/visualizationContainer\', viewName: \'pcs/charts/visualization/view/visualizationContainer\',\n				params: {parent: $data}}"></div>\n		</div>\n	</div>\n</div>\n'}),define("pcs/util/loggerUtil",["jquery"],function(e){"use strict";function t(){var e=this;return e.enableLog=!1,{log:function(t){e.enableLog&&console.log(t)},error:function(t){e.enableLog&&console.error(t)},debug:function(t){e.enableLog&&console.debug(t)},warn:function(t){e.enableLog&&console.warn(t)},enableLog:function(){e.enableLog=!0},disableLog:function(){e.enableLog=!1}}}var n=new t;return n}),define("pcs/util/pcsUtil",["module","knockout","ojs/ojcore","jquery","pcs/util/loggerUtil"],function(e,t,n,a,o){"use strict";function i(){var e,t={};if(-1===window.location.href.indexOf("?"))return t;for(var n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<n.length;a++){e=n[a].split("=");var o=decodeURIComponent(e[0]),i=decodeURIComponent(e[1]),s=JSON.parse(i);t[o]=s}return t}var s={};a.CustomEvent=function(e){var t,n=e&&s[e];return n||(t=a.Callbacks(),n={publish:t.fire,subscribe:t.add,unsubscribe:t.remove},e&&(s[e]=n)),n},function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return"function"==typeof window.CustomEvent?!1:(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}();var r={addHandler:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeHandler:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}};String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,value:function(e,t){return t=t||0,this.substr(t,e.length)===e}}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{enumerable:!1,value:function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var a=n.indexOf(e,t);return-1!==a&&a===t}});var l=function(e){"function"==typeof window.doADFProxyCall?window.doADFProxyCall(e):e&&window.location.assign(e)},d=function(e){function t(e){for(var t=e.split("\r\n"),n="text/plain",a="pcsFormUrl",o={contentType:n,fieldName:a},i=1;i<t.length;i++){var s=t[i],r=s.match(/^.*filename="([^"]*)"/);if(r)o.fieldName=r[1];else{var l="Content-Type:";s.indexOf(l)>-1&&(r=s.substring(s.indexOf(l)+l.length)),r&&(o.contentType=r.trim())}}return o}var n=e.getResponseHeader("Content-Type"),a=e.response,o=n.match(/boundary=(?:'([^']+)'|([^;]+))/i);if(!o)throw new Error("Bad content-type header, no multipart boundary");var i,s,r=o[1]||o[2],l="string"!=typeof a;if(r="\r\n--"+r,l){var d=new Uint8Array(a),c=32768,u=[];for(s=0;s<d.length;s+=c)u.push(String.fromCharCode.apply(null,d.subarray(s,s+c)));i=u.join("")}else i=a;i="\r\n"+i;var p=i.split(new RegExp(r)),m={};for(s=1;s<p.length-1;s++){var v="\r\n\r\n",b=p[s].substring(p[s].indexOf(v)+v.length),f=p[s].substring(0,p[s].indexOf(v)),h=t(f),y=!1;l&&!h.contentType.startsWith("text")&&(y=!0),m[h.fieldName]={data:b,contentType:h.contentType,fileName:h.fieldName}}return m},c=function(e){return a.ajax({type:"GET",url:e,dataType:"text",xhrFields:{withCredentials:!0}})};return{adfProxyCall:l,getAuthToken:c,multipartParse:d,getUrlParametersObject:i,eventHandler:r,initComponentForIFrame:function(e,t,n){if(a.isEmptyObject(a.pcsConnection)){if(a.pcsConnection={},!a.isEmptyObject(e)&&(e.testMode&&(a.pcsConnection.testMode=e.testMode),e.serverURL&&(a.pcsConnection.serverURL=e.serverURL),e.authInfo))return a.pcsConnection.authInfo=e.authInfo,void t();var i=this,s=function(){var e=i.getServerURL();o.log("Script loaded and ready, getting token"),i.getAuthToken(e+"/ic/process/workspace/auth/token").done(function(e){e&&e.startsWith("<html")?n.text("User cannot be authorized").show():(a.pcsConnection.authInfo="Bearer "+e,t())}).fail(function(e){n.text("User cannot be authorized").show()})},r=document.createElement("script");r.onload=s,r.onreadystatechange=function(){"complete"===this.readyState&&s()};var l=this.getServerURL();r.src=l+"/ic/process/workspace/faces/js/homePage.js",document.getElementsByTagName("head")[0].appendChild(r)}else t()},getCookie:function(e){var t;return(t=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?t[1]:null},storeLoggedInUser:function(e){a.pcsConnection.isAdmin=e.adminFlag,a.pcsConnection.isProcessOwner=!1,e.roles&&e.roles.items&&a.each(e.roles.items,function(e,t){return t.id.endsWith(".ProcessOwner")?(a.pcsConnection.isProcessOwner=!0,!1):void 0})},getServerURL:function(){if(a.pcsConnection&&a.pcsConnection.serverURL)return a.pcsConnection.serverURL.endsWith("/")?a.pcsConnection.serverURL.substring(0,a.pcsConnection.serverURL.length-1):a.pcsConnection.serverURL;var e=window.location.origin;return a.pcsConnection||(a.pcsConnection={}),a.pcsConnection.serverURL=e,e},getRestUri:function(){return"/bpm/api/4.0/"},getAuthInfo:function(){if(a.pcsConnection&&a.pcsConnection.authInfo){var e=a.pcsConnection.authInfo;return e.startsWith("Bearer ")||e.startsWith("Basic ")||(e="Bearer "+e),e}return""},getRestURL:function(){if(a.pcsConnection&&a.pcsConnection.restURL)return a.pcsConnection.restURL;var e=this.getServerURL()+this.getRestUri();return a.pcsConnection&&(a.pcsConnection.restURL=e),e},getDpServerURL:function(){return a.pcsConnection&&a.pcsConnection.dpServerURL?a.pcsConnection.dpServerURL.endsWith("/")?a.pcsConnection.dpServerURL.substring(0,a.pcsConnection.dpServerURL.length-1):a.pcsConnection.dpServerURL:this.getServerURL()},getDpRestURL:function(){var e=this.getDpServerURL()+"/bpm/api/4.0/";return e},beforeRequestCallback:function(e,t){t.adfProxyCall();var n=t.getAuthInfo();n&&e.setRequestHeader("Authorization",n),t.isTestMode()&&e.setRequestHeader("pcs_mode","dev");var a=requirejs.s.contexts._.config.locale;a&&e.setRequestHeader("Accept-Language",a)},isTestMode:function(){return a.pcsConnection&&a.pcsConnection.testMode?!0:!1},taskIconColor:function(e){var t=["#6e8598","#754b9a","#45ac62","#ed813d","#3f92d0","#E85E93","#81BB5F","#DFE146","#FABC39","#EB5B60","#1FB4AD","#00B6D1"];if(!e)return"grey";var n,a,o,i=0;for(n=0,o=e.length;o>n;n++)a=e.charCodeAt(n),i=(i<<5)-i+a,i|=0;var s=i%t.length;return t[Math.abs(s)]},taskInitials:function(e){if(!e)return"NA";e=e.replace(" ","");for(var t=e.charAt(0).toUpperCase(),n="",a=1;a<e.length;a++)if(e.charAt(a)===e.charAt(a).toUpperCase()){n=e.charAt(a);break}return t+n},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},unApplyBindings:function(e,n){e.find("*").each(function(){a(this).off(),a(this).unbind()}),e.off(),n?(t.cleanNode(e[0]),e.find("*").each(function(){a(this).remove()}),t.removeNode(e)):(t.cleanNode(e),e.find("*").each(function(){a(this).remove()}))},compositeVersion:function(e){var t;if(e)try{var n=e.split("!"),a=n[1].split("*");t=a[0]}catch(i){o.error("Error while getting version")}return t},applicationName:function(e){var t;if(e)try{var n=e.split("~"),a=n[1].split("*");t=a[0]}catch(i){o.error("Error while getting application Name")}return t}}}),function(){function e(e,t,n,a,o,i){return t[e]||(e=e.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),t[e]?(n.push(e),!0!==t[e]&&1!==t[e]||a.push(o+e+"/"+i),!0):!1}function t(e){var t=e.toLowerCase().split(/-|_/);e=[t[0]];var n,a=1;for(n=1;n<t.length;n++){var o=t[n],i=o.length;if(1==i)break;switch(a){case 1:if(a=2,4==i){e.push(o.charAt(0).toUpperCase()+o.slice(1));break}case 2:a=3,e.push(o.toUpperCase());break;default:e.push(o)}}return"zh"!=e[0]||1<e.length&&4==e[1].length||(t="Hans",a=1<e.length?e[1]:null,("TW"===a||"MO"===a||"HK"===a)&&(t="Hant"),e.splice(1,0,t)),e}function n(e,t){for(var a in t)t.hasOwnProperty(a)&&(null==e[a]?e[a]=t[a]:"object"==typeof t[a]&&"object"==typeof e[a]&&n(e[a],t[a]))}var a=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("ojL10n",["module"],function(o){var i=o.config?o.config():{};return{version:"2.0.1+",load:function(o,s,r,l){l=l||{},l.locale&&(i.locale=l.locale);var d,c,u,p,m,v,b,f,h,y=a.exec(o),g=y[1],j=y[5],A=[],C={},T="";for(y[5]?(g=y[1],o=g+j,d=y[4]):(j=y[4],d=i.locale,"undefined"!=typeof document?(d||(d=l.isBuild?"root":document.documentElement.lang)||(d=void 0===navigator?"root":navigator.language||navigator.userLanguage||"root"),i.locale=d):d="root"),c=t(d),p=i.noOverlay,m=i.defaultNoOverlayLocale,(y=i.merge)&&(v=y[g+j])&&(y=a.exec(v),b=y[1],f=y[4]),h=[],y=0;y<c.length;y++)u=c[y],T+=(T?"-":"")+u,h.push(T);l.isBuild?(A.push(o),v&&A.push(v),s(A,function(){r()})):("query"==i.includeLocale&&(o=s.toUrl(o+".js"),o+=(-1===o.indexOf("?")?"?":"&")+"loc="+d),l=[o],v&&l.push(v),s(l,function(t,a){var o=[],i=function(t,n,a){for(var i=p||!0===t.__noOverlay,s=m||t.__defaultNoOverlayLocale,r=!1,l=h.length-1;l>=0&&(!r||!i);l--)r=e(h[l],t,o,A,n,a);l=1===h.length&&"root"===h[0],i&&(l||!r)&&s&&e(s,t,o,A,n,a),l||e("root",t,o,A,n,a)};i(t,g,j);var l=o.length;a&&i(a,b,f),s(A,function(){var e=function(e,t,a,i,r){for(;a>t&&o[t];t++){var l=o[t],d=e[l];(!0===d||1===d)&&(d=s(i+l+"/"+r)),n(C,d)}};e(a,l,o.length,b,f),e(t,0,l,g,j),C._ojLocale_=c.join("-"),r(C)})}))}}})}(),define("pcs/resources/nls/dashboardResource",{root:!0,de:!0,es:!0,fr:!0,it:!0,ja:!0,ko:!0,pt:!0,"zh-Hans":!0,"zh-Hant":!0}),define("pcs/charts/visualization/viewModel/util/visualizationUtil",["jquery","knockout","ojL10n!pcs/resources/nls/dashboardResource"],function(e,t,n){var a=function(e){if(e.columnsInfo){var t,n={};for(t=0;t<e.columnsInfo.length;t++)n[e.columnsInfo[t].columnName.replace("TASK","PROCESS")]=t;return n}},o=function(e){"function"==typeof doADFProxyCall?doADFProxyCall(e):e&&window.location.assign(e)},i=function(t,a){e("#bpm-dsb-error-dialog").ojDialog("open");var o=n.container.generic_error_msg;a?o=a:t&&401===t.status&&(o=n.container.access_error_msg),e("#bpm-dsb-error-dialog-custom-text").text(o)},s={queries:{APPLICATION_LIST:"PROCESS_LABEL_LIST"},dataType:{TIMESTAMP:"TIMESTAMP",DATETIME:"DATETIME",INT:"INT"},misc:{ANY:"ANY",ALL:"ALL",VALUE:"value",VISIBLE:"visible"},chartType:{BAR:"bar",LINE:"line",AREA:"area",PIE:"pie",LINEWITHAREA:"lineWithArea",FUNNEL:"funnel",COMBO:"combo"},columnTypes:{ATTRIBUTE:"ATTRIBUTE",DIMENSION:"DIMENSION",MEASURE:"MEASURE"},dataSource:{PROCESS:"PROCESS",ACTIVITY:"ACTIVITY",TASK:"TASK",ASSIGNMENT:"ASSIGNMENT"},functionList:{SUM:"SUM",COUNT:"COUNT",AVG:"AVG",MIN:"MIN",MEDIAN:"MEDIAN",MAX:"MAX",STDDEV:"STDDEV",COUNTDISTINCT:"COUNTDISTINCT",VARIANCE:"VARIANCE"},timeGroups:["YEAR","QUARTER","MONTH","WEEK","DAYOFYEAR","DAYOFMONTH","DAYOFWEEK","HOUR","MINUTE","SECOND"],lastNDays:{7:"1WEEK",30:"1MONTH",60:"2MONTHS",90:"3MONTHS",180:"6MONTHS",270:"9MONTHS",365:"1YEAR"}};return{columnAlias:a,constants:s,drilldown:o,errorHandler:i,refreshAll:function(e,n){e.valueWillMutate(),e.removeAll(),t.utils.arrayPushAll(e,n),e.valueHasMutated()},addAll:function(e,n){e.valueWillMutate(),t.utils.arrayPushAll(e,n),e.valueHasMutated()},startsWith:function(e,t,n){return n=n||0,e.substr(n,t.length)===t}}}),define("pcs/charts/visualization/viewModel/services/DataServices",["jquery","pcs/charts/visualization/viewModel/util/visualizationUtil"],function(e,t){function n(n){var a=oj.Translations.getTranslatedString("vis.error_msg.data_fetch_error");if(400===n.status||500===n.status){var o=e.parseJSON(n.responseText),i=o&&o.detail?o.detail:a;t.errorHandler("",i)}else 403!==n.status&&404!==n.status&&204!==n.status&&t.errorHandler("",a)}var a={applicationNameList:"ootbqueries/APPLICATION_NAME_LIST",datasources:"businessquery-metadata/datasources",columnsListByApp:"businessquery-metadata/datasources/{dataSource}/columns?applicationName={appName}",processList:"ootbqueries/PROCESS_LABEL_LIST",aggregateOperations:"businessquery-metadata/aggregateoperations",comparisonOperators:"businessquery-metadata/comparisonoperators",businessQuery:"businessquery",businessQueries:"businessquery-metadata/businessqueries",businessQueryById:"businessquery-metadata/businessqueries/{businessQueryId}"},o="",i="",s=function(e){return t.drilldown(),c(e,"GET")},r=function(e,n){return t.drilldown(),c(e,"POST",n)},l=function(e,n){return t.drilldown(),c(e,"PUT",n)},d=function(e,n){return t.drilldown(),c(e,"DELETE",n)},c=function(t,a,i){var s=e.ajax({type:a,url:t,data:i,beforeSend:function(e){o&&e.setRequestHeader("Authorization",o)},xhrFields:{withCredentials:!0},contentType:"application/json",dataType:"json",error:function(e){n(e)}});return s},u=function(e,t){return e.replace(/{\w+}/g,function(e){return t[e]})},p={setAuthInfo:function(e){o=e},setBaseRestURL:function(e){i=e},getAppNameList:function(){var e=i+a.applicationNameList;return s(e)},getDataSourceList:function(){var e=i+a.datasources;return s(e)},getColumnListByApp:function(e){var t=i+a.columnsListByApp;return t=u(t,e),s(t)},getProcessList:function(){var e=i+a.processList;return s(e)},getAggregateOperations:function(){var e=i+a.aggregateOperations;return s(e)},getComparisonOperators:function(){var e=i+a.comparisonOperators;return s(e)},getChartData:function(e){var t=i+a.businessQuery;return r(t,e)},getSavedQueries:function(){var e=i+a.businessQueries;return s(e)},saveQuery:function(e){var t=i+a.businessQueries;return r(t,e)},updateQuery:function(e,t){var n=i+a.businessQueryById;return n=u(n,t),l(n,e)},deleteQuery:function(e){var t=i+a.businessQueryById;return t=u(t,e),d(t)},getQuery:function(e){var t=i+a.businessQueryById;return t=u(t,e),s(t)}};return p}),define("pcs/charts/visualization/viewModel/custom/customDashboard",["ojs/ojcore","knockout","pcs/charts/visualization/viewModel/util/visualizationUtil","pcs/charts/visualization/viewModel/services/DataServices","ojs/ojradioset","ojs/ojdialog","ojs/ojselectcombobox","ojs/ojbutton","ojs/ojchart","ojs/ojtoolbar","ojs/ojdatetimepicker","ojs/ojtable","ojL10n!pcs/resources/nls/dashboardResource","ojs/ojknockout","promise","ojs/ojlistview","ojs/ojdatacollection-common"],function(e,t,n,a){function o(o){function i(){A(),s()}function s(){a.getDataSourceList().done(function(e){n.refreshAll(S.dataSourceList,r(e)),S.selectedDataSource([S.dataSourceList()[0].name]),d(),m()})}function r(e){return e.map(function(e){return{name:e,displayName:S.bundle.vis.datasource[e]}})}function l(e,t){var a=function(t){return t.name===e.value[0]};if(e.option==n.constants.misc.VALUE){var o=S.dimensionList().filter(a);o=0===o.length?S.dimensionBIList().filter(a):o,o.length>0&&o[0].dataType===n.constants.dataType.DATETIME?$("#bpm-vis-"+t+"-timegroups").show():($("#bpm-vis-"+t+"-timegroups").hide(),"srs"===t?S.selectedSrsTimeGroup([]):"grp"===t&&S.selectedGrpTimeGroup([]))}}function d(){a.getAggregateOperations().done(function(e){S.allFunctionArr=e,n.refreshAll(S.functionList,c(e)),S.selectedFunction([S.functionList()[0].name])})}function c(e){var t=e.map(function(e){return{name:e,displayName:S.bundle.vis.functions[e]}});return t}function u(e,t){if(e.name===t){var a;e.supportedAggregations&&e.supportedAggregations.length>0?(a=c(e.supportedAggregations),S.selectedFunction([a[0].name])):a=c(S.allFunctionArr),n.refreshAll(S.functionList,a)}}function p(e){return e&&(e=e.map(function(e){return{name:e.values[0],displayName:e.values[1]}})),e}function m(){a.getAppNameList().done(function(e){n.refreshAll(S.appNameList,p(e.rows)),S.selectedAppName([n.constants.misc.ANY])})}function v(e,t){var o;o=t==n.constants.misc.ANY?{"{dataSource}":e,"{appName}":""}:{"{dataSource}":e,"{appName}":t},a.getColumnListByApp(o).done(function(e){b(e),$("#bpm-vis-cust-query-overlay",S.rootElement).removeClass("bpm-vis-load-overlay")})}function b(e){var a=[],o=[],i=[],s=[],r=[],l=[],d=[];e.map(function(e){switch(e.type){case n.constants.columnTypes.ATTRIBUTE:E(a,e);break;case n.constants.columnTypes.DIMENSION:n.startsWith(e.name,"B_")||n.startsWith(e.name,"R_")?E(i,e):E(o,e);break;case n.constants.columnTypes.MEASURE:n.startsWith(e.name,"B_")||n.startsWith(e.name,"R_")?E(r,e):E(s,e);break;default:k.log("missing type info"+t.toJSON(e))}n.startsWith(e.name,"B_")||n.startsWith(e.name,"R_")?E(d,e):E(l,e)}),n.refreshAll(S.columnDataList,l),n.refreshAll(S.columnDataBIList,d),n.refreshAll(S.measureList,s),n.refreshAll(S.measureBIList,r),n.refreshAll(S.dimensionList,o),n.refreshAll(S.dimensionBIList,i),n.refreshAll(S.attributeList,a),f()}function f(){if("reload"===S.formState&&S.selectedQueryJSON){var e=S.selectedQueryJSON.legend;S.selectedSeries([e]);var t=S.selectedQueryJSON.groups[0];if(S.selectedGroup([t]),S.selectedFunction([S.selectedQueryJSON.dataSeries[0].aggregateOperation]),S.selectedMeasure([S.selectedQueryJSON.dataSeries[0].measureColumn]),S.selectedQueryJSON.lastNDays&&S.selectedLastDays([S.selectedQueryJSON.lastNDays.toString()]),S.selectedQueryJSON.timeGroupings&&(S.selectedQueryJSON.timeGroupings[e]&&S.selectedSrsTimeGroup([S.selectedQueryJSON.timeGroupings[e].timeGroupingUnits[0]]),S.selectedQueryJSON.timeGroupings[t]&&S.selectedGrpTimeGroup([S.selectedQueryJSON.timeGroupings[t].timeGroupingUnits[0]])),S.selectedQueryJSON.filter){S.selectedFilterType(S.selectedQueryJSON.filter.filterType);var a=[];S.selectedQueryJSON.filter.filterEntries.map(function(e){var t=new L;t.columnDataValue([e.columnName]),t.operatorValue([e.operator]),t.dataType(e.columnDataType),a.push(t)}),n.refreshAll(S.filterCriteriaList,a),S.selectedQueryJSON.filter.filterEntries.map(function(e){S.filterCriteriaList().map(function(t){if(e.columnName===t.columnDataValue()[0])if(t.dataType()===n.constants.dataType.DATETIME&&e.value&&""!==e.value){var a=new Date(parseInt(e.value)),o=S.oj.IntlConverterUtils.dateToLocalIso(a);t.selectedValue(o)}else t.selectedValue(e.value)})})}S.selectedQueryJSON.properties?S.selectedQueryJSON.properties.map(function(e){e.name&&"chartType"===e.name&&S.selectedChartType(e.value?e.value:n.constants.chartType.BAR)}):S.selectedChartType(n.constants.chartType.BAR)}else"new"===S.formState&&(S.selectedFilterType(n.constants.misc.ALL),S.selectedLastDays(["30"]),S.selectedSeries([S.dimensionList()[0].name]),S.selectedGroup([S.dimensionList()[1].name]),S.selectedFunction()[0]!==n.constants.functionList.COUNT&&S.selectedMeasure([S.measureList()[0].name]))}function h(e,t){var o=t?t:y(e);S.groupKey=o.groups[0],S.seriesKey=o.legend;var i="*"===o.dataSeries[0].measureColumn?"X":o.dataSeries[0].measureColumn;S.measureKey=o.dataSeries[0].aggregateOperation+i,a.getChartData(JSON.stringify(o)).done(function(e){S.populateChartData(e)}).fail(function(){$("#bpm-vis-cust-chart-overlay",S.rootElement).removeClass("bpm-vis-load-overlay"),n.errorHandler("",S.bundle.vis.error_msg.data_fetch_error)})}function y(e){var t={filterType:S.selectedFilterType(),filterEntries:[]};S.filterCriteriaList().map(function(a){var o=a.selectedValue()instanceof Array?a.selectedValue()[0]:a.selectedValue(),i=a.dataType();i===n.constants.dataType.DATETIME&&o&&""!==o?o=e.IntlConverterUtils.isoToLocalDate(o).getTime():i===n.constants.dataType.INT&&""!==o&&(o=parseInt(o)),t.filterEntries.push({columnName:a.columnDataValue()[0],operator:a.operatorValue()[0],value:o,columnDataType:i})});var a={id:S.selectedQueryJSON?S.selectedQueryJSON.id:"",title:S.queryName(),description:S.description(),dataSource:S.selectedDataSource()[0],applicationName:S.selectedAppName()[0]===n.constants.misc.ANY?null:S.selectedAppName()[0],queryType:"GROUP",dataSeries:[{measureColumn:S.selectedMeasure()[0],aggregateOperation:S.selectedFunction()[0]}],groups:[S.selectedGroup()[0]===n.constants.misc.ANY?"*":S.selectedGroup()[0]],legend:S.selectedSeries()[0]===n.constants.misc.ANY?"*":S.selectedSeries()[0],filter:t,topN:null,sortEntries:null,lastNDays:S.selectedLastDays()[0],properties:[{name:"chartType",value:S.selectedChartType()}]};return a.timeGroupings={},S.selectedSrsTimeGroup().length>0&&(a.timeGroupings[S.selectedSeries()[0]]={timeGroupingUnits:[S.selectedSrsTimeGroup()[0]]}),S.selectedGrpTimeGroup().length>0&&(a.timeGroupings[S.selectedGroup()[0]]={timeGroupingUnits:[S.selectedGrpTimeGroup()[0]]}),a}function g(e){var t=[];S.csvGridData=S.groupKey+", "+S.seriesKey+", "+S.measureKey,e.rows.map(function(e){var n=e.values[S.groupIndex],a=e.values[S.seriesIndex],o=e.values[S.measureIndex],i={};i[S.groupKey]=n,i[S.seriesKey]=a,i[S.measureKey]=o,t.push(i),S.csvGridData+="\n"+n+", "+a+", "+o});var a="",o="",i="Count";S.columnDataList().map(function(e){switch(e.name){case S.groupKey:a=e.displayName;break;case S.seriesKey:o=e.displayName}}),S.columnDataBIList().map(function(e){switch(e.name){case S.groupKey:a=e.displayName;break;case S.seriesKey:o=e.displayName}}),S.measureList().map(function(e){var t=S.selectedFunction()[0]+e.name;t===S.measureKey&&(i=e.displayName)}),S.measureBIList().map(function(e){var t=S.selectedFunction()[0]+e.name;t===S.measureKey&&(i=e.displayName)}),S.xLabel(a),S.yLabel(i);var s=[{headerText:a,field:S.groupKey},{headerText:o,field:S.seriesKey},{headerText:i,field:S.measureKey}];n.refreshAll(S.headerTextArr,s),S.gridDataSource.reset(t)}function j(){var e=[];for(var t in n.constants.lastNDays){var a={};a.id=t,a.label=S.bundle.vis.lastNDays[n.constants.lastNDays[t]],e.push(a)}return e}function A(e){a.getSavedQueries().done(function(t){if(n.refreshAll(S.savedQueries,T(t)),e)S.selectedQuery([e]);else{var a=S.savedQueries().length>0?[S.savedQueries()[0].id]:[];S.selectedQuery(a)}$("#bpm-vis-query-listview").ojListView("refresh"),C()})}function C(){return S.savedQueries().length<=0?($("#bpm-vis-popup1").ojPopup("isOpen")&&$("#bpm-vis-popup1").ojPopup("close","#bpm-vis-querybtn"),$("#bpm-vis-business-analytics").hide(),$("#bpm-vis-main-splash").show(),!0):($("#bpm-vis-main-splash").hide(),$("#bpm-vis-business-analytics").show(),!1)}function T(e){return e.map(function(e){var t=e.href.lastIndexOf("/");return{id:e.href.slice(++t),label:e.title}})}function N(){S.selectedSrsTimeGroup([]),S.selectedGrpTimeGroup([]),S.queryName(S.selectedQueryJSON.title),S.description(S.selectedQueryJSON.description);var e=S.selectedQueryJSON.applicationName?S.selectedQueryJSON.applicationName:n.constants.misc.ANY;S.selectedAppName([e]),S.selectedDataSource([S.selectedQueryJSON.dataSource])}function x(e,t){$("#bpm-vis-cust-splash").hide(),$("#bpm-vis-chart-tools").show(),$("#bpm-vis-chart-row1").show(),$("#bpm-vis-chart-row2").show(),$("#bpm-vis-cust-chart-overlay",S.rootElement).addClass("bpm-vis-load-overlay"),h(e,t),$("#bpm-vis-cust-chart-container").show()}function w(){S.selectedQueryJSON=null,S.queryName(""),S.description(""),S.selectedDataSource.removeAll(),S.selectedAppName([n.constants.misc.ANY]),s(),S.formState="new",$("#bpm-vis-cust-saved-queries").ojSelect("refresh"),$("#bpm-vis-cust-splash").show(),$("#bpm-vis-cust-chart-container").hide(),$("#bpm-vis-chart-tools").hide(),$("#bpm-vis-chart-row1").hide(),$("#bpm-vis-chart-row2").hide()}function L(){var e=this;e.columnDataValue=t.observableArray([S.columnDataList()[0].name]),e.operatorValue=t.observableArray(["EQ"]),e.selectedValue=t.observableArray([""]),e.dataType=t.observable(S.columnDataList()[0].dataType),e.columnDataValueChangeHandler=function(t,n){if(e.selectedValue(""),"value"==n.option){for(var a=n.value[0],o=0;o<S.columnDataList().length;o++){var i=S.columnDataList()[o].name;if(i===a){var s=S.columnDataList()[o].dataType;e.dataType(s),e.operatorValue(["EQ"]);break}}for(var r=0;r<S.columnDataBIList().length;r++){var l=S.columnDataBIList()[r].name;if(l===a){var d=S.columnDataBIList()[r].dataType;e.dataType(d),e.operatorValue(["EQ"]);break}}}}}var S=this;S.oj=e;var k=require("pcs/util/loggerUtil");S.bundle=require("ojL10n!pcs/resources/nls/dashboardResource"),S.parent=o.parent,a.setAuthInfo(S.parent.authInfo),a.setBaseRestURL(S.parent.baseRestUrl),S.rootElement=this.parent.rootElement,S.processList=t.observableArray([]),S.columnDataList=t.observableArray([""]),S.columnDataBIList=t.observableArray([""]),S.measureList=t.observableArray([{name:"",displayName:""}]),S.measureBIList=t.observableArray([{name:"",displayName:""}]),S.dimensionList=t.observableArray([{name:"",displayName:""}]),S.dimensionBIList=t.observableArray([{name:"",displayName:""}]),S.attributeList=t.observableArray([]),S.filterCriteriaList=t.observableArray([]),S.functionList=t.observableArray([{name:"",displayName:""}]),S.allFunctionArr=[],S.chartTypeList=[{name:n.constants.chartType.BAR,displayName:S.bundle.vis.button.bar,icon:"oj-fwk-icon btn-bar-chart"},{name:n.constants.chartType.LINE,displayName:S.bundle.vis.button.line,icon:"oj-fwk-icon btn-line-chart"},{name:n.constants.chartType.AREA,displayName:S.bundle.vis.button.area,icon:"oj-fwk-icon btn-area-chart"},{name:n.constants.chartType.LINEWITHAREA,displayName:S.bundle.vis.button.line_with_area,icon:"oj-fwk-icon btn-linewitharea-chart"},{name:n.constants.chartType.COMBO,displayName:S.bundle.vis.button.combo,icon:"oj-fwk-icon btn-combo-chart"}],S.timeGroups=n.constants.timeGroups.map(function(e){return{id:e,label:S.bundle.vis.timeGroups[e]}}),S.selectedSrsTimeGroup=t.observableArray([]),S.selectedGrpTimeGroup=t.observableArray([]),S.selectedVisualizationName=t.observable(""),S.selectedDataSource=t.observableArray([""]),S.selectedProcess=t.observableArray([n.constants.misc.ANY]),S.selectedSeries=t.observableArray([""]),S.selectedGroup=t.observableArray([""]),S.selectedMeasure=t.observableArray([""]),S.selectedFunction=t.observableArray([""]),S.selectedFilterType=t.observable(n.constants.misc.ALL),S.selectedAppName=t.observableArray([n.constants.misc.ANY]),S.measureDisabled=t.observable(!1),S.queryName=t.observable(""),S.description=t.observable(""),S.savedQueries=t.observableArray([]),S.queriesDS=new e.ArrayTableDataSource(S.savedQueries,{idAttribute:"id"}),S.selectedQuery=t.observableArray([]),S.selectedQueryJSON=null,S.dataSourceList=t.observableArray([{name:"",displayName:""}]),S.appNameList=t.observableArray([""]),S.formState="new",S.lastNDaysFilter=j(),S.selectedLastDays=t.observableArray(["30"]),i();var E=function(e,t){e.push({name:t.name,displayName:t.displayName,dataType:t.dataType,supportedAggregations:t.supportedAggregations})};S.populateChartData=function(e){S.groupsArray=[],S.seriesArray=[];var t={formatType:"date",pattern:"M/d/y h:mm"},a=S.oj.Validation.converterFactory("datetime").createConverter(t);e.columnsInfo.map(function(e,t){e.columnName.indexOf(S.groupKey)>=0?(S.groupIndex=t,S.groupType=e.type):e.columnName.indexOf(S.seriesKey)>=0?(S.seriesIndex=t,S.seriesType=e.type):e.columnName===S.measureKey&&(S.measureIndex=t,S.measureType=e.type)}),e.rows.map(function(e){var t=null===e.values[S.groupIndex]?"":e.values[S.groupIndex],o=null===e.values[S.seriesIndex]?"":e.values[S.seriesIndex];t=S.groupType===n.constants.dataType.TIMESTAMP&&""!==t?a.format(S.oj.IntlConverterUtils.dateToLocalIso(new Date(t))):t,o=S.seriesType===n.constants.dataType.TIMESTAMP&&""!==o?a.format(S.oj.IntlConverterUtils.dateToLocalIso(new Date(o))):o,S.groupsArray[t]||(S.groupsArray[t]=0),S.seriesArray[o]||(S.seriesArray[o]=[]),e.values[S.groupIndex]=t,e.values[S.seriesIndex]=o}),Object.keys(S.seriesArray).forEach(function(e){var t=$.extend({},S.groupsArray);
this[e]=t},S.seriesArray),g(e),e.rows.map(function(e){var t=null===e.values[S.groupIndex]?"":e.values[S.groupIndex],n=null===e.values[S.seriesIndex]?"":e.values[S.seriesIndex],a=e.values[S.measureIndex];S.seriesArray[n][t]=a}),D=[],O=[],Object.keys(S.seriesArray).forEach(function(e){var t={};t.name=S.selectedSrsTimeGroup().length>0?e+" "+S.bundle.vis.timeGroups[S.selectedSrsTimeGroup()[0]]:e,t.items=[];var n=this[e];Object.keys(n).forEach(function(e){t.items.push(this[e])},n),D.push(t)},S.seriesArray),Object.keys(S.groupsArray).forEach(function(e){e=S.selectedGrpTimeGroup().length>0?e+" "+S.bundle.vis.timeGroups[S.selectedGrpTimeGroup()[0]]:e,O.push(e)},S.groupsArray),S.barSeriesValue(D),S.barGroupsValue(O),$("#bpm-vis-cust-chart-overlay",S.rootElement).removeClass("bpm-vis-load-overlay")},S.saveQuery=function(e,t){if(""===S.queryName().trim()){$("#bpm-dsb-warning-dialog").ojDialog("open");var o=S.bundle.vis.error_msg.enter_query_name;return void $("#bpm-vis-warning-dialog-text").text(o)}if(S.selectedSeries()[0]===S.selectedGroup()[0])return void n.errorHandler("",S.bundle.vis.error_msg.fields_cant_be_same);var i=y(e.oj);if(S.selectedQueryJSON){var s=S.selectedQuery()[0];a.updateQuery(JSON.stringify(i),{"{businessQueryId}":s}).done(function(e){A(s)})}else a.saveQuery(JSON.stringify(i)).done(function(e){var t;if(e.href){var n=e.href.lastIndexOf("/");t=e.href.slice(++n)}A(t)})},S.deleteConfirm=function(){if(S.selectedQueryJSON){$("#bpm-dsb-confirm-dialog").ojDialog("open");var e=S.bundle.vis.error_msg.delete_confirm;$("#bpm-vis-confirm-dialog-text").text(e)}else{$("#bpm-dsb-warning-dialog").ojDialog("open");var t=S.bundle.vis.error_msg.no_query_selected;$("#bpm-vis-warning-dialog-text").text(t)}},S.deleteQuery=function(e,t){$("#bpm-vis-popup1").ojPopup("isOpen")&&$("#bpm-vis-popup1").ojPopup("close","#bpm-vis-querybtn"),$("#bpm-dsb-confirm-dialog").ojDialog("close"),a.deleteQuery({"{businessQueryId}":S.selectedQuery()[0]}).done(function(e){A(),w()}),$("#bpm-vis-delete-app").ojDialog("isOpen")&&$("#bpm-vis-delete-app").ojDialog("close")},S.newQuery=function(e,t){w(),S.queryName(S.bundle.vis.formlbl.default_query_name),$("#bpm-vis-chart-row1").show(),$("#bpm-vis-chart-row2").show(),S.selectedQuery([]),S.selectedQueryBtn([n.constants.misc.VISIBLE]),S.selectedQuery.removeAll(),$("#bpm-vis-delete-app").ojDialog("isOpen")&&$("#bpm-vis-delete-app").ojDialog("close")},S.copyQuery=function(e,t){if(S.selectedQueryJSON){S.selectedQueryJSON=null,S.selectedQuery.removeAll(),S.selectedQueryBtn([n.constants.misc.VISIBLE]);var a=S.bundle.vis.formlbl.copy_of+" "+S.queryName();S.queryName(a)}},S.queryChangeHandler=function(e,t){if(t.option==n.constants.misc.VALUE){var o=t.value[0];o&&($("#bpm-vis-cust-query-overlay",S.rootElement).addClass("bpm-vis-load-overlay"),a.getQuery({"{businessQueryId}":o}).done(function(e){S.formState="reload",S.selectedQueryJSON=e,N(),x(S.oj,S.selectedQueryJSON)}).fail(function(e){if($("#bpm-vis-cust-query-overlay",S.rootElement).removeClass("bpm-vis-load-overlay"),403===e.status){var t=$.parseJSON(e.responseText),n=t&&t.message?t.message:"";$("#bpm-vis-delete-app").ojDialog("open"),$("#bpm-vis-delete-app-text").text(n)}})),!o&&S.savedQueries().length>0&&"shouldWrite"===t.optionMetadata.writeback&&($("#bpm-vis-cust-query-overlay",S.rootElement).addClass("bpm-vis-load-overlay"),w())}},S.resetQuery=function(e,t){S.formState="reload",S.selectedQueryJSON?(N(),x(S.oj,S.selectedQueryJSON)):(S.selectedQueryJSON=null,S.selectedDataSource.removeAll(),S.selectedAppName([n.constants.misc.ANY]),s(),S.formState="new",$("#bpm-vis-cust-splash").show(),$("#bpm-vis-cust-chart-container").hide(),S.selectedQuery.removeAll())},S.dataSourceChangeHandler=function(e,t){$("#bpm-vis-cust-query-overlay",S.rootElement).addClass("bpm-vis-load-overlay"),t.option==n.constants.misc.VALUE&&("shouldWrite"===t.optionMetadata.writeback&&(S.formState="new"),v(S.selectedDataSource()[0],S.selectedAppName()[0]),S.filterCriteriaList.removeAll())},S.appNameChangeHandler=function(e,t){if(t.option==n.constants.misc.VALUE){if("shouldWrite"===t.optionMetadata.writeback){S.formState="new";var a=S.selectedAppName()[0];$("#bpm-vis-cust-query-overlay",S.rootElement).addClass("bpm-vis-load-overlay"),v(S.selectedDataSource()[0],a)}S.filterCriteriaList.removeAll()}},S.seriesChangeHandler=function(e,t){l(t,"srs")},S.groupChangeHandler=function(e,t){l(t,"grp")},S.functionChangeHandler=function(e,t){if(t.option==n.constants.misc.VALUE){var a=t.value[0];a!==n.constants.functionList.COUNT||S.measureDisabled()?a!==n.constants.functionList.COUNT&&S.measureDisabled()&&(S.measureDisabled(!1),(S.selectedMeasure().length<1||"*"===S.selectedMeasure()[0])&&S.selectedMeasure([S.measureList()[0].name])):(S.measureDisabled(!0),S.selectedMeasure(["*"]))}},S.measureChangeHandler=function(e,t){if(t.option==n.constants.misc.VALUE){var a=t.value[0];S.measureList().map(function(e){u(e,a)}),S.measureBIList().map(function(e){u(e,a)})}},S.handleLastNDaySelect=function(e,t){t.option==n.constants.misc.VALUE&&"shouldWrite"===t.optionMetadata.writeback&&S.runQuery(e,t)},S.visualize=function(e,t){S.selectedChartType(n.constants.chartType.BAR),S.runQuery(e,t)},S.runQuery=function(e,t){return S.selectedSeries()[0]===S.selectedGroup()[0]?void n.errorHandler("",S.bundle.vis.error_msg.fields_cant_be_same):(S.closePopup(),void x(e.oj))},S.handleStartClick=function(e,t){$("#bpm-vis-main-splash").hide(),$("#bpm-vis-business-analytics").show(),$("#bpm-vis-chart-row1").show(),$("#bpm-vis-chart-row2").show(),S.queryName(S.bundle.vis.formlbl.default_query_name),S.selectedQuery([]),S.selectedQueryBtn([n.constants.misc.VISIBLE])},S.addFilter=function(){var e=new L;S.filterCriteriaList.push(e)},S.removeFilter=function(e){S.filterCriteriaList.remove(e)},S.handleSnapBtnClick=function(e,t){var n=!1,a={duration:"slide",start:function(){$("#bpm-vis-chart").hide(),n=$("#bpm-vis-popup1").ojPopup("isOpen"),$("#bpm-vis-popup1").ojPopup("close","#bpm-vis-querybtn")},complete:function(){$("#bpm-vis-chart").show().toggleClass("oj-lg-11"),n&&$("#bpm-vis-popup1").ojPopup("open","#bpm-vis-querybtn")}};$("#bpm-vis-cust-drawer").toggle(a).toggleClass("closed"),$("#bpm-vis-cust-drawer").is(".closed")?$("#show-hide-navigation").toggleClass("bpm-vis-show-navlist"):$("#show-hide-navigation").toggleClass("bpm-vis-show-navlist")},S.selectedQuery.subscribe(function(e){if(e.length>0?($("#bpm-vis-copy").ojButton({disabled:!1}),$("#bpm-vis-delete").ojButton({disabled:!1})):($("#bpm-vis-copy").ojButton({disabled:!0}),$("#bpm-vis-delete").ojButton({disabled:!0})),e.length>0){var t=e;t&&a.getQuery({"{businessQueryId}":t}).done(function(e){S.formState="reload",S.selectedQueryJSON=e,N(),x(S.oj,S.selectedQueryJSON)}).fail(function(e){if($("#bpm-vis-cust-query-overlay",S.rootElement).removeClass("bpm-vis-load-overlay"),403===e.status){var t=$.parseJSON(e.responseText),n=t&&t.message?t.message:"";$("#bpm-vis-delete-app").ojDialog("open"),$("#bpm-vis-delete-app-text").text(n)}})}}),S.selectedQueryBtn=t.observableArray([]),S.selectedQueryBtn.subscribe(function(e){n.constants.misc.VISIBLE===e[0]?($("#bpm-vis-popup1").ojPopup({position:{my:"start top",at:"start bottom",of:"#bpm-vis-querybtn"}}),$("#bpm-vis-popup1").ojPopup("open","#bpm-vis-querybtn")):$("#bpm-vis-popup1").ojPopup("close","#bpm-vis-querybtn")}),S.closePopup=function(){S.selectedQueryBtn([])},$("#bpm-unifiedCharts-tabs").ojTabs({deselect:function(e,t){$("#bpm-vis-popup1").ojPopup("isOpen")&&($("#bpm-vis-popup1").ojPopup("close","#bpm-vis-querybtn"),S.selectedQueryBtn([]))}});var I=e.Validation.converterFactory("number");S.stackValue=t.observable("off"),S.orientationValue=t.observable("vertical"),S.selectedChartType=t.observable(n.constants.chartType.BAR),S.xLabel=t.observable(""),S.yLabel=t.observable("");var D=[],O=[],B=I.createConverter({minimumFractionDigits:0,maximumFractionDigits:3});S.barSeriesValue=t.observableArray(D),S.barGroupsValue=t.observableArray(O),S.yAxisConverter=t.observable(B),S.stackOptions=[{id:"unstacked",label:S.bundle.vis.chart.unstacked,value:"off",icon:"oj-icon demo-bar-unstack"},{id:"stacked",label:S.bundle.vis.chart.stacked,value:"on",icon:"oj-icon demo-bar-stack"}],S.orientationOptions=[{id:"vertical",label:S.bundle.vis.chart.vertical,value:"vertical",icon:"oj-icon demo-bar-vert"},{id:"horizontal",label:S.bundle.vis.chart.horizontal,value:"horizontal",icon:"oj-icon demo-bar-horiz"}],S.selectedGridToggle=t.observableArray([]);var R;S.selectedGridToggle.subscribe(function(e){e.length>0?($("#bpm-vis-cust-chart").hide(),$("#bpm-vis-cust-grid-data").show(),$("#bpm-vis-cust-table").ojTable("refresh"),null!==S.selectedChartType()&&(R=S.selectedChartType(),S.selectedChartType(null))):(S.selectedChartType(R),$("#bpm-vis-cust-chart").show(),$("#bpm-vis-cust-chart").ojChart("refresh"),$("#bpm-vis-cust-grid-data").hide())}),S.selectedChartType.subscribe(function(e){null!==e&&(R=e,S.selectedGridToggle([]))}),S.downloadCsv=function(e){var t,n,a;t="export.csv",a=e.csvGridData,a="data:text/csv;charset=utf-8,"+a,e=encodeURI(a),n=document.createElement("a"),n.style="visibility:hidden",n.setAttribute("href",e),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)},S.csvGridData="",S.headerTextArr=t.observableArray([]),S.graphGridDataArray=t.observableArray([]),S.gridDataSource=new e.ArrayTableDataSource(S.graphGridDataArray(),{}),S.closeErrorDialog=function(e,t){$("#bpm-dsb-warning-dialog").ojDialog("close")}}return o}),define("text!pcs/charts/visualization/view/custom/businessAnalytics.html",[],function(){return'<div class="bpm-vis-panel">\n	<div id="bpm-vis-business-analytics" class="demo-grid-sizes demo-grid-display">\n		<div class="oj-flex">\n			<div id="bpm-vis-cust-drawer" class="oj-flex-item oj-xl-3 oj-lg-3 oj-md-3 oj-sm-12  oj-panel bpm-vis-query-style">\n				<div id="bpm-vis-cust-querytoolbar" class="bpm-vis-querytoolbar">\n					<div aria-label="Query Toolbar">\n						<span id="bpm-vis-left-headericon">\n		                </span>\n						<span id="reportsHeader" data-bind="text:bundle.vis.formlbl.reports"></span>\n						<button id="bpm-vis-delete" class="bpm-vis-floatright"\n								data-bind="click:deleteConfirm, ojComponent: {\n				                    component:\'ojButton\', label: bundle.vis.button.delete, display: \'icons\',  disabled: \'true\', chroming: \'half\',\n				                    icons: {start:\'oj-fwk-icon bpm-vis-trash-icon\'}\n				                }">\n						</button>\n						<button id="bpm-vis-copy" class="bpm-vis-floatright"\n								data-bind="click: copyQuery, ojComponent: {\n				                    component:\'ojButton\', label: bundle.vis.button.copy, display: \'icons\', disabled: \'true\', chroming: \'half\',\n				                    icons: {start:\'oj-fwk-icon bpm-vis-copy-icon\'}\n				                }">\n						</button>\n						<button id="bpm-vis-new" class="bpm-vis-floatright"\n								data-bind="click: newQuery, ojComponent: {\n				                    component:\'ojButton\', label: bundle.vis.button.new, display: \'icons\', chroming: \'half\',\n				                    icons: {start:\'oj-fwk-icon bpm-vis-new-icon\'}\n				                }">\n						</button>\n					</div>\n				</div>\n				<ul id="bpm-vis-query-listview"\n					data-bind="ojComponent: {\n				       		component: \'ojListView\',\n				       		data: queriesDS,\n				       		selection: selectedQuery,\n				       		selectionMode: \'single\',\n				       		item: {\n				       				template: \'bpm-vis-listTemplate\'\n					            }\n				       		},\n				       		translations : { msgNoData  : bundle.vis.chart.no_saved_queries},\n				       		">\n				</ul>\n				<script type="text/html" id="bpm-vis-listTemplate">\n					<li class="bpm-vis-queryItem">\n						<div>\n							<div class="">\n				                <span class=\'bpm-vis-listitem clipped\' data-bind="text:label, attr:{title:label}">\n				                </span>\n							</div>\n						</div>\n					</li>\n				</script>\n			</div>\n			<div class="oj-flex-item oj-lg-1 oj-md-1 oj-sm-12  bpm-vis-snap-out">\n				<div class="bpm-vis-snap-middle">\n					<div id="show-hide-navigation" class="bpm-vis-hide-navlist"\n						 data-bind="click: handleSnapBtnClick"></div>\n				</div>\n			</div>\n			<div id="bpm-vis-chart" class="oj-flex-item oj-lg-8 oj-md-8 oj-sm-12 ">\n				<div class="bpm-vis-hidden box-shadow" id="bpm-vis-chart-row1">\n					<div id="bpm-vis-title-area">\n						<input id="bpm-vis-chartname-input"  type="text" aria-label="Query Name"\n							   data-bind="ojComponent: {component: \'ojInputText\', value: queryName, rootAttributes:{style: \'margin-bottom:2px;\'}}"/>\n						<input id="bpm-vis-chartname-desc"  type="text" aria-label="Query Description"\n							   data-bind="ojComponent: {component: \'ojInputText\', value: description, placeholder:bundle.vis.formlbl.description}"/>\n					</div>\n					<span id="bpm-vis-btnset">\n					    <a id="bpm-vis-cust-download-btn" href="#" class="bpm-vis-floatright"\n						   data-bind="click: downloadCsv, attr: {title: bundle.vis.button.download_csv},\n			                                   ojComponent: {component:\'ojButton\',\n			                                   label: bundle.vis.button.download_csv,\n			                                   display: \'icons\', chroming: \'half\',\n			                                   icons: {start: \'bpm-vis-download-icon oj-fwk-icon\'}\n			                        }">\n						</a>\n						<button id="bpm-vis-save" class="bpm-vis-floatright"\n								data-bind="click: saveQuery, ojComponent: {\n					                    component:\'ojButton\', chroming: \'half\', label: bundle.vis.button.save, display: \'icons\',\n					                    icons: {start:\'oj-fwk-icon bpm-vis-save-icon\'}\n					                }">\n						</button>\n						<button id="bpm-vis-refresh" class="bpm-vis-floatright"\n								data-bind="click: resetQuery, ojComponent: {\n					                    component:\'ojButton\', chroming: \'half\', label: bundle.vis.button.reset, display: \'icons\',\n					                    icons: {start:\'oj-fwk-icon bpm-vis-refresh-icon\'}\n					                }">\n						</button>\n\n					</span>\n\n				</div>\n				<div class="bpm-vis-hidden bpm-vis-chart-row2" id="bpm-vis-chart-row2">\n					<!--<button id="bpm-vis-querybtn" data-bind="ojComponent: {component: \'ojButton\',-->\n					<!--label: bundle.vis.button.query,-->\n					<!--icons:{end:\'oj-fwk-icon-arrow02-s oj-fwk-icon\'},-->\n					<!--chroming: \'outlined\'},-->\n					<!--click: handleQueryBtn">-->\n					<!--</button>-->\n					<span id="bpm-vis-querybtn" data-bind="ojComponent: {component: \'ojButtonset\', checked: selectedQueryBtn}">\n								<label for="bpm-vis-cust-querybtn"></label>\n								<input type="checkbox" id="bpm-vis-cust-querybtn" value="visible"\n									   data-bind="attr:{title:bundle.vis.button.query},\n										ojComponent: { component: \'ojButton\',\n										label: bundle.vis.button.query,\n										chroming: \'outlined\',\n										icons:{end:\'oj-fwk-icon-arrow02-s oj-fwk-icon\'},\n										rootAttributes: {style:\'font-weight: bold;\'}}"/>\n					</span>\n					<span id="bpm-vis-chart-tools">\n						<span id=\'bpm-vis-cust-chart-selection\'>\n							<!-- Grid Toggle button -->\n		                    <span id="bpm-vis-cust-chart-icons"\n								  data-bind="ojComponent: {component: \'ojButtonset\', checked: selectedChartType, chroming: \'outlined\'}"\n								  aria-label="Select chart type.">\n								<!-- ko foreach: chartTypeList -->\n										<label data-bind="attr: {for: name}"></label>\n										<input type="radio" name="chart-types"\n											   data-bind="value: name, attr: {id: name},\n										ojComponent: { component: \'ojButton\', label: displayName, icons: {start: icon}, display: \'icons\'}"/>\n								<!-- /ko -->\n		                    </span>\n		                    <span id="bpm-vis-cust-grid-toggle"\n								  data-bind="ojComponent: {component: \'ojButtonset\', checked: selectedGridToggle}">\n								<label for="bpm-vis-cust-data-grid"></label>\n								<input type="checkbox" id="bpm-vis-cust-data-grid" value="dataGrid"\n									   data-bind="attr:{title:bundle.vis.button.graph_data},\n										ojComponent: { component: \'ojButton\',\n										label: bundle.vis.button.graph_data,\n										display: \'icons\', chroming: \'outlined\',\n										icons: {start: \'bpm-vis-table-icon oj-fwk-icon\'}}"/>\n							</span>\n		                </span>\n					</span>\n					<div id="bpm-vis-lastNDays" class="bpm-vis-floatright">\n						<select id="bpm-vis-lastNDaySelect" aria-label="Data for last" data-bind="ojComponent: {component: \'ojSelect\',\n                                                    value: selectedLastDays,\n                                                    optionChange: handleLastNDaySelect,\n                                                    rootAttributes: {style:\'max-width:6em\'}}">\n							<!-- ko foreach: lastNDaysFilter -->\n							<option data-bind="value:id, text:label ,title:label"></option>\n							<!-- /ko -->\n						</select>\n					</div>\n					<div id="bpm-vis-ndaystxt" class="bpm-vis-floatright"><span id="bpm-vis-ndaysspan"\n																				data-bind="text: bundle.vis.formlbl.data_last"></span>\n					</div>\n\n					<div class="oj-lg-12 oj-md-12 oj-sm-12 bpm-vis-hidden" id="bpm-vis-popup1"\n						 data-bind="ojComponent:{component: \'ojPopup\', initialFocus: \'none\', autoDismiss : \'none\', rootAttributes: {style:\'margin-top:40px\'}}">\n						<!-- <div id="bpm-vis-pop-container" data-bind="ojModule: {viewName: \'custom/queryForm\'" ></div> -->\n						<div class="">\n							<div class="oj-form oj-md-odd-cols-4 oj-md-labels-inline">\n								<div  class=" oj-md-labels-inline ">\n									<div class="oj-flex oj-sm-justify-content-flex-end">\n										<button id="bpm-vis-close-popup" class="bpm-vis-floatright"\n												data-bind="click: closePopup, ojComponent: {\n														component:\'ojButton\', label: bundle.vis.button.close, display: \'icons\', chroming: \'half\',\n														icons: {start:\'oj-fwk-icon oj-fwk-icon-cross\'}\n													}">\n										</button>\n									</div>\n								</div>\n								<div id="bpm-vis-cust-ds-div" class="oj-flex oj-md-labels-inline">\n									<div class="oj-flex-item">\n										<label for="bpm-vis-cust-data-source-list"\n											   data-bind="text: bundle.vis.formlbl.data_source_type"></label>\n									</div>\n									<div class="oj-flex-item">\n										<select id="bpm-vis-cust-data-source-list" data-bind="ojComponent: {component: \'ojSelect\',\n																			value: selectedDataSource, optionChange: dataSourceChangeHandler,\n																			rootAttributes: {style:\'max-width:20em\'}}">\n											<!-- ko foreach: dataSourceList -->\n											<option data-bind="value:name, text:displayName, title:displayName"></option>\n											<!-- /ko -->\n										</select>\n									</div>\n								</div>\n								<div id="bpm-vis-cust-app-div" class="oj-flex oj-md-labels-inline">\n									<div class="oj-flex-item">\n										<label for="bpm-vis-cust-app-list"\n											   data-bind="text: bundle.vis.formlbl.select_application"></label>\n									</div>\n									<div class="oj-flex-item">\n										<select id="bpm-vis-cust-app-list" data-bind="ojComponent: {component: \'ojSelect\',\n																value: selectedAppName, optionChange: appNameChangeHandler,\n																rootAttributes: {style:\'max-width:20em\'}}">\n											<option value="ANY"\n													data-bind="text: bundle.vis.formlbl.select_application_opt1"></option>\n											<!-- ko foreach: appNameList -->\n											<option data-bind="text:name, title:displayName"></option>\n											<!-- /ko -->\n										</select>\n									</div>\n								</div>\n								<fieldset class="oj-form oj-md-odd-cols-4 oj-md-labels-inline">\n									<legend class="bold-txt"\n											data-bind="text: bundle.vis.formlbl.x_axis"></legend>\n									<div class="oj-flex">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-series-list"\n												   data-bind="text: bundle.vis.formlbl.series"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-series-list" data-bind="ojComponent: {component: \'ojSelect\',\n																							value: selectedSeries, optionChange : seriesChangeHandler,\n																							rootAttributes: {style:\'max-width:20em\'}}">\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.business_indicators}">\n													<!-- ko foreach: dimensionBIList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.system_indicators}">\n													<!-- ko foreach: dimensionList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n											</select>\n										</div>\n									</div>\n									<div id="bpm-vis-srs-timegroups" class="oj-flex bpm-vis-timegroups">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-timegroups-series"\n												   data-bind="text: bundle.vis.formlbl.timegroups"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-timegroups-series" data-bind="ojComponent: {component: \'ojSelect\',\n																							value: selectedSrsTimeGroup, placeholder: bundle.vis.formlbl.select_none, rootAttributes: {style:\'max-width:20em\'}}">\n												<!-- ko foreach: timeGroups -->\n												<option data-bind="value:id, text:label"></option>\n												<!-- /ko -->\n											</select>\n										</div>\n									</div>\n									<div class="oj-flex">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-group-list"\n												   data-bind="text: bundle.vis.formlbl.group"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-group-list" data-bind="ojComponent: {component: \'ojSelect\',\n																							value: selectedGroup, optionChange : groupChangeHandler, rootAttributes: {style:\'max-width:20em\'}}">\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.business_indicators}">\n													<!-- ko foreach: dimensionBIList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.system_indicators}">\n													<!-- ko foreach: dimensionList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n											</select>\n										</div>\n									</div>\n									<div id="bpm-vis-grp-timegroups" class="oj-flex bpm-vis-timegroups">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-timegroups-group"\n												   data-bind="text: bundle.vis.formlbl.timegroups"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-timegroups-group" data-bind="ojComponent: {component: \'ojSelect\',\n																							value: selectedGrpTimeGroup, placeholder: bundle.vis.formlbl.select_none, rootAttributes: {style:\'max-width:20em\'}}">\n												<!-- ko foreach: timeGroups -->\n												<option data-bind="value:id, text:label"></option>\n												<!-- /ko -->\n											</select>\n										</div>\n									</div>\n								</fieldset>\n								<fieldset class="oj-form oj-md-odd-cols-4 oj-md-labels-inline">\n									<legend class="bold-txt"\n											data-bind="text: bundle.vis.formlbl.y_axis"></legend>\n									<div class="oj-flex">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-measure-list"\n												   data-bind="text: bundle.vis.formlbl.measure"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-measure-list"\n													data-bind="ojComponent: {component: \'ojSelect\', disabled:measureDisabled, value: selectedMeasure, optionChange: measureChangeHandler, rootAttributes: {style:\'max-width:20em\'}}">\n												<option value=\'*\' disabled\n														data-bind="text: bundle.vis.formlbl.select_none"></option>\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.business_indicators}">\n													<!-- ko foreach: measureBIList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n												<optgroup\n														data-bind="attr:{label: bundle.vis.formlbl.system_indicators}">\n													<!-- ko foreach: measureList -->\n													<option data-bind="value:name, text:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n											</select>\n										</div>\n									</div>\n									<div class="oj-flex">\n										<div class="oj-flex-item">\n											<label for="bpm-vis-cust-function-list"\n												   data-bind="text: bundle.vis.formlbl.function"></label>\n										</div>\n										<div class="oj-flex-item">\n											<select id="bpm-vis-cust-function-list" data-bind="ojComponent: {component: \'ojSelect\',\n																					value: selectedFunction, optionChange: functionChangeHandler,rootAttributes: {style:\'max-width:20em\'}}">\n												<!-- ko foreach: functionList -->\n												<option data-bind="value:name, text:displayName"></option>\n												<!-- /ko -->\n											</select>\n										</div>\n									</div>\n								</fieldset>\n								<br>\n							</div>\n							<div>\n								<div class="">\n									<div class="oj-label-inline">\n										<label id="bpm-vis-cust-match" class="oj-label-inline"\n											   data-bind="text: bundle.vis.formlbl.match"></label>\n										<div data-bind="ojComponent: {component: \'ojRadioset\' ,value :selectedFilterType}"\n											 aria-labelledby="bpm-vis-cust-match">\n											<span class="oj-choice-row-inline">\n												<input id="bpm-vis-cust-match-all" type="radio" name="filterType"\n													   value="ALL">\n												<label for="bpm-vis-cust-match-all"\n													   data-bind="text: bundle.vis.formlbl.all"></label>\n											</span>\n											<span class="oj-choice-row-inline">\n												<input id="bpm-vis-cust-match-any" type="radio" name="filterType"\n													   value="ANY">\n												<label for="bpm-vis-cust-match-any"\n													   data-bind="text: bundle.vis.formlbl.any"></label>\n											</span>\n										</div>\n									</div>\n									<div class="bpm-vis-floatright">\n										<button data-bind="click: addFilter, attr: {title: bundle.vis.button.add_filter},\n											   ojComponent: {component:\'ojButton\',\n											   label: bundle.vis.button.add_filter,\n											   icons: {start: \'bpm-vis-add-filter-icon oj-fwk-icon\'}}">\n										</button>\n									</div>\n								</div>\n								<div class="">\n									<hr/>\n								</div>\n								<div class=" oj-cols-nopad">\n									<!-- ko foreach: filterCriteriaList -->\n									<div class="oj-flex oj-cols-nopad bpm-vis-filters-style">\n										<div class="oj-flex-item oj-lg-4 oj-md-8 oj-sm-12 ">\n\n											<select data-bind="ojComponent: {component: \'ojSelect\',\n																		value: columnDataValue, optionChange: columnDataValueChangeHandler}">\n												<optgroup\n														data-bind="attr:{label: $parent.bundle.vis.formlbl.business_indicators}">\n													<!-- ko foreach: $parent.columnDataBIList -->\n													<option data-bind="value:name, text:displayName ,title:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n												<optgroup\n														data-bind="attr:{label: $parent.bundle.vis.formlbl.system_indicators}">\n													<!-- ko foreach: $parent.columnDataList -->\n													<option data-bind="value:name, text:displayName ,title:displayName"></option>\n													<!-- /ko -->\n												</optgroup>\n											</select>\n										</div>\n										<div class="oj-flex-item oj-lg-4 oj-md-8 oj-sm-12 ">\n											<select data-bind="ojComponent: {component: \'ojSelect\',\n																		value: operatorValue}">\n												<option value="EQ"\n														data-bind="text:$parent.bundle.vis.filter.equal"></option>\n												<option value="NE"\n														data-bind="text:$parent.bundle.vis.filter.not_equal"></option>\n												<option value="NULL"\n														data-bind="text:$parent.bundle.vis.filter.null"></option>\n												<option value="NOTNULL"\n														data-bind="text:$parent.bundle.vis.filter.not_null"></option>\n												<!-- ko ifnot: dataType() == \'VARCHAR\' || dataType() == \'BOOLEAN\'-->\n												<option value="LT"\n														data-bind="text:$parent.bundle.vis.filter.lesser"></option>\n												<option value="LE"\n														data-bind="text:$parent.bundle.vis.filter.lesser_equal, attr:{title:$parent.bundle.vis.filter.lesser_equal}"></option>\n												<option value="GT"\n														data-bind="text:$parent.bundle.vis.filter.greater"></option>\n												<option value="GE"\n														data-bind="text:$parent.bundle.vis.filter.greater_equal"></option>\n												<!-- /ko -->\n												<!-- ko if: dataType() == \'VARCHAR\' -->\n												<option value="LIKE" data-bind="text:$parent.bundle.vis.filter.like"></option>\n												<option value="NOTLIKE" data-bind="text:$parent.bundle.vis.filter.not_like" ></option>\n												<!-- /ko -->\n											</select>\n										</div>\n										<div class="oj-flex-item oj-lg-4 oj-md-8 oj-sm-12 ">\n											<!-- ko ifnot: operatorValue()== \'NULL\' || operatorValue()== \'NOTNULL\'-->\n											<!-- ko if: dataType()== \'BOOLEAN\' -->\n											<select data-bind="ojComponent: {component: \'ojSelect\',\n																		value: selectedValue}">\n												<option value="TRUE"\n														data-bind="text:$parent.bundle.vis.filterValues.true"\n														selected="selected"></option>\n												<option value="FALSE"\n														data-bind="text:$parent.bundle.vis.filterValues.false"></option>\n											</select>\n											<!-- /ko -->\n											<!-- ko if: dataType()== \'VARCHAR\'-->\n											<input data-bind="ojComponent: {component: \'ojInputText\',validators : [{type: \'regExp\', options : {pattern: \'[a-zA-Z0-9. _-]{1,}\',hint: $parent.bundle.vis.error_msg.hintAlphanumeric, messageSummary: \'Value \\\'{value}\\\' Invalid\',messageDetail: $parent.bundle.vis.error_msg.msgAlphanumeric}}], value:selectedValue, rootAttributes: {style:\'max-width:16em\'}}">\n											<!-- /ko -->\n											<!-- ko if: dataType()== \'INT\' || dataType()== \'DECIMAL\'-->\n											<input data-bind="ojComponent: {component: \'ojInputText\', validators : [{type: \'regExp\', options : {pattern: \'[0-9.]{1,}\',hint: $parent.bundle.vis.error_msg.hintNumber, messageSummary: \'Value \\\'{value}\\\' Invalid\',messageDetail: $parent.bundle.vis.error_msg.msgNumber}}], value:selectedValue, rootAttributes: {style:\'max-width:16em\'}}">\n											<!-- /ko -->\n											<!-- ko if: dataType()== \'DATETIME\' -->\n											<input data-bind="ojComponent: {component: \'ojInputDateTime\',\n																		value: selectedValue, rootAttributes: {style:\'max-width:16em\'}}">\n											<!-- /ko -->\n											<!-- /ko -->\n											<button id="bpm-vis-delete-row" class="bpm-vis-floatright"\n													data-bind="click:$parent.removeFilter, ojComponent: {\n														component:\'ojButton\', label: $parent.bundle.vis.button.delete, display: \'icons\', chroming: \'half\',\n														icons: {start:\'oj-fwk-icon oj-fwk-icon-cross02\'}\n													}">\n											</button>\n										</div>\n									</div>\n									<!-- /ko -->\n								</div>\n								<br>\n								<div class="oj-flex oj-sm-justify-content-center ">\n									<button id="bpm-vis-visualize-btn" class="oj-button-primary" data-bind="click: visualize,\n													attr: {title: bundle.vis.button.visualize},\n													ojComponent: {component:\'ojButton\', label: bundle.vis.button.visualize}">\n									</button>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n				<div class="">\n					<div id="bpm-vis-cust-main" class="oj-lg-12 oj-md-12 oj-sm-12 ">\n						<div class="">\n							<div id="bpm-vis-cust-splash" class="bpm-vis-splash-style">\n								<span class="bpm-vis-chart-msg"\n									  data-bind="text:bundle.vis.chart.blank_chart_header"></span><br><br>\n								<span class="bpm-vis-chart-msgdtl"\n									  data-bind="text:bundle.vis.chart.blank_chart_details"></span>\n							</div>\n							<div id="bpm-vis-cust-chart-container" class="  bpm-vis-center-align bpm-vis-hidden">\n								<div id="bpm-vis-cust-chart" class="bpm-vis-center-align bpm-vis-chart-style"\n									 data-bind="ojComponent: {\n		                                    component: \'ojChart\',\n		                                    type: selectedChartType,\n		                                    orientation: orientationValue,\n		                                    stack: stackValue,\n		                                    animationOnDisplay: \'auto\',\n		                                    animationOnDataChange: \'auto\',\n							                hoverBehavior: \'dim\',\n							                zoomAndScroll: \'live\',\n							                overview: {rendered: \'on\', height: \'65px\'},\n		                                    yAxis: {title: yLabel()},\n		                                    xAxis: {title: xLabel()},\n		                                    legend: {position: \'end\'},\n							                translations : { labelNoData : bundle.vis.chart.no_chart_data},\n							                title : {text :  selectedVisualizationName() , halign : \'plotAreaCenter\' },\n							                hideAndShowBehavior: \'withRescale\',\n		                                    series: barSeriesValue,\n		                                    groups: barGroupsValue,\n		                                }">\n								</div>\n								<div id="bpm-vis-cust-grid-data" class="bpm-vis-center-align bpm-vis-hidden">\n									<table id="bpm-vis-cust-table" summary="Chart Data Table"\n										   aria-label="Chart Data Table"\n										   data-bind="ojComponent: {component: \'ojTable\',\n		                                                            data: gridDataSource,\n		                                                            display: \'grid\',\n		                                                            translations: {msgNoData : bundle.vis.chart.no_chart_data},\n		                                                            columnsDefault: {sortable: \'none\'},\n		                                                            columns: headerTextArr,\n		                                                            rootAttributes: {\'style\':\'width: 600px; height: 600px;margin-top:20px;\'}}">\n									</table>\n								</div>\n								<div id="bpm-vis-cust-chart-overlay"></div>\n								<div class="bpm-vis-center-align bpm-vis-tool-style oj-flex oj-sm-justify-content-center" id="bpm-vis-cust-toolbar"\n									 aria-label="Chart Display Options Toolbar"\n									 data-bind="ojComponent: {component:\'ojToolbar\'}">\n		                            <span id="bpm-vis-cust-graph-tools" class="oj-flex-item">\n										<!-- vertical/horizontal toggle button -->\n		                                <span id="bpm-vis-cust-radio-buttonset"\n											  data-bind="ojComponent: {component: \'ojButtonset\', focusManagement:\'none\', checked: orientationValue}"\n											  class="oj-button-half-chrome" aria-label="Choose an orientation.">\n		                                    <!-- ko foreach: orientationOptions -->\n		                                    <label data-bind="attr: {for: id}"></label>\n		                                    <input type="radio" name="orientation"\n												   data-bind="value: value, attr: {id: id},\n		                                            ojComponent: {component: \'ojButton\', label: label,\n		                                            icons: {start: icon}, display: \'icons\'}"/>\n											<!-- /ko -->\n		                                </span>\n		                                <span role="separator" aria-orientation="vertical"\n											  class="oj-toolbar-separator"></span>\n										<!-- unstacked/stacked toggle button -->\n		                                <span id="bpm-vis-cust-radio-buttonset2"\n											  data-bind="ojComponent: {component: \'ojButtonset\', focusManagement:\'none\', checked: stackValue}"\n											  class="oj-button-half-chrome" aria-label="Choose a stack setting.">\n		                                    <!-- ko foreach: stackOptions -->\n		                                    <label data-bind="attr: {for: id}"></label>\n		                                    <input type="radio" name="stack"\n												   data-bind="value: value, attr: {id: id},\n		                                               ojComponent: {component: \'ojButton\', label: label,\n		                                                icons: {start: icon}, display: \'icons\'}"/>\n											<!-- /ko -->\n		                                </span>\n		                            </span>\n								</div>\n							</div>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div class="bpm-vis-hidden" id="bpm-dsb-warning-dialog"\n		 data-bind="attr : { title : bundle.vis.dialog.warning }, ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\'}">\n		<div class="oj-dialog-body">\n			<div id="bpm-vis-warning-dialog-text"></div>\n		</div>\n		<div class="oj-dialog-footer">\n			<button data-bind="click : closeErrorDialog , ojComponent: {component: \'ojButton\', label: bundle.vis.dialog.ok}"></button>\n		</div>\n	</div>\n	<div class="bpm-vis-hidden" id="bpm-dsb-confirm-dialog"\n		 data-bind="attr : { title : bundle.vis.dialog.confirm }, ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\'}">\n		<div class="oj-dialog-body">\n			<div id="bpm-vis-confirm-dialog-text"></div>\n		</div>\n		<div class="oj-dialog-footer">\n			<button id="bpm-vis-cancelButton"\n					data-bind="click : function(){$(\'#bpm-dsb-confirm-dialog\').ojDialog(\'close\');} , ojComponent: {component: \'ojButton\', label: bundle.vis.dialog.cancel}"></button>\n			<button id="bpm-vis-okButton"\n					data-bind="click : deleteQuery , ojComponent: {component: \'ojButton\', label: bundle.vis.dialog.ok}"></button>\n		</div>\n	</div>\n	<div class="bpm-vis-hidden" id="bpm-vis-delete-app"\n		 data-bind="attr : { title : bundle.vis.dialog.confirm }, ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\', cancelBehavior: \'none\'}">\n		<div class="oj-dialog-body">\n			<div id="bpm-vis-delete-app-text"></div>\n			</br>\n			<div data-bind="text: bundle.vis.dialog.delete_app_msg"></div>\n		</div>\n		<div class="oj-dialog-footer">\n			<button id="bpm-vis-deleteButton"\n					data-bind="click : deleteQuery , ojComponent: {component: \'ojButton\', label: bundle.vis.dialog.delete}"></button>\n			<button id="bpm-vis-continueButton"\n					data-bind="click : newQuery , ojComponent: {component: \'ojButton\', label: bundle.vis.dialog.continue}"></button>\n		</div>\n	</div>\n	<div id="bpm-vis-main-splash" style="display: none" class="bpm-vis-splash-style ">\n		<span class="bpm-vis-chart-msg"\n			  data-bind="text:bundle.vis.formlbl.start_msg"></span><br><br>\n		<button id="bpm-vis-startButton" class="bpm-vis-startBtn oj-button-confirm" data-bind="click : handleStartClick , ojComponent: {component: \'ojButton\', label: bundle.vis.button.start,\n					icons: {end:\'oj-fwk-icon bpm-vis-start-icon\'}}"></button>\n	</div>\n</div>\n';
}),define("pcs/charts/visualization/viewModel/visualizationContainer",["ojs/ojcore","knockout","pcs/charts/visualization/viewModel/util/visualizationUtil","ojs/ojknockout","pcs/charts/visualization/viewModel/custom/customDashboard","!text!pcs/charts/visualization/view/custom/businessAnalytics.html","ojL10n!pcs/resources/nls/dashboardResource"],function(e,t,n){function a(e){var t=this;this.parent=e.parent,this.baseURL=this.parent.baseURL,this.baseRestUrl=this.parent.baseRestURL,this.authInfo=this.parent.authInfo,this.chartEndpoint="analytics/ootbqueries/",this.processTrackingPage=this.parent.processTrackingPage,this.tasksPage=this.parent.tasksPage,this.rootElement=this.parent.rootElement,$("#bpm-vis-loading-indicator",this.rootElement).hide(),t.bundle=require("ojL10n!pcs/resources/nls/dashboardResource")}return a}),define("text!pcs/charts/visualization/view/visualizationContainer.html",[],function(){return'<div id="bpm-vis-container">\n	<div id="bpm-vis-custom" class="bpm-vis-tab-panel">\n		<div id="bpm-vis-custom-container" data-bind="ojModule: { name: \'pcs/charts/visualization/viewModel/custom/customDashboard\',\n        viewName: \'pcs/charts/visualization/view/custom/businessAnalytics\', params: {parent: $data}}">\n		</div>\n	</div>\n\n</div>\n'}),define("pcs/pcs.visualization",["ojs/ojcore","knockout","jquery","!text!pcs/charts/visualization/templates/pcs-visualization.html","pcs/util/pcsUtil","pcs/util/loggerUtil","pcs/charts/visualization/viewModel/visualizationContainer","!text!pcs/charts/visualization/view/visualizationContainer.html","ojs/ojmodule","jqueryui-amd/widget"],function(e,t,n,a,o){"use strict";n.widget("pcs.visualization",{options:{baseUri:"",baseRestUri:"/bpm/api/3.0/analytics/",username:"weblogic",password:"weblogic1",processTrackingPage:"processTracking.jspx",tasksPage:"worklist.jspx"},_authHeader:function(){return o.getAuthInfo()},_create:function(){function e(){var e=this;e.baseURL=n.options.baseUri,e.baseRestURL=e.baseURL+n.options.baseRestUri,e.processTrackingPage=e.baseURL+n.options.processTrackingPage,e.tasksPage=e.baseURL+n.options.tasksPage,e.authInfo=n._authHeader(),e.rootElement=n.element}var n=this;this.options.baseUri=o.getServerURL();var i=new e;this.element.html(a),t.applyBindings(i,this.element[0])},_setOption:function(e,t){this.options[e]=t,n.Widget.prototype._setOption.apply(this,arguments)}})});
//# sourceMappingURL=pcs.visualization.js.map