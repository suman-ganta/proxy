!function(){function e(e,t,i,n,s,o){return t[e]||(e=e.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),t[e]?(i.push(e),!0!==t[e]&&1!==t[e]||n.push(s+e+"/"+o),!0):!1}function t(e){var t=e.toLowerCase().split(/-|_/);e=[t[0]];var i,n=1;for(i=1;i<t.length;i++){var s=t[i],o=s.length;if(1==o)break;switch(n){case 1:if(n=2,4==o){e.push(s.charAt(0).toUpperCase()+s.slice(1));break}case 2:n=3,e.push(s.toUpperCase());break;default:e.push(s)}}return"zh"!=e[0]||1<e.length&&4==e[1].length||(t="Hans",n=1<e.length?e[1]:null,("TW"===n||"MO"===n||"HK"===n)&&(t="Hant"),e.splice(1,0,t)),e}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(null==e[n]?e[n]=t[n]:"object"==typeof t[n]&&"object"==typeof e[n]&&i(e[n],t[n]))}var n=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("ojL10n",["module"],function(s){var o=s.config?s.config():{};return{version:"2.0.1+",load:function(s,a,r,l){l=l||{},l.locale&&(o.locale=l.locale);var c,d,u,p,h,f,m,g,v,y=n.exec(s),b=y[1],A=y[5],k=[],E={},C="";for(y[5]?(b=y[1],s=b+A,c=y[4]):(A=y[4],c=o.locale,"undefined"!=typeof document?(c||(c=l.isBuild?"root":document.documentElement.lang)||(c=void 0===navigator?"root":navigator.language||navigator.userLanguage||"root"),o.locale=c):c="root"),d=t(c),p=o.noOverlay,h=o.defaultNoOverlayLocale,(y=o.merge)&&(f=y[b+A])&&(y=n.exec(f),m=y[1],g=y[4]),v=[],y=0;y<d.length;y++)u=d[y],C+=(C?"-":"")+u,v.push(C);l.isBuild?(k.push(s),f&&k.push(f),a(k,function(){r()})):("query"==o.includeLocale&&(s=a.toUrl(s+".js"),s+=(-1===s.indexOf("?")?"?":"&")+"loc="+c),l=[s],f&&l.push(f),a(l,function(t,n){var s=[],o=function(t,i,n){for(var o=p||!0===t.__noOverlay,a=h||t.__defaultNoOverlayLocale,r=!1,l=v.length-1;l>=0&&(!r||!o);l--)r=e(v[l],t,s,k,i,n);l=1===v.length&&"root"===v[0],o&&(l||!r)&&a&&e(a,t,s,k,i,n),l||e("root",t,s,k,i,n)};o(t,b,A);var l=s.length;n&&o(n,m,g),a(k,function(){var e=function(e,t,n,o,r){for(;n>t&&s[t];t++){var l=s[t],c=e[l];(!0===c||1===c)&&(c=a(o+l+"/"+r)),i(E,c)}};e(n,l,s.length,m,g),e(t,0,l,b,A),E._ojLocale_=d.join("-"),r(E)})}))}}})}(),define("pcs/resources/nls/pcsSnippetsResource",{root:!0,de:!0,es:!0,fr:!0,it:!0,ja:!0,ko:!0,pt:!0,"zh-Hans":!0,"zh-Hant":!0}),define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function i(e,i,n,s){if(i===s)return!0;if(e===n){if("http"===e)return t(i,"80")===t(s,"80");if("https"===e)return t(i,"443")===t(s,"443")}return!1}var n,s,o,a,r,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,d=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,p=u&&location.protocol&&location.protocol.replace(/\:/,""),h=u&&location.hostname,f=u&&(location.port||void 0),m={},g=e.config&&e.config()||{};return n={version:"2.0.15",strip:function(e){if(e){e=e.replace(c,"");var t=e.match(d);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){i=l[t];try{e=new ActiveXObject(i)}catch(n){}if(e){l=[i];break}}return e},parseName:function(e){var t,i,n,s=!1,o=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!a||o>1)?(t=e.substring(0,o),i=e.substring(o+1)):t=e,n=i||t,o=n.indexOf("!"),-1!==o&&(s="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:t=n),{moduleName:t,ext:i,strip:s}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,s,o){var a,r,l,c=n.xdRegExp.exec(e);return c?(a=c[2],r=c[3],r=r.split(":"),l=r[1],r=r[0],(!a||a===t)&&(!r||r.toLowerCase()===s.toLowerCase())&&(!l&&!r||i(a,l,t,o))):!0},finishLoad:function(e,t,i,s){i=t?n.strip(i):i,g.isBuild&&(m[e]=i),s(i)},load:function(e,t,i,s){if(s&&s.isBuild&&!s.inlineText)return void i();g.isBuild=s&&s.isBuild;var o=n.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),r=t.toUrl(a),l=g.useXhr||n.useXhr;return 0===r.indexOf("empty:")?void i():void(!u||l(r,p,h,f)?n.get(r,function(t){n.finishLoad(e,o.strip,t,i)},function(e){i.error&&i.error(e)}):t([a],function(e){n.finishLoad(o.moduleName+"."+o.ext,o.strip,e,i)}))},write:function(e,t,i,s){if(m.hasOwnProperty(t)){var o=n.jsEscape(m[t]);i.asModule(e+"!"+t,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,t,i,s,o){var a=n.parseName(t),r=a.ext?"."+a.ext:"",l=a.moduleName+r,c=i.toUrl(a.moduleName+r)+".js";n.load(l,i,function(t){var i=function(e){return s(c,e)};i.asModule=function(e,t){return s.asModule(e,c,t)},n.write(e,l,i,o)},o)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(s=require.nodeRequire("fs"),n.get=function(e,t,i){try{var n=s.readFileSync(e,"utf8");"\ufeff"===n[0]&&(n=n.substring(1)),t(n)}catch(o){i&&i(o)}}):"xhr"===g.env||!g.env&&n.createXhr()?n.get=function(e,t,i,s){var o,a=n.createXhr();if(a.open("GET",e,!0),s)for(o in s)s.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),s[o]);g.onXhr&&g.onXhr(a,e),a.onreadystatechange=function(n){var s,o;4===a.readyState&&(s=a.status||0,s>399&&600>s?(o=new Error(e+" HTTP status: "+s),o.xhr=a,i&&i(o)):t(a.responseText),g.onXhrComplete&&g.onXhrComplete(a,e))},a.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?n.get=function(e,t){var i,n,s="utf-8",o=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),s)),l="";try{for(i=new java.lang.StringBuffer,n=r.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=r.readLine());)i.append(a),i.append(n);l=String(i.toString())}finally{r.close()}t(l)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in o,n.get=function(e,t){var i,n,s,l={};r&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{i=o["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),i.init(s,1,0,!1),n=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),n.init(i,"utf-8",i.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),n.readString(i.available(),l),n.close(),i.close(),t(l.value)}catch(c){throw new Error((s&&s.path||"")+": "+c)}}),n}),define("text!pcs/tasklistActions/templates/pcs-task-actions.html",[],function(){return'<div id="pcs-taskactions-container">\n	<!-- ko foreach: taskActionList -->\n	<!-- ko if: actionType === \'Custom\' -->\n	<button class="pcs-act-custom" data-bind="visible: !$parent.hideCustomActions, attr:{id:title}, click:$parent.onCustomActionClick,\n									ojComponent: {\n									component:\'ojButton\',\n									label: label,\n									chroming: \'outlined\',\n									rootAttributes: {style: \'margin-bottom:0px\'}\n									}"></button>\n	<!-- /ko -->\n	<!-- /ko -->\n	<button data-bind="visible: !hideSystemActions && isTaskSelected ,ojComponent: {\n									component:\'ojButton\',\n									chroming: \'outlined\',\n									label: bundle.pcs.tasklist.systemActions,\n									menu: \'#systemMenu\',\n									rootAttributes: {style: \'margin-bottom:0px\'}\n								}">\n	</button>\n	<ul class="pcs-tl-hidden" id="systemMenu"\n		data-bind="ojComponent: {component: \'ojMenu\',rootAttributes: {style: \'margin-bottom:0px\'}}">\n		<!-- ko foreach: taskActionList -->\n		<!-- ko if: actionType === \'System\' -->\n		<li class="oj-menu-item">\n			<a href="#" class="pcs-tl-action-menu-item" data-bind="click : $parent.onSystemActionSelect , text:label, value:title"></a>\n		</li>\n		<!-- /ko -->\n		<!-- /ko -->\n	</ul>\n	<div class="oj-flex"\n		 data-bind=\'component: {name: "requestInfo", params: { isVisible: displayInfoRequest, showInline: false, tasks: selectedTasklist }}\'>\n	</div>\n	<div class="oj-flex"\n		 data-bind=\'component: {name: "reassign", params: { isVisible: displayReassign, showInline: false, tasks: selectedTasklist }}\'>\n	</div>\n	<div id="pcs-taskActions-confirmation-dialog"\n		 data-bind="ojComponent:{component: \'ojDialog\', title: bundle.pcs.taskActions.confirmation + displayActionName(), close: handleClose,\n		 	rootAttributes: { style: \'width: 500px; min-width: 100px; max-width 500px;\'}}">\n		<div class="oj-dialog-body" id="pcs-taskActions-confirmation-dialog-content">\n			<div data-bind="text: getSelectedItems()">\n			</div>\n			<br/>\n			<div class="oj-flex-item">\n				<label for="comments" data-bind="text:bundle.pcs.taskActions.comments"></label>\n                            <!-- <textarea id="comments" style="resize: both" data-bind="ojComponent: -->\n							<textarea style="resize: both" data-bind="ojComponent:\n                   {component: \'ojTextArea\', rootAttributes: {style:\'min-width:100%\'}, value:actionComments, required: false}">\n							</textarea>\n			</div>\n		</div>\n		<div class="oj-dialog-footer" id="pcs-taskActions-confirmation-dialog-footer">\n            <!-- button id="okButton" -->\n			<button data-bind="ojComponent: {component: \'ojButton\', label: bundle.pcs.taskActions.ok}, click: handleSubmit"></button>\n            <!-- button id="cancelButton" -->\n			<button data-bind="ojComponent: {component: \'ojButton\', label: bundle.pcs.taskActions.cancel}, click: handleClose"></button>\n		</div>\n	</div>\n</div>\n'}),define("pcs/util/loggerUtil",["jquery"],function(e){"use strict";function t(){var e=this;return e.enableLog=!1,{log:function(t){e.enableLog&&console.log(t)},error:function(t){e.enableLog&&console.error(t)},debug:function(t){e.enableLog&&console.debug(t)},warn:function(t){e.enableLog&&console.warn(t)},enableLog:function(){e.enableLog=!0},disableLog:function(){e.enableLog=!1}}}var i=new t;return i}),define("pcs/util/pcsUtil",["module","knockout","ojs/ojcore","jquery","pcs/util/loggerUtil"],function(e,t,i,n,s){"use strict";function o(){var e,t={};if(-1===window.location.href.indexOf("?"))return t;for(var i=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<i.length;n++){e=i[n].split("=");var s=decodeURIComponent(e[0]),o=decodeURIComponent(e[1]),a=JSON.parse(o);t[s]=a}return t}var a={};n.CustomEvent=function(e){var t,i=e&&a[e];return i||(t=n.Callbacks(),i={publish:t.fire,subscribe:t.add,unsubscribe:t.remove},e&&(a[e]=i)),i},function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}return"function"==typeof window.CustomEvent?!1:(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}();var r={addHandler:function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},removeHandler:function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=null}};String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,value:function(e,t){return t=t||0,this.substr(t,e.length)===e}}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{enumerable:!1,value:function(e,t){var i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;var n=i.indexOf(e,t);return-1!==n&&n===t}});var l=function(e){"function"==typeof window.doADFProxyCall?window.doADFProxyCall(e):e&&window.location.assign(e)},c=function(e){function t(e){for(var t=e.split("\r\n"),i="text/plain",n="pcsFormUrl",s={contentType:i,fieldName:n},o=1;o<t.length;o++){var a=t[o],r=a.match(/^.*filename="([^"]*)"/);if(r)s.fieldName=r[1];else{var l="Content-Type:";a.indexOf(l)>-1&&(r=a.substring(a.indexOf(l)+l.length)),r&&(s.contentType=r.trim())}}return s}var i=e.getResponseHeader("Content-Type"),n=e.response,s=i.match(/boundary=(?:'([^']+)'|([^;]+))/i);if(!s)throw new Error("Bad content-type header, no multipart boundary");var o,a,r=s[1]||s[2],l="string"!=typeof n;if(r="\r\n--"+r,l){var c=new Uint8Array(n),d=32768,u=[];for(a=0;a<c.length;a+=d)u.push(String.fromCharCode.apply(null,c.subarray(a,a+d)));o=u.join("")}else o=n;o="\r\n"+o;var p=o.split(new RegExp(r)),h={};for(a=1;a<p.length-1;a++){var f="\r\n\r\n",m=p[a].substring(p[a].indexOf(f)+f.length),g=p[a].substring(0,p[a].indexOf(f)),v=t(g),y=!1;l&&!v.contentType.startsWith("text")&&(y=!0),h[v.fieldName]={data:m,contentType:v.contentType,fileName:v.fieldName}}return h},d=function(e){return n.ajax({type:"GET",url:e,dataType:"text",xhrFields:{withCredentials:!0}})};return{adfProxyCall:l,getAuthToken:d,multipartParse:c,getUrlParametersObject:o,eventHandler:r,initComponentForIFrame:function(e,t,i){if(n.isEmptyObject(n.pcsConnection)){if(n.pcsConnection={},!n.isEmptyObject(e)&&(e.testMode&&(n.pcsConnection.testMode=e.testMode),e.serverURL&&(n.pcsConnection.serverURL=e.serverURL),e.authInfo))return n.pcsConnection.authInfo=e.authInfo,void t();var o=this,a=function(){var e=o.getServerURL();s.log("Script loaded and ready, getting token"),o.getAuthToken(e+"/ic/process/workspace/auth/token").done(function(e){e&&e.startsWith("<html")?i.text("User cannot be authorized").show():(n.pcsConnection.authInfo="Bearer "+e,t())}).fail(function(e){i.text("User cannot be authorized").show()})},r=document.createElement("script");r.onload=a,r.onreadystatechange=function(){"complete"===this.readyState&&a()};var l=this.getServerURL();r.src=l+"/ic/process/workspace/faces/js/homePage.js",document.getElementsByTagName("head")[0].appendChild(r)}else t()},getCookie:function(e){var t;return(t=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?t[1]:null},storeLoggedInUser:function(e){n.pcsConnection.isAdmin=e.adminFlag,n.pcsConnection.isProcessOwner=!1,e.roles&&e.roles.items&&n.each(e.roles.items,function(e,t){return t.id.endsWith(".ProcessOwner")?(n.pcsConnection.isProcessOwner=!0,!1):void 0})},getServerURL:function(){if(n.pcsConnection&&n.pcsConnection.serverURL)return n.pcsConnection.serverURL.endsWith("/")?n.pcsConnection.serverURL.substring(0,n.pcsConnection.serverURL.length-1):n.pcsConnection.serverURL;var e=window.location.origin;return n.pcsConnection||(n.pcsConnection={}),n.pcsConnection.serverURL=e,e},getRestUri:function(){return"/bpm/api/4.0/"},getAuthInfo:function(){if(n.pcsConnection&&n.pcsConnection.authInfo){var e=n.pcsConnection.authInfo;return e.startsWith("Bearer ")||e.startsWith("Basic ")||(e="Bearer "+e),e}return""},getRestURL:function(){if(n.pcsConnection&&n.pcsConnection.restURL)return n.pcsConnection.restURL;var e=this.getServerURL()+this.getRestUri();return n.pcsConnection&&(n.pcsConnection.restURL=e),e},getDpServerURL:function(){return n.pcsConnection&&n.pcsConnection.dpServerURL?n.pcsConnection.dpServerURL.endsWith("/")?n.pcsConnection.dpServerURL.substring(0,n.pcsConnection.dpServerURL.length-1):n.pcsConnection.dpServerURL:this.getServerURL()},getDpRestURL:function(){var e=this.getDpServerURL()+"/bpm/api/4.0/";return e},beforeRequestCallback:function(e,t){t.adfProxyCall();var i=t.getAuthInfo();i&&e.setRequestHeader("Authorization",i),t.isTestMode()&&e.setRequestHeader("pcs_mode","dev");var n=requirejs.s.contexts._.config.locale;n&&e.setRequestHeader("Accept-Language",n)},isTestMode:function(){return n.pcsConnection&&n.pcsConnection.testMode?!0:!1},taskIconColor:function(e){var t=["#6e8598","#754b9a","#45ac62","#ed813d","#3f92d0","#E85E93","#81BB5F","#DFE146","#FABC39","#EB5B60","#1FB4AD","#00B6D1"];if(!e)return"grey";var i,n,s,o=0;for(i=0,s=e.length;s>i;i++)n=e.charCodeAt(i),o=(o<<5)-o+n,o|=0;var a=o%t.length;return t[Math.abs(a)]},taskInitials:function(e){if(!e)return"NA";e=e.replace(" ","");for(var t=e.charAt(0).toUpperCase(),i="",n=1;n<e.length;n++)if(e.charAt(n)===e.charAt(n).toUpperCase()){i=e.charAt(n);break}return t+i},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},unApplyBindings:function(e,i){e.find("*").each(function(){n(this).off(),n(this).unbind()}),e.off(),i?(t.cleanNode(e[0]),e.find("*").each(function(){n(this).remove()}),t.removeNode(e)):(t.cleanNode(e),e.find("*").each(function(){n(this).remove()}))},compositeVersion:function(e){var t;if(e)try{var i=e.split("!"),n=i[1].split("*");t=n[0]}catch(o){s.error("Error while getting version")}return t},applicationName:function(e){var t;if(e)try{var i=e.split("~"),n=i[1].split("*");t=n[0]}catch(o){s.error("Error while getting application Name")}return t}}}),define("pcs/data-services/DataServices",["require","jquery","pcs/util/pcsUtil"],function(e){"use strict";var t=e("jquery"),i=e("pcs/util/pcsUtil");return function(){function e(){return{get:function(e,n,a){if(-1===e.indexOf(s(a))&&(e=s(a)+e),n&&n.queryParams){var r=t.param(n.queryParams,!0);e+="?"+r}return i.adfProxyCall(),t.ajax({type:"GET",url:e,beforeSend:o,xhrFields:{withCredentials:!0},contentType:n&&n.contentType?n.contentType:"application/json",dataType:n&&n.dataType?n.dataType:"json"})},post:function(e,n,r){-1===e.indexOf(s(r))&&(e=s(r)+e),n.contentType||(n.contentType="application/json");var l=a(n.contentType,n.payload);return i.adfProxyCall(),t.ajax({type:"POST",url:e,cache:!1,processData:!1,data:l,beforeSend:o,xhrFields:{withCredentials:!0},contentType:n&&n.contentType?n.contentType:"application/json",dataType:n&&n.dataType?n.dataType:"json"})},put:function(e,n,r){-1===e.indexOf(s(r))&&(e=s(r)+e),n.contentType||(n.contentType="application/json");var l=a(n.contentType,n.payload);return i.adfProxyCall(),t.ajax({type:"PUT",url:e,cache:!1,processData:!1,data:l,beforeSend:o,xhrFields:{withCredentials:!0},contentType:n&&n.contentType?n.contentType:"application/json",dataType:n&&n.dataType?n.dataType:"json"})},"delete":function(e,n,a){return-1===e.indexOf(s(a))&&(e=s(a)+e),i.adfProxyCall(),t.ajax({type:"DELETE",url:e+"/"+n.payload,beforeSend:o,xhrFields:{withCredentials:!0},contentType:n&&n.contentType?n.contentType:"application/json",cache:!1,processData:!1})}}}var n,s=function(e){return e&&"dp"===e?i.getDpServerURL()+"/bpm/api/4.0":e?i.getServerURL()+"/bpm/api/"+e:i.getServerURL()+"/bpm/api/4.0"},o=function(e){i.beforeRequestCallback(e,i)},a=function(e,t){var i=JSON.stringify(t);if(!e&&e.startsWith("multipart")){i=new Uint8Array(t.length);for(var n=0;n<t.length;n++)i[n]=t.charCodeAt(n)}return i};return{getInstance:function(t){return n||(n=e()),t&&(n.connection=t),n},setConnection:function(t){n||(n=e()),n.connection=t}}}()}),define("pcs/tasklistActions/viewModel/Task",[],function(){"use strict";return function(e,t){if(t&&t.hasOwnProperty("update"))for(var i in e)e.hasOwnProperty(i)&&t.update.hasOwnProperty(i)&&(e[i]="function"==typeof t.update[i]?t.update[i](e[i]):e[i]);return{getTitle:function(){return e.title},getNumber:function(){return e.number},getFromUser:function(){return e.fromUserDisplayName},getState:function(){return e.state},getAssignees:function(){return e.assignees.items},getCreator:function(){return e.creatorName},getAssignedDate:function(){return e.assignedDate},getCreatedDate:function(){return e.createdDate},getPriority:function(){return e.priority},getFromUserName:function(){return e.fromUserName},getFromUserDisplayName:function(){return e.fromUserDisplayName},getShortSummary:function(){return e.shortSummary},getDueDate:function(){return e.dueDate},getProcessName:function(){return e.processName},getUpdatedDate:function(){return e.updatedDate},getActionList:function(){return e.actionList}}}}),define("pcs/tasklistActions/viewModel/TaskAction",["jquery","pcs/data-services/DataServices","pcs/tasklistActions/viewModel/Task"],function(e,t,i){"use strict";var n={tasks:"/tasks",identities:"/identities"},s=t.getInstance();return function(t){var o={};o.options=t;var a={tasks:{url:"/tasks"}},r=function(t,a,r,l){var c={payload:{action:{id:a,type:r}}};null===t&&(t=o.selectedTask?o.selectedTask:null),l&&""!==l.trim()&&(c.payload.comment={commentStr:l,commentScope:"BPM"});var d=e.Deferred();if(null!=t){var u=n.tasks+"/"+t.getNumber();s.put(u,c).then(function(e){d.resolve(new i(e))}).fail(function(e){d.reject(e)})}else d.reject("Task is null or undefined");return d},l=function(t,o,a,r){var l={payload:{action:{id:o,type:a},tasks:[]}},c=e.Deferred();if(t&&Array.isArray(t)){t.forEach(function(e){l.payload.tasks.push(e.getNumber())}),r&&""!==r.trim()&&(l.payload.comment={commentStr:r,commentScope:"BPM"});var d=n.tasks;s.put(d,l).then(function(e){c.resolve(e.items.map(function(e){return new i(e)}))}).fail(function(e){c.reject(e)})}else c.reject("Tasks is undefined or empty");return c},c=function(e,t){for(var i=[],n=0;n<e.length;n++)i.push({id:e[n],type:t[n]});return i},d=function(t,a,r,l){null===t&&(t=o.tasks?o.tasks:null);var d=e.Deferred();if(null!=t){var u={payload:{identities:c(a,r),action:{id:"INFO_REQUEST",type:"SYSTEM"},tasks:t.map(function(e){return String(e.getNumber())}),comment:{commentStr:l,commentScope:"TASK"}}},p=n.tasks;s.put(p,u).then(function(e){d.resolve(e.items.map(function(e){return new i(e)}))}).fail(function(e){d.reject(e)})}else d.reject("Task is undefined or null");return d},u=function(t,a,r,l){null===t&&(t=o.selectedTask?o.selectedTask:null);var d=e.Deferred();if(null!=t){var u={payload:{identities:c(a,r),action:{id:"INFO_REQUEST",type:"SYSTEM"},comment:{commentStr:l,commentScope:"TASK"}}};d=new Promise(function(e,o){var a=n.tasks+"/"+t.getNumber();s.put(a,u).then(function(t){e(new i(t))}).fail(function(e){o(e)})})}else d.reject("Task is undefined or null");return d},p=function(t,a){null===t&&(t=o.tasks?o.tasks:null);var r=e.Deferred();if(null!=t){var l={payload:{identities:c(a.identityId,a.identityType),action:{id:a.reassignType,type:"SYSTEM"},tasks:t.map(function(e){return String(e.getNumber())}),comment:{commentStr:a.userComment,commentScope:"TASK"}}},d=n.tasks;s.put(d,l).then(function(e){r.resolve(e.items.map(function(e){return new i(e)}))}).fail(function(e){r.reject(e)})}else r.reject("Task is undefined or null");return r},h=function(t,a){null===t&&(t=o.selectedTask?o.selectedTask:null);var r=e.Deferred();if(null!=t){var l={payload:{identities:c(a.identityId,a.identityType),action:{id:a.reassignType,type:"SYSTEM"},comment:{commentStr:a.userComment,commentScope:"TASK"}}};r=new Promise(function(e,o){var a=n.tasks+"/"+t.getNumber();s.put(a,l).then(function(t){e(new i(t))}).fail(function(e){o(e)})})}else r.reject("Task is undefined or null");return r},f=function(t){var i=e.Deferred(),o=n.identities,a={contentType:"application/json; charset=utf-8",queryParams:t};return s.get(o,a,null,t).then(function(e){i.resolve(e)}).fail(function(e){i.reject(e)}),i};return{getTaskDetail:function(t,n){var r=e.Deferred();if(!t)return r.reject("Task is not passed");var l=n?{queryParams:n}:null,c=a.tasks.url+"/"+t.getNumber();return s.get(c,l).then(function(e){var t=new i(e);o.selectedTask=t,r.resolve(t)}).fail(function(e){r.reject(e)}),r},doCustomActionOnTask:function(e,t,i){return r(e,t,"CUSTOM",i)},doSystemActionOnTask:function(e,t,i){return r(e,t,"SYSTEM",i)},doCustomActionOnTasks:function(e,t,i){return l(e,t,"CUSTOM",i)},doSystemActionOnTasks:function(e,t,i){return l(e,t,"SYSTEM",i)},reassignTasks:function(e,t){return e.length<=1?h(e[0],t):p(e,t)},requestInfo:function(e,t,i,n){return e.length<=1?u(e[0],t,i,n):d(e,t,i,n)},getIdentities:function(e){return f(e)}}}}),define("text!pcs/tasklistActions/templates/pcs-requestInfo.html",[],function(){return'<div id="pcs-requestinfo-container">\n	<div id="pcs-requestinfo-modalDialog"\n		 data-bind="visible: !showInline(), ojComponent:{component: \'ojDialog\', title: bundle.pcs.taskActions.reqInfoHeader, close: handleClose,\n		 	rootAttributes: { style: \'width: 450px; min-width: 100px; max-width 450px;\'}}">\n		<div class="oj-dialog-body" id="pcs-requestinfo-dialog-content">\n		</div>\n		<div class="oj-dialog-footer" id="pcs-requestinfo-dialog-footer">\n		</div>\n	</div>\n\n	<div data-bind="visible: showInline() && isVisible()" class="oj-panel oj-margin">\n		<div id="pcs-requestinfo-inline-content">\n			<div id="pcs-requestInfo-overlay"></div>\n            <!-- <div id="form-container" class="oj-form-layout"> -->\n			<div class="oj-form-layout">\n				<div class="oj-form">\n					<div class="oj-flex">\n						<div class="oj-flex-item">\n							<text for="username" class="oj-label oj-label-nocomp" data-bind="text:bundle.pcs.taskActions.username"></text>\n							<div class="oj-flex-item">\n                                <!-- <div id="username" data-bind=\'component: { -->\n								<div data-bind=\'component: {\n								name: "pcs-identity-browser" , params: {multiple: false, placeholderTxt: placeholder(), scope: scope, idbID: idbID}\n							}\'></div>\n							</div>\n						</div>\n					</div>\n					<div class="oj-flex">\n						<div class="oj-flex-item">\n							<label for="comments" data-bind="text:bundle.pcs.taskActions.comments"></label>\n                            <!-- <textarea id="comments" style="resize: both" data-bind="ojComponent: -->\n							<textarea style="resize: both" data-bind="ojComponent:\n                   {component: \'ojTextArea\',rootAttributes: {style:\'min-width:100%\'}, value:comments, required: false}">\n							</textarea>\n						</div>\n					</div>\n					<!--<br/>-->\n					<!--<div class="oj-flex">-->\n						<!--<div class="oj-flex-item">-->\n							<!--<div id="radiosetBasicDemoId1" aria-labelledby="mainlabelid1"-->\n								 <!--data-bind="ojComponent: {-->\n									  <!--component: \'ojRadioset\',-->\n									  <!--value: action}" >-->\n								<!--<span class="oj-choice-row">-->\n									<!--<input id="back1" type="radio" name="rbb1" value="back">-->\n									<!--<label for="back1">Route directly back to me</label>-->\n								<!--</span>-->\n								<!--<span class="oj-choice-row">-->\n									<!--<input id="forward1" type="radio" name="rbb1" value="forward">-->\n									<!--<label for="forward1">Require subsequent participants to retake action</label>-->\n								<!--</span>-->\n							<!--</div>-->\n						<!--</div>-->\n					<!--</div>-->\n				</div>\n			</div>\n		</div>\n		<br/>\n		<div id="pcs-requestinfo-inline-footer">\n            <!-- button id="okButton" -->\n			<button data-bind="ojComponent: {component: \'ojButton\', label: bundle.pcs.taskActions.submit}, click: handleSubmit"> </button>\n            <!-- button id="cancelButton" -->\n			<button data-bind="ojComponent: {component: \'ojButton\', label: bundle.pcs.taskActions.cancel}, click: handleClose"> </button>\n		</div>\n	</div>\n</div>\n'}),define("text!pcs/tasklistActions/templates/pcs-reassign.html",[],function(){return'<div id="pcs-reassign-container">\n\n	<div id="pcs-reassign-modalDialog"\n		 data-bind="visible: !showInline(), ojComponent:{component: \'ojDialog\', title: bundle.pcs.taskActions.reassignHeader, close: handleClose,\n		 	rootAttributes: { style: \'width: 450px; min-width: 100px; max-width 450px;\'}}">\n		<div class="oj-dialog-body" id="pcs-reassign-dialog-content">\n		</div>\n		<div class="oj-dialog-footer" id="pcs-reassign-dialog-footer">\n		</div>\n	</div>\n\n	<div data-bind="visible: showInline() && isVisible()" class="oj-panel oj-margin">\n		<div id="pcs-reassign-inline-content">\n			<div id="pcs-reassign-overlay"></div>\n            <!-- <div id="form-container" class="oj-form-layout"> -->\n			<div class="oj-form-layout">\n				<div class="oj-form">\n					<div class="oj-flex">\n						<div class="oj-flex-item">\n							<div id="reassignOptions" aria-labelledby="mainlabelid"\n								 data-bind="ojComponent: {\n										  component: \'ojRadioset\',\n										  value: action}">\n									<span class="oj-choice-row">\n										<input id="REASSIGN" type="radio" name="rbb" value="REASSIGN">\n										<label for="REASSIGN" data-bind="text:bundle.pcs.taskActions.reassign+bundle.pcs.taskActions.reassignDescription"></label>\n									</span>\n									<span class="oj-choice-row">\n										<input id="DELEGATE" type="radio" name="rbb" value="DELEGATE">\n										<label for="DELEGATE" data-bind="text:bundle.pcs.taskActions.delegate+bundle.pcs.taskActions.delegateDescription"></label>\n									</span>\n							</div>\n						</div>\n					</div>\n					<div class="oj-flex">\n						<div class="oj-flex-item">\n                            <!-- <div id="username" data-bind=\'component: { -->\n							<div data-bind=\'component: {\n								name: "pcs-identity-browser" , params: {multiple: true, placeholderTxt: placeholder(), scope: scope(), idbID: idbID}\n							}\'></div>\n						</div>\n					</div>\n					<div class="oj-flex">\n						<div class="oj-flex-item">\n							<label for="comments" data-bind="text:bundle.pcs.taskActions.comments"></label>\n                            <!-- <textarea id="comments" style="resize: both" data-bind="ojComponent: -->\n							<textarea style="resize: both" data-bind="ojComponent:\n                   {component: \'ojTextArea\',rootAttributes: {style:\'min-width:100%\'}, value:comments, required: false}">\n							</textarea>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n		<br/>\n		<div id="pcs-reassign-inline-footer">\n            <!-- button id="okButton" -->\n			<button data-bind="ojComponent: {component: \'ojButton\', label: bundle.pcs.taskActions.submit}, click: handleSubmit"></button>\n            <!-- button id="cancelButton" -->\n			<button data-bind="ojComponent: {component: \'ojButton\', label: bundle.pcs.taskActions.cancel}, click: handleClose"></button>\n		</div>\n	</div>\n</div>\n'}),define("pcs/util/dateUtil",["knockout","ojs/ojcore","jquery","ojs/ojdatetimepicker"],function(e,t,i){"use strict";var n=function(e){if(!e)return"";var t="",i=Math.abs(e)/1e3,n=Math.floor(i/86400);i-=86400*n,t=n>0?t+n+"d ":t;var s=Math.floor(i/3600)%24;i-=3600*s,t=s>0?t+s+"h ":t;var o=Math.floor(i/60)%60;if(i-=60*o,t=o>0?t+o+"m":t,""===t){var a=Math.floor(i);t=a+"s"}return t},s=function(e){if(!e)return null;var i;if("string"==typeof e||"number"==typeof e)i=new Date(e);else{if(!(e instanceof Date))return e;i=e}var n=t.IntlConverterUtils.dateToLocalIso(i);return n},o=function(e,i){if(!e||""===e)return"";var n=i?i:"MMM dd yyyy, hh:mm a",s={pattern:n},o=t.Validation.converterFactory(t.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter(s);return o.format(e)},a=function(e){var t;if("string"==typeof e||"number"==typeof e)t=new Date(e);else{if(!(e instanceof Date))return e.toString();t=e}return t=t.toISOString()};return e.bindingHandlers.pcsFormatDate={update:function(t,i,n){var s=e.unwrap(i());if(s){var a=o(s,n().datePattern);e.bindingHandlers.text.update(t,function(){return a})}}},{getTimeDurationTxt:n,getDateInUserTimezone:s,getFormattedDate:o,getDateStingInUTCTimezone:a}}),define("pcs/tasklist/viewModel/Task",["pcs/util/dateUtil"],function(e){"use strict";return function(t){return t.serverAssignedDate=t.assignedDate,t.serverDueDate=t.dueDate,t.serverUpdatedDate=t.updatedDate,t.serverCreateDate=t.createdDate,t.assignedDate=e.getDateInUserTimezone(t.serverAssignedDate),t.dueDate=e.getDateInUserTimezone(t.serverDueDate),t.updatedDate=e.getDateInUserTimezone(t.serverUpdatedDate),t.createdDate=e.getDateInUserTimezone(t.serverCreateDate),{getTitle:function(){return t.title},getNumber:function(){return t.number},getFromUser:function(){return t.fromUserDisplayName},getState:function(){return t.state},getAssignees:function(){return t.assignees.items},getCreator:function(){return t.creatorName},getAssignedDate:function(){return t.assignedDate},getCreatedDate:function(){return t.createdDate},getPriority:function(){return t.priority},getFromUserName:function(){return t.fromUserName},getFromUserDisplayName:function(){return t.fromUserDisplayName},getShortSummary:function(){return t.shortSummary},getDueDate:function(){return t.dueDate},getProcessName:function(){return t.processName},getUpdatedDate:function(){
return t.updatedDate},getActionList:function(){return t.actionList}}}}),define("text!pcs/identityBrowser/view/idBrowser.html",[],function(){return"<!-- parent VM which consumes this should have USer Defined idbConfig object with configuration details -->\n\n<select  data-bind=\"attr: {id: idbID, placeholder : placeholder}, ojComponent: { component: 'ojIdentity', value: value,\n		options: $.proxy(getIdentities, $data),\n		multiple: multiple, selectAll: true, selectLabel: selectLabel,\n		defaultScope: scope}\">\n</select>\n"}),define("pcs/identityBrowser/viewModel/Identity",[],function(){"use strict";function e(e){this.id=e.id||e.identityName,this.type=e.type||e.identityType,this.title=e.title,this.firstName=e.firstName||e.userFirstName,this.lastName=e.lastName||e.userLastName,this.email=e.email,this.mobile=e.mobile||e.userMobile}return e.prototype={getId:function(){return this.id},getType:function(){return this.type},getTitle:function(){return this.title},getFirstName:function(){return this.title},getLastName:function(){return this.title},getFullName:function(){return this.firstName+" "+this.lastName},getEmail:function(){return this.email},getMobile:function(){return this.email}},e}),define("pcs/identityBrowser/viewModel/Identities",[],function(){"use strict";function e(){this._identities=[],this._selectedIdentities=[]}return e.prototype={setIdentities:function(e){this._identities=e},getIdentities:function(){return this._identities},setSelectedIdentities:function(e){this._selectedIdentities=e},getSelectedIdentities:function(){return this._selectedIdentities}},e}),define("pcs/identityBrowser/viewModel/IdentityService",["pcs/identityBrowser/viewModel/Identity","pcs/identityBrowser/viewModel/Identities","pcs/data-services/DataServices"],function(e,t,i){"use strict";function n(){this._identities=new t}var s={identities:"/identities"},o=i.getInstance();return n.prototype={getIdentity:function(e){return this._identities.getIdentities[e]},setIdentities:function(e){this._identities.setIdentities(this.parseIdentity(e))},getIdentities:function(){return[].concat(this._identities.getIdentities())},setSelectedIdentities:function(e){this._identities.setSelectedIdentities(this.parseIdentity(e))},getSelectedIdentities:function(){return this._identities.getSelectedIdentities()},parseIdentity:function(t){var i=[];if(t&&Array.isArray(t))for(var n=0,s=t.length;s>n;n++)i.push(new e(t[n]));return i},restCall:function(e){var t=this;return new Promise(function(i,n){var a=s.identities,r={contentType:"application/json; charset=utf-8",queryParams:e,traditional:!0};o.get(a,r,null,e).then(function(e){t.setIdentities(e.items||[]),i(t.getIdentities())}).fail(function(e){n(t.getIdentities())})})}},n}),define("ojidentity",["jquery","ojs/ojcore","ojs/ojeditablevalue"],function(e,t,i){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="../../../resources/js/node_modules/composer.js.core/dist/",t(t.s="./src/main/js/ojidentity.js")}({"./node_modules/babel-runtime/core-js/json/stringify.js":function(e,t,i){e.exports={"default":i("./node_modules/core-js/library/fn/json/stringify.js"),__esModule:!0}},"./node_modules/core-js/library/fn/json/stringify.js":function(e,t,i){var n=i("./node_modules/core-js/library/modules/_core.js"),s=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},"./node_modules/core-js/library/modules/_core.js":function(e,t){var i=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},'./node_modules/css-loader/index.js?{"importLoaders":1,"sourceMap":false,"minimize":true}!./node_modules/postcss-loader/lib/index.js?{"config":{"path":"/scratch/jenkins/workspace/NPM_Publish-Next-identity-browser/node_modules/composer-front-end-config/conf/webpack../postcss.config.js"}}!./src/main/css/ojidentity.css':function(e,t,i){t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,'.oj-identity{max-width:100%;width:100%;min-width:100px}.oj-identity.hasFilter{max-width:calc(100% - 32px);width:calc(100% - 32px);min-width:100px}.oj-identity .oj-select-search-field{line-height:36px}.oj-identity .oj-select-choice{height:32px;line-height:32px}.oj-identity.oj-select-multi.oj-disabled .oj-select-selected-choice{border-color:#d5d5d5}.oj-identity-type{display:inline-block;width:24px;height:24px;vertical-align:middle;margin:0 2px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAABICAMAAAGsIPWrAAACc1BMVEUkJCT///8kJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCRPcgFcAAAA0HRSTlMAAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISMkJSYnKCkqKywtLi8wMTIzNTY3ODk6Ozw+P0JDREVGSUxNTk9QUVJUVVZXWFlaW1xdXl9gYmNoaWpsbW5vcHFyc3R1dnh5en1+f4CBg4WGiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKkpaanqKmqq6ytrq+wsbKztLW2uLq+v8DBwsPFx8jLzc7T1tfa293e4OPm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+TvcGFAAAA5VJREFUOMutVPtfk1UYf97bxmbMqVvOFQIlhWVhxs3mNS8pmIqSycosp5Y3AjUFQQG3vMIGbbBLqJkoXsoyK5FLOUYivOw950/qnLN3c5sf/Rifvj+85/m+3/Oc8zzfcz4HOI4DLjsfsjAGFn//I3DxuKsTuKCdxYABDuPGRDyGIywO+gIQCn5OYyZVZysFO+KMg2L5dQCOd6JzPHCLKBJaMBDY0p1gqQOEFfLhd7ovH5Rg30OMJw6kTQEYGiAfEDASyZDXd/9NgExMkAez6T5ZaQmfBXw+/0JwBAKhLBs4gsFD9vdSpyQIgGbPr3VkWRKJtXstd1G/qeYLCSR78yVSC47eOlFGplnOtjLkpy9A65q1xEQHSoQLCKMrYozAvL/Q0KyYsnKU1ov/+Zh4UzURx7b0cpLJC/XOjTMoTBrgHMRCgoaqkC1O6qZqywlZ7zxJ4XKdKnjWas8gAJabt4mlKvkW4R6RRnzx0bytY0q97ciLpIc3GnPL++RdS06YAXLrTv1J23nQVjcdKg9cUlhzv9VuIGmfxpw6/B8qIKtLRYVC3ESNd1z28yp5ZxzhqGoizB/HWDGpRGydUNrUHO2mG7Lyc5WeEm1PlFaDbs4gxMliknVWAK4/7vuAAbjSRSpKpUn5JpQ5G8zsfAwcmDsC/k4fuXVdDRzM9LKz+m6jszlB2qbtbEmQpZLla0J8QYpt9k/2cjDtODtFp8tV/bwVPL/ATOJNtopVVilmWJJgXHtnDON71QZeFQgMxavnZ2S7wtS4nteMBcuyBary4urG5m8KjXPcg8rED8v0FY0th+ZqyX+t+f19Tfu/9NwZGEXK33/0Hm9o2v7uVAlMHx5tcnr7ZZxAuPdkU81y0FlyckpODw4Phx8QhIcjkcjtdW/Py2FVCbpMQxKmiJPv/ClCzBD9woMXr16seUsDKmICb60eUhB5hyL7NXyyIJT0jrObpfyUK6ZkmL8alBFCcniHmJphyPvo2iOkXF2Tb3ycIWQsP/f7mBwlGVF59F5HuSlmvVB04xHdWAVSHl5fq6NC4V30+HdM+uWDDCLs7huJpGLkvmN6vMEn8X+aSHwqWry45OW0HYDTLaj1dXd3HamsYNhEsHmFlQgzHV72cLFrHwx0tnr83S22JIEhdL4s02IPPSm0168xWrecOZYu+Lda9Tq9IauylAjm7e5OL4PP6233eDxud0c9FSTjK6+m4yX9JDr/F3FKodbfNrouAAAAAElFTkSuQmCC) no-repeat}.user{background-position:center -16px;background-size:80%}.group{background-position:0 0}.approle,.role{background-position:0 -50px}.oj-identity-select{max-height:106px;overflow:auto;background-color:#fcfdfe;border:1px solid #dfe4e7;border-radius:2px 0 0 2px}.oj-identity-select .oj-select-choices{background:none;border-width:0}.oj-identity-container .oj-listbox-result-label{width:calc(100% - 54px);display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle}.oj-identity-checkbox{display:inline-block;width:14px;height:14px;margin:0 4px 0 8px;vertical-align:middle;border-radius:2px;-webkit-box-shadow:0 0 1px #000;box-shadow:0 0 1px #000;background:-webkit-gradient(linear,left bottom,left top,from(#fff),to(#efeff1));background:linear-gradient(0deg,#fff,#efeff1);cursor:pointer}.oj-identity-checkbox:after{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0;content:"";position:absolute;width:9px;height:3px;background:transparent;margin:3px 1px;border:2px solid #737373;border-top:none;border-right:none;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.oj-identity-checkbox.selected:after{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100);opacity:1}.oj-identity-filter{background:#fcfdfe url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAABACAYAAAEMiUU4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE4NUNBNzUwODA4MjExRTZCMjVBQzhFMEMzMkQxRjFBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE4NUNBNzUxODA4MjExRTZCMjVBQzhFMEMzMkQxRjFBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTg1Q0E3NEU4MDgyMTFFNkIyNUFDOEUwQzMyRDFGMUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTg1Q0E3NEY4MDgyMTFFNkIyNUFDOEUwQzMyRDFGMUEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4hiR9yAAAFtklEQVR42mL8//8/AzJgAhFLlixJgNK5jFhVQGXrQDSGChYQce3atZNAyg+I17FAJcyhtDUTkurTIAIggHDbgu6w60B8CCwC0rJ48WJdEA3C2M0AukMLiA3gDgOCKiAWBGJvmMA0ID4GYgAEEIYZWJ0Bdcp0ZAkgvxfuLBgGOs8GShvjdCZOK3ABmKtBfrsApAyQ5E5qaWmZI5sAkrRCCn9zorwJEECUOxIWX1XoEkAxF2QTemACUMk4IHUIxQ1AQSkgxQHEzED8MCYm5heKG4ACz4CUKRBHwiSxxcUOZD514oK4yAJGlAKQ8gDiTVBfhAPxYmBkvYTF5l8gXgXE76D8qUAsgmzFYyC2gbLZgFgeKoZID1Djw6HJewYuRyoB8QmSohsggAgqIDrNQiMUFARlQOwLxM+B+C4QfwNiXiBWgfp8PhAvgsUnC5qBeUD8BYhtgQr+YrMRaEkJNMT2YfUCUAEnkFoPxLlAQ24jiTsBqXygmD+KBvTUg5SyzIE4EsrOAPGxqcOXVliB+B80u5gB8XmaxAITA4WAYgNQohGYLRig2cERiCOgSRMUFj+A+CoQLweVaSBFwKzCgC0dLALiWUC8B4qxAVAa0IKqw/ACqLz5CMS7oS5BBuJAfAUqPwurF6DgMhC7QmuWi0C8FZoNQUCHlEAElXw8UAxK4udIjQVQhRACxHygehaIb9MkIQEE0HBLicCcB0ogHUDMDcR3gPgl1BJpIFaEllLF0JoGazpYB8QmQAVfcJRGskDqLBBL4vICqJzjxONiZmgZiTMMooF4I9AmNiy2CwGppUBsgdMAoNNByRhUaK6Alo3I5SQoo2UD1bzGGwtABaCG1EogLodqBrlmIRD3AeUuEBuNO6D1OQO0LmAHat5HbjoA5YU/RKUDNPAf6Hx+qPMTSTXgLzQbHwHiIOQKZhhmpmFgALaaCVQbhUILUlCLChRNr6F1xVoQG1YrYUsHE6CFyRIgXg3EX6FZmBtaoEwC4ktA3I7LAFCTMQxaLqADUGI6AC1Q2nGFwXVomxMXSIc2OXF6AVQeLoPWfwfR5NyglWomvlgAaQwE4gaoYhgwBuIiUCOLmGj8Ba2lp0D5oBw5HWrwL2LTwScg/g5lg2LgGRKf5IRkC8RPyClQQE2bDCAWgvqfJAO+QJvtoDpgHo50MUgKFIAA7Zk7SwNREIWDMYoYEVMEqxQBsVLRQk1tk9JaDIh2pvGBWIiNqF1Kf4I/wPgCwcpUgm2wCiIqiA9EhMSgwRn8FtaQxL2bLFpkYap93LmPOefM2boz+HM4aCicVFEEfrq4KBXRJxGGNQIWBUm8c36127ukOciVU7HjLZCBFVkWJGJA0AVg8YDyLkBflurw0353kuAgCUckDvQ0SjL3JiuwASsvS5z/aNmdXSfoilGg4Mku0J2cgTVmrJgSRx45vlBECp8pIPTYuAqQFhFgVmezqWqhWj/LO9qSDKmakjhT6wrZ5r4MWUolikWJW4lt+Wi2wjMDbJ2f85P7beuMcACNnJBQQyglHz+0rVSc86JLnpZ7eS9w4BVezVOGPhtl9EAbV04HdwtELWWrEoRyEtDOc0OBqMJVAoCiMrjS1Rw+SVKlkWm5mibwBigp1Y1I7EuoEfPoAieaZNRMoJlA7TKUXkfxvJ8yi9FxK8K9aNkh4wvgQisuRYjoBiuuJU4ljvQd6YuKJjiwisRXJpwCA0wv5Y5JxEyikhtYawvy6OkuZud3kYC+044+L5megR38G+2S9jBE2xwOHGL1dnGXxnEdjKC4iI2pbcmwhP7bm2drbqo0Sx2clyX0YhIDsi4u0IHUQ5qF9dL4SWpA5XjG+v+xJdFLf5mp1RK5KcM7fKgZvKgx2z2tkAn2e8X3/Yuh6BUOBGy0bPe0wvhaH17rAasRsbrvJFihDv06fqlnSPgJAAUx4TJMYpozknW69E098G8S+AIIhC7zaRQqwQAAAABJRU5ErkJggg==") no-repeat center -33px;width:32px;height:32px;display:none;top:0;position:absolute;cursor:pointer;right:-32px;border:1px solid #dfe4e7;border-left-width:0;-webkit-box-sizing:border-box;box-sizing:border-box}.oj-identity-filter:hover{background-position:-1px 0}.oj-identity-filter.showFilter{display:inline-block}.oj-identity-filter-drop{line-height:24px;min-width:100px}.oj-identity-filter-drop input{vertical-align:middle}.oj-identity-container .info{color:#c3c3c3;font-size:12px}.oj-identity .oj-select-choice{border-radius:2px 0 0 2px}.oj-identity-filter.multiple:hover{background-position:-1px 6px}.oj-identity-filter.multiple{background-position:center -27px;padding:21px 0 20px}.oj-identity-loading-container{width:22px;height:22px;position:absolute;margin:3px 0 0 -50px;display:none;top:7px;right:28px}.oj-select-multi .oj-identity-loading-container{top:5px;right:2px}.oj-multi-loading{margin:5px 0 0 -22px}.identity-show-inline{display:inline-block}.oj-identity-loading{width:22px;height:22px;display:inline-block;background:url("data:image/gif;base64,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") no-repeat 50%;background-size:30px}.disabled-filter{background-color:#efeff1;border-color:#dfe4e7;cursor:default}.oj-select-choice+.disabled-filter{border-color:#efeff1}.disabled-filter.multiple:hover{background-position:center -27px}.disabled-filter:hover{background-position:center -33px}html[dir=rtl] .oj-identity-filter{left:-32px;right:auto;border-left-width:1px;border-right-width:0}html[dir=rtl] .oj-identity-checkbox:after{margin:3px 1px;right:4px}html[dir=rtl] .oj-multi-loading{margin:5px 0 0;left:8px}html[dir=rtl] .oj-select-loading{left:30px;margin:3px 0 0}.oj-disabled .oj-identity-select{background-color:#efeff1}.oj-identity-container{z-index:1052}.oj-identity-container .oj-listbox-no-results{height:18px}',""])},"./node_modules/css-loader/lib/css-base.js":function(e,t){function i(e,t){var i=e[1]||"",s=e[3];if(!s)return i;if(t&&"function"==typeof btoa){var o=n(s);return[i].concat(s.sources.map(function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"})).concat([o]).join("\n")}return[i].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var o=this[s][0];"number"==typeof o&&(n[o]=!0)}for(s=0;s<e.length;s++){var a=e[s];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},"./node_modules/style-loader/lib/addStyles.js":function(e,t,i){function n(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=f[n.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](n.parts[o]);for(;o<n.parts.length;o++)s.parts.push(d(n.parts[o],t))}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(d(n.parts[o],t));f[n.id]={id:n.id,refs:1,parts:a}}}}function s(e,t){for(var i=[],n={},s=0;s<e.length;s++){var o=e[s],a=t.base?o[0]+t.base:o[0],r=o[1],l=o[2],c=o[3],d={css:r,media:l,sourceMap:c};n[a]?n[a].parts.push(d):i.push(n[a]={id:a,parts:[d]})}return i}function o(e,t){var i=g(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=b[b.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),b.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=g(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,s)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function r(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),o(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),o(e,t),t}function c(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function d(e,t){var i,n,s,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var c=y++;i=v||(v=r(t)),n=u.bind(null,i,c,!1),s=u.bind(null,i,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=l(t),n=h.bind(null,i,t),s=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=r(t),n=p.bind(null,i),s=function(){a(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}function u(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=k(t,s);else{var o=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function h(e,t,i){var n=i.css,s=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||o)&&(n=A(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var a=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(a),r&&URL.revokeObjectURL(r)}var f={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(i){if("undefined"==typeof t[i]){var n=e.call(this,i);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(s){n=null}t[i]=n}return t[i]}}(function(e){return document.querySelector(e)}),v=null,y=0,b=[],A=i("./node_modules/style-loader/lib/urls.js");e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=s(e,t);return n(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var r=i[a],l=f[r.id];l.refs--,o.push(l)}e&&n(s(e,t),t);for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var k=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},"./node_modules/style-loader/lib/urls.js":function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var s=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(s))return e;var o;return o=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},"./src/main/css/ojidentity.css":function(e,t,i){var n,s=0,o=i('./node_modules/css-loader/index.js?{"importLoaders":1,"sourceMap":false,"minimize":true}!./node_modules/postcss-loader/lib/index.js?{"config":{"path":"/scratch/jenkins/workspace/NPM_Publish-Next-identity-browser/node_modules/composer-front-end-config/conf/webpack../postcss.config.js"}}!./src/main/css/ojidentity.css');"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(t.locals=o.locals),t.use=t.ref=function(){return s++||(n=i("./node_modules/style-loader/lib/addStyles.js")(o,{hmr:!0})),t},t.unuse=t.unref=function(){s>0&&!--s&&(n(),n=null)}},"./src/main/js/ojidentity.js":function(e,t,i){var n,s,n,s;n=[i("./node_modules/babel-runtime/core-js/json/stringify.js")],void 0!==(s=function(o){"use strict";var a=function(e){return e&&e.__esModule?e:{"default":e}}(o);n=[i,i("ojs/ojcore"),i("jquery"),i("ojs/ojeditablevalue")],void 0!==(s=function(e,t,n){i("./src/main/css/ojidentity.css").use();var s={GENERATED_OPTIONS_SELECTOR:"oj-select-options-generated",KEY:{TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isControl:function(e){switch(e.which){case s.KEY.SHIFT:case s.KEY.CTRL:case s.KEY.ALT:return!0}return!(!e.metaKey&&!e.ctrlKey)},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&123>=e}},DEFAULT_QUERY_DELAY:70,ValueChangeTriggerTypes:{ENTER_PRESSED:"enter_pressed",OPTION_SELECTED:"option_selected",OPTION_REMOVED:"option_removed",BLUR:"blur",SEARCH_ICON_CLICKED:"search_icon_clicked"},lastMousePosition:{x:0,y:0},nextUid:function(){var e=1;return function(){return e++}}(),scrollBarDimensions:null,each2:function(e,t){for(var i=n(n.isFunction(e[0])?e[0]():e[0]),s=-1,o=e.length;++s<o&&(i.context=i[0]=n.isFunction(e[0])?e[s]():e[s])&&!1!==t.call(i[0],s,i););return e},measureScrollbar:function(){var e=n("<div class='oj-listbox-measure-scrollbar'></div>");e.appendTo("body");var t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t},splitVal:function(e,t){var i,s,o;if(null===e||e.length<1)return[];for(i=e.split(t),s=0,o=i.length;o>s;s+=1)i[s]=n.trim(i[s]);return i},getSideBorderPadding:function(e){return e.outerWidth(!1)-e.width()},installKeyUpChangeEvent:function(e){var t="keyup-change-value";
e.on("keydown",function(){void 0===n.data(e,t)&&n.data(e,t,e.val())}),e.on("keyup",function(i){if(i.which===s.KEY.ENTER)return void i.stopPropagation();var o=n.data(e,t);void 0!==o&&e.val()!==o&&(n.removeData(e,t),e.trigger("keyup-change"))})},installFilteredMouseMove:function(e){e.on("mousemove",function(e){var t=s.lastMousePosition;void 0!==t&&t.x===e.pageX&&t.y===e.pageY||(n(e.target).trigger("mousemove-filtered",e),s.lastMousePosition.x=e.pageX,s.lastMousePosition.y=e.pageY)})},thunk:function(e){var t,i=!1;return function(){return!1===i&&(t=e(),i=!0),t}},_focus:function(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,i=e[0],n=e.val().length;e.focus(),e.is(":visible")&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(t=i.createTextRange(),t.collapse(!1),t.select()))},40)},getCursorInfo:function(e){e=n(e)[0];var t=0,i=0;if("selectionStart"in e)t=e.selectionStart,i=e.selectionEnd-t;else if("selection"in document){e.focus();var s=document.selection.createRange();i=document.selection.createRange().text.length,s.moveStart("character",-e.value.length),t=s.text.length-i}return{offset:t,length:i}},killEvent:function(e){e.preventDefault(),e.stopPropagation()},killEventImmediately:function(e){e.preventDefault(),e.stopImmediatePropagation()},defaultEscapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(e).replace(/[&<>"'\\]/g,function(e){return t[e]})},local:function(e,t){var i,o,a=e,r=function(e){return""+e.label};n.isArray(a)&&(o=a,a={results:o}),!1===n.isFunction(a)&&(o=a,a=function(){return o});var l=a();return l&&l.text&&(r=l.text,n.isFunction(r)||(i=l.text,r=function(e){return e[i]})),function(e){var i=e.term,o={results:[]};return""!==i||t?(a()&&s.each2(n(a().results),function(i,n){s._processData(e,n,o.results,t,!0,r)}),void e.callback(o)):void e.callback(a())}},cleanupResults:function(e){e.children().remove(),e.removeClass("oj-listbox-result-with-children")},remote:function(e,i){return function(o){var a={},r=this,l=function(e){var t={results:[]};r.inputSearch=a.searchPattern,s.each2(n(e),function(e,n){s._processData(o,n,t.results,i,!1)}),o.callback(t)};if(o.value)l(o.value);else{var c=n.trim(o.term);if(c&&(a.searchPattern="*"!==c?"*"+o.term+"*":c),n.extend(!0,a,{scope:this.defaultScope}),!a.searchPattern)return void l(this.results||[]);this.inputSearch&&this.inputSearch===a.searchPattern?l(this.results):(clearTimeout(this.queryTimer),this.queryTimer=setTimeout(function(){r.loading.hasClass("identity-show-inline")||r.loading.addClass("identity-show-inline"),e(a).then(function(e){r.results=e&&Array.isArray(e)?e:[],l(r.results),r.loading.removeClass("identity-show-inline"),r.ojContext._setOption("messagesCustom",[])})["catch"](function(e,i){r.loading.removeClass("identity-show-inline"),r.ojContext._setOption("messagesCustom",[new t.Message(e,i)])})},1e3))}}},_processData:function(e,t,i,o,a,r){var l,c,d={};if(n.extend(!0,d,t[0]),t[0].label&&o&&o.label&&"label"!==o.label&&(d[o.label]=t[0].label,delete d.label),t[0].value&&o&&o.value&&"value"!==o.label&&(d[o.value]=t[0].value,delete d.value),!d.children&&o&&o.children&&(d.children=d[o.children],delete d[o.children]),d.children){l={};for(c in d)d.hasOwnProperty(c)&&(l[c]=d[c]);l.children=[],s.each2(n(d.children),function(t,i){s._processData(e,i,l.children,o&&o.childKeys?o.childKeys:null,a,r)}),(!a||l.children.length||e.matcher(e.term,l[o.label],d))&&i.push(l)}else a&&!e.matcher(e.term,d[o.label],d)||i.push(d)},clazz:function(e,i){var s=function(){};return t.Object.createSubclass(s,e,""),s.prototype=n.extend(s.prototype,i),s},LAST_QUERY_RESULT:"last-query-result",getLastQueryResult:function(e){return n.data(e.container,e._classNm+"-"+s.LAST_QUERY_RESULT)},saveLastQueryResult:function(e,t){n.data(e.container,e._classNm+"-"+s.LAST_QUERY_RESULT,t)}},o=s.clazz(Object,{_bind:function(e){var t=this;return function(){e.apply(t,arguments)}},_init:function(e){var t,i=this._classNm,o=this._elemNm;this.ojContext=e.ojContext,this.opts=e=this._prepareOpts(e),this.id=e.id,this.headerInitialized=!1,this.ojContext.options.isRendered=this.ojContext.options.isRendered||!1,void 0!==e.element.data(o)&&null!==e.element.data(o)&&e.element.data(o)._destroy(),this.container=this._createContainer();var a=this.opts.rootAttributes;this.containerId=a&&a.id?a.id:"ojChoiceId_"+(e.element.attr("id")||"autogen"+s.nextUid()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=s.thunk(function(){return n("#__oj_zorder_container").length?n("#__oj_zorder_container"):e.element.closest("body")}),this.container.attr("style",e.element.attr("style")),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.showScopeFilter&&(this.container.addClass("hasFilter"),this.container.find(".oj-identity-filter").addClass("showFilter")),this.opts.element.data(o,this).attr("tabindex","-1").before(this.container),this.container.data(o,this),this.dropdown=this.container.find(".oj-listbox-drop"),this.dropdown.data("ojlistbox",this),this.opts.showScopeFilter&&this.container.on("click",".oj-identity-filter",n.proxy(this._showFilter,this)),this.opts.loading=this.container.find(".oj-identity-loading-container");var r=this.containerId;if(this.dropdown.attr("data-oj-containerid",r),this.results=this.container.find(".oj-listbox-results"),this.results.on("click",s.killEvent),e.list&&n("#"+e.list).is("ul")){var l=n("#"+e.list);this.dropdownListParent=l.parent(),l.addClass("oj-listbox-results").attr("role","listbox"),this.results.replaceWith(l),this.results=this.container.find(".oj-listbox-results"),this.results.css("display","")}t="oj-select"===i?this.container.find("input.oj-listbox-input"):this.container.find("input."+i+"-input"),this.search=t,this.queryCount=0,this.resultsPage=0,this.context=null,this._initContainer(),this.container.on("click",s.killEvent),s.installFilteredMouseMove(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".oj-listbox-results",this._bind(this._highlightUnderEvent)),n(this.container).on("change","."+i+"-input",function(e){e.stopPropagation()}),n(this.dropdown).on("change","."+i+"-input",function(e){e.stopPropagation()});var c=this;s.installKeyUpChangeEvent(t),t.on("keyup-change input paste",this._bind(this._updateResults)),t.on("focus",function(){t.addClass(i+"-focused"),"oj-select"!==i&&c.container.addClass("oj-focus")}),t.on("blur",function(){t.removeClass(i+"-focused"),"oj-select"!==i&&c.container.removeClass("oj-focus")}),this.dropdown.on("mouseup",".oj-listbox-results",this._bind(function(e){var t=n(e.target);if(this._selectionEvent=e,t.closest(".oj-listbox-result-selectable").length>0)if(this.opts.multiple&&this.opts.selectAll&&t.hasClass("oj-identity-checkbox")){var i=this.getVal(),o=t.closest(".oj-listbox-result").data(this._elemNm),a=i?i.slice(0):[],r={optionMetadata:{trigger:s.ValueChangeTriggerTypes.OPTION_SELECTED}};t.hasClass("selected")?(a.splice(this.opts.indexOf.call(a,o),1),r.optionMetadata.trigger=s.ValueChangeTriggerTypes.OPTION_REMOVED,t.attr("checked",!1)):a.push(o),this.opts.contains.call(this.opts.results,a)?this.opts.checkAll.addClass("selected"):this.opts.checkAll.removeClass("selected"),t.toggleClass("selected"),this.setVal(a,e,r)}else this._highlightUnderEvent(e),this._selectHighlighted(null,e);else if(this.opts.multiple&&this.opts.selectAll&&t.hasClass("oj-identity-checkbox")){var l=t.parent().nextAll().find(".oj-identity-checkbox"),c=this,d=this.getVal(),u=d?d.slice(0):[],p={optionMetadata:{trigger:s.ValueChangeTriggerTypes.OPTION_SELECTED}};t.toggleClass("selected");var h=t.hasClass("selected");l.each(function(){var e=n(this.parentNode).data(c._elemNm);h?u.push(e):u.splice(c.opts.indexOf.call(u,e),1)}),h?l.addClass("selected"):(p.optionMetadata.trigger=s.ValueChangeTriggerTypes.OPTION_REMOVED,t.attr("checked",!1),l.removeClass("selected")),this.setVal(u,e,p)}})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),n.isFunction(this.opts.initSelection)&&this._initSelection();var d=e.element.prop("disabled");void 0===d&&(d=!1),this._enable(!d);var u=e.element.prop("readonly");if(void 0===u&&(u=!1),this._readonly(u),s.scrollBarDimensions=s.scrollBarDimensions||s.measureScrollbar(),this.autofocus=e.element.prop("autofocus"),e.element.prop("autofocus",!1),this.autofocus&&this._focus(),this.ojContext._refreshRequired)this.ojContext._refreshRequired(this.opts.required);else if(this.opts.required){var p=this.ojContext.element,h=n("label[for="+p[0].id+"]");setTimeout(function(){h.before('<span><span class="oj-label-required-icon oj-component-icon" role="img" title="Required" aria-label="Required"></span></span>'),e.ojContext.options.isRendered=!0},0)}},_showFilter:function(e){var t=e.target;if(e=n.Event(e),this._enabled){if(!this.filterDropdown){var i=this,o=this.opts.scopesOptions||[],a=s.nextUid();this.filterDropdown=n('<div class="oj-identity-filter-drop"></div>');for(var r=0,l=o.length;l>r;r++){var c=n('<div><input type="checkbox" name="oj-identity-'+a+'" value="'+o[r].value+'" '+(-1!=i.opts.defaultScope.indexOf(o[r].value)?"checked ":"")+"/> "+o[r].label+"</div>");this.filterDropdown.append(c)}this.filterDropdown.on("click","input",function(){n(this).is(":checked")&&i.opts.defaultScope.indexOf(n(this).val())?i.opts.defaultScope.push(n(this).val()):i.opts.defaultScope.splice(i.opts.defaultScope.indexOf(n(this).val()),1)}),this.filterDropdown.appendTo(document.body),this.filterDropdown.ojPopup(),this.filterDropdown.ojPopup("option",{tail:"none",modality:"modeless",initialFocus:"none"})}this.filterDropdown.ojPopup("isOpen")||this.filterDropdown.ojPopup("open",t)}},_clickAwayHandler:function(e){var t,i=this.dropdown;n(e.target).closest(i).length||n(e.target).closest("#"+i.attr("data-oj-containerid")).length||i.length>0&&(t=i.data("ojlistbox"))&&t.close(e)},_surrogateRemoveHandler:function(){this.dropdown&&this.dropdown.remove()},_destroy:function(){var e=this._closeDelayTimer;isNaN(e)||(delete this._closeDelayTimer,window.clearTimeout(e));var t=this.opts.element,i=t.data(this._elemNm);this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.opts.list&&this.results&&(this._cleanupList(this.results),this.dropdownListParent&&this.dropdownListParent.append(this.results)),void 0!==i&&(i.container.remove(),i.dropdown.remove(),t.removeAttr("aria-hidden").removeData(this._elemNm).off("."+this._classNm).prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},_cleanupList:function(e){if(e&&e.is("ul")){e.removeClass("oj-listbox-results oj-listbox-result-sub"),e.removeAttr("role");for(var t=e.children().length-1;t>=0;t--)this._cleanupList(n(e.children()[t]))}else if(e.is("li")){(e.hasClass("oj-listbox-placeholder")||e.hasClass("oj-listbox-no-results"))&&e.remove(),e.attr("class")&&e.attr("class",e.attr("class").replace(/\oj-listbox-\S+/g,""));var i=e.children(".oj-listbox-result-label");i&&i.contents().unwrap(),"none"==e.css("display")&&e.css("display",""),this._cleanupList(e.children("ul"))}},_optionToData:function(e){if(e.is("option"))return{value:e.prop("value"),label:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:"locked"===e.attr("locked")||!0===e.data("locked")};if(e.is("optgroup"))return{label:e.attr("label"),children:[],element:e.get(),css:e.attr("class")};if(e.is("li")){var t,i=null,n=e.children();return n&&n.length>0&&n.is("ul")?(t=e.attr("oj-data-label")?e.attr("oj-data-label"):e.clone().children().remove().end().text().trim(),i=[]):t=e.attr("oj-data-label")?e.attr("oj-data-label"):e.text().trim(),{value:e.attr("oj-data-value"),label:t,element:e.get(),css:e.attr("class"),children:i}}},_prepareOpts:function(e){var t,i,o=this;e.options&&Array.isArray(e.options)&&e.optionsKeys&&(e.options=n.extend(!0,[],e.options)),t=e.element;var a=t.get(0).tagName.toLowerCase();return"input"===a&&t.attr("list")?this.datalist=i=n("#"+t.attr("list")):"select"===a&&t.children().length>0?this.datalist=i=t:e.list&&(this.datalist=i=n("#"+e.list)),e=n.extend({},{populateResults:function(t,i,o,a){var r,l=n.proxy(this.opts.id,this),c=this,d=this.opts.optionRenderer;"function"!=typeof d&&(d=null),(r=function(t,i,a,u,p){var h,f,m,g,v,y,b,A,k=function(e,t){if(t.children&&t.children.length>0){var i=t.element&&n(t.element[0]).is("li")&&n(t.element[0]).children("ul"),s=i?n(t.element[0]).children("ul"):n("<ul></ul>");s.hasClass("oj-listbox-result-sub")||s.addClass("oj-listbox-result-sub"),r(t,t.children,s,u+1,!1),i||e.append(s)}},E=function(e,t,i){function n(e,i){var s=0;if(3===e.nodeType){var o=e.data.toUpperCase().indexOf(i);if(o>=0){var a=document.createElement("span");a.className=t;var r=e.splitText(o),l=r.cloneNode(!0);a.appendChild(l),r.parentNode.replaceChild(a,r),s=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=n(e.childNodes[c],i);return s}e.length&&i&&i.length&&e.each(function(){n(this,i.toUpperCase())})},C=function(t){e._placeholderData||(m={},m[e.optionsKeys.label]=t,e.optionsKeys.label!==e.optionsKeys.value&&(m[e.optionsKeys.value]=""),e._placeholderData=m),y=n("<li></li>"),y.addClass("oj-listbox-placeholder oj-listbox-results-depth-0 oj-listbox-result oj-listbox-result-selectable"),y.attr("role","presentation"),b=n(document.createElement("div")),b.addClass("oj-listbox-result-label"),b.attr("id","oj-listbox-result-label-"+s.nextUid()),b.attr("role","option"),b.text(e._placeholderData[e.optionsKeys.label]),y.append(b),y.data(c._elemNm,e._placeholderData),a.prepend(y)},w=c._getPlaceholder(),j=c.getVal();j&&0!==j.length&&(p&&w&&!o.term?C(w):e.multiple||(C(""),e.placeholder=""));var S=e.multiple&&e.selectAll;if(e.results=i,j=c.getVal(),S){var T=n("<li class='oj-listbox-results-depth-0' role='presentation'></li>"),x=s.nextUid(),_=n(document.createElement("input")),I=!1;j&&Array.isArray(j)&&(I=e.contains.call(i,j));var R=n(document.createElement("span"));R.addClass("oj-listbox-result-label"),R.attr("id","oj-listbox-result-label-"+x),R.attr("role","option"),R.text(e.selectLabel),_.attr({id:"oj-checkbox-"+x,"class":"oj-identity-checkbox",type:"checkbox",checked:I});var D=n(document.createElement("label"));D.attr({"for":"oj-checkbox-"+x,"class":"oj-identity-checkbox"+(I?" selected":""),"aria-label":I?"selected":"unselected"}),e.checkAll=D,T.append([D,R]),a.prepend(T)}var O=!(!e.resultTemplateKeys||!Array.isArray(e.resultTemplateKeys));for(h=0,f=i.length;f>h;h+=1){m=i[h],v=!0===m.disabled,g=!v&&void 0!==l(m);var N=m.element&&n(m.element[0]).is("li");if(y=n(N?m.element[0]:"<li></li>"),y.hasClass("oj-listbox-result"))m.children&&m.children.length>0&&k(y,m),n(m.element[0]).css("display","");else{var Q=s.nextUid();if(y.addClass("oj-listbox-results-depth-"+u),y.addClass("oj-listbox-result"),y.addClass(g?"oj-listbox-result-selectable":"oj-listbox-result-unselectable"),v&&y.addClass("oj-disabled"),m.children&&y.addClass("oj-listbox-result-with-children"),y.attr("role","presentation"),S){var L=!1;j&&Array.isArray(j)&&(L=-1!==e.indexOf.call(j,m));var M=n(document.createElement("label"));M.attr({"for":"oj-checkbox-"+Q,"class":"oj-identity-checkbox"+(L?" selected":""),"aria-label":L?"selected":"unselected"}),y.append(M)}var U=m.identityType?m.identityType:"";if(U||(U=m.type||""),U){var F=n(document.createElement("span"));F.attr("class","oj-identity-type "+U),y.append(F)}if(b=n(document.createElement("div")),b.addClass("oj-listbox-result-label"),b.attr("id","oj-listbox-result-label-"+Q),b.attr("role","option"),v&&b.attr("aria-disabled","true"),!N){if(function(i,n){if(d){var s={index:h,depth:u,leaf:!n.children,parent:t,data:n,component:e.ojContext,parentElement:i.get(0)},a=d.call(e.ojContext,s);null!==a&&(null===a.parentNode||a.parentNode instanceof DocumentFragment)&&i.appendChild(a)}else void 0!==(A=e.formatResult(n))&&i.text(A);if(!0!==o.initial){var r=i.find(".oj-listbox-highlighter-section");r.length||(r=i),E(r,"oj-listbox-highlighter",o.term)}}(b,m),O)for(var B=e.resultTemplateKeys,P=0,J=B.length;J>P;P++)m.hasOwnProperty(B[P])&&m[B[P]]&&b.append([n("<span> | </span>"),n("<span class='info'> "+m[B[P]]+"</span>")]);else m.email&&b.append([n("<span> | <span>"),n("<span class='info'> "+m.email+"</span>")]);b[0].title=b.text(),y.append(b)}m.children&&m.children.length>0&&k(y,m),y.data(c._elemNm,m),N?(n(m.element[0]).contents().filter(function(){return"UL"!==this.tagName}).wrapAll(b),n(m.element[0]).css("display","")):a.append(y)}}})(null,i,t,0,a)}},r,e),e.id=function(e){return e[this.opts.optionsKeys.value]},e.formatResult=function(e){return isNaN(e[this.optionsKeys.label])?e[this.optionsKeys.label]:this.ojContext._formatValue(e[this.optionsKeys.label])},e.formatSelection=function(e){return e&&e[this.optionsKeys.label]?isNaN(e[this.optionsKeys.label])?e[this.optionsKeys.label]:this.ojContext._formatValue(e[this.optionsKeys.label]):void 0},"select"!==a&&null!==e.manageNewEntry&&(e.manageNewEntry=function(t){var i={};return i[e.optionsKeys.value]=i[e.optionsKeys.label]=n.trim(t),i}),i?e.query=this._bind(function(e){var t,n,a={results:[],more:!1},r=e.term;n=function(t,i){var a,l=t.children()&&t.children().length>0&&t.children().is("ul");t.is("option")||t.is("li")&&!l?e.matcher(r,t.text(),t)&&i.push(o._optionToData(t)):(t.is("optgroup")||t.is("li")&&l)&&(a=o._optionToData(t),s.each2(t.is("optgroup")?t.children():t.children("ul").children(),function(e,t){n(t,a.children)}),a.children.length>0&&i.push(a))},t=i.children(),void 0!==this._getPlaceholder()&&t.length>0&&""==t.first().attr("value")&&(t=t.slice(1)),s.each2(t,function(e,t){n(t,a.results)}),e.callback(a)}):"options"in e&&(n.isFunction(e.options)?e.query=s.remote(e.options,e.optionsKeys?e.optionsKeys:null):e.query=s.local(e.options,e.optionsKeys?e.optionsKeys:null)),e},_createHeader:function(){var e=this.opts.element.find(".oj-listbox-header");if(e.length){this.header=n("<li>",{"class":"oj-listbox-result-header oj-listbox-result-unselectable",role:"presentation"}),this.header.append(e.children()),this._initializeHeaderItems();var t=n("<ul>",{"class":"oj-listbox-results-with-header",role:"listbox"});t.append(this.header),t.appendTo(this.results.parent());var i=n("<li>",{role:"presentation"});t.append(i),this.results.attr("role","presentation"),this.results.appendTo(i)}this.headerInitialized=!0},_initializeHeaderItems:function(){this.headerItems=this.header.find("li[role='option'], li:not([role])"),this.headerItems.uniqueId(),this.header.find("ul").attr("role","presentation"),this.header.find("li:not([role])").attr("role","option"),this.header.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){n(this).attr("tabIndex",-1)})},_isHeaderItem:function(e){var t=!1;return this.headerItems.each(function(){return n(this).attr("id")===e?(t=!0,!1):void 0}),t},_getNextHeaderItem:function(e){if(!this.headerItems)return null;if(!e)return this.headerItems.first();var t=!1,i=null;return this.headerItems.each(function(){return t?(i=n(this),!1):void(t=n(this).attr("id")===e)}),i},_getPreviousHeaderItem:function(e){if(!this.headerItems)return null;var t=null;return this.headerItems.each(function(){return n(this).attr("id")===e?!1:void(t=n(this))}),t},_setFocusOnHeaderItem:function(e){var t=e.find(".oj-component .oj-enabled").first();0===t.length&&(t=e.find("a, input, select, textarea, button, object, .oj-component-initnode").first(),0===t.length&&(t=e.children().first())),t&&t.addClass("oj-focus")},_removeHighlightFromHeaderItems:function(){this.headerItems&&this.headerItems.find(".oj-focus").removeClass("oj-focus")},_triggerSelect:function(e){var t=n.Event(this._elemNm+"-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(t),!t.isDefaultPrevented()},_isInterfaceEnabled:function(){return!0===this.enabledInterface},_enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("oj-disabled",t),this.close(),this.enabledInterface=e,!0)},_enable:function(e){void 0===e&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.container.toggleClass("oj-enabled",e),this.container.find(".oj-identity-filter").toggleClass("disabled-filter",!e),this._enableInterface())},_disable:function(){this._enable(!1)},_readonly:function(e){return void 0===e&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this._enableInterface(),!0)},_opened:function(){return this.container.hasClass("oj-listbox-dropdown-open")},_usingHandler:function(e,t){if(m(t))return void(this._closeDelayTimer=window.setTimeout(n.proxy(this.close,this),1));var i=this.container,s=t.element.element;s.css(e),"bottom"===t.vertical?(i.addClass("oj-listbox-drop-above"),s.addClass("oj-listbox-drop-above")):(i.removeClass("oj-listbox-drop-above"),s.removeClass("oj-listbox-drop-above"))},_getDropdownPosition:function(){var e={my:"start top",at:"start bottom",of:this.container.children().first(),collision:"flip",using:n.proxy(this._usingHandler,this)},t="rtl"===p();return g(e,t)},_positionDropdown:function(){this.dropdown.css("width",this.container.outerWidth()),this.dropdown.position(this._getDropdownPosition())},_shouldOpen:function(e){if(this._opened())return n.isFunction(this.opts.options);if(!1===this._enabled||!0===this._readonly)return!1;var t={component:this.opts.element};return this.ojContext._trigger("beforeExpand",e,t)},_clearDropdownAlignmentPreference:function(){this.container.removeClass("oj-listbox-drop-above"),this.dropdown.removeClass("oj-listbox-drop-above")},open:function(e,t){return!!this._shouldOpen(e)&&(this._opening(e,t),!0)},_opening:function(){this.headerInitialized||this._createHeader(),this.container.addClass("oj-listbox-dropdown-open")},_showDropDown:function(){if(this._opened()&&(this.windowEventBind&&(window.removeEventListener("resize",this.windowEventBind,!0),window.removeEventListener("scroll",this.windowEventBind,!0)),this.documentEventBind&&document.documentElement.removeEventListener("mousedown",this.documentEventBind,!0),this.windowEventBind=n.proxy(this._positionDropdown,this),this.documentEventBind=n.proxy(this._clickAwayHandler,this),window.addEventListener("resize",this.windowEventBind,!0),window.addEventListener("scroll",this.windowEventBind,!0),document.documentElement.addEventListener("mousedown",this.documentEventBind,!0),"true"!==this._getActiveContainer().attr("aria-expanded"))){this._clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.appendTo(this.body()),this.header&&(this.dropdown.find(".oj-listbox-results-with-header").prepend(this.header),this.header.show()),this.dropdown.position(this._getDropdownPosition()).show(),n("#oj-listbox-drop").removeAttr("id"),this.dropdown.attr("id","oj-listbox-drop");var e=this.containerId;this.dropdown.attr("data-oj-containerid",e),this._positionDropdown(),this._getActiveContainer().attr("aria-expanded",!0)}},close:function(e){if(this._opened()){if(this._selectionEvent&&this._selectionEvent.target&&n(this._selectionEvent.target).hasClass("oj-identity-checkbox"))return void(this._selectionEvent=null);this.container.removeClass("oj-listbox-dropdown-open");var t=this._getActiveContainer().attr("aria-expanded");if(t&&"false"!==t){window.removeEventListener("resize",this.windowEventBind,!0),window.removeEventListener("scroll",this.windowEventBind,!0),document.documentElement.removeEventListener("mousedown",this.documentEventBind,!0);var i=this.containerId,s="scroll."+i,o="resize."+i,a="orientationchange."+i;this.container.parents().add(window).each(function(){n(this).off(s).off(o).off(a)}),this._clearDropdownAlignmentPreference(),this.header&&(this.header.hide(),this.header.appendTo(this.container)),this.dropdown.removeAttr("data-oj-containerid"),this.dropdown.removeAttr("id"),this.opts.list?this._removeHighlight():(this.dropdown.detach(),this.results.empty()),this._getActiveContainer().attr("aria-expanded",!1),this.ojContext._IsRequired()&&this.ojContext.validate()}}},_clearSearch:function(){},_ensureHighlightVisible:function(){var e,t,i,s,o,a,r,l=this.results;if(!((t=this._highlight())<0)){if(0==t)return void l.scrollTop(0);e=this._findHighlightableChoices().find(".oj-listbox-result-label"),i=n(e[t]),s=i.offset().top+i.outerHeight(!0),t===e.length-1&&(r=l.find("li.oj-listbox-more-results"),r.length>0&&(s=r.offset().top+r.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),s>o&&l.scrollTop(l.scrollTop()+(s-o)),a=i.offset().top-l.offset().top,0>a&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+a)}},_findHighlightableChoices:function(){return this.results.find(".oj-listbox-result-selectable:not(.oj-disabled, .oj-selected)").filter(function(){return"none"!=n(this).css("display")})},_moveHighlight:function(e){var t=this._findHighlightableChoices(),i=this._highlight();if(this.header&&(0>=i||i===t.length-1)){var s=this._getActiveContainer().attr("aria-activedescendant"),o=this._isHeaderItem(s);o||(s=null);var a=null;if(e>0&&(0>i||i===t.length-1)?a=this._getNextHeaderItem(s):0>e&&(o&&0>i||0===i)&&(a=this._getPreviousHeaderItem(s)),a)return this._removeHighlight(),this._setFocusOnHeaderItem(a),void this._getActiveContainer().attr("aria-activedescendant",a.attr("id"));o&&0>e&&(i=0)}for(;i>=-1&&i<t.length;){i+=e,i==t.length?i=0:-1==i&&(i=t.length-1);var r=n(t[i]);if(r.hasClass("oj-listbox-result-selectable")&&!r.hasClass("oj-disabled")&&!r.hasClass("oj-selected")){this._highlight(i);break}}},_highlight:function(e){var t,i=this._findHighlightableChoices();if(0===arguments.length){var s=i.filter(".oj-hover");return s.length||(s=i.children(".oj-hover").closest(".oj-listbox-result")),i.get().indexOf(s[0])}e>=i.length&&(e=i.length-1),0>e&&(e=0),this._removeHighlight(),t=n(i[e]),t.hasClass("oj-listbox-result-with-children")?t.children(".oj-listbox-result-label").addClass("oj-hover"):t.addClass("oj-hover"),this._getActiveContainer().attr("aria-activedescendant",t.find(".oj-listbox-result-label").attr("id")),this._ensureHighlightVisible()},_removeHighlight:function(){this.results.find(".oj-hover").removeClass("oj-hover"),this._removeHighlightFromHeaderItems()},_highlightUnderEvent:function(e){var t=n(e.target).closest(".oj-listbox-result-selectable");if(t.length>0&&!t.is(".oj-hover")){var i=this._findHighlightableChoices();this._highlight(i.index(t))}else 0==t.length&&this._removeHighlight()},_updateResults:function(e){var t=this.search,i=this,o=t.val(),a=n.data(this.container,this._classNm+"-last-term");if((!0===e||!a||o!==a)&&(a||o||!e||"input"!==e.type)){n.data(this.container,this._classNm+"-last-term",o);var r=this.opts.minLength||0;o.length>=r?(clearTimeout(this.queryTimer),e&&!0!==e?this.queryTimer=setTimeout(function(){i._queryResults(e)},s.DEFAULT_QUERY_DELAY):this._queryResults(e)):this.close()}},_queryResults:function(e){function t(){if(l._positionDropdown(),l.header&&l.headerItems.length){var e=l._findHighlightableChoices(),t=l.headerItems.length+e.length;if(l.headerItems.attr("aria-setsize",t),e.length){var i=e.children("[role='option']");i.attr("aria-setsize",t),i.first().attr("aria-posinset",l.headerItems.length+1)}}}var i,o=this.search,a=this.results,r=this.opts,l=this,c=o.val();return(r.minLength||0)>c.length?void this.close():(this.open(null,!0),this._removeHighlight(),i=this.search.val(),c=void 0!==i&&null!==i&&(!0!==e||r.inputSearch||r.minLength>0)?i:"",this.resultsPage=1,r.query({element:r.element,term:c,page:this.resultsPage,context:null,matcher:r.matcher,callback:this._bind(function(i){if(this._opened())if(this.context=i&&void 0!==i.context?i.context:null,i&&0!==i.results.length)s.saveLastQueryResult(this,i.results),this._showDropDown(),this._preprocessResults(a),l.opts.populateResults.call(this,a,i.results,{term:o.val(),page:this.resultsPage,context:null,initial:e},this._showPlaceholder()),this._postprocessResults(i,e),t();else if("oj-select"===this._classNm&&!0!==this.opts.multiple||this.opts.inputSearch&&""!==n.trim(this.opts.inputSearch)||this.header){var c=n("<li>");c.addClass("oj-listbox-no-results"),c.text(r.noMatchesFound),this._showDropDown(),this._preprocessResults(a),a.append(c),t()}})}),void 0)},_preprocessResults:function(e){if(this.opts.list){var t=e.children();this._hideResultList(t)}else e.empty()},_hideResultList:function(e){for(var t=0;t<e.length;t++){n(e[t]).is("LI")&&((n(e[t]).hasClass("oj-listbox-no-results")||n(e[t]).hasClass("oj-listbox-placeholder"))&&n(e[t]).remove(),n(e[t]).css("display","none"),n(e[t]).hasClass("oj-selected")&&n(e[t]).removeClass("oj-selected"));var i=n(e[t]).children("ul");i&&i.children()&&this._hideResultList(i.children())}},_cancel:function(e){this.close(e)},_focusSearch:function(){s._focus(this.search)},_selectHighlighted:function(e,t){if(this.header){var i=this._getActiveContainer().attr("aria-activedescendant");if(this._isHeaderItem(i)){var o=n("#"+i),a=o.find("a, input, select, textarea, button, object").first();return 0===a.length&&(a=o.children()),a.length&&a[0].click(),void this.close(t)}}var r=this._highlight(),l=this.results.find(".oj-hover"),c=l.closest(".oj-listbox-result").data(this._elemNm);c?(this._highlight(r),e=e||{},e.trigger=s.ValueChangeTriggerTypes.OPTION_SELECTED,c!==this.opts._placeholderData?this._onSelect(c,e,t):this._onSelect([],e,t)):e&&e.noFocus&&this.close(t)},_getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},_setPlaceholder:function(){var e=this._getPlaceholder();e&&(this.search.attr("placeholder",e),this.container.removeClass(this._classNm+"-allowclear"))},_initContainerWidth:function(){function e(){var e,t,i,n,s,o;if(void 0!==(e=this.opts.element.attr("style")))for(t=e.split(";"),n=0,s=t.length;s>n;n+=1)if(o=t[n].replace(/\s/g,""),null!==(i=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&i.length>=1)return i[1]}var t=e.call(this);null!==t&&this.container.css("width",t)},getVal:function(){return this.ojContext.option("value")},setVal:function(e,t,i){var n={doValueChangeCheck:!1};i&&(n._context=i),"string"!=typeof e&&Array.isArray(e)||(e=[e]),this.opts.element.val(0!==e.length?e:null),this.ojContext._updateValue(e,t,n)},_showPlaceholder:function(){return!1},_getActiveContainer:function(){return this.search},_hasSearchBox:function(){return void 0!==this.opts.minimumResultsForSearch&&void 0!==this.container._hasSearchBox},_findItem:function(e,t){for(var i=0;i<e.length;i++)if(n(e[i]).data(this._elemNm).value===t)return e[i];return null}}),r={closeOnSelect:!0,openOnEnter:!0,id:function(e){return e.id},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:","},l=s.clazz(o,{_enableInterface:function(){l.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this._isInterfaceEnabled())},_focus:function(){this._opened()&&this.close()},_destroy:function(){n("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),l.superclass._destroy.apply(this,arguments)},_clear:function(e){this.search.val(""),this.selection.removeData(this._elemNm),this._setPlaceholder()},_initSelection:function(){var e=this.opts.element;this.opts.initSelection.call(null,e,this._bind(this._updateSelectedOption))},_containerKeydownHandler:function(e){if(this._isInterfaceEnabled()){if(e.which===s.KEY.PAGE_UP||e.which===s.KEY.PAGE_DOWN)return void s.killEvent(e);switch(e.which){case s.KEY.UP:case s.KEY.DOWN:return this._opened()?this._moveHighlight(e.which===s.KEY.UP?-1:1):this.open(e),void s.killEvent(e);case s.KEY.ENTER:return this._selectHighlighted(null,e),s.killEvent(e),void(this._opened()||(this._userTyping=!1));case s.KEY.TAB:return this.close(e),void(this._userTyping=!1);
case s.KEY.ESC:return this._opened()&&(this._cancel(e),s.killEvent(e)),void(this._userTyping=!1)}this._userTyping=!0}},_containerKeyupHandler:function(e){this._isInterfaceEnabled()&&(this._opened()||this.open(e))},_initContainer:function(){var e,t,i=this.container,o=this.opts.rootAttributes,a=o&&o.id?o.id:this.opts.element.attr("id")||s.nextUid();this.selection=e=i.find("."+this._classNm+"-choice"),e.attr("id",this._classNm+"-choice-"+a),t=n("label[for='"+this.opts.element.attr("id")+"']"),t.attr("id")||t.attr("id",this._classNm+"-label-"+a),e.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+a),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+a),this.search.attr("aria-owns",this.results.attr("id")),this.search.attr("aria-labelledby",t.attr("id")),this.opts.element.attr("aria-labelledby",t.attr("id")),this.search.attr("id")&&t.attr("for",this.search.attr("id")),this.opts.element.attr("aria-label")&&this.search.attr("aria-label",this.opts.element.attr("aria-label")),this.opts.element.attr("aria-controls")&&this.search.attr("aria-controls",this.opts.element.attr("aria-controls")),e.on("keydown",this._bind(this._containerKeydownHandler)),e.on("mousedown","abbr",this._bind(function(e){this._isInterfaceEnabled()&&(this._clear(e),s.killEventImmediately(e),this.close(e),this.selection.focus())})),e.on("mousedown",this._bind(function(e){this.opts.element.prop("disabled")&&s.killEvent(e),this._opened()?this.close(e):this._isInterfaceEnabled()&&this.open(e);var t=this.search.parent().attr("aria-hidden");t&&"true"==t?this.selection.focus():this.search.focus(),this.container.addClass("oj-active")})),e.on("mouseup",this._bind(function(e){this.container.removeClass("oj-active")})),e.on("focus",this._bind(function(e){s.killEvent(e)})),this.search.on("blur keyup",this._bind(function(e){if("keyup"!==e.type||10===e.keyCode||13===e.keyCode){if(void 0!==this.search.val()&&this.results.find(".oj-hover").length<=0)if(this.opts.manageNewEntry){var t=this.selection.data(this._elemNm);if(!t&&""!==this.search.val()||t&&(t.label!==this.search.val()||!this.ojContext.isValid())){var i=this.opts.manageNewEntry(this.search.val()),n="blur"===e.type?s.ValueChangeTriggerTypes.BLUR:s.ValueChangeTriggerTypes.ENTER_PRESSED,o={trigger:n};this._onSelect(i,o,e)}}else if(null==this.opts.manageNewEntry){var a=this.selection.data(this._elemNm);if(""==this.search.val())this._clear(e);else if("oj-select"!==this._classNm){var r=this.opts.formatSelection(a);void 0!==r&&this.search.val(r)}}this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus")}})),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this._setPlaceholder()},_prepareOpts:function(){var e=l.superclass._prepareOpts.apply(this,arguments),t=this,i=this.getVal(),o=e.element.get(0).tagName.toLowerCase();if("input"===o&&e.element.attr("list")||"select"===o&&e.element.children().length>0||e.list){var r=e.list?"li":"option";e.initSelection=function(e,i){var n,s=t.getVal();Array.isArray(s)&&(s=s[0]),n=void 0!==s&&null!==s?t._optionToData(e.find(r).filter(function(){return"li"==r?this.getAttribute("oj-data-value")===s:"option"==r?this.value===s:void 0})):t._optionToData(e.find(r).filter(function(){return"li"==r?!0===this.getAttribute("oj-data-selected"):"option"==r?this.selected:void 0})),i(n)},e.validate=function(e,i){var n;return void 0!==i&&null!==i&&(n=t._optionToData(e.find(r).filter(function(){return"li"==r?this.getAttribute("oj-data-value")===i:"option"==r?this.value===i:void 0}))),!!n}}else("options"in e||i&&i.length>0)&&(n.isFunction(e.options)?(e.initSelection=function(o,r){var l=function h(e,t){for(var i=0,n=e.length;n>i;i++){var s=e[i];if((0,a["default"])(t)===(0,a["default"])(s))return s;if(s.children){var o=h(s.children,t);if(o)return o}}return null};i=t.getVal();var c="";i&&i.length&&(c=i[0]);var d=null;if(!c)return void r(d);var u=s.getLastQueryResult(t);if(u&&(d=l(u,c)),!d){var p=t.currentItem;p&&p.length&&c===p[0]&&(d=p[0])}d||t.valueChangeTrigger?r(d):e.query({value:[c],callback:n.isFunction(r)?function(e){e&&e.results&&(d=l(e.results,c)),r(d)}:n.noop})},e.validate||(e.validate=function(e,t){return!0})):(e.initSelection=function(s,r){var l="";(i=t.getVal())&&i.length&&(l=i[0]);var c="select"==o&&t.ojContext._HasPlaceholderSet()&&!t.ojContext._IsRequired(),d=c?t._getPlaceholder():null,u=null;e.query({matcher:function(e,t,i){var n=(0,a["default"])(l)===(0,a["default"])(i);return n&&(u=i),n},callback:n.isFunction(r)?function(){u||"select"!==o||(u=d),r(u)}:n.noop})},e.validate=function(t,i){var s=i,o=null;return e.query({matcher:function(e,t,i){var n=(0,a["default"])(s)===(0,a["default"])(i);return n&&(o=i),n},callback:n.noop}),!!o}));return e},_postprocessResults:function(e,t,i){var n,o=-1,a=this;n=this._findHighlightableChoices(),s.each2(n,function(e,t){var i=a.getVal();return i&&i[0]===a.id(t.data(a._elemNm))?(o=e,!1):void 0}),!1!==i&&!0===t&&o>=0&&this._highlight(o)},_onSelect:function(e,t,i){if(this._triggerSelect(e)){var n;t&&t.trigger&&(n={optionMetadata:{trigger:t.trigger}}),this.setVal(e||[],i,n),this.close(i),this._focusSearch()}},_clearSearch:function(){this.search.val("")}}),c=s.clazz(l,{_elemNm:"ojidentity",_classNm:"oj-select",_userTyping:!1,_createContainer:function(){return n(document.createElement("div")).attr({"class":"oj-identity oj-select oj-component"}).html(["<div class='oj-select-choice' tabindex='0' role='combobox' ","	 aria-autocomplete='none' aria-expanded='false' aria-ready='true'>","  <span class='oj-select-chosen'></span>","  <abbr class='oj-select-search-choice-close' role='presentation'></abbr>","  <a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role='presentation'>","</a></div>","<span class='oj-identity-filter'></span>","<div class='oj-listbox-drop oj-identity-container' style='display:none' role='presentation'>","  <div class='oj-listbox-search-wrapper'>","  <div class='oj-listbox-search'>","	<input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","		   spellcheck='false' class='oj-listbox-input' title='Search field' ","		   role='combobox' aria-expanded='false' aria-autocomplete='list' />","	<span class='oj-listbox-spyglass-box'>","	  <span class='oj-component-icon oj-clickable-icon-nocontext oj-listbox-search-icon' role='presentation'>","	   <b role='presentation'></b></span>","	</span>","	<span class='oj-identity-loading-container oj-select-loading'>","	  <span class='oj-identity-loading' role='presentation'>","	   &nbsp;</span>","	</span>","  </div>","  </div>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>"].join(""))},_enable:function(e){c.superclass._enable.apply(this,arguments),this._enabled?(this.container.find(".oj-select-choice").attr("tabindex","0"),this.container.find(".oj-select-arrow").removeClass("oj-disabled")):(this.container.find(".oj-select-choice").attr("tabindex","-1"),this.container.find(".oj-select-arrow").addClass("oj-disabled"))},close:function(e){this._opened()&&(c.superclass.close.apply(this,arguments),this.container.find(".oj-select-choice").attr("aria-expanded",!1),this._testClear(e)||this._clearSearch(),e instanceof MouseEvent&&e.target!=this.selection&&e.target!=this.search||s._focus(this.selection),this.container.find(".oj-listbox-spyglass-box").off("mouseup click"))},_opening:function(e,t){c.superclass._opening.apply(this,arguments);var i;e&&"keydown"==e.type&&e.which!=s.KEY.UP&&e.which!=s.KEY.DOWN&&e.which!=s.KEY.LEFT&&e.which!=s.KEY.RIGHT&&(i=String.fromCharCode(e.which),s.killEvent(e)),this._opened()&&(i=this.search.val()),this._showSearchBox(i),t||(i?this._updateResults():this._updateResults(!0))},_showDropDown:function(){if(this._opened()){c.superclass._showDropDown.apply(this,arguments),this.container.find(".oj-select-choice").attr("aria-expanded",!0);var e,t,i;this._hasSearchBox()&&(e=this.search.get(0),e.createTextRange?(t=e.createTextRange(),t.collapse(!1),t.select()):e.setSelectionRange&&(i=this.search.val().length,e.setSelectionRange(i,i)))}},_initContainer:function(){var e=this.containerId+"_selected";this.text=this.container.find(".oj-select-chosen").attr("id",e),c.superclass._initContainer.apply(this,arguments),this.container.find(".oj-select-choice").attr({"aria-owns":this.search.attr("aria-owns"),"aria-labelledby":this.search.attr("aria-labelledby"),"aria-describedby":e});var t=this.opts.element.attr("aria-label");t&&this.selection.attr("aria-label",t),this.search.on("keydown",this._bind(this._containerKeydownHandler)),this.search.on("keyup-change input",this._bind(this._containerKeyupHandler));var i=this;this.selection.on("blur",function(e){i._testClear(e)})},_initSelection:function(){this._isPlaceholderOptionSelected()?(this._updateSelection(null),this.close(),this._setPlaceholder()):c.superclass._initSelection.apply(this,arguments)},_updateSelectedOption:function(e){if(void 0!==e&&null!==e){var t=this.getVal();t=Array.isArray(t)?t[0]:t,(0,a["default"])(t)!==(0,a["default"])(e)&&(void 0===t||null===t?this.ojContext.options.value=Array.isArray(e)?e:[e]:this.setVal(Array.isArray(e)?e:[e])),this._updateSelection(e),this.close()}},_updateSelection:function(e){this.selection.data(this._elemNm,e),null!==e&&this.text.text(e[this.opts.optionsKeys.label]),e&&""!=e.id&&this.text.removeClass(this._classNm+"-default"),this.opts.allowClear&&this.container.addClass(this._classNm+"-allowclear")},_getActiveContainer:function(){return this.search.attr("aria-expanded")&&this._hasSearchBox()?this.search:this.selection},_isPlaceholderOptionSelected:function(){if(null===this._getPlaceholder())return!1;var e=this.getVal();return""===(e=Array.isArray(e)?e[0]:e)||void 0===e||null===e},_getPlaceholder:function(){return this.opts.placeholder},_showPlaceholder:function(){return!0},_setPlaceholder:function(){var e=this._getPlaceholder();this._isPlaceholderOptionSelected()&&void 0!==e&&(void 0===e&&(e=""),this.text.text(e).addClass(this._classNm+"-default"),this.container.removeClass(this._classNm+"-allowclear"))},setVal:function(e,t,i){c.superclass.setVal.call(this,e,t,i),this.selection.data("selectVal",e)},_containerKeydownHandler:function(e){if(!(s.KEY.isControl(e)&&e.which!=s.KEY.SHIFT||s.KEY.isFunctionKey(e))){switch(e.which){case s.KEY.TAB:return this.close(e),this.selection.focus(),void this._testClear(e);case s.KEY.ENTER:if(e.target===this.selection[0]&&!this._opened())return this.open(e),void s.killEvent(e)}var t=this._hasSearchBox();if(c.superclass._containerKeydownHandler.apply(this,arguments),this._userTyping&&!this._opened()&&this.open(e),!t&&this._userTyping){var i;e.which!=s.KEY.LEFT&&e.which!=s.KEY.RIGHT&&(i=String.fromCharCode(e.which)),this._showSearchBox(i),this._updateResults(),s.killEvent(e)}}},_testClear:function(e){return""==this.text.text()&&(this._clear(e),!0)},_showSearchBox:function(e){var t=!1,i=this.dropdown.find(".oj-listbox-search");if(i&&(this._hasSearchBox()?(this.dropdown.find(".oj-listbox-search-wrapper").removeClass("oj-helper-hidden-accessible"),n(i).removeAttr("aria-hidden"),this.search.val(e),t=!0):(this.dropdown.find(".oj-listbox-search-wrapper").addClass("oj-helper-hidden-accessible"),n(i).attr("aria-hidden","true"))),s._focus(t?this.search:this.selection),t){var o=this;i.find(".oj-listbox-spyglass-box").on("mouseup click",function(e){o.search.focus(),e.stopPropagation()})}},_hasSearchBox:function(){var e=this.opts.minimumResultsForSearch;return(this.opts.list?n("#"+this.opts.list).find("li").length:this.datalist?this.datalist[0].length:this.opts.options?this.opts.options.length:0)>e||this._userTyping||n.isFunction(this.opts.options)}}),d=s.clazz(o,{_prepareOpts:function(){var e=d.superclass._prepareOpts.apply(this,arguments),t=this,i=e.element.get(0).tagName.toLowerCase();if("input"===i&&e.element.attr("list")||"select"===i&&e.element.children().length>0||e.list){var o=e.list?"li":"option";e.initSelection=function(e,n){var a,r=[],l=t.getVal();if(l)for(var c=l,d=0;d<c.length;d++){var u=c[d];a=e.find(o).filter(function(){return"option"===o?this.value===u:"li"===o?this.getAttribute("oj-data-value")===u:void 0}),a&&a.length?r.push(t._optionToData(a)):r.push({value:u,label:u})}else"select"!==i&&(a=e.find(o).filter(function(){return"option"===o?this.selected:"li"===o?!0===this.getAttribute("oj-data-selected"):void 0}),s.each2(a,function(e,i){r.push(t._optionToData(i))}));n(r)}}else"options"in e&&(n.isFunction(e.options)?e.initSelection=function(i,o){var r=function p(t,i){for(var s=[],o=0,a=t.length;a>o;o++){var r=t[o];if(e.indexOf.call(t,r)>=0&&s.push(r),r.children){var l=p(r.children,i);l&&l.length&&n.merge(s,l)}}return s},l=t.getVal(),c=[],d=s.getLastQueryResult(t);d&&(c=r(d,l));var u=function(){for(var e=[],i=0;i<l.length;i++){for(var n=l[i],s=!1,r=0;r<c.length;r++){var d=c[r];if((0,a["default"])(n)===(0,a["default"])(d)){e.push(d),c.splice(r,1),s=!0;break}}if(!s){var u=t.currentItem;if(u&&u.length)for(var p=0;p<u.length;p++)if((0,a["default"])(n)===(0,a["default"])(u[p])){e.push(u[p]),s=!0;break}s||e.push(n)}}o(e)};t.valueChangeTrigger?u():e.query({value:l,callback:function(e){if(e&&e.results){var t=r(e.results,l);t&&t.length&&n.merge(c,t)}u()}})}:e.initSelection=e.initSelection||function(i,s){var o=t.getVal(),r=[];e.query({matcher:function(e,t,i){var s=n.grep(o,function(e){return(0,a["default"])(e)===(0,a["default"])(i)}).length;return s&&r.push(i),s},callback:n.isFunction(s)?function(){for(var e=[],t=0;t<o.length;t++){for(var i=o[t],n=!1,l=0;l<r.length;l++){var c=r[l];if((0,a["default"])(i)===(0,a["default"])(c)){e.push(c),r.splice(l,1),n=!0;break}}n||e.push(i)}s(e)}:n.noop})});return e},_selectChoice:function(e){var t=this.container.find("."+this._classNm+"-selected-choice.oj-focus");t.length&&e&&e[0]===t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("oj-focus"),e&&e.length&&(this.close(),e.addClass("oj-focus"),this.container.find("."+this._classNm+"-description").text(e.attr("valueText")+". Press back space to delete.").attr("aria-live","assertive"),this.opts.element.trigger("choice-selected",e)))},_destroy:function(){n("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),d.superclass._destroy.apply(this,arguments)},_initContainer:function(){var e,t,i="."+this._classNm+"-choices",o=s.nextUid();this.searchContainer=this.container.find("."+this._classNm+"-search-field"),this.selection=e=this.container.find(i);var a=this;this.selection.on("click","."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)",function(e){a.search[0].focus(),a._selectChoice(n(this))}),t=n("label[for='"+this.opts.element.attr("id")+"']"),t.attr("id")||t.attr("id",this._classNm+"-label-"+o),e.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+o),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+o),this.search.attr("aria-owns",this.results.attr("id")),this.search.attr("aria-labelledby",t.attr("id")),this.opts.element.attr("aria-labelledby",t.attr("id")),this.search.attr("id")&&t.attr("for",this.search.attr("id")),this.opts.element.attr("aria-label")&&this.search.attr("aria-label",this.opts.element.attr("aria-label")),this.opts.element.attr("aria-controls")&&this.search.attr("aria-controls",this.opts.element.attr("aria-controls")),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this._bind(function(t){if(this._isInterfaceEnabled()){++this.keydowns;var i=e.find("."+this._classNm+"-selected-choice.oj-focus"),n=i.prev("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),o=i.next("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),a=s.getCursorInfo(this.search);if(i.length&&(t.which==s.KEY.LEFT||t.which==s.KEY.RIGHT||t.which==s.KEY.BACKSPACE||t.which==s.KEY.DELETE||t.which==s.KEY.ENTER)){var r=i;return t.which==s.KEY.LEFT&&n.length?r=n:t.which==s.KEY.RIGHT?r=o.length?o:null:t.which===s.KEY.BACKSPACE?(this._unselect(i.first(),t),this.search.width(10),r=n.length?n:o):t.which==s.KEY.DELETE?(this._unselect(i.first(),t),this.search.width(10),r=o.length?o:null):t.which==s.KEY.ENTER&&(r=null),this._selectChoice(r),s.killEvent(t),void(r&&r.length||this.open())}if((t.which===s.KEY.BACKSPACE&&1==this.keydowns||t.which==s.KEY.LEFT)&&0==a.offset&&!a.length)return this._selectChoice(e.find("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)").last()),void s.killEvent(t);if(this._selectChoice(null),this._opened())switch(t.which){case s.KEY.UP:case s.KEY.DOWN:return this._moveHighlight(t.which===s.KEY.UP?-1:1),void s.killEvent(t);case s.KEY.ENTER:return this._selectHighlighted(null,t),void s.killEvent(t);case s.KEY.TAB:return void this.close(t);case s.KEY.ESC:return this._cancel(t),void s.killEvent(t)}if(!(t.which===s.KEY.TAB||s.KEY.isControl(t)||s.KEY.isFunctionKey(t)||t.which===s.KEY.ESC||t.which===s.KEY.ENTER&&this.search.val()&&"ojcombobox"===this._elemNm))switch(t.which){case s.KEY.UP:case s.KEY.DOWN:return this.open(),void s.killEvent(t);case s.KEY.PAGE_UP:case s.KEY.PAGE_DOWN:case s.KEY.ENTER:return void s.killEvent(t)}}})),this.search.on("keyup",this._bind(function(e){this.keydowns=0})),this.search.on("blur keyup",this._bind(function(e){if("keyup"!==e.type||10===e.keyCode||13===e.keyCode){if(this.opts.manageNewEntry&&this.search.val()&&this.results.find(".oj-hover").length<=0){var t=this.opts.manageNewEntry(this.search.val()),i="blur"===e.type?s.ValueChangeTriggerTypes.BLUR:s.ValueChangeTriggerTypes.ENTER_PRESSED,n={trigger:i};this._onSelect(t,n,e)}this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus"),this._selectChoice(null),this._opened()||this._clearSearch(),e.stopImmediatePropagation()}})),this.container.on("click touchstart",i,this._bind(function(e){this._isInterfaceEnabled()&&(n(e.target).closest("."+this._classNm+"-selected-choice").length>0||(this._selectChoice(null),this._opened()?this.close(e):(this.open(),this._focusSearch()),e.preventDefault()))})),this.container.on("focus",i,this._bind(function(){this._isInterfaceEnabled()})),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this._clearSearch()},_enableInterface:function(){d.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this._isInterfaceEnabled())},_initSelection:function(){var e=this.getVal();if(null!==e&&0!==e.length||"oj-select"!==this._classNm&&""!==this.opts.element.text()||(this._updateSelection([]),this.close(),this._clearSearch()),null!==e&&e.length){var t=this,i=this.opts.element;this.opts.initSelection.call(null,i,function(e){void 0!==e&&null!==e&&0!==e.length&&(t._updateSelection(e),t.close(),t._clearSearch())})}},_clearSearch:function(){var e=this._getPlaceholder(),t=this._getMaxSearchWidth(),i=this.getVal();void 0===e||i&&0!==i.length?(this.search.attr("placeholder",""),this.search.val("").width(10),this.searchContainer.width("auto")):(this.search.attr("placeholder",e),this.search.val("").width(t>0?t:this.container.css("width")),this.searchContainer.width("100%"))},_opening:function(e,t){this._resizeSearch(),d.superclass._opening.apply(this,arguments),this._focusSearch(),t||this._updateResults(!0),this.search.focus()},close:function(e){this._opened()&&d.superclass.close.apply(this,arguments)},_focus:function(){this.close(),this.search.focus()},_updateSelection:function(e){var t=[],i=[],s=this;n(e).each(function(){s.opts.indexOf.call(t,this)<0&&(t.push(this),i.push(this))}),e=i,this.selection.find("."+this._classNm+"-selected-choice").remove(),n(e).each(function(){s._addSelectedChoice(this)}),this.currentItem=e,this.opts.element.val(0===t.length?[]:t),s._postprocessResults(),setTimeout(function(){s._positionDropdown()},0)},_onSelect:function(e,t,i){if(this._triggerSelect(e)){var s,o=this;t&&t.trigger&&(s={optionMetadata:{trigger:t.trigger}});var a=this.getVal(),r=a?a.slice(0):[];n(e).each(function(){o.opts.indexOf.call(r,this)<0&&r.push(this)}),this.setVal(r,i,s),!this.select&&this.opts.closeOnSelect||this._postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect&&(this.close(i),this.search.width(10)),t&&t.noFocus||this._focusSearch()}},_cancel:function(e){this.close(e),this._focusSearch()},_addSelectedChoice:function(e){var t,i=!e.locked,o=n("<li class='"+this._classNm+"-selected-choice'>	<div></div>	<a href='#' onclick='return false;' role='button' aria-label='remove' class='"+this._classNm+"-clear-entry 	  oj-component-icon oj-clickable-icon-nocontext "+this._classNm+"-clear-entry-icon' tabindex='-1'>	</a></li>"),a=n("<li class='"+this._classNm+"-selected-choice "+this._classNm+"-locked'><div></div></li>"),r=i?o:a;t=this.opts.formatSelection(e),void 0!==t&&(r.find("div").addClass(this._classNm+"-selected-choice-label").text(t),r.find("."+this._classNm+"-clear-entry").attr("aria-label",t+" remove"),r.attr("valueText",t)),i&&r.find("."+this._classNm+"-clear-entry").on("mousedown",s.killEvent).on("click dblclick",this._bind(function(e){this._isInterfaceEnabled()&&(n(e.target).closest("."+this._classNm+"-selected-choice").fadeOut("fast",this._bind(function(){this._unselect(n(e.target),e),this.selection.find("."+this._classNm+"-selected-choice.oj-focus").removeClass("oj-focus"),this.close(e),this._focusSearch()})).dequeue(),s.killEvent(e))})),r.data(this._elemNm,e),r.insertBefore(this.searchContainer)},_unselect:function(e,t){var i,n,s=this.getVal(),o=s?s.slice(0):[],a=this;if(e=e.closest("."+this._classNm+"-selected-choice"),0===e.length)throw"Invalid argument: "+e+". Must be ."+this._classNm+"-selected-choice";if(i=e.data(this._elemNm)){for(;(n=a.opts.indexOf.call(o,i))>=0;)o.splice(n,1),this.setVal(o,t),this.select&&this._postprocessResults();this.ojContext._IsRequired()&&0===o.length||e.remove(),this.ojContext._IsRequired()&&this.ojContext.validate()}},_postprocessResults:function(e,t,i){var n=this.getVal(),o=n&&(this.opts.element.val()||this.ojContext.isValid())?n:[],a=this.results.find(".oj-listbox-result"),r=this;s.each2(a,function(e,t){var i=r.id(t.data(r._elemNm));o&&r.opts.indexOf.call(o,i)>=0&&(t.addClass("oj-selected"),t.find(".oj-listbox-result-selectable").addClass("oj-selected"))}),!a.filter(".oj-listbox-result:not(.oj-selected)").length>0&&this.close()},_getMaxSearchWidth:function(){return this.selection.width()-s.getSideBorderPadding(this.search)},_textWidth:function(e){var t=document.createElement("span"),i=document.createTextNode(e);t.style.display="none",t.appendChild(i),n("body").append(t);var s=n("body").find("span:last").width();return n("body").find("span:last").remove(),s},_resizeSearch:function(){var e,t,i,n,o,a=s.getSideBorderPadding(this.search);e=this._textWidth(this.search.val())+10,t=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,o=i-(t-n)-a,e>o&&(o=i-a),40>o&&(o=i-a),0>=o&&(o=e),this.search.width(Math.floor(o))},setVal:function(e,t,i){var n=[],o=this;"string"==typeof e&&(e=s.splitVal(e,this.opts.separator));for(var a=0;a<e.length;a++)o.opts.indexOf.call(n,e[a])<0&&n.push(e[a]);var r={doValueChangeCheck:!1};i&&(r._context=i),this.opts.element.val(0!==e.length?e:null),this.ojContext._updateValue(n,t,r),this.search.attr("aria-activedescendant",this.opts.element.attr("id"))}}),u=s.clazz(d,{_elemNm:"ojidentity",_classNm:"oj-select",_createContainer:function(){return n(document.createElement("div")).attr({"class":"oj-identity oj-select oj-select-multi oj-component"}).html(["<div class='oj-identity-select'>","  <ul class='oj-select-choices'>","	<li class='oj-select-search-field'>","	  <input type='text' role='combobox' aria-expanded='false' aria-autocomplete='list' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='oj-listbox-input'>","	<span class='oj-identity-loading-container oj-multi-loading'>","	  <span class='oj-identity-loading' role='presentation'>","	   &nbsp;</span>","	</li>","  </ul>","</div>","<span class='oj-identity-filter multiple'></span>","<div class='oj-select-description oj-helper-hidden-accessible'/>","<div class='oj-listbox-drop oj-identity-container oj-listbox-drop-multi' style='display:none'>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>"].join(""))}}),p=function(){var e=document.documentElement.getAttribute("dir");return e&&(e=e.toLowerCase()),"rtl"===e?"rtl":"ltr"},h=function(){var e=20;if(n.isNumeric(e))return e;var t=n("<div />");n(document.body).append(t),t.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var i=n("<div />");i.height(1),t.append(i);var s=i.width(),o=t.width();return t.remove(),e=o-s}(),f=function(e,t){function i(e,t){if(e.bottom-t.top<-1)return!1;var i="auto"===t.overflowY||"scroll"===t.overflowY?h:0;return!(t.bottom-i-e.top<1||(i="auto"!==t.overflowX&&"scroll"!==t.overflowX||"rtl"!==p()?0:h,e.right-(t.left+i)<-1||(i="auto"!==t.overflowX&&"scroll"!==t.overflowX||"ltr"!==p()?0:h,e.left-(t.right-i)>-1)))}function s(e){var t=e[0];if(1===t.nodeType){var i=t.getBoundingClientRect();return i.overflowX=e.css("overflow-x"),i.overflowY=e.css("overflow-y"),i}return n.isWindow(t)?{width:t.innerWidth,height:t.innerHeight,top:0,bottom:t.innerHeight,left:0,right:t.innerWidth}:{height:0,width:0}}if(!e)return!1;var o=s(e);if(t&&!i(o,s(n(window))))return!1;for(var a=!0,r=e.parent();a&&r&&r.length>0&&1===r[0].nodeType;){if(function(e){return"visible"!==e.css("overflow-x")||"visible"!==e.css("overflow-y")}(r)){var l=s(r);l.height>0&&l.width>0&&(a=i(o,l))}r=r.parent()}return a},m=function(e){if(e.target&&e.target.height>0&&e.target.width>0){var t=e.target.element;return!f(t)}return!1},g=function(e,t){for(var i=n.extend({},e),s=0;s<v.length;s++){var o=v[s],a=i[o];a&&(i[o]=a.replace("start",t?"right":"left").replace("end",t?"left":"right").replace("<",t?"+":"-").replace(">",t?"-":"+"))}return i},v=["my","at"],y={defaultElement:"<select>",widgetEventPrefix:"oj",options:{minimumResultsForSearch:10,noMatchesFound:"No matches found",placeholder:null,list:void 0,required:!1,multiple:!0,options:null,optionsKeys:{label:"id",value:"id"},beforeExpand:null,selectAll:!0,selectLabel:"Select All",defaultScope:["user"],showScopeFilter:!1,scopesOptions:[{label:"User",value:"user"},{label:"Group",value:"group"},{label:"Role",value:"role"}],indexOf:function(e){if(!e)return-1;var t=this.length,i=0;for(e=(0,a["default"])(e);t>i;i++)if((0,a["default"])(this[i])===e)return i;return-1},contains:function(e){if(!e)return!1;for(var t=e.length,i=this.length,n=0,s=0,o=0;i>n;n++){var r=(0,a["default"])(this[n]);for(s=0;t>s;s++)if(r===(0,a["default"])(e[s])){++o;break}}return o===i}},widget:function(){return this.select?this.select.container:this.element.parent()},_ComponentCreate:function(){this._super(),this._setup()},_nativeSetDisabled:function(e){e?(this.element.attr("disabled",""),this.element.parent().addClass("oj-disabled").removeClass("oj-enabled")):(this.element.removeAttr("disabled"),this.element.parent().removeClass("oj-disabled").addClass("oj-enabled"))},_nativeChangeHandler:function(e){},_jetSetup:function(){var e={},t=this.options.multiple;e.element=this.element,e.ojContext=this,e=n.extend(this.options,e),n.isArray(e.defaultScope)||(e.defaultScope=[e.defaultScope]),this.select=t?new u:new c,this.select._init(e);var i=this.select.opts;this.select.container.addClass("oj-select-jet oj-form-control"),this.element.val=function(e){return arguments.length&&(i.value=e),i.value||[]}},_setup:function(){this._jetSetup()},refresh:function(){this._super(),this._cleanup(),this._setup()},_refreshRequired:t.EditableValueUtils._refreshRequired,_AriaRequiredUnsupported:function(){return!1},validate:t.EditableValueUtils.validate,isValid:function(){var e=this.element.val();if(this.options.required){if(e&&0!==e.length)return 0!==this.options.messagesShown.length&&this._setOption("messagesCustom",[]),!0;if(0===this.options.messagesShown.length&&this.options.isRendered){var i=t.Translations.getTranslatedString("oj-validator.required.summary"),n=t.Translations.getTranslatedString("oj-validator.required.detail");this._setOption("messagesCustom",[new t.Message(i,n)])}return!1}return!0},_destroy:function(){this._super(),this._cleanup()},_NotifyDetached:function(){this.select.close()},_NotifyHidden:function(){this.select.close()},_SetPlaceholder:function(e){},_updateValue:function(e,t,i){t&&(i._context=i._context||{},n.extend(!0,i._context,{optionMetadata:{trigger:"option_selected",writeback:"shouldWrite"},originalEvent:t.originalEvent||t}),this.valueUpdated=!0,this.option({value:e},i),this.select._initSelection()),this._IsRequired()&&0!==e.length&&(this.select.container.removeClass("oj-invalid"),this.select.container.find(".oj-messaging-inline-container").remove())},_SetPlaceholderOption:function(e){this._super(e)},_HasPlaceholderSet:function(){return"string"==typeof this.options.placeholder},_IsRequired:function(){return this.options.required},_ClearPlaceholder:function(){this._SetPlaceholderOption(null),this._SetPlaceholder(null)},_InitOptions:function(e,i){var n=[{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}];if(this._super(e,i),t.EditableValueUtils.initializeOptionsFromDom(n,i,this),void 0===this.options.value)this.options.value=void 0!==this.element.attr("value")?s.splitVal(this.element.val(),","):null;else{var o=this.options.value;Array.isArray(o)&&(o=o.slice(0)),this.options.value=o}},_SetDisplayValue:function(e){this.element.val(e)},_GetDisplayValue:function(){return this.element.val()},_updateDisplayValue:function(){this.valueUpdated?this.valueUpdated=!1:this.select._initSelection()},_setOption:function(e,t,i){if("value"===e){var s=this.select.opts.element;t||(t=[]),Array.isArray(t)||(t=[t]);for(var o=[],a=0;a<t.length;a++)(this.options.multiple||this.select.opts.validate(s,t[a]))&&o.push(t[a]);return this._super(e,o,i),void this._updateDisplayValue()}"placeholder"===e?(this.select.opts.placeholder=t||null,this.select._setPlaceholder()):"minimumResultsForSearch"===e?this.select.opts.minimumResultsForSearch=t:"multiple"===e?(this.options.multiple=t,this.refresh()):"required"===e?(this.options.required=t,this.refresh()):"defaultScope"===e?(t?n.isArray(t)||(t=[t]):t=["user"],this.options.defaultScope=t,this.refresh()):"optionsKeys"===e?(this.options.optionsKeys=t,this.refresh()):"options"===e&&(this.options.options=t,this.refresh()),"disabled"===e?(t?this.select._disable():this.select._enable(),this.options.disabled=!!t):"options"===e?(this.select.opts.options=t,this.select.opts=this.select._prepareOpts(this.select.opts),this._super("value",this.select.getVal())):this._super(e,t,i)},_getDropdown:function(){if(this.select&&this.select._opened()){var e=this.select.dropdown;if(e&&e.attr("data-oj-containerid")===this.select.containerId)return e}return null},_cleanup:function(){this.select._destroy(),this.select=void 0},getNodeBySubId:function(e){var t,i=null;if(null==e){var s=this.widget();return s?s[0]:null}if(this._isNative())return null;if(!(i=this._super(e))){var o=this._getDropdown();switch(t=e.subId){case"oj-select-drop":o&&(i=o[0]);break;case"oj-select-results":o&&(i=o.find(".oj-listbox-results")[0]);break;case"oj-select-search":o&&(i=o.find(".oj-listbox-search")[0]);break;case"oj-select-input":case"oj-listbox-input":!0===this.options.multiple?i=this.widget().find(".oj-listbox-input")[0]:o&&(i=o.find(".oj-listbox-input")[0]);break;case"oj-select-choice":case"oj-select-chosen":case"oj-select-arrow":i=this.widget().find("."+t)[0];break;case"oj-listitem":if(o){var a=o.find(".oj-listbox-result");i=this.select._findItem(a,e.value)}break;case"oj-select-remove":var r=this.widget().find(".oj-select-selected-choice"),l=this.select._findItem(r,e.value);i=l?n(l).find(".oj-select-clear-entry-icon")[0]:null;break;case"oj-listbox-result-label":if(o){var c=n("#"+this.select.results.attr("id")).children(),d=e.index;c.length&&d<c.length&&(i=c.eq(d).find("."+t)[0])}}}return i||null},getSubIdByNode:function(e){if(this._isNative())return this._super(e);
var t=null;if(null!=e){var i=n(e);i.hasClass("oj-listbox-input")?t={subId:"oj-select-input"}:i.hasClass("oj-select-arrow")?t={subId:"oj-select-arrow"}:i.hasClass("oj-listbox-result")?t={subId:"oj-listitem",value:i.data("ojidentity").value}:i.hasClass("oj-select-clear-entry-icon")&&(t={subId:"oj-select-remove",value:i.closest(".oj-select-selected-choice").data("ojidentity").value})}return t},_GetDefaultStyleClass:function(){return"oj-select"},_GetMessagingLauncherElement:function(){return this.select?this.select.selection:this.element}};!function(e,t,i,s){if(n.widget(e,t,i),s){var o=e.split(".")[1];delete n.fn[o]}if("oj.oj"===e.substring(0,5)||"oj._oj"===e.substring(0,6))var a=e.split(".");var r,l=a[0],c=a[1],d=l+"-"+c,u="_"===c.substring(0,1);r=u?"_"+l+"-"+c.substring(3):l+"-"+c.substring(2),n.expr[":"][r.toLowerCase()]=function(e){return!!n.data(e,d)}}("oj.ojIdentity",n.oj.editableValue,y)}.apply(t,n))&&(e.exports=s)}.apply(t,n))&&(e.exports=s)},jquery:function(t,i){t.exports=e},"ojs/ojcore":function(e,i){e.exports=t},"ojs/ojeditablevalue":function(e,t){e.exports=i}})}),define("pcs/identityBrowser/viewModel/IdentityViewModel",["knockout","pcs/identityBrowser/viewModel/IdentityService","ojidentity","ojL10n!pcs/resources/nls/pcsSnippetsResource"],function(e,t){"use strict";function i(i){var n=this,s=require("pcs/util/loggerUtil");n.bundle=require("ojL10n!pcs/resources/nls/pcsSnippetsResource"),n.service=new t,n.value=i.hasOwnProperty("value")?i.value:e.observableArray([]),n.valueSubscription=n.value.subscribe(function(e){n.service.setSelectedIdentities(e)}),n.multiple=i.hasOwnProperty("multiple")&&e.utils.unwrapObservable(i.multiple)===!0,n.scope=i.hasOwnProperty("scope")?e.utils.unwrapObservable(i.scope):"user",n.scope||(n.scope="all"),n.placeholder=i.hasOwnProperty("placehoderTxt")?e.utils.unwrapObservable(i.placehoderTxt):n.bundle.pcs.idBrowser.placeholderTxt,n.idbID=i.hasOwnProperty("idbID")?e.utils.unwrapObservable(i.idbID):"identityBrowser",n.selectLabel=i.hasOwnProperty("selectLabel")?i.selectLabel:"Select All",n.dispose=function(){s.log("dispose in IVM"),n.valueSubscription.dispose()}}return i.prototype={setValue:function(e){this.value(e)},getValue:function(){return this.service.getSelectedIdentities()},getUserIDs:function(){var e=this.service.getSelectedIdentities();return e.map(function(e){return e.id})},getUserTypes:function(){var e=this.service.getSelectedIdentities();return e.map(function(e){return e.type})},getIdentities:function(e){return this.service.restCall(e)},getIdentityIndex:function(e,t){if(!Array.isArray(e))throw"argument type in not array";if(!t)return-1;for(var i=e.length,n=0,s=JSON.stringify(t);i>n;n++){var o=JSON.stringify(e[n]);if(o===s)return n}return-1}},i}),requirejs.config({shim:{"pcs/identityBrowser/viewModel/IdentityViewModel":{deps:["pcs/config/debug-config"]}}}),define("pcs/identityBrowser/loader",["ojs/ojcore","knockout","!text!pcs/identityBrowser/view/idBrowser.html","pcs/identityBrowser/viewModel/IdentityViewModel"],function(e,t,i,n){"use strict";var s=require("pcs/util/loggerUtil");t.components.isRegistered("pcs-identity-browser")||(t.components.register("pcs-identity-browser",{template:i,viewModel:{createViewModel:function(e,t){return new n(e,t)}}}),s.log("pcs-idBrowser registered"))}),define("pcs/pcs.identitybrowser",["ojs/ojcore","knockout","jquery","ojL10n!pcs/resources/nls/pcsSnippetsResource","ojs/ojknockout","pcs/identityBrowser/loader","pcs/util/loggerUtil"],function(e){"use strict"}),define("pcs/tasklistActions/viewModel/requestInfoVM",["jquery","ojs/ojcore","knockout","pcs/tasklist/viewModel/Task","pcs/tasklistActions/viewModel/TaskAction","ojs/ojdialog","ojs/ojradioset","ojs/ojinputtext","pcs/pcs.identitybrowser","ojL10n!pcs/resources/nls/pcsSnippetsResource"],function(e,t,i,n,s){"use strict";function o(t,n){var o=this,a=require("pcs/util/loggerUtil");o.rootElement=e(n.element),o.bundle=require("ojL10n!pcs/resources/nls/pcsSnippetsResource"),o.TaskAction=s(),o.paths={task:"tasks/{taskNumber}"},o.loadingOverlay=e("#pcs-requestInfo-overlay",o.rootElement),o.showInline=i.observable(t.showInline),o.tasks=t.tasks,o.isVisible=t.isVisible,o.idbConfig={multiple:!1},o.username=i.observable("weblogic"),o.comments=i.observable(""),o.action=i.observable("INFO_REQUEST"),o.placeholder=i.observable(o.bundle.pcs.taskActions.searchUsers),o.idbID="pcs-requestInfo-idb",o.scope="user",o.init=function(){o.showInline()||(e("#pcs-requestinfo-dialog-content").append(e("#pcs-requestinfo-inline-content")),e("#pcs-requestinfo-dialog-footer").append(e("#pcs-requestinfo-inline-footer")))}(),o.handleClose=function(){o.comments(""),o.isVisible(!1)},o.isVisibleSubscription=o.isVisible.subscribe(function(t){var i=e("#pcs-requestinfo-modalDialog");!o.showInline()&&t?i.ojDialog("open"):i.ojDialog("close")}),o.handleSubmit=function(){var e=i.contextFor(document.getElementById("pcs-requestInfo-idb")).$data;try{o.loadingOverlay.addClass("pcs-common-load-overlay"),o.TaskAction.requestInfo(o.tasks(),e.getUserIDs(),e.getUserTypes(),o.comments()).then(function(){o.loadingOverlay.removeClass("pcs-common-load-overlay"),o.handleClose(),e.setValue(null),o.rootElement.trigger("tasklistAction:refresh",[]),o.rootElement.trigger("taskAction:submit",[o.action()])})}catch(t){a.log("Error - to be handled")}},o.dispose=function(){a.log("dispose in ReqInfoVM"),o.isVisibleSubscription.dispose()}}return o}),define("pcs/tasklistActions/viewModel/reassignVM",["jquery","ojs/ojcore","knockout","pcs/tasklist/viewModel/Task","pcs/tasklistActions/viewModel/TaskAction","ojs/ojdialog","ojs/ojradioset","ojs/ojinputtext","pcs/pcs.identitybrowser","ojL10n!pcs/resources/nls/pcsSnippetsResource"],function(e,t,i,n,s){"use strict";function o(t,n){var o=this,a=require("pcs/util/loggerUtil");o.rootElement=e(n.element),o.bundle=require("ojL10n!pcs/resources/nls/pcsSnippetsResource"),o.TaskAction=s(),o.paths={task:"tasks/{taskNumber}"},o.loadingOverlay=e("#pcs-reassign-overlay",o.rootElement),o.showInline=i.observable(t.showInline),o.tasks=t.tasks,o.isVisible=t.isVisible,o.comments=i.observable(""),o.action=i.observable("REASSIGN"),o.placeholder=i.computed(function(){return"REASSIGN"===o.action()?o.bundle.pcs.taskActions.searchAll:o.bundle.pcs.taskActions.searchUsers}),o.scope=i.computed(function(){return"REASSIGN"===o.action()?"all":"user"}),o.idbConfig={multiple:!0},o.idbID="pcs-reassign-idb",o.init=function(){o.showInline()||(e("#pcs-reassign-dialog-content").append(e("#pcs-reassign-inline-content")),e("#pcs-reassign-dialog-footer").append(e("#pcs-reassign-inline-footer")))}(),o.handleClose=function(){o.comments(""),o.isVisible(!1)},o.isVisibleSubscription=o.isVisible.subscribe(function(t){var i=e("#pcs-reassign-modalDialog");!o.showInline()&&t?i.ojDialog("open"):i.ojDialog("close")}),o.handleSubmit=function(){var e=i.contextFor(document.getElementById("pcs-reassign-idb")).$data;try{o.loadingOverlay.addClass("pcs-common-load-overlay");var t={identityId:e.getUserIDs(),identityType:e.getUserTypes(),userComment:o.comments(),reassignType:o.action()};o.TaskAction.reassignTasks(o.tasks(),t).then(function(){o.loadingOverlay.removeClass("pcs-common-load-overlay"),o.handleClose(),e.setValue([]),o.rootElement.trigger("tasklistAction:refresh",[]),o.rootElement.trigger("taskAction:submit",[o.action()])})}catch(n){a.log("Error - to be handled")}},o.dispose=function(){a.log("dispose in ReassignVM"),o.isVisibleSubscription.dispose(),o.placeholder.dispose(),o.scope.dispose()}}return o}),define("pcs/tasklistActions/viewModel/taskActionsVM",["ojs/ojcore","knockout","jquery","pcs/tasklistActions/viewModel/TaskAction","pcs/tasklistActions/viewModel/Task","!text!pcs/tasklistActions/templates/pcs-requestInfo.html","!text!pcs/tasklistActions/templates/pcs-reassign.html","pcs/tasklistActions/viewModel/requestInfoVM","pcs/tasklistActions/viewModel/reassignVM","ojs/ojknockout","ojs/ojselectcombobox","ojs/ojbutton","ojs/ojmenu","ojs/ojdialog","ojL10n!pcs/resources/nls/pcsSnippetsResource"],function(e,t,i,n,s,o,a,r,l){"use strict";return function(c,d){function u(){t.components.isRegistered("requestInfo")||t.components.register("requestInfo",{template:o,viewModel:{createViewModel:function(e,t){return new r(e,t)}}}),t.components.isRegistered("reassign")||t.components.register("reassign",{template:a,viewModel:{createViewModel:function(e,t){return new l(e,t)}}})}function p(e,t){if(v.taskActionList([]),t){var i=[],n=t.filter(function(e){return(v.taskNumbers||e.isSelected())&&(i=k(e.getActionList(),i)),v.taskNumbers||e.isSelected()});v.isTaskSelected(n.length>0),v.taskActionList(A(i)),v.selectedTasklist(n)}}function h(){if(g=new n,u(),v.taskNumbers){var e=v.taskNumbers.map(function(e){return g.getTaskDetail(e)});Promise.all(e).then(function(e){v.isTaskSelected(!0),p(null,e)})["catch"](function(e){i("#pcs-taskactions-container").html("One of more task objects could not be obtained")})}}function f(){v.taskActionList([]),v.selectedTasklist([]),v.isTaskSelected(!1),v.actionName(""),v.actionComments(""),v.showConfirmation("none")}function m(){f()}var g,v=this,y=require("pcs/util/loggerUtil");v.loadingOverlay=i("#pcs-tl-overlay",v.rootElement);var b=v.systemActions?v.systemActions:["SUSPEND","ESCALATE","RENEW","REASSIGN","INFO_REQUEST","INFO_SUBMIT","WITHDRAW","ACQUIRE","PURGE","DELETE","RESUME","RELEASE"];v.rootElement=i(d?d.element:document),v.bundle=require("ojL10n!pcs/resources/nls/pcsSnippetsResource"),v.displayInfoRequest=t.observable(),v.displayReassign=t.observable(),v.taskActionList=t.observableArray([]),v.selectedTasklist=t.observableArray([]),v.isTaskSelected=t.observable(!1),v.isActionConfirm=t.observable(!1),v.showConfirmation=t.observable("none"),v.actionName=t.observable(""),v.actionComments=t.observable(""),v.displayActionName=t.computed(function(){var e=v.bundle.pcs.taskActions[v.actionName()];return e||(e=v.actionName()),e}),v.hideCustomActions=c.taskactionParams.hideCustomActions,v.hideSystemActions=c.taskactionParams.hideSystemActions,v.systemActions=c.taskactionParams.systemActions.split(",").map(function(e){return e.trim()}),v.taskNumbers=void 0===c.taskactionParams.taskNumbers?null:c.taskactionParams.taskNumbers.split(",").map(function(e){var t={number:e.trim()},i=new s(t);return i}),v.confirmDialog=i("#pcs-taskActions-confirmation-dialog",v.rootElement),u();var A=function(e){return e?e.filter(function(e){return e.label=e.title?e.title:e.actionId,"System"===e.actionType&&(e.label=v.bundle.pcs.taskActions[e.actionId]?v.bundle.pcs.taskActions[e.actionId]:e.title?e.title:e.actionId),"System"===e.actionType&&b.indexOf(e.actionId)>-1||"Custom"===e.actionType}):[]},k=function(e,t){return t=0===t.length&&e.length>0?e:t.filter(function(t){if("System"===t.actionType&&-1===b.indexOf(t.title))return!1;var i=e.filter(function(e){return t.title===e.title});return i.length>0})};h(),i(document).on("tasklist:taskCheck",p),i(document).on("tasklistAction:refresh",m),i(document).on("taskAction:submit",m),v.getSelectedItems=function(){var t=v.bundle.pcs.taskActions.selectedTasks;return t=e.Translations.applyParameters(t,{0:v.selectedTasklist().length})},v.onCustomActionClick=function(e,t){v.actionName(e.actionId),v.showConfirmation("custom"),v.confirmDialog.ojDialog("open")},v.onSystemActionSelect=function(e,t){v.actionName(e.actionId),v.showConfirmation("system"),"INFO_REQUEST"===v.actionName()||"REASSIGN"===v.actionName()?v.handleSubmit():v.confirmDialog.ojDialog("open")},v.handleSubmit=function(){"custom"===v.showConfirmation()?v.submitCustomAction():"system"===v.showConfirmation()&&v.submitSystemAction(),v.confirmDialog.ojDialog("close")},v.handleClose=function(){v.confirmDialog.ojDialog("close")},v.submitCustomAction=function(){v.loadingOverlay.addClass("pcs-common-load-overlay");var e=v.actionName(),t=v.actionComments();1===v.selectedTasklist().length?g.doCustomActionOnTask(v.selectedTasklist()[0],e,t).then(function(){v.rootElement.trigger("taskAction:submit",[e]),f(),v.loadingOverlay.removeClass("pcs-common-load-overlay")}):g.doCustomActionOnTasks(v.selectedTasklist(),e,t).then(function(){v.rootElement.trigger("taskAction:submit",[e]),f(),v.loadingOverlay.removeClass("pcs-common-load-overlay")})};var E=function(e){var t=v.actionComments();1===v.selectedTasklist().length?g.doSystemActionOnTask(v.selectedTasklist()[0],e,t).then(function(){v.rootElement.trigger("taskAction:submit",[e]),f()}):g.doSystemActionOnTasks(v.selectedTasklist(),e,t).then(function(){v.rootElement.trigger("taskAction:submit",[e]),f()})};v.submitSystemAction=function(){v.displayInfoRequest(!1),v.displayReassign(!1);var e=v.actionName();switch(e){case"INFO_REQUEST":v.displayInfoRequest(!0);break;case"REASSIGN":v.displayReassign(!0);break;default:E(e)}},v.dispose=function(){y.log("dispose in taskActionsVM"),v.displayActionName.dispose()}}}),define("text!pcs/tasklistActions/templates/pcs-taskactions-error.html",[],function(){return'<div class="oj-message oj-message-error">\n    <span class="oj-component-icon oj-message-status-icon oj-message-error-icon"\n          role="img">\n    </span>\n    <span class="oj-message-content">\n        <div class="oj-message-summary">\n            Required parameters are missing\n        </div>\n        <div class="oj-message-detail">\n            <span>This component requires these values -</span>\n            <pre>\n    *taskNumbers : \'\'\n    </pre>\n        </div>\n    </span>\n</div>\n'}),define("text!pcs/tasksearch/templates/tasksearchContainer.html",[],function(){return'<div id="pcs-task-search-container" data-bind="visible : mode() === \'Search\'" class="oj-flex pcs-task-advance-search-container">\n	<div class="oj-flex-item oj-md-justify-content-center">\n    <input id="searchInpputText" type="text" class="pcs-ts-advance-search-input-text"\n		   data-bind="attr:{placeholder: bundle.pcs.tasksearch.search}, ojComponent:{component: \'ojInputText\', rootAttributes: {style:\'min-width:350px\'}},\n		   suggestItems: autoSuggestions, value: keyword,\n           valueUpdate:[\'afterkeypress\',\'propertychange\',\'input\']"/>\n		<div class="pcs-ts-arrowhead-icon" data-bind="click: showAdvanceSearchPopup, attr: {title: bundle.pcs.tasksearch.show_advance_search}">\n		</div>\n	</div>\n</div>\n<div id="pcs-task-simple-search-container" data-bind="visible : mode() === \'Filter\'" class="oj-flex pcs-task-simple-search-container">\n	<div class="oj-flex-item oj-md-justify-content-center">\n		<input id="simpleSearchInpputText" type="text" class="pcs-ts-simple-search-input-text"\n			   data-bind="attr:{placeholder: bundle.pcs.tasksearch.search},ojComponent:{component: \'ojInputText\', rootAttributes: {style:\'margin-bottom:0px;max-height:30px;min-width:250px;max-width:250px\'}}, value: keyword, event:{keyup: onKeyUpSearchTextBox}"/>\n		<div class="pcs-ts-filter-icon" data-bind="visible: showFilter, click: showAdvanceSearchPopup , attr: {title: bundle.pcs.tasksearch.show_filters}">\n		</div>\n	</div>\n</div>\n    <!-- Advanced Search popup -->\n    <div class="pcs-ts-advance-search" id="advanceSearchPopup"\n         data-bind="ojComponent:{component: \'ojDialog\', \'initialFocus\' : \'firstFocusable\',\n                    title : mode() === \'Search\' ? bundle.pcs.tasksearch.advanced_search :  bundle.pcs.tasksearch.filters,\n                    rootAttributes : {style: \'min-width: 600px; height: inherit\', id: \'advSearchDialog\'}}">\n		<!-- ko template: {name: \'advanceSearchTemplate\'} -->\n		<!-- /ko -->\n    </div>\n    <script type="text/html" id="menuItemTemplate">\n        <li>\n            <a data-bind="text: item.displayName"></a>\n            <span style="display: none" data-bind="text: ko.toJSON($data)"></span>\n            <!-- ko if: item.items -->\n           	 	<ul data-bind="template: {name: \'menuItemTemplate\', foreach: item.items, as: \'item\'}">\n            	</ul>\n            <!-- /ko -->\n        </li>\n    </script>\n    <script type="text/html" id="advanceSearchTemplate">\n		<div id="advsrchbody" class="oj-flex oj-md-flex-direction-column oj-dialog-body">\n			<div class="oj-flex-item oj-flex oj-sm-flex-items-initial oj-md-justify-content-center">\n				<div class="oj-flex-item" data-bind="visible: showAdvancedOptions">\n					<div id="matchSet" data-bind="ojComponent: {component: \'ojButtonset\', checked: matchCriteria}"\n						 aria-label="Choose only one match criteria.">\n						<!-- ko foreach: matchCriterias -->\n						<label data-bind="attr: {for: id}">Match </label>\n						<input type="radio" name="match"\n							   data-bind="value: id, attr: {id: id},\n                                  ojComponent: { component: \'ojButton\', label: label }"/>\n						<!-- /ko -->\n					</div>\n				</div>\n			</div>\n			<div id="formlayout" class="oj-flex-item oj-form-layout">\n				<div class="oj-form oj-sm-odd-cols-12 oj-md-odd-cols-3 oj-md-labels-inline" id="form">\n					<div class="oj-flex" id="row1" data-bind="visible : mode() === \'Search\'">\n						<div class="oj-flex-item pcs-ts-contains-text" id="col1">\n							<input id="text-input"\n								   type="text" placeholder="Contains The Text"\n								   data-bind="ojComponent: {component: \'ojInputText\' , rootAttributes: {style:\'min-width:100%\'}, value: containsText}"/>\n						</div>\n					</div>\n					<div class="oj-flex" id="row2">\n						<div class="oj-flex-item pcs-ts-advanced-search-form-label" id="row2Col1">\n							<label id="statusLabel" for="status" class="pcs-ts-advance-search-label"\n								   data-bind="text: bundle.pcs.tasksearch.status"></label>\n						</div>\n						<div class="oj-flex-item" id="row2Col2">\n							<select id="status" data-bind="ojComponent: {component: \'ojSelect\',\n                                                          multiple: mode() === \'Search\',\n                                                          value: selectedStatus, rootAttributes: {style:\'max-width:100%\'},\n                                                          options: availableStatus}">\n							</select>\n						</div>\n					</div>\n					<div class="oj-flex" id="row3">\n						<div class="oj-flex-item pcs-ts-advanced-search-form-label" id="row3Col1">\n							<label id="assigneeLabel" for="assignes" class="pcs-ts-advance-search-label"\n								   data-bind="text: bundle.pcs.tasksearch.assignee"></label>\n						</div>\n						<div class="oj-flex-item" id="row3Col2">\n							<select id="assignes" aria-label="Assigne" data-bind="ojComponent: {component: \'ojSelect\',\n                                                          multiple: false,\n                                                          value: selectedAssignees,\n                                                          options: availableAssignees}">\n							</select>\n						</div>\n					</div>\n					<div class="oj-flex" id="row4">\n						<div class="oj-flex-item pcs-ts-advanced-search-form-label" id="row4Col1">\n							<label id="fromUserLabel" for="identityBrowser" class="pcs-ts-advance-search-label"\n								   data-bind="text: bundle.pcs.tasksearch.fromuser"></label>\n						</div>\n						<div class="oj-flex-item" id="row4Col2">\n							<pcs-identity-browser id="fromUser" class="pcs-ts-idb"></pcs-identity-browser>\n						</div>\n					</div>\n					<div class="oj-flex">\n						<div class="oj-flex-item pcs-ts-advanced-search-form-label">\n							<label id="inputgrouplabel" class="pcs-ts-advance-search-label"\n								   data-bind="text: dueDateFilter().displayName"></label>\n						</div>\n						<div class="oj-flex-item">\n							<div class="oj-form-control-group" aria-labelledby="inputgrouplabel" role="group">\n								<select id="dueDateFilter" data-bind="ojComponent: {component: \'ojSelect\',\n                                                          multiple: false,\n                                                          value: dueDateFilter().filterOperator,\n                                                          optionChange: dueDateFilter().handleFilterOperatorChange,\n                                                          rootAttributes: {style:\'max-width:25%\'},\n                                                          options: dueDateFilter().filterOperators}">\n\n								</select>\n								<div id="content" class="pcs-ts-filter-values"  data-bind="foreach : dueDateFilter().values"  >\n									<!-- ko if: type() === $parent.filterValueType.valueTypes.DATE -->\n									<input data-bind="ojComponent: {component: \'ojInputDate\' ,value: value, rootAttributes: {style:\'width:5vw\'}}" />\n									<!-- /ko -->\n									<!-- ko if: type()=== $parent.filterValueType.valueTypes.STRING -->\n									<input  data-bind="ojComponent: {component: \'ojInputText\', rootAttributes: {style:\'width:30%\'}, value: value}" />\n									<!-- /ko -->\n									<!-- ko if: type() === $parent.filterValueType.valueTypes.INTEGER  -->\n									<input  placeholder="Enter Numbers"  data-bind="ojComponent: {component: \'ojInputText\',\n									rootAttributes: {style:\'width:30%\'} , displayOptions: {messages: [\'notewindow\']},\n									 validators : [{type: \'regExp\', options : {pattern: \'\'^\\\\d+$\',\n								 	messageSummary: \'Value \\\'{value}\\\' Invalid\',messageDetail: \'You must enter a Number.\'}}],\n								  	value: value}" />\n									<!-- /ko -->\n									<!-- ko if: type() === $parent.filterValueType.valueTypes.LIST  -->\n									<select    data-bind="ojComponent: {component: \'ojSelect\',\n                                                      multiple: false,\n                                                      rootAttributes: {style:\'width:30%\'},\n                                                      value: value,\n                                                      options: listOfValues()}">\n									</select>\n									<!-- /ko -->\n								</div>\n							</div>\n						</div>\n					</div>\n					<div class="oj-flex" id="row6">\n						<div class="oj-flex-item pcs-ts-advanced-search-form-label" id="row6Col1">\n							<label for="application" id="applicationLabel" class="pcs-ts-advance-search-label"\n								   data-bind="text: bundle.pcs.tasksearch.processLabel"></label>\n						</div>\n						<div class="oj-flex-item" id="row6Col2">\n							<select id="application" data-bind="ojComponent: {component: \'ojSelect\',\n                                                      multiple: true,\n                                                      value: selectedApplications,\n                                                      rootAttributes: {style:\'max-width:100%\'},options: availableApplications}">\n							</select>\n						</div>\n					</div>\n					<hr style="margin: 20px 0" data-bind="visible: selectedSearchableFields().length > 0"/>\n\n					<!-- ko foreach: selectedSearchableFields -->\n\n					<div class="oj-flex">\n						<div class="oj-flex-item pcs-ts-advanced-search-form-label">\n							<label id="inpgroup" data-bind="text: displayName" class="pcs-ts-advance-search-label"> </label>\n						</div>\n						<div class="oj-flex-item"  style="max-width: 55%;">\n							<div class="oj-form-control-group" aria-labelledby="inputgrouplabel" role="group">\n								<!-- ko if: filterOperators().length > 0 -->\n								<select data-bind="attr{id: name},ojComponent: {component: \'ojSelect\',\n                                                      multiple: false,\n                                                      value: filterOperator,\n                                                      optionChange: handleFilterOperatorChange,\n                                                      rootAttributes: {style:\'max-width:25%\'},\n                                                      options: filterOperators}">\n								</select>\n								<!-- /ko -->\n								<!-- ko if: type() === $parent.filterType.filterTypes.USER -->\n								<!-- <idb  databind="attr: {id: $parent.generateUniqueIdForSearchableFieldOfTypeUser($index()) }" class="pcs-ts-idb"></idb>-->\n								<div data-bind=\'attr: {id: $parent.generateUniqueIdForSearchableFieldOfTypeUser($index())}, component: {name: "pcs-identity-browser"}\' class="pcs-ts-idb"></div>\n								<!-- /ko -->\n								<div class="pcs-ts-filter-values" data-bind="foreach : { data: values(), as: \'filterValue\'}">\n									<!-- ko if: filterValue.type() === \'Date\' -->\n									<input data-bind="ojComponent: {component: \'ojInputDate\', rootAttributes: {style:\'width:5vw\'}, value: value}"/>\n									<!-- /ko -->\n									<!-- ko if: filterValue.type() ===  \'String\' -->\n									<input data-bind="ojComponent: {component: \'ojInputText\',rootAttributes: {style:\'max-width:30%\'}, value: value}"/>\n									<!-- /ko -->\n									<!-- ko if: filterValue.type() === \'Integer\'  -->\n									<input placeholder="Enter Numbers" data-bind="ojComponent: {component: \'ojInputText\',\n                                	rootAttributes: {style:\'max-width:30%\'}, value: value,\n                                	displayOptions: {messages: [\'notewindow\']},\n									validators : [{type: \'regExp\', options : {pattern: \'^\\\\d+$\',\n									messageSummary: \'Value \\\'{value}\\\' Invalid\',\n									messageDetail:  \'You must enter a Integer.\'}}]}"/>\n									<!-- /ko -->\n									<!-- ko if: filterValue.type() === \'Long\'  -->\n									<input placeholder="Enter Numbers" data-bind="ojComponent: {component: \'ojInputText\',\n									rootAttributes: {style:\'max-width:30%\'}, value: value,\n									displayOptions: {messages: [\'notewindow\']},\n									validators : [{type: \'regExp\', options : {pattern: \'^\\\\d+$\',\n									messageSummary: \'Value \\\'{value}\\\' Invalid\',\n									messageDetail: \'You must enter a Long.\'}}]}"/>\n									<!-- /ko -->\n									<!-- ko if: filterValue.type() === \'Double\'  -->\n									<input placeholder="Enter Numbers" data-bind="ojComponent: {component: \'ojInputText\',\n									rootAttributes: {style:\'max-width:30%\'}, value: value,\n									displayOptions: {messages: [\'notewindow\']}\n									validators : [{type: \'regExp\', options : {pattern: \'[0-9.]{1,}\',\n									messageSummary: \'Value \\\'{value}\\\' Invalid\',\n									messageDetail: \'You must enter a Number.\'}}]}"/>\n									<!-- /ko -->\n									<!-- ko if: filterValue.type() === \'Float\'  -->\n									<input placeholder="Enter Numbers" data-bind="ojComponent: {component: \'ojInputText\',\n									rootAttributes: {style:\'max-width:30%\'}, value: value,\n									displayOptions: {messages: [\'notewindow\']}\n									validators : [{type: \'regExp\', options : {pattern: \'[0-9.]{1,}\',\n									messageSummary: \'Value \\\'{value}\\\' Invalid\',\n									messageDetail: \'You must enter a Number.\'}}]}"/>\n									<!-- /ko -->\n									<!-- ko if: filterValue.type() === \'List\' -->\n									<select data-bind="ojComponent: {component: \'ojSelect\',\n                                                      multiple: false,\n                                                      value: value,\n                                                      rootAttributes: {style:\'max-width:30%\'},\n                                                      options: listOfValues}">\n									</select>\n									<!-- /ko -->\n								</div>\n							</div>\n						</div>\n						<div class="oj-flex-item" style="max-width: 10%;">\n							<!--<div data-bind=" visible: $parent.showAdvancedOptions, ojComponent: {component: \'ojButtonset\', checked: $data.isMust(), display:\'icons\', icons: {start:\'oj-fwk-icon oj-fwk-icon-clock\'}}">\n                                <input type="checkbox" id="must" value="Must"/>\n                            </div>-->\n							<button  data-bind="visible: canDelete,click: $parent.removeSelectedSearchableField.bind($data, $index()), ojComponent: {\n                                                    component:\'ojButton\', chroming: \'half\', label: \'Remove\', display: \'icons\',\n                                                    icons: {start:\'oj-fwk-icon pcs-ts-removefilter-icon\'}\n                                                }">\n							</button>\n						</div>\n					</div>\n\n					<!-- /ko -->\n				</div>\n				<div class="oj-flex" id="row7" data-bind="visible : mode() === \'Search\'">\n					<button id="addFilter"\n							data-bind=" click: onClickAddFilter, ojComponent: {component: \'ojButton\',\n                                                                               label: \'Add Filter\',\n                                                                               chroming: \'half\',\n                                                                               menu: \'#filterMenu\',\n                                                                               icons: {start: \'oj-fwk-icon pcs-ts-add-filter-menu\'}}">\n					</button>\n					<ul id="filterMenu" data-bind="ojComponent: {component: \'ojMenu\', select: handleFilterMenuSelection}"\n						class="pcs-ts-serachable-fields-menu">\n						<!-- ko template: {name: \'menuItemTemplate\', foreach: availableSearchableFields, as: \'item\'} -->\n						<!-- /ko -->\n					</ul>\n				</div>\n			</div>\n		</div>\n		<div class="oj-flex oj-sm-flex-items-initial oj-dialog-footer pcs-ts-advanced-search-footer" id="row8">\n			<!--<div class="oj-flex-item">\n				<a data-bind="click: handleAdvancedOptions, text : showAdvancedOptions() ? bundle.pcs.tasksearch.hide_advanced_options :  bundle.pcs.tasksearch.show_advanced_options"></a>\n			</div>-->\n			<div class="oj-helper-margin-start-auto oj-flex-item" id="row7Col1">\n				<button id="cancelBtn"\n						data-bind="click: closeAdvanceSearchPopup, ojComponent: { component: \'ojButton\', label: bundle.pcs.tasksearch.cancel}"></button>\n				<button id="searchBtn"\n						class="oj-button-primary"\n						data-bind="click: handleSearch, ojComponent: { component: \'ojButton\', label:  mode() === \'Search\' ? bundle.pcs.tasksearch.search : bundle.pcs.tasksearch.ok }"></button>\n			</div>\n		</div>\n   </script>\n\n'}),define("pcs/customBindingHandlers/suggestItems",["knockout","jquery"],function(e,t){"use strict";e.bindingHandlers.suggestItems={init:function(e,i,n,s){function o(i,n){i.hover(function(){i.removeClass("pcs-ts-autosuggestion-menuitem-selected"),t(this).addClass("pcs-ts-autosuggestion-menuitem-selected"),c=i.index(this)+1}).mousedown(function(){n[c-1].action({element:t(e),selectedAutoSuggestion:n[c-1]})})}function a(i){var n="";if(i){i.forEach(function(e){var t=e.label,i=e.styleClass;n+="<li class='pcs-ts-autosuggestion-menu-items'><span class='"+i+"'></span><span class='pcs-ts-autosuggestion-menu-item'>"+t+"</span></li>"});var s=t(e).parent().find("ul");t(s).empty().append(n)}var a=t(e).parent().find("li");o(a,i)}var r=i()||[],l=r.length,c=0,d=t(e);t(e).parent().append("<div id='srchmenuroot' class='pcs-ts-autosuggestion-menu-root'><ul  class='pcs-ts-autosuggestion-menu-ul'></ul></div>"),t(e).siblings().css({top:26}),t(e).focus(function(){t(this).siblings().width(t(this).width()+5),t("#srchmenuroot").show()}).blur(function(){t(this).siblings().hide()}),d.keyup(function(i){var n=d.parent().find("li"),o=i.keyCode||i.which;switch(o){case 13:if("none"!==t(e).siblings().css("display")){var u={},p=c;t("li:nth-child("+c+")",t(e).parent()).removeClass("pcs-ts-autosuggestion-menuitem-selected"),c=0,t(e).siblings().hide(),u.element=t(e),0===p?(u.selectedAutoSuggestion=r[p],r[p].action(u)):(u.selectedAutoSuggestion=r[p-1],r[p-1].action(u))}break;case 27:t("li:nth-child("+c+")",t(e).parent()).removeClass("pcs-ts-autosuggestion-menuitem-selected"),c=0,t(e).siblings().hide();break;case 38:"none"!==t(e).siblings().css("display")&&(c=c>1?c-1:l,n.removeClass("pcs-ts-autosuggestion-menuitem-selected"),t("li:nth-child("+c+")",t(e).parent()).addClass("pcs-ts-autosuggestion-menuitem-selected"));break;case 40:"none"!==t(e).siblings().css("display")&&(c=l>c?c+1:1,n.removeClass("pcs-ts-autosuggestion-menuitem-selected"),t("li:nth-child("+c+")",t(e).parent()).addClass("pcs-ts-autosuggestion-menuitem-selected"));break;default:var h="function"==typeof s.refreshAutoSuggestions;
if(h){var f=s.refreshAutoSuggestions(i.currentTarget.value);r=f||{},c=0,l=r.length}a(r)}})}}}),define("pcs/tasksearch/filter/filterType",[],function(){"use strict";var e={DATE:"Date",STRING:"String",INTEGER:"Integer",DOUBLE:"Double",Number:"Number",FLOAT:"Float",LONG:"Long",USER:"User"};return{filterTypes:e}}),define("pcs/tasksearch/filter/filterOperator",["ojL10n!pcs/resources/nls/pcsSnippetsResource","pcs/tasksearch/filter/filterType"],function(e,t){"use strict";var i={operator:{OPERATOR_ON:"on",OPERATOR_WITH_IN:"within",OPERATOR_IN_LAST:"inlast",OPERATOR_BEFORE:"before",OPERATOR_AFTER:"after",OPERATOR_BETWEEN:"between",OPERATOR_IS:"is",OPERATOR_CONTAINS:"contains",OPERATOR_GREATER_THAN:"greaterthan",OPERATOR_LESSER_THAN:"lesserthan",OPERATOR_EQUALS:"equals"}},n=[{value:i.operator.OPERATOR_ON,label:e.pcs.tasksearch.on},{value:i.operator.OPERATOR_BEFORE,label:e.pcs.tasksearch.before},{value:i.operator.OPERATOR_AFTER,label:e.pcs.tasksearch.after},{value:i.operator.OPERATOR_BETWEEN,label:e.pcs.tasksearch.between}],s=[{value:i.operator.OPERATOR_IS,label:e.pcs.tasksearch.is},{value:i.operator.OPERATOR_CONTAINS,label:e.pcs.tasksearch.contains}],o=[{value:i.operator.OPERATOR_IS,label:e.pcs.tasksearch.is},{value:i.operator.OPERATOR_GREATER_THAN,label:e.pcs.tasksearch.greater_than},{value:i.operator.OPERATOR_LESSER_THAN,label:e.pcs.tasksearch.lesser_than},{value:i.operator.OPERATOR_BETWEEN,label:e.pcs.tasksearch.between}];return{operators:i,getAvailableDateFilterOperators:function(){return n},getAvailableStringFilterOperators:function(){return s},getFilterOperatorsByType:function(e){return e&&t.filterTypes.DATE===e?n:e&&t.filterTypes.STRING===e?s:e&&t.filterTypes.NUMBER===e||e&&t.filterTypes.INTEGER===e||e&&t.filterTypes.DOUBLE===e||e&&t.filterTypes.FLOAT===e?o:void 0}}}),define("pcs/tasksearch/filter/filterValueType",[],function(){"use strict";var e={DATE:"Date",STRING:"String",INTEGER:"Integer",DOUBLE:"Double",FLOAT:"Float",LONG:"Long",NUMBER:"Number",LIST:"List"};return{valueTypes:e}}),define("pcs/tasksearch/filter/filterValue",["knockout","pcs/tasksearch/filter/filterValueType"],function(e,t){"use strict";function i(i){var n=this;if(n.type=e.observable(i.type||""),t.valueTypes.LIST===i.type&&i.listOfValues){n.listOfValues=e.observableArray(i.listOfValues);var s=i.listOfValues.length>0?i.listOfValues[0].value:"";n.value=e.observableArray([s])}else n.listOfValues=e.observableArray(i.listOfValues||[]),n.value=e.observable(i.value||"")}return i}),define("pcs/tasksearch/filter/filter",["knockout","jquery","ojL10n!pcs/resources/nls/pcsSnippetsResource","pcs/tasksearch/filter/filterOperator","pcs/tasksearch/filter/filterType","pcs/tasksearch/filter/filterValue","pcs/tasksearch/filter/filterValueType"],function(e,t,i,n,s,o,a){"use strict";function r(r){function l(e,s){var r="#"+e.currentTarget.id,l=t(r).siblings(".pcs-ts-filter-values"),c=s.value[0];if(n.operators.operator.OPERATOR_IN_LAST===c||n.operators.operator.OPERATOR_WITH_IN===c){t(l).empty(),d.values.removeAll();var u=[{value:"Days",label:i.pcs.tasksearch.days},{value:"Months",label:i.pcs.tasksearch.months},{value:"years",label:i.pcs.tasksearch.years}];d.values([new o({type:a.valueTypes.DATE}),new o({type:a.valueTypes.LIST,listOfValues:u})])}(n.operators.operator.OPERATOR_BEFORE===c||n.operators.operator.OPERATOR_AFTER===c||n.operators.operator.OPERATOR_ON===c)&&(t(l).empty(),d.values.removeAll(),d.values([new o({type:a.valueTypes.DATE})])),n.operators.operator.OPERATOR_BETWEEN===c&&(t(l).empty(),d.values.removeAll(),d.values([new o({type:a.valueTypes.DATE}),new o({type:a.valueTypes.DATE})]))}function c(e,i,s){var a="#"+e.currentTarget.id,r=t(a).siblings(".pcs-ts-filter-values"),l=i.value[0];(n.operators.operator.OPERATOR_IS===l||n.operators.operator.OPERATOR_GREATER_THAN===l||n.operators.operator.OPERATOR_LESSER_THAN===l||n.operators.operator.OPERATOR_CONTAINS===l)&&(t(r).empty(),d.values.removeAll(),d.values([new o({type:s})])),n.operators.operator.OPERATOR_BETWEEN===l&&(t(r).empty(),d.values.removeAll(),d.values([new o({type:s}),new o({type:s})]))}var d=this;d.name=r.name||"",d.displayName=r.displayName||"",d.type=e.observable(r.type||""),d.filterOperator=e.observableArray(r.filterOperator||[]);var u=r.filterOperators?r.filterOperators:n.getFilterOperatorsByType(r.type);d.filterOperators=e.observableArray(u||[]),d.values=e.observableArray([]),d.canDelete=r.canDelete||!1,d.isMust=e.observableArray([]),r.values?d.values(r.values):(d.type()===s.filterTypes.DATE&&(d.filterOperator([n.operators.operator.OPERATOR_ON]),d.values([new o({type:a.valueTypes.DATE})])),d.type()===s.filterTypes.STRING&&(d.filterOperator([n.operators.operator.OPERATOR_IS]),d.values([new o({type:a.valueTypes.STRING})])),d.type()===s.filterTypes.DOUBLE&&(d.filterOperator([n.operators.operator.OPERATOR_IS]),d.values([new o({type:a.valueTypes.DOUBLE})])),d.type()===s.filterTypes.INTEGER&&(d.filterOperator([n.operators.operator.OPERATOR_IS]),d.values([new o({type:a.valueTypes.INTEGER})]))),d.handleFilterOperatorChange=function(e,t){d.type()===s.filterTypes.DATE&&l(e,t),(d.type()===s.filterTypes.INTEGER||d.type()===s.filterTypes.DOUBLE)&&c(e,t,d.type())}}return r}),define("pcs/tasksearch/viewModel/process",[],function(){"use strict";return function(e){return{getProcessDefId:function(){return e.processDefId},getProcessName:function(){return e.hasOwnProperty("processName")?e.processName:""},getRevision:function(){return e.revision}}}}),define("pcs/tasksearch/viewModel/searchableField",[],function(){"use strict";return function(e){return{getFieldName:function(){return e.searchFieldName},getDisplayName:function(){return e.displayName},getDataType:function(){return e.dataType},getCategory:function(){return e.category},getProcessName:function(){return e.processName}}}}),define("pcs/tasksearch/viewModel/searchMetadata",["pcs/tasksearch/viewModel/process","pcs/tasksearch/viewModel/searchableField","pcs/data-services/DataServices"],function(e,t,i){"use strict";var n={processdefinitions:"/process-definitions",searchablefields:"/searchfields"},s=i.getInstance();return{getProcessDefinitions:function(){var t=n.processdefinitions;return new Promise(function(i,n){s.get(t).done(function(t){var n=t.items.map(function(t){return new e(t)});i(n)}).fail(function(e){n(e)})})},getSearchableFields:function(e){var i=n.searchablefields;return new Promise(function(n,o){var a={queryParams:e};s.get(i,a).done(function(e){var i=e.fields.map(function(e){return new t(e)});n(i)}).fail(function(e){o(e)})})}}}),define("pcs/tasksearch/viewModel/status",[],function(){"use strict";var e={ASSIGNED:"ASSIGNED",INFO_REQUESTED:"INFO_REQUESTED",WITHDRAWN:"WITHDRAWN",SUSPENDED:"SUSPENDED",ALERTED:"ALERTED",ERRORED:"ERRORED",EXPIRED:"EXPIRED",COMPLETED:"COMPLETED"};return{statusType:e}}),define("pcs/tasksearch/viewModel/assingee",[],function(){"use strict";var e={MY:"MY",MY_AND_GROUP:"MY_AND_GROUP",MY_AND_GROUP_ALL:"MY_AND_GROUP_ALL",REPORTEES:"REPORTEES",CREATOR:"CREATOR",REVIEWER:"REVIEWER",PREVIOUS:"PREVIOUS",ADMIN:"ADMIN",OWNER:"OWNER"};return{assigneeType:e}}),define("pcs/tasksearch/query/query",[],function(){"use strict";function e(e){var t=this;t.queryClauses=[],t.operator=e.operator||"MUST"}return e}),define("pcs/tasksearch/query/queryClause",[],function(){"use strict";function e(){var e=this;e.queryClauses=[],e.operator="MUST"}return e}),define("pcs/tasksearch/query/stringQueryClause",[],function(){"use strict";function e(e){var t=this;t.fieldName=e.fieldName||"",t.values=e.values||[],e.boost&&(t.boost=e.boost)}return e}),define("pcs/tasksearch/query/textQueryClause",[],function(){"use strict";function e(e){var t=this;t.fieldName=e.fieldName||"",t.values=e.values||[],e.boost&&(t.boost=e.boost)}return e}),define("pcs/tasksearch/query/wildcardQueryClause",[],function(){"use strict";function e(e){var t=this;t.fieldName=e.fieldName||"",t.expression=e.values||"",e.boost&&(t.boost=e.boost)}return e}),define("pcs/tasksearch/query/numericRangeQueryClause",[],function(){"use strict";function e(e){var t=this;t.fieldName=e.fieldName,t.minInclusive=e.minInclusive,t.maxInclusive=e.maxInclusive,t.numericRanges=e.numericRanges,e.boost&&(t.boost=e.boost)}return e}),define("pcs/tasksearch/query/numericRange",[],function(){"use strict";function e(e){var t=this;t.type=e.type,t.minValue=e.minValue,t.maxValue=e.maxValue,t.primitiveType=e.primitiveType}return e}),define("pcs/tasksearch/query/numericRangeType",[],function(){"use strict";var e={Integer:"IntegerRange",Long:"LongRange",Float:"FloatRange",Date:"LongRange",Double:"DoubleRange"},t={Integer:"Integer",Long:"Long",Float:"Float",Date:"Long",Double:"Double"};return{getNumericRangeTypeBasedOnType:function(t){return e[t]},getNumericRangePrimitiveTypeBasedOnType:function(e){return t[e]}}}),define("pcs/tasksearch/viewModel/taskSearchVM",["ojs/ojcore","knockout","jquery","ojL10n!pcs/resources/nls/pcsSnippetsResource","pcs/customBindingHandlers/suggestItems","pcs/tasksearch/filter/filter","pcs/tasksearch/filter/filterOperator","pcs/tasksearch/filter/filterType","pcs/tasksearch/filter/filterValueType","pcs/tasksearch/viewModel/searchMetadata","pcs/tasksearch/viewModel/status","pcs/tasksearch/viewModel/assingee","pcs/tasksearch/filter/filterValue","pcs/tasksearch/query/query","pcs/tasksearch/query/queryClause","pcs/tasksearch/query/stringQueryClause","pcs/tasksearch/query/textQueryClause","pcs/tasksearch/query/wildcardQueryClause","pcs/tasksearch/query/numericRangeQueryClause","pcs/tasksearch/query/numericRange","pcs/tasksearch/query/numericRangeType","pcs/pcs.identitybrowser","ojs/ojselectcombobox","ojs/ojbutton","ojs/ojmenu","ojs/ojknockout","ojs/ojpopup","ojs/ojdialog","ojs/ojdatetimepicker"],function(e,t,i,n,s,o,a,r,l,c,d,u,p,h,f,m,g,v,y,b,A){"use strict";return function(e,s){function f(){var e={};e.keyword=T.keyword(),T.selectedStatus().length>0&&(e.status=T.selectedStatus()),T.selectedAssignees()&&(e.assignees=T.selectedAssignees());var n=i("#fromUser"),s=n.find("#identityBrowser"),o=t.contextFor(s[0]);if(o){var a=o.$data,r=a.getUserIDs();r.length>0&&(e.fromUser=r)}if(T.selectedApplications().length>0&&(e.applications=T.selectedApplications()),T.dueDateFilter().values()){var l=[],c=T.dueDateFilter().filterOperator()[0];T.dueDateFilter().values().forEach(function(e){(c===T.filterOperator.operators.operator.OPERATOR_ON||c===T.filterOperator.operators.operator.OPERATOR_BETWEEN||c===T.filterOperator.operators.operator.OPERATOR_AFTER||c===T.filterOperator.operators.operator.OPERATOR_BEFORE)&&e.type()===T.filterValueType.valueTypes.DATE&&e.value()&&l.push(e.value()),(c===T.filterOperator.operators.operator.OPERATOR_IN_LAST||c===T.filterOperator.operators.operator.OPERATOR_WITH_IN)&&e.value()&&(e.type()===T.filterValueType.valueTypes.INTEGER&&l.push(e.value()),e.type()===T.filterValueType.valueTypes.LIST&&l.push(e.value()[0]))}),l.length>0&&(c===T.filterOperator.operators.operator.OPERATOR_ON&&(e.toDueDate=l[0],e.fromDueDate=l[0]),c===T.filterOperator.operators.operator.OPERATOR_BETWEEN&&(e.fromDueDate=l[0],e.toDueDate=l[1]),c===T.filterOperator.operators.operator.OPERATOR_AFTER&&(e.fromDueDate=l[0],e.toDueDate=null),c===T.filterOperator.operators.operator.OPERATOR_BEFORE&&(e.fromDueDate=null,e.toDueDate=l[0]))}T.rootElement.trigger("taskSearch:searchByStandardFilters",[e])}function v(){var e,n,s=new h({operator:"MUST"});if(T.containsText()){n={fieldName:R.PUBLIC_INFO_FIELD,values:[T.containsText()]};var o=new g(n);s.queryClauses.push({textQuery:o,operator:"MUST"})}T.selectedStatus().length>0&&(n={fieldName:R.SYSTEM_ATTRIBUTES_STATE,values:T.selectedStatus()},e=new m(n),s.queryClauses.push({stringQuery:e,operator:T.selectedStatus().length>1?"SHOULD":"MUST"})),T.selectedAssignees()&&(n={fieldName:R.ASSIGNEES,values:T.selectedAssignees()},e=new m(n),s.queryClauses.push({stringQuery:e,operator:"MUST"}));var a=i("#fromUser"),r=a.find("#identityBrowser"),l=t.contextFor(r[0]);if(l){var c=l.$data,d=c.getUserIDs();d.length>0&&(n={fieldName:R.SYSTEM_ATTRIBUTES_FROM_USER_ID,values:d},e=new m(n),s.queryClauses.push({stringQuery:e,operator:d.length>1?"SHOULD":"MUST"}))}T.selectedApplications().length>0&&(n={fieldName:R.PROCESS_DEF_ID,values:T.selectedApplications()},e=new m(n),s.queryClauses.push({stringQuery:e,operator:T.selectedApplications().length>1?"SHOULD":"MUST"}));var u=E(T.dueDateFilter());u&&s.queryClauses.push(u),T.selectedSearchableFields().forEach(function(e,t){var i=k(e,t);i&&s.queryClauses.push(i)});var p={query:s,start:0,offset:30,sorts:[],fields:_,language:"en"},f=JSON.stringify(p);x.log(f),T.rootElement.trigger("taskSearch:searchBySearchableFields",[p])}function k(e,t){return e.type()===r.filterTypes.STRING?C(e):e.type()===r.filterTypes.DATE?E(e):e.type()===r.filterTypes.INTEGER||e.type()===r.filterTypes.DOUBLE||e.type()===r.filterTypes.FLOAT||e.type()===r.filterTypes.LONG?j(e):e.type()===r.filterTypes.USER?w(e,t):void 0}function E(e){if(e.values()){var t=[],i=e.filterOperator()[0];if(e.values().forEach(function(e){(i===T.filterOperator.operators.operator.OPERATOR_ON||i===T.filterOperator.operators.operator.OPERATOR_BETWEEN||i===T.filterOperator.operators.operator.OPERATOR_AFTER||i===T.filterOperator.operators.operator.OPERATOR_BEFORE)&&e.type()===T.filterValueType.valueTypes.DATE&&e.value()&&t.push(e.value()),(i===T.filterOperator.operators.operator.OPERATOR_IN_LAST||i===T.filterOperator.operators.operator.OPERATOR_WITH_IN)&&e.value()&&(e.type()===T.filterValueType.valueTypes.INTEGER&&t.push(e.value()),e.type()===T.filterValueType.valueTypes.LIST&&t.push(e.value()[0]))}),t.length>0){var n,s,o,a,r,l,c,d,u;if(n=A.getNumericRangeTypeBasedOnType(e.type()),s=A.getNumericRangePrimitiveTypeBasedOnType(e.type()),i===T.filterOperator.operators.operator.OPERATOR_ON)return o=t[0]?t[0]:null,a=t[0]?t[0]:null,o&&(o=new Date(o).getTime()),a&&(a=new Date(a).getTime()),d={type:n,minValue:o,maxValue:a,primitiveType:s},r=new b(d),c=JSON.stringify(r).replace("type","@type"),r=JSON.parse(c),u={fieldName:e.name,minInclusive:!0,maxInclusive:!0,numericRanges:[r]},l=new y(u),{numericRangeQuery:l,operator:"MUST"};if(i===T.filterOperator.operators.operator.OPERATOR_BEFORE)return o=null,a=t[0]?t[0]:null,a&&(a=new Date(a).getTime()),d={type:n,minValue:o,maxValue:a,primitiveType:s},r=new b(d),c=JSON.stringify(r).replace("type","@type"),r=JSON.parse(c),u={fieldName:e.name,minInclusive:!0,maxInclusive:!0,numericRanges:[r]},l=new y(u),{numericRangeQuery:l,operator:"MUST"};if(i===T.filterOperator.operators.operator.OPERATOR_AFTER)return o=t[0]?t[0]:null,a=null,o&&(o=new Date(o).getTime()),d={type:n,minValue:o,maxValue:a,primitiveType:s},r=new b(d),c=JSON.stringify(r).replace("type","@type"),r=JSON.parse(c),u={fieldName:e.name,minInclusive:!0,maxInclusive:!0,numericRanges:[r]},l=new y(u),{numericRangeQuery:l,operator:"MUST"};if(i===T.filterOperator.operators.operator.OPERATOR_BETWEEN)return o=t[0]?t[0]:null,a=t[1]?t[1]:null,o&&(o=new Date(o).getTime()),a&&(a=new Date(a).getTime()),d={type:n,minValue:o,maxValue:a,primitiveType:s},r=new b(d),c=JSON.stringify(r).replace("type","@type"),r=JSON.parse(c),u={fieldName:e.name,minInclusive:!0,maxInclusive:!0,numericRanges:[r]},l=new y(u),{numericRangeQuery:l,operator:"MUST"}}}}function C(e){if(e.values()){var t=[];if(e.values().forEach(function(e){e.value()&&t.push(e.value())}),t.length>0){var i={fieldName:e.name,values:t},n=new g(i);return{textQuery:n,operator:"MUST"}}}}function w(e,n){var s="#"+I+n,o=i(s),a=o.find("#identityBrowser"),r=t.contextFor(a[0]);if(r){var l=r.$data,c=l.getUserIDs();if(c.length>0){var d={fieldName:e.name,values:c},u=new m(d);return{stringQuery:u,operator:c.length>1?"SHOULD":"MUST"}}}}function j(e){if(e.values()){var t=[];if(e.values().forEach(function(e){e.value()&&t.push(e.value())}),t.length>0){var i,n,s,o,a,r,l,c,d,u=e.filterOperator()[0];if(i=A.getNumericRangeTypeBasedOnType(e.type()),n=A.getNumericRangePrimitiveTypeBasedOnType(e.type()),u===T.filterOperator.operators.operator.OPERATOR_IS)return s=t[0],o=t[0],c={type:i,minValue:s,maxValue:o,primitiveType:n},a=new b(c),l=JSON.stringify(a).replace("type","@type"),a=JSON.parse(l),d={fieldName:e.name,minInclusive:!0,maxInclusive:!0,numericRanges:[a]},r=new y(d),{numericRangeQuery:r,operator:"MUST"};if(u===T.filterOperator.operators.operator.OPERATOR_LESSER_THAN)return s=null,o=t[0],c={type:i,minValue:s,maxValue:o,primitiveType:n},a=new b(c),l=JSON.stringify(a).replace("type","@type"),a=JSON.parse(l),d={fieldName:e.name,minInclusive:!0,maxInclusive:!1,numericRanges:[a]},r=new y(d),{numericRangeQuery:r,operator:"MUST"};if(u===T.filterOperator.operators.operator.OPERATOR_GREATER_THAN)return s=t[0],o=null,c={type:i,minValue:s,maxValue:o,primitiveType:n},a=new b(c),l=JSON.stringify(a).replace("type","@type"),a=JSON.parse(l),d={fieldName:e.name,minInclusive:!1,maxInclusive:!0,numericRanges:[a]},r=new y(d),{numericRangeQuery:r,operator:"MUST"};if(u===T.filterOperator.operators.operator.OPERATOR_BETWEEN)return s=t[0],o=t[1],c={type:i,minValue:s,maxValue:o,primitiveType:n},a=new b(c),l=JSON.stringify(a).replace("type","@type"),a=JSON.parse(l),d={fieldName:e.name,minInclusive:!0,maxInclusive:!0,numericRanges:[a]},r=new y(d),{numericRangeQuery:r,operator:"MUST"}}}}function S(e){var t={filterOperator:[T.filterOperator.operators.operator.OPERATOR_AFTER],values:[]},i=function(e){return new p({type:l.valueTypes.DATE,value:e})};return e.hasOwnProperty("fromDueDate")&&e.hasOwnProperty("toDueDate")?(t.filterOperator=[T.filterOperator.operators.operator.OPERATOR_BETWEEN],t.values=[i(e.fromDueDate),i(e.toDueDate)]):e.hasOwnProperty("fromDueDate")?(t.filterOperator=[T.filterOperator.operators.operator.OPERATOR_AFTER],t.values=[i(e.fromDueDate)]):e.hasOwnProperty("toDueDate")?(t.filterOperator=[T.filterOperator.operators.operator.OPERATOR_BEFORE],t.values=[i(e.toDueDate)]):t={},t}var T=this,x=require("pcs/util/loggerUtil");T.rootElement=i(s.element),T.bundle=n,T.filterOperator=a,T.filterValueType=l,T.filterType=r,T.showFilter=e.showFilter,T.mode=t.observable(e.mode||"Search"),T.idbID="pcs-search-idb";var _=[{"@type":"LongField",name:"systemAttributes.assignedDate",type:"Long",analyzed:!1},{"@type":"StringField",name:"systemAttributes.fromUser.displayName",type:"String",analyzed:!1},{"@type":"StringField",name:"systemAttributes.fromUser.id",type:"String",analyzed:!1},{"@type":"IntegerField",name:"systemAttributes.taskNumber",type:"Integer",analyzed:!1},{"@type":"IntegerField",name:"priority",type:"Integer",analyzed:!1},{"@type":"StringField",name:"systemAttributes.state",type:"String",analyzed:!1},{"@type":"StringField",name:"ownerRole",type:"String",analyzed:!1},{"@type":"LongField",name:"systemAttributes.updatedDate",type:"Long",analyzed:!1},{"@type":"StringField",name:"hasSubTasksFlag",type:"String",analyzed:!1},{"@type":"StringField",name:"isDocsEnabledFlag",type:"String",analyzed:!1},{"@type":"StringField",name:"isConversationEnabledFlag",type:"String",analyzed:!1},{"@type":"StringField",name:"creatorDisplayName",type:"String",analyzed:!1},{"@type":"StringField",name:"creator",type:"String",analyzed:!1},{"@type":"StringField",name:"processName",type:"String",analyzed:!0},{"@type":"StringField",name:"processId",type:"String",analyzed:!1},{"@type":"LongField",name:"dueDate",type:"Long",analyzed:!1},{"@type":"LongField",name:"systemAttributes.createdDate",type:"Long",analyzed:!1},{"@type":"DoubleField",name:"percentageComplete",type:"Double",analyzed:!1},{"@type":"StringField",name:"applicationContext",type:"String",analyzed:!1},{"@type":"StringField",name:"systemAttributes.acquiredBy",type:"String",analyzed:!1},{"@type":"StringField",name:"systemAttributes.updatedBy.id",type:"String",analyzed:!1},{"@type":"StringField",name:"systemAttributes.taskDefinitionName",type:"String",analyzed:!1},{"@type":"StringField",name:"sca.applicationName",type:"String",analyzed:!1},{"@type":"StringField",name:"sca.componentName",type:"String",analyzed:!1},{"@type":"StringField",name:"sca.compositeDN",type:"String",analyzed:!1},{"@type":"StringField",name:"sca.compositeName",type:"String",analyzed:!1},{"@type":"StringField",name:"sca.compositeVersion",type:"String",analyzed:!1},{"@type":"StringField",name:"workflowPattern",type:"String",analyzed:!1},{"@type":"StringField",name:"systemAttributes.taskNamespace",type:"String",analyzed:!1},{"@type":"StringArrayField",name:"comments",type:"String",analyzed:!1,value:[]},{"@type":"StringArrayField",name:"custom_actions",type:"String",analyzed:!1,value:[]},{"@type":"StringArrayField",name:"system_actions",type:"String",analyzed:!1,value:[]},{"@type":"StringField",name:"TaskDefinitionId",type:"String",analyzed:!1},{"@type":"StringField",name:"taskId",type:"String",analyzed:!1},{"@type":"StringField",name:"type",type:"String",analyzed:!1},{"@type":"StringArrayField",name:"updatedBy_history",type:"String",analyzed:!1,value:[]},{"@type":"StringArrayField",name:"assignee_user",type:"String",analyzed:!1,value:[]},{"@type":"StringArrayField",name:"assignee_application_role",type:"String",analyzed:!1,value:[]},{"@type":"StringField",name:"processDefId",type:"String",analyzed:!1}],I="generatedIdForSearchableFieldOfTypeUser",R={DUE_DATE:"dueDate",SYSTEM_ATTRIBUTES_STATE:"systemAttributes.state",SYSTEM_ATTRIBUTES_FROM_USER_ID:"systemAttributes.fromUser.id",SYSTEM_ATTRIBUTES_ASSIGNEES:"systemAttributes.assignees",ASSIGNEES:"assignees",PROCESS_DEF_ID:"processDefId",PRIORITY:"priority",PUBLIC_INFO_FIELD:"public_info_field"},D=[R.DUE_DATE,R.SYSTEM_ATTRIBUTES_STATE,R.SYSTEM_ATTRIBUTES_ASSIGNEES,R.SYSTEM_ATTRIBUTES_FROM_USER_ID];T.init=function(){T.matchCriterias=[{id:"All",label:n.pcs.tasksearch.all},{id:"Any",label:n.pcs.tasksearch.any}],T.matchCriteria=t.observable("All"),T.keyword=e.tasklistFilter&&e.tasklistFilter.keyword?t.observableArray([e.tasklistFilter.keyword]):t.observable(""),T.containsText=t.observable(""),T.showAdvancedOptions=t.observable(e.showAdvancedOptions||!1),T.selectedFilter=t.observable(),T.selectedStatus=e.tasklistFilter&&e.tasklistFilter.status?t.observableArray([e.tasklistFilter.status]):t.observableArray([d.statusType.ASSIGNED]),T.selectedAssignees=e.tasklistFilter&&e.tasklistFilter.assignees?t.observableArray([e.tasklistFilter.assignees]):t.observableArray([u.assigneeType.MY_AND_GROUP_ALL]),T.selectedApplications=e.tasklistFilter&&e.tasklistFilter.applications?t.observableArray([e.tasklistFilter.applications]):t.observableArray();var s={name:R.DUE_DATE,displayName:n.pcs.tasksearch.duedate,type:r.filterTypes.DATE};e.tasklistFilter&&(e.tasklistFilter.fromDueDate||e.tasklistFilter.toDueDate)&&i.extend(s,S(e.tasklistFilter));var a=new o(s);T.dueDateFilter=t.observable(a),T.selectedSearchableFields=t.observableArray(),T.availableSearchableFields=t.observableArray(),T.autoSuggestionsOnTextEntered=[{value:"SHOW_ADVANCE_SEARCH",label:n.pcs.tasksearch.show_advance_search,styleClass:"advanced-icon",action:T.hanldeAutoSuggestionSelection}],T.availableStatus=[{value:d.statusType.ASSIGNED,label:n.pcs.tasksearch.assigned},{value:d.statusType.INFO_REQUESTED,label:n.pcs.tasksearch.info_requested},{value:d.statusType.WITHDRAWN,label:n.pcs.tasksearch.withdrawn},{value:d.statusType.SUSPENDED,label:n.pcs.tasksearch.suspended},{value:d.statusType.ALERTED,label:n.pcs.tasksearch.alerted},{value:d.statusType.ERRORED,label:n.pcs.tasksearch.errored},{value:d.statusType.EXPIRED,label:n.pcs.tasksearch.expired},{value:d.statusType.COMPLETED,label:n.pcs.tasksearch.completed}];var h=[{value:"1",label:n.pcs.tasksearch.lowest},{value:"2",label:n.pcs.tasksearch.low},{value:"3",label:n.pcs.tasksearch.normal},{value:"4",label:n.pcs.tasksearch.high},{value:"5",label:n.pcs.tasksearch.highest}];T.availableAssignees=[{value:u.assigneeType.MY,label:n.pcs.tasksearch.my_tasks},{value:u.assigneeType.MY_AND_GROUP,label:n.pcs.tasksearch.me_and_my_group},{value:u.assigneeType.MY_AND_GROUP_ALL,label:n.pcs.tasksearch.me_and_my_group_all},{value:u.assigneeType.CREATOR,label:n.pcs.tasksearch.started_by_me},{value:u.assigneeType.REPORTEES,label:n.pcs.tasksearch.reportees},{value:u.assigneeType.PREVIOUS,label:n.pcs.tasksearch.related},{value:u.assigneeType.REVIEWER,label:n.pcs.tasksearch.reviewed_by_me}],T.availableApplications=t.observableArray(),c.getProcessDefinitions().then(function(e){e.map(function(e){"Search"===T.mode()?T.availableApplications.push({label:e.getProcessName(),value:e.getProcessDefId()}):T.availableApplications.push({label:e.getProcessName(),value:e.getProcessName()})})}),"Search"===T.mode()&&c.getSearchableFields().then(function(e){var t={},i=[],n={};e.map(function(e){for(var s=!1,a=0;a<i.length;a++)if(i[a].name===e.getCategory()){s=!0,n={name:e.getFieldName(),displayName:e.getDisplayName(),type:e.getDataType(),canDelete:!0},e.getFieldName()===R.PRIORITY&&(n={name:e.getFieldName(),displayName:e.getDisplayName(),type:e.getDataType(),canDelete:!0,filterOperators:[],values:[new p({type:l.valueTypes.LIST,listOfValues:h})]}),t=new o(n),-1===D.indexOf(e.getFieldName())&&i[a].items.push(t);break}s||(n={name:e.getFieldName(),displayName:e.getDisplayName(),type:e.getDataType(),canDelete:!0},e.getFieldName()===R.PRIORITY&&(n={name:e.getFieldName(),displayName:e.getDisplayName(),type:e.getDataType(),canDelete:!0,filterOperators:[],values:[new p({type:l.valueTypes.LIST,listOfValues:h})]}),t=new o(n),-1===D.indexOf(e.getFieldName())&&i.push({displayName:e.getCategory(),name:e.getCategory(),items:[t]}))}),T.availableSearchableFields(i)})},T.init(),T.onKeyUpSearchTextBox=function(e,t){var i=t.which?t.which:t.keyCode;13===i&&f()},T.handleFilterMenuSelection=function(e,t){var i=t.item.children("span").text(),n=JSON.parse(i),s=[];n.values.forEach(function(e){s.push(new p(e))}),n.values=s;var a=new o(n);T.selectedSearchableFields.push(a)},T.removeSelectedSearchableField=function(e){var t=T.selectedSearchableFields()[e];T.selectedSearchableFields.remove(t)},T.handleAdvancedOptions=function(){var e=T.showAdvancedOptions();e?T.showAdvancedOptions(!1):T.showAdvancedOptions(!0)},T.closeAdvanceSearchPopup=function(){i("#advanceSearchPopup").ojDialog("close")},T.refreshAutoSuggestions=function(e){return 0===e.length?T.autoSuggestions:[{value:e,label:n.pcs.tasksearch.task_containing+" '"+e+" '",styleClass:"advanced-icon",action:T.hanldeAutoSuggestionSelection},{value:"SHOW_ADVANCE_SEARCH",label:n.pcs.tasksearch.show_advance_search,styleClass:"advanced-icon",action:T.hanldeAutoSuggestionSelection}]},T.generateUniqueIdForSearchableFieldOfTypeUser=function(e){return I+e},T.showAdvanceSearchPopup=function(e,t){i("#advanceSearchPopup").ojDialog("open"),window.setTimeout(function(){T.rootElement.trigger("taskSearch:loaded")},100)},T.hanldeAutoSuggestionSelection=function(e){var t=e.selectedAutoSuggestion.value;if(e.element.blur(),"SHOW_ADVANCE_SEARCH"===t)T.selectedFilter(""),i("#advanceSearchPopup").ojDialog("open"),i("#advSearchDialog").css({top:0});else{var n,s,o=new h({operator:"MUST"});if(t===u.assigneeType.MY_AND_GROUP_ALL||t===u.assigneeType.CREATOR||t===u.assigneeType.ADMIN)s={fieldName:R.ASSIGNEES,values:[t]},n=new m(s),o.queryClauses.push({stringQuery:n,operator:"MUST"}),s={fieldName:R.SYSTEM_ATTRIBUTES_STATE,values:[d.statusType.ASSIGNED,d.statusType.INFO_REQUESTED]},n=new m(s),o.queryClauses.push({stringQuery:n,operator:"MUST"});else if("DUE_SOON"===t){var a=new Date,l=new Date;l.setDate(l.getDate()+6),a&&(a=new Date(a).getTime()),l&&(l=new Date(l).getTime());var c={type:A.getNumericRangeTypeBasedOnType(r.filterTypes.DATE),minValue:a,maxValue:l,primitiveType:A.getNumericRangePrimitiveTypeBasedOnType(r.filterTypes.DATE)},p=new b(c),f=JSON.stringify(p).replace("type","@type");p=JSON.parse(f);var v={fieldName:R.DUE_DATE,minInclusive:!0,maxInclusive:!0,numericRanges:[p]},k=new y(v);o.queryClauses.push({numericRangeQuery:k,operator:"MUST"}),s={fieldName:R.SYSTEM_ATTRIBUTES_STATE,values:[d.statusType.ASSIGNED,d.statusType.INFO_REQUESTED]},n=new m(s),o.queryClauses.push({stringQuery:n,operator:"MUST"})}else s={fieldName:R.PUBLIC_INFO_FIELD,values:[t]},n=new g(s),o.queryClauses.push({textQuery:n,operator:"MUST"});var E={query:o,start:0,offset:30,sorts:[],fields:_,language:"en"};x.log(JSON.stringify(E)),T.rootElement.trigger("taskSearch:searchBySearchableFields",[E])}},T.autoSuggestions=[{value:u.assigneeType.CREATOR,label:n.pcs.tasksearch.tasks_i_created,styleClass:"created-tasks-icon",action:T.hanldeAutoSuggestionSelection}],e.isManager&&T.autoSuggestions.push({value:u.assigneeType.MY_AND_GROUP_ALL,label:n.pcs.tasksearch.tasks_assigned_to_my_team,styleClass:"team-tasks-icon",action:T.hanldeAutoSuggestionSelection}),T.autoSuggestions.push({value:"DUE_SOON",label:n.pcs.tasksearch.tasks_due_soon,styleClass:"due-icon",action:T.hanldeAutoSuggestionSelection}),e.showAdvancedSearch&&T.autoSuggestions.push({value:"SHOW_ADVANCE_SEARCH",label:n.pcs.tasksearch.show_advance_search,styleClass:"advanced-icon",action:T.hanldeAutoSuggestionSelection}),"Search"===T.mode()&&T.selectedApplications.subscribe(function(e){var t=T.availableSearchableFields();if(T.availableSearchableFields().forEach(function(e,i){"BusinessData"===e.name&&t.splice(i,1)}),e.length>0){var i=[];e.forEach(function(e){i.push({processDN:e})}),c.getSearchableFields(i).then(function(e){var i={},n={};e.map(function(e){for(var s=!1,a="",r=0;r<t.length;r++)if(a=e.getProcessName(),t[r].name===e.getCategory()){if(s=!0,n={name:e.getFieldName(),displayName:e.getDisplayName(),type:e.getDataType(),canDelete:!0},i=new o(n),a){for(var l=t[r].items,c=!1,d=0;d<l.length;d++)l[d].name===a&&(c=!0,l[d].items.push(i));if(!c){var u={name:a,displayName:a,items:[i]};t[r].items.push(u)}}break}if(!s&&(n={name:e.getFieldName(),displayName:e.getDisplayName(),type:e.getDataType(),canDelete:!0},i=new o(n),a)){var p={name:a,displayName:a,items:[i]};t.push({displayName:e.getCategory(),name:e.getCategory(),items:[p]})}}),T.availableSearchableFields(t)})}else T.availableSearchableFields(t)}),T.onClickAddFilter=function(e,t){var n="#"+t.currentTarget.id,s=i(n).siblings(".pcs-ts-serachable-fields-menu");i(s).ojMenu("refresh")},T.handleSearch=function(){"Search"===T.mode()?v():f(),T.closeAdvanceSearchPopup()}}}),define("pcs/pcs.taskactions",["ojs/ojcore","knockout","jquery","ojL10n!pcs/resources/nls/pcsSnippetsResource","!text!pcs/tasklistActions/templates/pcs-task-actions.html","pcs/tasklistActions/viewModel/taskActionsVM","!text!pcs/tasklistActions/templates/pcs-taskactions-error.html","pcs/util/loggerUtil","!text!pcs/tasklistActions/templates/pcs-reassign.html","pcs/tasklistActions/viewModel/reassignVM","!text!pcs/tasklistActions/templates/pcs-requestInfo.html","pcs/tasklistActions/viewModel/requestInfoVM","!text!pcs/tasksearch/templates/tasksearchContainer.html","pcs/tasksearch/viewModel/taskSearchVM","pcs/pcs.identitybrowser","ojL10n!pcs/resources/nls/pcsSnippetsResource","jqueryui-amd/widget"],function(e,t,i,n,s,o,a,r){"use strict";i.widget("pcs.taskactions",{options:{hideSystemActions:!1,hideCustomActions:!1,systemActions:"SUSPEND,ESCALATE,RENEW,REASSIGN,INFO_REQUEST,INFO_SUBMIT,WITHDRAW,ACQUIRE,PURGE,DELETE,RESUME,RELEASE",taskNumbers:""},_isValid:function(){return void 0===this.options.taskNumbers||""===this.options.taskNumbers?!1:!0},_create:function(){var e=this;if(void 0===i.pcsConnection)return void this.element.html("<div style='color:red'>"+n.pcs.common.pcs_connection+" </div>");if(!this._isValid())return void this.element.html(a);var r=this.options;r.rootElement=e.element;var l={taskactionParams:r};this.element.html(s);var c=new o(l);this.model=c,t.applyBindings(c,this.element[0])},destroy:function(){i.Widget.prototype.destroy.call(this)},_destroy:function(){r.log("Destroying taskactions"),this.model&&this.model.dispose()},_setOption:function(e,t){this.options[e]=t,i.Widget.prototype._setOption.apply(this,arguments)}})});
//# sourceMappingURL=pcs.taskactions.js.map