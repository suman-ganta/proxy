{
  "version": 3,
  "sources": [
    "../../node_modules/requirejs-text/text.js",
    "text!pcs/attachments/templates/pcs-attachments.html",
    "../../node_modules/oraclejet/dist/js/libs/oj/ojL10n.js",
    "libs/pcs/v1.1/debug/resources/nls/pcsSnippetsResource.js",
    "libs/pcs/v1.1/debug/resources/nls/pcsSnippetsResource!ojL10n",
    "text!pcs/attachments/templates/pcs-attachments-error.html",
    "libs/pcs/v1.1/debug/attachments/view/attachmentsContainer.html!text",
    "libs/pcs/v1.1/debug/util/loggerUtil.js",
    "libs/pcs/v1.1/debug/util/pcsUtil.js",
    "libs/pcs/v1.1/debug/attachments/services/attachmentsDataService.js",
    "libs/pcs/v1.1/debug/util/dateUtil.js",
    "libs/pcs/v1.1/debug/attachments/viewModel/attachmentsContainer.js",
    "libs/pcs/v1.1/debug/pcs.attachments.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACzZA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACVA;AACA,ACDA;AACA,ACDA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC1KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACnJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7pBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "pcs.attachments.js",
  "sourcesContent": [
    "/**\n * @license text 2.0.15 Copyright jQuery Foundation and other contributors.\n * Released under MIT license, http://github.com/requirejs/text/LICENSE\n */\n/*jslint regexp: true */\n/*global require, XMLHttpRequest, ActiveXObject,\n  define, window, process, Packages,\n  java, location, Components, FileUtils */\n\ndefine('text',['module'], function (module) {\n    'use strict';\n\n    var text, fs, Cc, Ci, xpcIsWindows,\n        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],\n        xmlRegExp = /^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im,\n        bodyRegExp = /<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im,\n        hasLocation = typeof location !== 'undefined' && location.href,\n        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\\:/, ''),\n        defaultHostName = hasLocation && location.hostname,\n        defaultPort = hasLocation && (location.port || undefined),\n        buildMap = {},\n        masterConfig = (module.config && module.config()) || {};\n\n    function useDefault(value, defaultValue) {\n        return value === undefined || value === '' ? defaultValue : value;\n    }\n\n    //Allow for default ports for http and https.\n    function isSamePort(protocol1, port1, protocol2, port2) {\n        if (port1 === port2) {\n            return true;\n        } else if (protocol1 === protocol2) {\n            if (protocol1 === 'http') {\n                return useDefault(port1, '80') === useDefault(port2, '80');\n            } else if (protocol1 === 'https') {\n                return useDefault(port1, '443') === useDefault(port2, '443');\n            }\n        }\n        return false;\n    }\n\n    text = {\n        version: '2.0.15',\n\n        strip: function (content) {\n            //Strips <?xml ...?> declarations so that external SVG and XML\n            //documents can be added to a document without worry. Also, if the string\n            //is an HTML document, only the part inside the body tag is returned.\n            if (content) {\n                content = content.replace(xmlRegExp, \"\");\n                var matches = content.match(bodyRegExp);\n                if (matches) {\n                    content = matches[1];\n                }\n            } else {\n                content = \"\";\n            }\n            return content;\n        },\n\n        jsEscape: function (content) {\n            return content.replace(/(['\\\\])/g, '\\\\$1')\n                .replace(/[\\f]/g, \"\\\\f\")\n                .replace(/[\\b]/g, \"\\\\b\")\n                .replace(/[\\n]/g, \"\\\\n\")\n                .replace(/[\\t]/g, \"\\\\t\")\n                .replace(/[\\r]/g, \"\\\\r\")\n                .replace(/[\\u2028]/g, \"\\\\u2028\")\n                .replace(/[\\u2029]/g, \"\\\\u2029\");\n        },\n\n        createXhr: masterConfig.createXhr || function () {\n            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.\n            var xhr, i, progId;\n            if (typeof XMLHttpRequest !== \"undefined\") {\n                return new XMLHttpRequest();\n            } else if (typeof ActiveXObject !== \"undefined\") {\n                for (i = 0; i < 3; i += 1) {\n                    progId = progIds[i];\n                    try {\n                        xhr = new ActiveXObject(progId);\n                    } catch (e) {}\n\n                    if (xhr) {\n                        progIds = [progId];  // so faster next time\n                        break;\n                    }\n                }\n            }\n\n            return xhr;\n        },\n\n        /**\n         * Parses a resource name into its component parts. Resource names\n         * look like: module/name.ext!strip, where the !strip part is\n         * optional.\n         * @param {String} name the resource name\n         * @returns {Object} with properties \"moduleName\", \"ext\" and \"strip\"\n         * where strip is a boolean.\n         */\n        parseName: function (name) {\n            var modName, ext, temp,\n                strip = false,\n                index = name.lastIndexOf(\".\"),\n                isRelative = name.indexOf('./') === 0 ||\n                             name.indexOf('../') === 0;\n\n            if (index !== -1 && (!isRelative || index > 1)) {\n                modName = name.substring(0, index);\n                ext = name.substring(index + 1);\n            } else {\n                modName = name;\n            }\n\n            temp = ext || modName;\n            index = temp.indexOf(\"!\");\n            if (index !== -1) {\n                //Pull off the strip arg.\n                strip = temp.substring(index + 1) === \"strip\";\n                temp = temp.substring(0, index);\n                if (ext) {\n                    ext = temp;\n                } else {\n                    modName = temp;\n                }\n            }\n\n            return {\n                moduleName: modName,\n                ext: ext,\n                strip: strip\n            };\n        },\n\n        xdRegExp: /^((\\w+)\\:)?\\/\\/([^\\/\\\\]+)/,\n\n        /**\n         * Is an URL on another domain. Only works for browser use, returns\n         * false in non-browser environments. Only used to know if an\n         * optimized .js version of a text resource should be loaded\n         * instead.\n         * @param {String} url\n         * @returns Boolean\n         */\n        useXhr: function (url, protocol, hostname, port) {\n            var uProtocol, uHostName, uPort,\n                match = text.xdRegExp.exec(url);\n            if (!match) {\n                return true;\n            }\n            uProtocol = match[2];\n            uHostName = match[3];\n\n            uHostName = uHostName.split(':');\n            uPort = uHostName[1];\n            uHostName = uHostName[0];\n\n            return (!uProtocol || uProtocol === protocol) &&\n                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&\n                   ((!uPort && !uHostName) || isSamePort(uProtocol, uPort, protocol, port));\n        },\n\n        finishLoad: function (name, strip, content, onLoad) {\n            content = strip ? text.strip(content) : content;\n            if (masterConfig.isBuild) {\n                buildMap[name] = content;\n            }\n            onLoad(content);\n        },\n\n        load: function (name, req, onLoad, config) {\n            //Name has format: some.module.filext!strip\n            //The strip part is optional.\n            //if strip is present, then that means only get the string contents\n            //inside a body tag in an HTML string. For XML/SVG content it means\n            //removing the <?xml ...?> declarations so the content can be inserted\n            //into the current doc without problems.\n\n            // Do not bother with the work if a build and text will\n            // not be inlined.\n            if (config && config.isBuild && !config.inlineText) {\n                onLoad();\n                return;\n            }\n\n            masterConfig.isBuild = config && config.isBuild;\n\n            var parsed = text.parseName(name),\n                nonStripName = parsed.moduleName +\n                    (parsed.ext ? '.' + parsed.ext : ''),\n                url = req.toUrl(nonStripName),\n                useXhr = (masterConfig.useXhr) ||\n                         text.useXhr;\n\n            // Do not load if it is an empty: url\n            if (url.indexOf('empty:') === 0) {\n                onLoad();\n                return;\n            }\n\n            //Load the text. Use XHR if possible and in a browser.\n            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {\n                text.get(url, function (content) {\n                    text.finishLoad(name, parsed.strip, content, onLoad);\n                }, function (err) {\n                    if (onLoad.error) {\n                        onLoad.error(err);\n                    }\n                });\n            } else {\n                //Need to fetch the resource across domains. Assume\n                //the resource has been optimized into a JS module. Fetch\n                //by the module name + extension, but do not include the\n                //!strip part to avoid file system issues.\n                req([nonStripName], function (content) {\n                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,\n                                    parsed.strip, content, onLoad);\n                });\n            }\n        },\n\n        write: function (pluginName, moduleName, write, config) {\n            if (buildMap.hasOwnProperty(moduleName)) {\n                var content = text.jsEscape(buildMap[moduleName]);\n                write.asModule(pluginName + \"!\" + moduleName,\n                               \"define(function () { return '\" +\n                                   content +\n                               \"';});\\n\");\n            }\n        },\n\n        writeFile: function (pluginName, moduleName, req, write, config) {\n            var parsed = text.parseName(moduleName),\n                extPart = parsed.ext ? '.' + parsed.ext : '',\n                nonStripName = parsed.moduleName + extPart,\n                //Use a '.js' file name so that it indicates it is a\n                //script that can be loaded across domains.\n                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';\n\n            //Leverage own load() method to load plugin value, but only\n            //write out values that do not have the strip argument,\n            //to avoid any potential issues with ! in file names.\n            text.load(nonStripName, req, function (value) {\n                //Use own write() method to construct full module value.\n                //But need to create shell that translates writeFile's\n                //write() to the right interface.\n                var textWrite = function (contents) {\n                    return write(fileName, contents);\n                };\n                textWrite.asModule = function (moduleName, contents) {\n                    return write.asModule(moduleName, fileName, contents);\n                };\n\n                text.write(pluginName, nonStripName, textWrite, config);\n            }, config);\n        }\n    };\n\n    if (masterConfig.env === 'node' || (!masterConfig.env &&\n            typeof process !== \"undefined\" &&\n            process.versions &&\n            !!process.versions.node &&\n            !process.versions['node-webkit'] &&\n            !process.versions['atom-shell'])) {\n        //Using special require.nodeRequire, something added by r.js.\n        fs = require.nodeRequire('fs');\n\n        text.get = function (url, callback, errback) {\n            try {\n                var file = fs.readFileSync(url, 'utf8');\n                //Remove BOM (Byte Mark Order) from utf8 files if it is there.\n                if (file[0] === '\\uFEFF') {\n                    file = file.substring(1);\n                }\n                callback(file);\n            } catch (e) {\n                if (errback) {\n                    errback(e);\n                }\n            }\n        };\n    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&\n            text.createXhr())) {\n        text.get = function (url, callback, errback, headers) {\n            var xhr = text.createXhr(), header;\n            xhr.open('GET', url, true);\n\n            //Allow plugins direct access to xhr headers\n            if (headers) {\n                for (header in headers) {\n                    if (headers.hasOwnProperty(header)) {\n                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);\n                    }\n                }\n            }\n\n            //Allow overrides specified in config\n            if (masterConfig.onXhr) {\n                masterConfig.onXhr(xhr, url);\n            }\n\n            xhr.onreadystatechange = function (evt) {\n                var status, err;\n                //Do not explicitly handle errors, those should be\n                //visible via console output in the browser.\n                if (xhr.readyState === 4) {\n                    status = xhr.status || 0;\n                    if (status > 399 && status < 600) {\n                        //An http 4xx or 5xx error. Signal an error.\n                        err = new Error(url + ' HTTP status: ' + status);\n                        err.xhr = xhr;\n                        if (errback) {\n                            errback(err);\n                        }\n                    } else {\n                        callback(xhr.responseText);\n                    }\n\n                    if (masterConfig.onXhrComplete) {\n                        masterConfig.onXhrComplete(xhr, url);\n                    }\n                }\n            };\n            xhr.send(null);\n        };\n    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&\n            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {\n        //Why Java, why is this so awkward?\n        text.get = function (url, callback) {\n            var stringBuffer, line,\n                encoding = \"utf-8\",\n                file = new java.io.File(url),\n                lineSeparator = java.lang.System.getProperty(\"line.separator\"),\n                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),\n                content = '';\n            try {\n                stringBuffer = new java.lang.StringBuffer();\n                line = input.readLine();\n\n                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324\n                // http://www.unicode.org/faq/utf_bom.html\n\n                // Note that when we use utf-8, the BOM should appear as \"EF BB BF\", but it doesn't due to this bug in the JDK:\n                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058\n                if (line && line.length() && line.charAt(0) === 0xfeff) {\n                    // Eat the BOM, since we've already found the encoding on this file,\n                    // and we plan to concatenating this buffer with others; the BOM should\n                    // only appear at the top of a file.\n                    line = line.substring(1);\n                }\n\n                if (line !== null) {\n                    stringBuffer.append(line);\n                }\n\n                while ((line = input.readLine()) !== null) {\n                    stringBuffer.append(lineSeparator);\n                    stringBuffer.append(line);\n                }\n                //Make sure we return a JavaScript string and not a Java string.\n                content = String(stringBuffer.toString()); //String\n            } finally {\n                input.close();\n            }\n            callback(content);\n        };\n    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&\n            typeof Components !== 'undefined' && Components.classes &&\n            Components.interfaces)) {\n        //Avert your gaze!\n        Cc = Components.classes;\n        Ci = Components.interfaces;\n        Components.utils['import']('resource://gre/modules/FileUtils.jsm');\n        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);\n\n        text.get = function (url, callback) {\n            var inStream, convertStream, fileObj,\n                readData = {};\n\n            if (xpcIsWindows) {\n                url = url.replace(/\\//g, '\\\\');\n            }\n\n            fileObj = new FileUtils.File(url);\n\n            //XPCOM, you so crazy\n            try {\n                inStream = Cc['@mozilla.org/network/file-input-stream;1']\n                           .createInstance(Ci.nsIFileInputStream);\n                inStream.init(fileObj, 1, 0, false);\n\n                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']\n                                .createInstance(Ci.nsIConverterInputStream);\n                convertStream.init(inStream, \"utf-8\", inStream.available(),\n                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);\n\n                convertStream.readString(inStream.available(), readData);\n                convertStream.close();\n                inStream.close();\n                callback(readData.value);\n            } catch (e) {\n                throw new Error((fileObj && fileObj.path || '') + ': ' + e);\n            }\n        };\n    }\n    return text;\n});\n\n",
    "\ndefine('text!pcs/attachments/templates/pcs-attachments.html',[],function () { return '<div data-bind=\\'component: {\\n    name: \"attachmentComponent\",\\n\\tparams : {data : data}\\n}\\'></div>\\n';});\n\n",
    "/*\n RequireJS i18n 2.0.2 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n Available via the MIT or new BSD license.\n see: http://github.com/requirejs/i18n for details\n*/\n(function(){function s(a,b,d,h,g,e){b[a]||(a=a.replace(/^zh-(Hans|Hant)-([^-]+)$/,\"zh-$2\"));return b[a]?(d.push(a),!0!==b[a]&&1!==b[a]||h.push(g+a+\"/\"+e),!0):!1}function B(a){var b=a.toLowerCase().split(/-|_/);a=[b[0]];var d=1,h;for(h=1;h<b.length;h++){var g=b[h],e=g.length;if(1==e)break;switch(d){case 1:if(d=2,4==e){a.push(g.charAt(0).toUpperCase()+g.slice(1));break}case 2:d=3;a.push(g.toUpperCase());break;default:a.push(g)}}if(!(\"zh\"!=a[0]||1<a.length&&4==a[1].length)){b=\"Hans\";d=1<a.length?a[1]:\nnull;if(\"TW\"===d||\"MO\"===d||\"HK\"===d)b=\"Hant\";a.splice(1,0,b)}return a}function w(a,b){for(var d in b)b.hasOwnProperty(d)&&(null==a[d]?a[d]=b[d]:\"object\"===typeof b[d]&&\"object\"===typeof a[d]&&w(a[d],b[d]))}var x=/(^.*(^|\\/)nls(\\/|$))([^\\/]*)\\/?([^\\/]*)/;define('ojL10n',[\"module\"],function(a){var b=a.config?a.config():{};return{version:\"2.0.1+\",load:function(a,h,g,e){e=e||{};e.locale&&(b.locale=e.locale);var c=x.exec(a),n=c[1],f,p=c[5],q,k=[],t={},y,r=\"\",z,A,l,u,v,m;c[5]?(n=c[1],a=n+p,f=c[4]):(p=c[4],f=b.locale,\n\"undefined\"!==typeof document?(f||(f=e.isBuild?\"root\":document.documentElement.lang)||(f=void 0===navigator?\"root\":navigator.language||navigator.userLanguage||\"root\"),b.locale=f):f=\"root\");q=B(f);z=b.noOverlay;A=b.defaultNoOverlayLocale;if(c=b.merge)if(l=c[n+p])c=x.exec(l),u=c[1],v=c[4];m=[];for(c=0;c<q.length;c++)y=q[c],r+=(r?\"-\":\"\")+y,m.push(r);e.isBuild?(k.push(a),l&&k.push(l),h(k,function(){g()})):(\"query\"==b.includeLocale&&(a=h.toUrl(a+\".js\"),a+=(-1===a.indexOf(\"?\")?\"?\":\"&\")+\"loc=\"+f),e=[a],\nl&&e.push(l),h(e,function(a,b){var d=[],c=function(a,b,c){for(var e=z||!0===a.__noOverlay,h=A||a.__defaultNoOverlayLocale,g=!1,f=m.length-1;0<=f&&(!g||!e);f--)g=s(m[f],a,d,k,b,c);f=1===m.length&&\"root\"===m[0];e&&(f||!g)&&h&&s(h,a,d,k,b,c);f||s(\"root\",a,d,k,b,c)};c(a,n,p);var e=d.length;b&&c(b,u,v);h(k,function(){var c=function(a,b,c,e,f){for(;b<c&&d[b];b++){var g=d[b],k=a[g];if(!0===k||1===k)k=h(e+g+\"/\"+f);w(t,k)}};c(b,e,d.length,u,v);c(a,0,e,n,p);t._ojLocale_=q.join(\"-\");g(t)})}))}}})})();\n\n",
    "define('pcs/resources/nls/pcsSnippetsResource',{root:!0,de:!0,es:!0,fr:!0,it:!0,ja:!0,ko:!0,pt:!0,\"zh-Hans\":!0,\"zh-Hant\":!0});\n",
    "\n",
    "\ndefine('text!pcs/attachments/templates/pcs-attachments-error.html',[],function () { return '<div class=\"oj-message oj-message-error\">\\n    <span class=\"oj-component-icon oj-message-status-icon oj-message-error-icon\"\\n          role=\"img\">\\n    </span>\\n    <span class=\"oj-message-content\">\\n        <div class=\"oj-message-summary\">\\n            Required parameters are missing\\n        </div>\\n        <div class=\"oj-message-detail\">\\n            <span>This component requires these values -</span>\\n            <pre>\\n    *id : \\'\\'\\n    </pre>\\n        </div>\\n    </span>\\n</div>\\n';});\n\n",
    "\ndefine('text!pcs/attachments/view/attachmentsContainer.html',[],function () { return '<div class=\"oj-margin pcs-attachments-detailBox\">\\n\\n\\t<div data-bind=\"if:showAttachments() && showDcsFolders()\">\\n\\t\\t<div class=\"oj-flex oj-sm-flex-items-initial\">\\n\\t\\t\\t<div class=\"oj-flex-item pcs-attachments-caret-icon\"  role=\"img\" data-bind=\"attr:{title:bundle.pcs.attachments.foldersText}\"></div>\\n\\t\\t\\t<div class=\"oj-flex-item pcs-attachments-folders-text\"><a href=\"#\" data-bind=\"click : closeFolder,text:bundle.pcs.attachments.foldersText\"></a></div>\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div data-bind=\"if:showAttachments()\">\\n\\t\\t<div class=\"oj-flex oj-flex-bar\">\\n\\t\\t\\t<div data-bind=\"ifnot:showDcsFolders\" class=\"pcs-attachments-title oj-flex-bar-start\">\\n\\t\\t\\t\\t<label class=\"pcs-attachments-title\" data-bind=\"text:bundle.pcs.attachments.title\"></label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div data-bind=\"if:showDcsFolders\" class=\"pcs-attachments-title oj-flex-bar-start\">\\n\\t\\t\\t\\t<label class=\"pcs-attachments-title\" data-bind=\"text:dscSelectedFolderName\"></label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"pcs-attachments-uploadLink oj-flex-bar-end\" style=\"padding-right:10px;\" data-bind=\"ifnot:$data.displayDcs()\">\\n\\t\\t\\t\\t<a href=\"#\" data-bind=\"click : openUploadDialog, text:bundle.pcs.attachments.uploadLink\"></a>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div id=\"pcs-attachments-success-msg-container\" style=\"display: none;margin-bottom:20px\">\\n\\t\\t<span title=\"Success\" role=\"img\" class=\"oj-fwk-icon-status-confirmation oj-fwk-icon\"></span>\\n\\t\\t<span id=\"pcs-attachments-success-msg\" class=\"pcs-attachments-success-msg\"></span>\\n\\t</div>\\n\\n\\t<div id=\"pcs-attachments-error-msg-container\" class=\"pcs-attachments-error-msg-container\"  style=\"display: none\">\\n\\t\\t<span class=\"oj-component-icon oj-message-status-icon oj-message-error-icon\" role=\"img\" id=\"pcs-attachments-error-msg-icon\" style=\"float: left ;margin-right:10px\" ></span>\\n\\t\\t<pre id=\"pcs-attachments-error-msg\" class=\"pcs-attachments-error-msg\"></pre>\\n\\t</div>\\n</div>\\n\\n<div class=\"pcs-attachments-actionBox oj-panel oj-margin\">\\n\\n\\n\\t<div data-bind=\"ifnot:showAttachments()\">\\n\\t\\t<div class=\"oj-flex oj-sm-flex-items-initial\" data-bind=\"visible:isDcsFolderVisible\">\\n\\n\\t\\t\\t<ul class=\"pcs-attachments-attachmentsList\" data-bind=\"foreach:dcsFolderList \">\\n\\t\\t\\t\\t<li>\\n\\t\\t\\t\\t\\t<div class=\"oj-flex oj-flex-bar\">\\n\\t\\t\\t\\t\\t\\t<div class=\"oj-flex-bar-start\">\\n\\t\\t\\t\\t\\t\\t\\t<!-- ko if:isFolder -->\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"oj-flex-item pcs-attachments-folder-icon\"  role=\"img\" data-bind=\"attr:{title:$parent.bundle.pcs.attachments.folderText}\"></div>\\n\\t\\t\\t\\t\\t\\t\\t<!-- /ko -->\\n\\t\\t\\t\\t\\t\\t\\t<!-- ko ifnot:isFolder -->\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"oj-flex-item pcs-attachments-file-icon\"  role=\"img\" data-bind=\"attr:{title:$parent.bundle.pcs.attachments.fileText}\"></div>\\n\\t\\t\\t\\t\\t\\t\\t<!-- /ko -->\\n\\t\\t\\t\\t\\t\\t\\t<div class=\"oj-flex-item\"><a href=\"#\" data-bind=\"click : $parent.openFolder,text:folderName\"></a></div>\\n\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t</ul>\\n\\n\\t\\t\\t<div id=\"pcs-attachments-docs-error\"></div>\\n\\t\\t</div>\\n\\t\\t<div class=\"pcs-attachment-inline-div\" data-bind=\"visible:!isDcsFolderVisible()\">\\n\\t\\t\\t<div data-bind=\"visible:dcsFolderList().length > 1\" style=\"display: none;\">\\n\\t\\t\\t\\t<span class=\"pcs-attachments-folders-back\" data-bind=\"click:showFolders\"></span>\\n\\t\\t\\t\\t<a class=\"pcs-attachments-folders-text\" data-bind=\"click:showFolders , text : bundle.pcs.attachments.foldersText\"></a>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"pcs-attachment-iframe-inline\">\\n\\t\\t\\t\\t<iframe id=\"pcs-attachment-iframe-inline\" style=\"width: 100%;min-height: 550px\" target=\"_top\" data-bind=\"attr: {src: $data.dscSelectedAppLink}\" frameborder=\"0\" seamless=\"seamless\" scrolling=\"auto\">\\n\\t\\t\\t\\t\\t<p>Your browser does not support iframes.</p>\\n\\t\\t\\t\\t</iframe>\\n\\t\\t\\t</div>\\n\\n\\t\\t</div>\\n\\t</div>\\n\\n\\t<div data-bind=\"if:showAttachments()\">\\n\\n\\t\\t<!-- ko ifnot: $data.displayDcs() -->\\n\\t\\t<div data-bind=\"if:attachmentList().length == 0\">\\n\\t\\t\\t<span data-bind=\"text:bundle.pcs.attachments.noItemsText\"></span>\\n\\t\\t</div>\\n\\n\\t\\t<ul class=\"pcs-attachments-attachmentsList\" data-bind=\"foreach:attachmentList \">\\n\\t\\t\\t<li>\\n\\t\\t\\t\\t<div class=\"oj-flex oj-flex-bar\">\\n\\t\\t\\t\\t\\t<div class=\"oj-flex-bar-start\">\\n\\t\\t\\t\\t\\t\\t<div data-bind=\"attr:{class:$parent.iconClass(filename, contentType)}\">\\n\\t\\t\\t\\t\\t\\t\\t<span>&nbsp;&nbsp;</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"pcs-attachments-text\">\\n\\t\\t\\t\\t\\t\\t\\t<a data-bind=\"attr :{href:href , download : filename }, click:$parent.viewAttachment\" target=\"_blank\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\"\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span data-bind=\"text: filename\"></span>\\n\\t\\t\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"date pcs-attachments-sub-text\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span data-bind=\"text: fileInfoText\"></span>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"pcs-attachments-removeFile oj-flex-bar-end\">\\n\\t\\t\\t\\t\\t\\t<a href=\"#\" data-bind=\"click:$parent.removeFileFromList\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\"oj-icon pcs-attachments-remove-icon\" role=\"img\" data-bind=\"attr:{title:$parent.bundle.pcs.attachments.removeFile}\"></span>\\n\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div style=\"display:none\"  class=\"pcs-attachments-delete-dialog\"\\n\\t\\t\\t\\t\\t\\t data-bind=\"attr : { title : $parent.bundle.pcs.attachments.dialog_confirm}, ojComponent:{component: \\'ojDialog\\', initialVisibility: \\'hide\\'}\">\\n\\t\\t\\t\\t\\t\\t<div class=\"oj-dialog-body\">\\n\\t\\t\\t\\t\\t\\t\\t<div data-bind=\"text : $parent.bundle.pcs.attachments.dialog_discard_msg\"/>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"oj-dialog-footer\">\\n\\t\\t\\t\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-bind=\"click : $parent.yesDeleteDialog ,\\n                    ojComponent: {component: \\'ojButton\\', label: $parent.bundle.pcs.attachments.dialog_yes}\"></button>\\n\\t\\t\\t\\t\\t\\t\\t<button\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-bind=\"click : $parent.noDeleteDialog ,\\n                    ojComponent: {component: \\'ojButton\\', label: $parent.bundle.pcs.attachments.dialog_no}\"></button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<hr/>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t\\t<!-- /ko -->\\n\\t</div>\\n\\t<div id=\"pcs-attachments-overlay\"/>\\n\\n</div>\\n\\n<div style=\"display:none\" class=\"pcs-attachments-modalDialog\"\\n\\t data-bind=\"attr: {title: bundle.pcs.attachments.uploadDialogTitle},\\n\\t ojComponent:{\\n\\t\\tcomponent: \\'ojDialog\\',\\n\\t\\tinitialVisibility: \\'hide\\',\\n\\t\\tclose: handleDialogClose,\\n\\t\\trootAttributes: { style: \\'width: 500px; min-width: 200px; max-width 500px;\\'}\\n\\t }\">\\n\\t<div class=\"oj-dialog-body oj-form\">\\n\\t\\t<div class=\"oj-flex\">\\n\\t\\t\\t<div class=\"oj-flex-item\">\\n\\t\\t\\t\\t<div data-bind=\"ifnot:showDcsFolders\">\\n\\t\\t\\t\\t\\t<div class=\"pcs-attachments-note-txt\" data-bind=\"text:bundle.pcs.attachments.uploadSizeLimitText\"></div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div data-bind=\"if:showDcsFolders\">\\n\\t\\t\\t\\t\\t<div class=\"pcs-attachments-note-txt\" data-bind=\"text:bundle.pcs.attachments.docsUploadSizeLimitText\"></div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\"pcs-attachments-error-txt\" data-bind=\"visible:isSizeLimitExceeding, text:bundle.pcs.attachments.fileSizeExceeded\"></div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\"oj-flex pcs-attachments-dialog-error-msg\">\\n\\t\\t\\t<span class=\"oj-fwk-icon oj-fwk-icon-status-error oj-flex-item\"></span>\\n\\t\\t\\t<span class=\"oj-flex-item\" data-bind=\"text: bundle.pcs.attachments.fileExists\"></span>\\n\\t\\t</div>\\n\\t\\t<div class=\"oj-flex oj-sm-odd-cols-12 oj-md-odd-cols-4 oj-md-labels-inline\\n\\t\\t\\t oj-form-cols-labels-inline oj-form-cols-max2\">\\n\\t\\t\\t<div class=\"oj-flex-item\">\\n\\t\\t\\t\\t<label for=\"pcs-attachments-fileControl\" data-bind=\"text:bundle.pcs.attachments.browseToUploadLabel\"></label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\"oj-flex-item\">\\n\\t\\t\\t\\t<input id=\"pcs-attachments-fileControl\" type=\"file\" class=\"pcs-attach-file-name\"  title=\"Upload file\" style=\"float:left;\" />\\n\\t\\t\\t\\t<div class=\"pcs-empty-file-name-text\" style=\"display: none;color:red;clear: both;\" class=\"text-error\" data-bind=\"text:bundle.pcs.attachments.emptyAddFileText\"></div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\"oj-dialog-footer\">\\n\\t\\t<button class=\"pcs-attachments-upload-btn\"\\n\\t\\t\\t\\tdata-bind=\"click: uploadAttachment, ojComponent: {component: \\'ojButton\\', label: bundle.pcs.attachments.upload, disabled : \\'true\\'} , attr : { title : bundle.pcs.attachments.upload}\"> </button>\\n\\t</div>\\n</div>\\n\\n<div style=\"display:none\" class=\"pcs-attachments-dcsModalDialog\"\\n\\t   data-bind=\"attr: {title: bundle.pcs.attachments.documents_dialog_title}, ojComponent:{component: \\'ojDialog\\', initialVisibility: \\'hide\\', close :dcsDialogClose, rootAttributes: { style: \\'width: 800px; min-width: 300px; max-width 800px;\\'}}\">\\n\\t<div class=\"oj-dialog-body\" style=\"height:600px\">\\n\\t\\t<iframe id=\"pcs-attachment-iframe\" target=\"_top\" data-bind=\"attr: {src: $data.dscSelectedAppLink}\" frameborder=\"0\" seamless=\"seamless\" scrolling=\"auto\"\\n\\t\\t\\t\\tstyle=\"overflow-x:hidden; width:100%;\" height=550px\" >\\n\\t\\t\\t<p>Your browser does not support iframes.</p>\\n\\t\\t</iframe>\\n\\n\\t</div>\\n\\n</div>\\n';});\n\n",
    "/**\n * Created by nisabhar on 4/9/18.\n */\n\ndefine('pcs/util/loggerUtil',['jquery'],function($){\n\t'use strict';\n\n\tfunction PCSLogger() {\n\t\tvar self= this;\n\t\tself.enableLog = false;\n\n\t\treturn {\n\t\t\tlog: function(value) {\n\t\t\t\tif (self.enableLog) {\n\t\t\t\t\tconsole.log(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror : function (value) {\n\t\t\t\tif (self.enableLog) {\n\t\t\t\t\tconsole.error(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdebug : function (value) {\n\t\t\t\tif (self.enableLog) {\n\t\t\t\t\tconsole.debug(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\twarn : function (value) {\n\t\t\t\tif (self.enableLog) {\n\t\t\t\t\tconsole.warn(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tenableLog :  function (){\n\t\t\t\tself.enableLog = true;\n\t\t\t},\n\t\t\tdisableLog : function(){\n\t\t\t\tself.enableLog = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar instance  = new PCSLogger();\n\t//console.log('####Intitating logger Util');\n\n\treturn instance;\n\n});\n\n\n",
    "/**\n * Created by nisabhar on 3/11/2016.\n */\n\ndefine('pcs/util/pcsUtil',['module', 'knockout', 'ojs/ojcore', 'jquery','pcs/util/loggerUtil'], function(module, ko, oj, $,loggerUtil) {\n    'use strict';\n\n    var eventList = {};\n\n    //A Pub/Sub system based on JQuery callbacks\n    $.CustomEvent = function(eventId) {\n        var callbacks;\n        var pubsub = eventId && eventList[eventId];\n\n        if (!pubsub) {\n            callbacks = $.Callbacks();\n            pubsub = {\n                publish: callbacks.fire,\n                subscribe: callbacks.add,\n                unsubscribe: callbacks.remove\n            };\n            if (eventId) {\n                eventList[eventId] = pubsub;\n            }\n        }\n        return pubsub;\n    };\n\n    //IE polyfill for the CustomEvent constructor\n\t(function () {\n\t\tif ( typeof window.CustomEvent === \"function\" ) return false; //If not IE\n\n\t\tfunction CustomEvent ( event, params ) {\n\t\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\t\t\tvar evt = document.createEvent( 'CustomEvent' );\n\t\t\tevt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n\t\t\treturn evt;\n\t\t}\n\n\t\tCustomEvent.prototype = window.Event.prototype;\n\n\t\twindow.CustomEvent = CustomEvent;\n\t})();\n\n    var _eventHandler = {\n        addHandler: function(element, type, handler) {\n            if (element.addEventListener) {\n                element.addEventListener(type, handler, false);\n            } else if (element.attachEvent) {\n                element.attachEvent('on' + type, handler);\n            } else {\n                element['on' + type] = handler;\n            }\n        },\n        removeHandler: function(element, type, handler) {\n            if (element.removeEventListener) {\n                element.removeEventListener(type, handler, false);\n            } else if (element.detachEvent) {\n                element.detachEvent('on' + type, handler);\n            } else {\n                element['on' + type] = null;\n            }\n        }\n    };\n\n    if (!String.prototype.startsWith) {\n        Object.defineProperty(String.prototype, 'startsWith', {\n            enumerable: false,\n            value: function(searchString, position) {\n                position = position || 0;\n                return this.substr(position, searchString.length) === searchString;\n            }\n        });\n    }\n\n    if (!String.prototype.endsWith) {\n        Object.defineProperty(String.prototype, 'endsWith', {\n            enumerable: false,\n            value: function(searchString, position) {\n                var subjectString = this.toString();\n                if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n                    position = subjectString.length;\n                }\n                position -= searchString.length;\n                var lastIndex = subjectString.indexOf(searchString, position);\n                return lastIndex !== -1 && lastIndex === position;\n            }\n        });\n    }\n\n    //TODO nisabhar : Remove this both commented code, We can not assume where snippets is being consumed\n    //util for centering any element in the center of the page\n    //stackoverflow - http://stackoverflow.com/questions/210717/using-jquery-to-center-a-div-on-the-screen\n    //$.fn.center = function () {\n    //    this.css('position','absolute');\n    //    this.css('top', Math.max(0, (($(window).height() - $(this).outerHeight()) / 2) +\n    //            $(window).scrollTop()) + 'px');\n    //    this.css('left', Math.max(0, (($(window).width() - $(this).outerWidth()) / 2) +\n    //            $(window).scrollLeft()) + 'px');\n    //    return this;\n    //};\n    //\n    ////show loading animation for any ajax event\n    //$(document).bind('ajaxStart', function(){\n    //    $('body').append('<img id='pcs-loading-anim' src='css/pcs/images/spin.gif'/>');\n    //    $('#pcs-loading-anim').center();\n    //}).bind('ajaxStop', function(){\n    //    $('#pcs-loading-anim').remove();\n    //});\n\n    /**\n     * This method is to do dummy ADF call\n     * @param url\n     * @private\n     */\n    var _adfProxyCall = function(url) {\n        // Let the container handle if container is willing to\n        if (typeof window.doADFProxyCall === 'function') {\n            window.doADFProxyCall(url);\n        }\n        // else handle ourself\n        else {\n            if (url) {\n                window.location.assign(url);\n            }\n        }\n    };\n\n    /**\n     * Method to parse multi part data used by startform plugin\n     * @param jqXHR\n     * @returns {{}}\n     * @private\n     */\n    var _multipartParse = function(jqXHR) {\n        var contentType = jqXHR.getResponseHeader('Content-Type');\n        var body = jqXHR.response;\n\n        // Examples for content types:\n        //      multipart/form-data; boundary='----7dd322351017c'; ...\n        //      multipart/form-data; boundary=----7dd322351017c; ...\n        var m = contentType.match(/boundary=(?:'([^']+)'|([^;]+))/i);\n\n        if (!m) {\n            throw new Error('Bad content-type header, no multipart boundary');\n        }\n\n        var boundary = m[1] || m[2];\n        var isRaw = typeof(body) !== 'string';\n        var s, i;\n\n        function Header_parse(headerString) {\n\n            var headers = headerString.split('\\r\\n');\n\n            var contentType = 'text/plain';\n            var fieldName = 'pcsFormUrl';\n\n            //Result object\n            var headerFields = {\n                contentType: contentType,\n                fieldName: fieldName\n            };\n\n            for (var j = 1; j < headers.length; j++) {\n                var header = headers[j];\n                /*jshint validthis:true */\n                var matchResult = header.match(/^.*filename=\"([^\"]*)\"/);\n                if (matchResult) {\n                    headerFields.fieldName = matchResult[1];\n                } else {\n                    var searchStr = 'Content-Type:';\n                    if (header.indexOf(searchStr) > -1) {\n                        matchResult = header.substring(header.indexOf(searchStr) + searchStr.length);\n                    }\n                    if (matchResult) {\n                        headerFields.contentType = matchResult.trim();\n                    }\n                }\n            }\n            return headerFields;\n        }\n\n        // \\r\\n is part of the boundary.\n        boundary = '\\r\\n--' + boundary;\n\n        if (isRaw) {\n            var view = new Uint8Array(body);\n            //s = String.fromCharCode.apply(null, view);\n\n            var CHUNK_SZ = 0x8000;\n            var c = [];\n            for (i = 0; i < view.length; i += CHUNK_SZ) {\n                c.push(String.fromCharCode.apply(null, view.subarray(i, i + CHUNK_SZ)));\n            }\n            s = c.join('');\n        } else {\n            s = body;\n        }\n\n        // Prepend what has been stripped by the body parsing mechanism.\n        s = '\\r\\n' + s;\n\n        var parts = s.split(new RegExp(boundary)),\n            partsByName = {};\n\n        // First part is a preamble, last part is closing '--'\n        for (i = 1; i < parts.length - 1; i++) {\n            // var subparts = parts[i].split('\\r\\n\\r\\n');\n            // var headers = subparts[0].split('\\r\\n');\n            // partsByName[fieldName] = isRaw?rawStringToBuffer(subparts[1]):subparts[1];\n\n            var searchStr = '\\r\\n\\r\\n';\n            var data = parts[i].substring(parts[i].indexOf(searchStr) + searchStr.length); // we need to igonore the two enters in string thats why +3\n            var header = parts[i].substring(0, parts[i].indexOf(searchStr));\n\n            var headerResult = Header_parse(header);\n\n            var convertDataToBuffer = false;\n\n            if (isRaw && !headerResult.contentType.startsWith('text')) {\n                convertDataToBuffer = true;\n            }\n\n            partsByName[headerResult.fieldName] = {\n                data: data,\n                contentType: headerResult.contentType,\n                fileName: headerResult.fieldName\n            };\n        }\n        return partsByName;\n    };\n\n    //Usage =hideStartform=false&filter={'processName':'AttachApplicationProcess'}&hideSave=true&hideDiscard=true&submitLabel='My Submit'\n    // Read a page's GET URL variables and return them as an associative array.\n    function _getUrlParametersObject() {\n        var vars = {},\n            hash;\n\n        //no query params\n        if (window.location.href.indexOf('?') === -1) {\n            return vars;\n        }\n        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\n        for (var i = 0; i < hashes.length; i++) {\n            hash = hashes[i].split('=');\n            //vars[hash[0]] = hash[1];\n            var key = decodeURIComponent(hash[0]);\n            var val = decodeURIComponent(hash[1]);\n            var obj = JSON.parse(val);\n            vars[key] = obj;\n        }\n\n        return vars;\n    }\n\n    var _getAuthToken = function(url) {\n        return $.ajax({\n            type: 'GET',\n            url: url,\n            dataType: 'text',\n            xhrFields: {\n                withCredentials: true\n            }\n        });\n    };\n\n    return {\n        adfProxyCall: _adfProxyCall,\n        getAuthToken: _getAuthToken,\n        multipartParse: _multipartParse,\n        getUrlParametersObject: _getUrlParametersObject,\n        eventHandler: _eventHandler,\n        initComponentForIFrame: function(options, loadComponent, element) {\n            if (!$.isEmptyObject($.pcsConnection)) {\n                loadComponent();\n            } else {\n                $.pcsConnection = {};\n                //$.pcsConnection.serverURL = \"http://den02biu.us.oracle.com:7001\";\n\n\t\t\t\t// See if test mode is passed\n\t\t\t\tif(!$.isEmptyObject(options)){\n\t\t\t\t\tif(options.testMode) {\n\t\t\t\t\t\t$.pcsConnection.testMode = options.testMode;\n\t\t\t\t\t}\n\t\t\t\t\tif(options.serverURL){\n\t\t\t\t\t\t$.pcsConnection.serverURL =options.serverURL;\n\t\t\t\t\t}\n\t\t\t\t\tif(options.authInfo){\n\t\t\t\t\t\t$.pcsConnection.authInfo =options.authInfo;\n\t\t\t\t\t\tloadComponent();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n                var util = this;\n                var scriptCallback = function() {\n                    var serverURL = util.getServerURL();\n                    loggerUtil.log('Script loaded and ready, getting token');\n                    util.getAuthToken(serverURL + '/ic/process/workspace/auth/token')\n                        .done(function(data) {\n                            if (data && data.startsWith('<html')) {\n                                element.text('User cannot be authorized').show();\n                            } else {\n                                $.pcsConnection.authInfo = 'Bearer ' + data;\n                                loadComponent();\n                            }\n                        })\n                        .fail(function(jqXHR) {\n                            element.text('User cannot be authorized').show();\n                        });\n                };\n\n                //Load a script tag on PCS Server\n                var script = document.createElement('script');\n                //real browsers\n                script.onload = scriptCallback;\n                //Internet explorer\n                script.onreadystatechange = function() {\n                    if (this.readyState === 'complete') {\n                        scriptCallback();\n                    }\n                };\n\n                var serverURL = this.getServerURL();\n                script.src = serverURL + '/ic/process/workspace/faces/js/homePage.js';\n                document.getElementsByTagName('head')[0].appendChild(script);\n            }\n        },\n        getCookie: function(key) {\n            var result;\n            return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? (result[1]) : null;\n        },\n\t\tstoreLoggedInUser : function (data) {\n\n\t\t\t$.pcsConnection['isAdmin'] = data.adminFlag;\n\t\t\t$.pcsConnection['isProcessOwner'] = false;\n\n\t\t\tif(data.roles && data.roles.items){\n\t\t\t\t$.each(data.roles.items, function(index, role) {\n\t\t\t\t\tif(role.id.endsWith('.ProcessOwner')){\n\t\t\t\t\t\t$.pcsConnection['isProcessOwner'] = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n        getServerURL: function() {\n            if ($.pcsConnection && $.pcsConnection.serverURL) {\n                return $.pcsConnection.serverURL.endsWith('/') ? $.pcsConnection.serverURL.substring(0, $.pcsConnection.serverURL.length - 1) : $.pcsConnection.serverURL;\n            } else {\n            \tvar url = window.location.origin;\n\t\t\t\tif (!$.pcsConnection) {\n\t\t\t\t\t$.pcsConnection= {};\n\t\t\t\t}\n\t\t\t\t$.pcsConnection.serverURL =url;\n                return url;\n            }\n        },\n        getRestUri: function() {\n            //if($.pcsConnection.restURI){\n            //    return $.pcsConnection.restURI  ;\n            //}else{\n            return '/bpm/api/4.0/';\n            //}\n        },\n        getAuthInfo: function() {\n            if ($.pcsConnection && $.pcsConnection.authInfo) {\n                var authInfo = $.pcsConnection.authInfo;\n                if (!authInfo.startsWith('Bearer ') && !authInfo.startsWith('Basic ')) {\n                    authInfo = 'Bearer ' + authInfo;\n                }\n                return authInfo;\n            }\n            return '';\n        },\n        getRestURL: function() {\n            if ($.pcsConnection && $.pcsConnection.restURL) {\n                return $.pcsConnection.restURL;\n            } else {\n                var url = this.getServerURL() + this.getRestUri();\n                if ($.pcsConnection) {\n                    $.pcsConnection.restURL = url;\n                }\n                return url;\n            }\n        },\n        getDpServerURL: function() {\n            if ($.pcsConnection && $.pcsConnection.dpServerURL) {\n                return $.pcsConnection.dpServerURL.endsWith('/') ? $.pcsConnection.dpServerURL.substring(0, $.pcsConnection.dpServerURL.length - 1) : $.pcsConnection.dpServerURL;\n            } else {\n\t\t\t\treturn this.getServerURL();\n            }\n        },\n        getDpRestURL: function() {\n            var url = this.getDpServerURL() + '/bpm/api/4.0/';\n            return url;\n        },\n\t\tbeforeRequestCallback: function(xhr,util){\n\t\t\t//Dummy ADF call\n\t\t\tutil.adfProxyCall();\n\n\t\t\txhr.setRequestHeader('Authorization', util.getAuthInfo());\n\t\t\tif (util.isTestMode()) {\n\t\t\t\txhr.setRequestHeader('pcs_mode', 'dev');\n\t\t\t}\n\t\t\tvar locale = requirejs.s.contexts._.config.locale;\n\t\t\tif(locale){\n\t\t\t\txhr.setRequestHeader('Accept-Language', locale);\n\t\t\t}\n\t\t},\n        isTestMode: function() {\n            if ($.pcsConnection && $.pcsConnection.testMode) {\n                return true;\n            } else {\n                return false;\n            }\n        },\n        taskIconColor: function(str) {\n\t\t\tvar colorCodes = [ '#6e8598', '#754b9a', '#45ac62', '#ed813d', '#3f92d0', '#E85E93',\n\t\t\t\t'#81BB5F', '#DFE146', '#FABC39', '#EB5B60', '#1FB4AD', '#00B6D1'];\n\n            if (!str) {\n                return 'grey';\n            }\n            var hash = 0,\n                i, chr, len;\n\n            for (i = 0, len = str.length; i < len; i++) {\n                chr = str.charCodeAt(i);\n                hash = ((hash << 5) - hash) + chr;\n                hash |= 0; // Convert to 32bit integer\n            }\n\n            // var code = hash;\n            // var B = code & 0xFF;\n            //\n            // code >>= 8;\n            // var G = code & 0xFF;\n            //\n            // code >>= 8;\n            // var R = code & 0xFF;\n            //\n            // return 'rgb(' + R + ',' + G + ',' + B + ')';\n\n            var index = hash % (colorCodes.length) ;\n\n            return colorCodes[Math.abs(index)];\n        },\n        taskInitials: function(taskName) {\n            if (!taskName) {\n                return 'NA';\n            }\n\n            taskName = taskName.replace(' ', '');\n            var firstCharUpper = taskName.charAt(0).toUpperCase();\n            var secondCharUpper = '';\n            for (var i = 1; i < taskName.length; i++) {\n                if (taskName.charAt(i) === taskName.charAt(i).toUpperCase()) {\n                    secondCharUpper = taskName.charAt(i);\n                    break;\n\n                }\n            }\n\n            return firstCharUpper + secondCharUpper;\n\n        },\n\t\tgetRandomInt : function (min, max) {\n\t\t\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n        },\n\t\tunApplyBindings : function($node, remove) {\n\t\t\t// unbind events\n\t\t\t$node.find('*').each(function() {\n\t\t\t\t$(this).off();\n\t\t\t\t$(this).unbind();\n\t\t\t});\n\n\t\t\t$node.off();\n\n\t\t\t// Remove KO subscriptions and references\n\t\t\tif (remove) {\n\t\t\t\tko.cleanNode($node[0]);\n\t\t\t\t$node.find('*').each(function() {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t});\n\t\t\t\tko.removeNode($node);\n\t\t\t} else {\n\t\t\t\tko.cleanNode($node);\n\t\t\t\t$node.find('*').each(function() {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n        compositeVersion: function (formMetadataURL) {\n            //'webforms/oracleinternalpcs~Mortgage_Underwriting!1*soa_1b4254aa-b094-4cc2-9ea7-29fd58919997~6f5740fb-a6d3-4f82-a022-49854f89accb~c3f48544-3ea0-4238-9d8c-a3e8cedec34c',\n            var version;\n            if (formMetadataURL){\n                try{\n                    var splitOnEsclamation = formMetadataURL.split('!');\n                    var splitOnStar = splitOnEsclamation[1].split('*');\n                    version = splitOnStar[0];\n                }\n                catch (err){\n                    loggerUtil.error('Error while getting version');\n                }\n\n            }\n            return version;\n        },\n\t\tapplicationName: function (formMetadataURL) {\n\t\t\t//'webforms/oracleinternalpcs~Mortgage_Underwriting!1*soa_1b4254aa-b094-4cc2-9ea7-29fd58919997~6f5740fb-a6d3-4f82-a022-49854f89accb~c3f48544-3ea0-4238-9d8c-a3e8cedec34c',\n\t\t\tvar applicationName;\n\t\t\tif (formMetadataURL){\n\t\t\t\ttry{\n\t\t\t\t\tvar splitOnTilde = formMetadataURL.split('~');\n\t\t\t\t\tvar splitOnEscalamation = splitOnTilde[1].split('*');\n\t\t\t\t\tapplicationName = splitOnEscalamation[0];\n\t\t\t\t}\n\t\t\t\tcatch (err){\n\t\t\t\t\tloggerUtil.error('Error while getting application Name');\n\t\t\t\t}\n\n\t\t\t}\n\t\t\treturn applicationName;\n\t\t}\n    };\n});\n\n",
    "/**\n * Created by lwagner on 4/9/2016.\n */\n\n\ndefine('pcs/attachments/services/attachmentsDataService',['jquery', 'pcs/util/pcsUtil'],\n    function($, pcsUtil) {\n        'use strict';\n\n        function AttachmentsDataService() {\n            var self = this;\n\n            self.paths = {\n                'taskAttachmentList': 'tasks/{taskId}/attachments',\n                'ProcessesAttachmentList': 'processes/{processId}/attachments',\n                'taskDcsFolderList': 'tasks/{taskId}/folders',\n                'taskDcsFolderInfo': 'tasks/{taskId}/folders/{folderId}',\n\t\t\t\t'processDcsFolderList': 'processes/{id}/folders',\n\t\t\t\t'processDcsFolderInfo': 'processes/{id}/folders/{folderId}',\n                'dpDcsFolderList': 'dp-instances/{id}/folders',\n                'dpDcsFolderInfo': 'dp-instances/{id}/folders/{folderId}'\n            };\n\n            // get to array buffer for binary data. Must be used for attachments\n            var doGetToArrayBuffer = function(url, attachment, callback) {\n                var oReq = new XMLHttpRequest();\n                //oReq.onload = callback;\n                oReq.onreadystatechange = function() {\n                    if (oReq.readyState === 4 && oReq.status === 200) {\n                        callback(attachment, oReq.response);\n                    }\n                };\n\n                oReq.open('GET', url, true);\n                oReq.withCredentials = true;\n                oReq.responseType = 'arraybuffer';\n                oReq.setRequestHeader('Authorization', pcsUtil.getAuthInfo());\n                if (pcsUtil.isTestMode()) {\n                    oReq.setRequestHeader('pcs_mode', 'dev');\n                }\n\n                oReq.send();\n\n                return oReq;\n            };\n\n\t\t\t//callback to set authorization request header for every call\n\t\t\tvar beforeRequestCallback = function(xhr) {\n\t\t\t\tpcsUtil.beforeRequestCallback(xhr,pcsUtil);\n\t\t\t};\n\n            // wrapper function for HTTP GET\n            var doGet = function(url) {\n\n                return $.ajax({\n                    type: 'GET',\n                    cache: false,\n\n                    url: url,\n                    beforeSend: beforeRequestCallback,\n                    xhrFields: {\n                        withCredentials: true\n                    },\n                    contentType: 'application/json',\n                    dataType: 'json'\n                });\n            };\n\n            // wrapper function for HTTP POST\n            var doPost = function(url, payload, contentType) {\n\n                var bytes = new Uint8Array(payload.length);\n                for (var i = 0; i < payload.length; i++) {\n                    bytes[i] = payload.charCodeAt(i);\n                }\n\n                return $.ajax({\n                    type: 'POST',\n                    url: url,\n                    cache: false,\n                    processData: false,\n                    data: bytes,\n                    contentType: contentType,\n                    beforeSend: beforeRequestCallback,\n                    xhrFields: {\n                        withCredentials: true\n                    }\n                });\n            };\n\n            // wrapper function for HTTP GET\n            var doDelete = function(url, dataType) {\n\n                return $.ajax({\n                    type: 'DELETE',\n                    url: encodeURI(url),\n                    beforeSend: beforeRequestCallback,\n                    xhrFields: {\n                        withCredentials: true\n                    },\n                    contentType: 'application/json',\n                    dataType: dataType\n\n                });\n            };\n\n            self.getAttachmentList = function(mode, id) {\n                var serverPath;\n                if (mode === 'task') {\n                    serverPath = pcsUtil.getRestURL() + self.paths.taskAttachmentList.replace('{taskId}', id);\n                } else if (mode === 'process') {\n                    serverPath = pcsUtil.getRestURL() + self.paths.ProcessesAttachmentList.replace('{processId}', id);\n                }\n                return doGet(serverPath);\n            };\n\n            self.uploadAttachment = function(mode, id, payload, contentType) {\n                var serverPath;\n                if (mode === 'task') {\n                    serverPath = pcsUtil.getRestURL() + self.paths.taskAttachmentList.replace('{taskId}', id);\n                } else if (mode === 'process') {\n                    serverPath = pcsUtil.getRestURL() + self.paths.ProcessesAttachmentList.replace('{processId}', id);\n                }\n                return doPost(serverPath, payload, contentType);\n            };\n\n            self.deleteAttachment = function(mode, id, attachmentName) {\n                var serverPath;\n                if (mode === 'task') {\n                    serverPath = pcsUtil.getRestURL() + self.paths.taskAttachmentList.replace('{taskId}', id) + '/' + attachmentName;\n                } else if (mode === 'process') {\n                    serverPath = pcsUtil.getRestURL() + self.paths.ProcessesAttachmentList.replace('{processId}', id) + '/' + attachmentName;\n                }\n                return doDelete(serverPath,'text');\n            };\n\n            self.getAttachmentStream = function(uri, attachment, callback) {\n                return doGetToArrayBuffer(uri, attachment, callback);\n            };\n\n            self.getDcsFolders = function(mode, id) {\n                var serverPath;\n                if (mode === 'task') {\n                    serverPath = pcsUtil.getRestURL() + self.paths.taskDcsFolderList.replace('{taskId}', id);\n                } else if (mode === 'dp') {\n                    serverPath = pcsUtil.getDpRestURL() + self.paths.dpDcsFolderList.replace('{id}', id);\n                } else if (mode === 'process') {\n\t\t\t\t\tserverPath = pcsUtil.getDpRestURL() + self.paths.processDcsFolderList.replace('{id}', id);\n\t\t\t\t}\n                return doGet(serverPath);\n            };\n\n            self.getDcsFolderInfo = function(mode, id, folderId) {\n                var serverPath;\n                if (mode === 'task') {\n                    serverPath = pcsUtil.getRestURL() + self.paths.taskDcsFolderInfo.replace('{taskId}', id).replace('{folderId}', folderId);\n                } else if (mode === 'dp') {\n                    serverPath = pcsUtil.getDpRestURL() + self.paths.dpDcsFolderInfo.replace('{id}', id).replace('{folderId}', folderId);\n                }\n\t\t\t\telse if (mode === 'process') {\n\t\t\t\t\tserverPath = pcsUtil.getDpRestURL() + self.paths.processDcsFolderInfo.replace('{id}', id).replace('{folderId}', folderId);\n\t\t\t\t}\n                return doGet(serverPath);\n            };\n        }\n\n        return new AttachmentsDataService();\n    }\n);\n\n",
    "/**\n * Created by nisabhar on 11/7/17.\n */\n\ndefine('pcs/util/dateUtil',['knockout', 'ojs/ojcore', 'jquery','ojs/ojdatetimepicker'], function(ko, oj, $) {\n\t'use strict';\n\n\n\t/**\n\t * ,method to convert time in string\n\t * @param millisecs\n\t * @returns {string}\n\t */\n\tvar _getTimeDurationTxt = function (millisecs) {\n\n\t\tif (!millisecs){\n\t\t\treturn '';\n\t\t}\n\n\t\tvar durationTxt = '';\n\t\t// get total seconds between the times\n\t\tvar delta = Math.abs(millisecs) / 1000;\n\n\t\t// calculate (and subtract) whole days\n\t\tvar days = Math.floor(delta / 86400);\n\t\tdelta -= days * 86400;\n\t\tdurationTxt = days > 0 ? durationTxt + days + 'd ' : durationTxt;\n\n\t\t// calculate (and subtract) whole hours\n\t\tvar hours = Math.floor(delta / 3600) % 24;\n\t\tdelta -= hours * 3600;\n\t\tdurationTxt = hours > 0 ? durationTxt + hours + 'h ' : durationTxt;\n\n\t\t// calculate (and subtract) whole minutes\n\t\tvar minutes = Math.floor(delta / 60) % 60;\n\t\tdelta -= minutes * 60;\n\t\tdurationTxt = minutes > 0 ? durationTxt + minutes + 'm' : durationTxt;\n\n\t\tif (durationTxt === ''){\n\t\t\tvar seconds = Math.floor(delta);\n\t\t\tdurationTxt = seconds + 's';\n\t\t}\n\n\t\treturn durationTxt;\n\t};\n\n\t/**\n\t * Convert the given utc date to user timezone\n\t * @param utcDate\n\t */\n\tvar _getDateInUserTimezone = function(utcDate){\n\t\tif(!utcDate){\n\t\t\treturn null;\n\t\t}\n\n\t\tvar date;\n\t\tif (typeof utcDate === 'string' || typeof utcDate === 'number'){\n\t\t\t//string format or longTime format\n\t\t\tdate = new Date(utcDate)\n\t\t}else if(utcDate instanceof Date){\n\t\t\tdate = utcDate;\n\t\t}else{\n\t\t\treturn utcDate;\n\t\t}\n\n\t\tvar convertedDate = oj.IntlConverterUtils.dateToLocalIso(date);\n\n\t\treturn convertedDate;\n\t};\n\n\n\t/**\n\t * convert the requested date in the given pattern, do not change the timezone\n\t * @param requestedDate\n\t * @param datePattern\n\t * @returns {string}\n\t */\n\tvar _getFormattedDate =  function (requestedDate, datePattern) {\n\t\tif(!requestedDate || requestedDate === ''){\n\t\t\treturn '';\n\t\t}\n\t\tvar pattern = datePattern ? datePattern : 'MMM dd yyyy, hh:mm a';\n\t\tvar dateOptions = {\n\t\t\tpattern: pattern\n\t\t};\n\t\tvar dateConverter = oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter(dateOptions);\n\n\t\treturn dateConverter.format(requestedDate);\n\t};\n\n\n\t/**\n\t* method to convert\n\t* @param userDate\n\t* @returns {Date}\n\t*/\n\tvar _getDateStingInUTCTimezone= function(userDate){\n\n\t\tvar date;\n\t\tif (typeof userDate === 'string' || typeof userDate === 'number'){\n\t\t\t//string format or longTime format\n\t\t\tdate = new Date(userDate)\n\t\t}else if(userDate instanceof Date){\n\t\t\tdate = userDate;\n\t\t}else{\n\t\t\treturn userDate.toString();\n\t\t}\n\n\t\tdate =date.toISOString();\n\n\t\treturn date;\n\t};\n\n\n\t/**\n\t * custom handlers to convert date pattern\n\t * @type {{update: update}}\n\t */\n\tko.bindingHandlers.pcsFormatDate = {\n\t\tupdate: function(element, valueAccessor, allBindings) {\n\t\t\tvar valueUnwrapped = ko.unwrap(valueAccessor());\n\n\t\t\tif (!valueUnwrapped) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar formattedValue = _getFormattedDate (valueUnwrapped, allBindings().datePattern);\n\n\t\t\tko.bindingHandlers.text.update(element, function() {\n\t\t\t\treturn formattedValue;\n\t\t\t});\n\t\t}\n\t};\n\n\n\treturn {\n\n\t\tgetTimeDurationTxt : _getTimeDurationTxt,\n\n\t\tgetDateInUserTimezone: _getDateInUserTimezone,\n\n\t\tgetFormattedDate : _getFormattedDate,\n\n\t\tgetDateStingInUTCTimezone: _getDateStingInUTCTimezone\n\t};\n});\n\n",
    "/**\n * Created by lwagner on 3/14/2016.\n */\n\ndefine('pcs/attachments/viewModel/attachmentsContainer',['ojs/ojcore', 'knockout', 'pcs/util/pcsUtil', 'pcs/attachments/services/attachmentsDataService', 'pcs/util/dateUtil',\n        'ojs/ojknockout', 'ojs/ojdialog', 'ojs/ojbutton', '!text!pcs/attachments/view/attachmentsContainer.html', 'ojL10n!pcs/resources/nls/pcsSnippetsResource'\n    ],\n    function(oj, ko, pcsUtil, services,dateUtil) {\n\n        'use strict';\n\n        /**\n         * The view model for the main content view template\n         */\n        function AttachmentsContainer(params) {\n            var self = this;\n            this.data = params.data;\n\t\t\tvar loggerUtil =  require('pcs/util/loggerUtil');\n\n            //Set the resourcebundle\n            self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');\n\n            self.attachmentList = ko.observableArray([]);\n            self.dcsFolderList = ko.observableArray([]);\n\t\t\tself.isDcsFolderVisible = ko.observable(true); //toggle between document list and docs UI\n            self.showDcsFolders = ko.observable(false);\n            self.showAttachments = ko.observable(true);\n            self.dscSelectedFolderName = ko.observable('');\n            self.dscSelectedAppLink = ko.observable('');\n            self.displayDcs = ko.observable(false);\n            self.isSizeLimitExceeding = ko.observable(false);\n\n            if (self.data.showDocsInline && (self.data.showDocsInline === true || self.data.showDocsInline === \"true\")){\n\t\t\t\tself.data.showDocsInline = true;\n\t\t\t}else{\n\t\t\t\tself.data.showDocsInline = false;\n\t\t\t}\n\n\n            function createFolderList(folders) {\n\n                if (folders) {\n                    // if dcs folder count > 0 then\n                    //    display folder list\n                    //    launch URL of selected folder\n                    //self.showDcsFolders(true);\n                    self.displayDcs(true);\n                    //self.showAttachments(false);\n\t\t\t\t\t//Display Folders if there are more than one folder or if showDocsInline is falsy\n\t\t\t\t\tfor (var i = 0; i < folders.length; i++) {\n\t\t\t\t\t\tvar folder = {\n\t\t\t\t\t\t\tfolderId: folders[i].folderId,\n\t\t\t\t\t\t\tfolderName: folders[i].folderName\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (folders[i].type && folders[i].type === 'd') {\n\t\t\t\t\t\t\tfolder.isFolder = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfolder.isFolder = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.dcsFolderList.unshift(folder);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (folders.length === 1 && self.data.showDocsInline) {\n\t\t\t\t\t\t//Display the attachments inline, dont show folders\n\t\t\t\t\t\tvar folder = self.dcsFolderList()[0];\n\t\t\t\t\t\tif (folder.isFolder){\n\t\t\t\t\t\t\tself.openFolder(folder);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n                }\n\n                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');\n                self.rootElement.trigger('attachments:loaded');\n            }\n\n            function exceptionHandler(jqXHR, customMsg) {\n                var msg = customMsg;\n\n                if (jqXHR && jqXHR.status === 0) {\n                    msg = self.bundle.pcs.common.server_not_reachable;\n                }\n\n                if (jqXHR && jqXHR.status === 500) {\n                    msg = self.bundle.pcs.common.internal_server_err;\n                } else if (jqXHR && jqXHR.status === 401) {\n                    // reset valid authInfo as the current auth is invalid\n                    msg = self.bundle.pcs.common.access_error_msg;\n                }\n\n                $('#pcs-attachments-error-msg', self.rootElement).text(msg);\n                $('#pcs-attachments-error-msg-container', self.rootElement).show().delay(5000); //.fadeOut(2000);\n\n                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');\n\n            }\n\n\n            function createAttachmentsList(attachments) {\n                if (attachments) {\n                    for (var i = 0; i < attachments.length; i++) {\n\n                        var tmpStr = '';\n                        var updatedDate = dateUtil.getDateInUserTimezone(attachments[i].updatedDate);\n\t\t\t\t\t\tvar updatedDateFormatted = dateUtil.getFormattedDate(updatedDate);\n                        if (attachments[i].updatedDate && attachments[i].updatedBy) {\n                            tmpStr = self.bundle.pcs.attachments.dateByUserText;\n                            tmpStr = oj.Translations.applyParameters(tmpStr, {\n                                '0': updatedDateFormatted,\n                                '1': attachments[i].updatedBy\n                            });\n                        }\n\n                        var attachment = {\n                            filename: decodeURI(attachments[i].title || attachments[i].attachmentName || attachments),\n                            fileInfoText: tmpStr,\n                            serverUri: attachments[i].uri.href,\n                            href: ko.observable('#'),\n                            contentType: attachments[i].mimeType\n                        };\n\n                        self.attachmentList.unshift(attachment);\n\n                    }\n                }\n\n                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');\n                self.rootElement.trigger('attachments:loaded');\n            }\n\n            function loadNativeAttachments(mode, id){\n\t\t\t\tself.displayDcs(false);\n\t\t\t\t// if dcs folder count == 0 then\n\t\t\t\tservices.getAttachmentList(mode, id).done(\n\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\tcreateAttachmentsList(data.items);\n\t\t\t\t\t}\n\t\t\t\t).fail(\n\t\t\t\t\tfunction(jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\tvar msg = self.bundle.pcs.attachments.fetch_attachments_error;\n\t\t\t\t\t\texceptionHandler(jqXHR, msg);\n\t\t\t\t\t\tself.rootElement.trigger('attachments:loaded');\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tfunction loadFolders(mode, id){\n\t\t\t\t//Add the event listerner\n\t\t\t\taddDCSEventListener();\n\n\t\t\t\tservices.getDcsFolders(mode, id).done(\n\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\tcreateFolderList(data.items);\n\t\t\t\t\t}\n\t\t\t\t).fail(\n\t\t\t\t\tfunction(jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\tvar msg = self.bundle.pcs.attachments.fetch_attachments_error;\n\t\t\t\t\t\texceptionHandler(jqXHR, msg);\n\t\t\t\t\t\tself.rootElement.trigger('attachments:loaded');\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n            function loadAttachments(mode, id) {\n                if (mode === 'task') {\n                    $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');\n\n                    // get dcs folders\n                    if (self.data.isDocsEnabled) {\n\t\t\t\t\t\tloadFolders(mode, id);\n                    } else {\n\t\t\t\t\t\tloadNativeAttachments(mode, id);\n                    }\n                } else if (mode === 'process') {\n                    $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');\n\n\t\t\t\t\t// get dcs folders\n\t\t\t\t\tif (self.data.isDocsEnabled) {\n\t\t\t\t\t\tloadFolders(mode, id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tloadNativeAttachments(mode, id);\n\t\t\t\t\t}\n\n                } else if (mode === 'dp') {\n                    $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');\n\n                    // get dcs folders\n                    if (self.data.isDocsEnabled) {\n\t\t\t\t\t\t//Add the event listerner\n\t\t\t\t\t\taddDCSEventListener();\n\n                        services.getDcsFolders(mode, id).done(\n                            function(data) {\n                                if (data.isDocsEnabledFlag) {\n                                    createFolderList(data.folders);\n                                } else {\n                                    $('#pcs-attachments-docs-error', self.rootElement).text('Documents are not enabled for this instance.');\n                                    $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');\n                                }\n                            }\n                        ).fail(\n                            function(jqXHR, textStatus, errorThrown) {\n                                // var msg = self.bundle.pcs.attachments.fetch_attachments_error;\n                                // exceptionHandler(jqXHR,msg);\n                                // self.rootElement.trigger('attachments:loaded');\n                                $('#pcs-attachments-docs-error', self.rootElement).text('You do not have access to the documents');\n                                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');\n\n                            }\n                        );\n                    } else {\n                        $('#pcs-attachments-docs-error', self.rootElement).text('You do not have access to the documents');\n                        $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');\n                    }\n                }\n\n            }\n\n            if (this.data.isDocsEnabled) {\n                self.showDcsFolders(true);\n                self.showAttachments(false);\n            } else {\n                self.showDcsFolders(false);\n                self.showAttachments(true);\n            }\n            if (this.data.startFolderName !== '' && this.data.mode !== 'task' && this.data.mode !== 'process') {\n                //self.showDcsFolders(true);\n                //self.showAttachments(false);\n                self.displayDcs(false);\n                var folder = {\n                    folderId: '',\n                    folderName: this.data.startFolderName,\n                    isFolder: true\n                };\n                self.dcsFolderList.unshift(folder);\n            }\n\n            this.data.container = self;\n\n            this.rootElement = self.data.rootElement;\n\n            if (self.data.hideDelete) {\n                $('.pcs-attachments-removeFile', self.rootElement).hide();\n            }\n\n            if (self.data.hideUploadLink) {\n                $('.pcs-attachments-uploadLink', self.rootElement).hide();\n            }\n\n            if (self.data.hideTitle) {\n                $('.pcs-attachments-title', self.rootElement).hide();\n            }\n\n            if (self.data.mode === 'task' || self.data.mode === 'process' || self.data.mode === 'dp') {\n                loadAttachments(self.data.mode, self.data.id);\n            } else {\n                self.rootElement.trigger('attachments:loaded');\n            }\n            self.openUploadDialog = function() {\n                $('.pcs-attachments-dialog-error-msg').css('display', 'none');\n                $('#pcs-attachments-fileControl', this.element).val('');\n                $('.pcs-attachments-modalDialog').ojDialog('open');\n                $('.pcs-attachments-upload-btn').ojButton('option', 'disabled', true);\n            };\n\n            function createDocsUI(mafLink) {\n                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');\n                if(self.data.showDocsInline){\n\t\t\t\t\tself.isDcsFolderVisible(false);\n\t\t\t\t} else {\n\t\t\t\t\t$('.pcs-attachments-dcsModalDialog').ojDialog('open');\n\t\t\t\t}\n\n\n                self.msg = {\n                    message: 'setAppLinkTokens',\n                    appLinkRefreshToken: JSON.parse(mafLink).refreshToken,\n                    appLinkAccessToken: JSON.parse(mafLink).accessToken,\n                    appLinkRoleName: JSON.parse(mafLink).role,\n                    embedPreview: true\n                };\n\n                //This doesnt work if DCS takes more than 10 sec to initialize\n                //$('#pcs-attachment-iframe').off('load').on('load', function() {\n                //    setTimeout(function() {\n                //        document.getElementById('pcs-attachment-iframe').contentWindow.postMessage(msg, '*');\n                //    }, 100);\n                //});\n\n\n                var appLink = JSON.parse(mafLink).appLinkUrl + '/cfg=hbr,evw,hdc,ndw';\n                self.dscSelectedAppLink(appLink);\n            }\n\n            self.openFolder = function(data) {\n                self.dscSelectedFolderName(data.folderName);\n                if ((self.data.mode === 'task' || self.data.mode === 'dp'|| self.data.mode === 'process') && data.folderId !== '') {\n                    $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');\n                    services.getDcsFolderInfo(self.data.mode, self.data.id, data.folderId).done(\n                        function(data) {\n                            createDocsUI(data.appLink);\n                        }\n                    ).fail(\n                        function(jqXHR, textStatus, errorThrown) {\n\n                            var msg = self.bundle.pcs.attachments.fetch_attachments_error;\n                            exceptionHandler(jqXHR, msg);\n                        }\n                    );\n                } else {\n                    self.showAttachments(true);\n                }\n            };\n\n            self.dcsDialogClose = function() {\n                loggerUtil.log('closing');\n            };\n\n\t\t\tfunction OnDCSMessageEvent(evt) {\n                if (evt.data.message === 'appLinkReady') {\n                    loggerUtil.log('recieved');\n                    var iframe = self.data.showDocsInline ? $('#pcs-attachment-iframe-inline')[0] : $('#pcs-attachment-iframe')[0];\n                    var iframewindow = iframe.contentWindow ? iframe.contentWindow : iframe.contentDocument.defaultView;\n                    iframewindow.postMessage(self.msg, '*');\n                }\n            }\n\n            function cleanDCSEventListener() {\n                // Remove the PostMessage handler\n                loggerUtil.log('removing');\n                pcsUtil.eventHandler.removeHandler(window, 'message', OnDCSMessageEvent);\n            }\n\n            function addDCSEventListener() {\n                // Add the PostMessage handler\n                loggerUtil.log('adding');\n                pcsUtil.eventHandler.addHandler(window, 'message', OnDCSMessageEvent);\n            }\n\n            self.closeFolder = function() {\n                self.showAttachments(false);\n            };\n\n\t\t\tself.showFolders = function() {\n\t\t\t\tself.isDcsFolderVisible(true);\n\t\t\t};\n\n            self.iconClass = function(filename, contentType) {\n                if (filename) {\n                    if (contentType === 'application/pdf') {\n                        return 'pcs-attachments-filepdf-icon';\n                    }\n                    if (contentType === 'application/zip') {\n                        return 'pcs-attachments-filezip-icon';\n                    }\n                    if (contentType && contentType.startsWith('image')) {\n                        return 'pcs-attachments-fileimage-icon';\n                    }\n                    if (contentType === 'text/plain') {\n                        return 'pcs-attachments-filetxt-icon';\n                    }\n                    if (filename.endsWith('xls') || filename.endsWith('xlsx')) {\n                        return 'pcs-attachments-filexls-icon';\n                    }\n                    if (filename.endsWith('doc') || filename.endsWith('docx')) {\n                        return 'pcs-attachments-filedoc-icon';\n                    }\n                    if (filename.endsWith('ppt') || filename.endsWith('pptx')) {\n                        return 'pcs-attachments-fileppt-icon';\n                    } else {\n                        return 'pcs-attachments-fileother-icon';\n                    }\n                }\n            };\n\n            self.removeFileFromList = function(data, event) {\n                var parent = $(event.currentTarget).parent();\n                parent.siblings().find('.pcs-attachments-delete-dialog').ojDialog('open');\n            };\n\n            // Method called when yes button clicked on the delete dialog\n            self.yesDeleteDialog = function(data) {\n\n                if (self.data.mode === 'task' || self.data.mode === 'process') {\n                    var attachmentName = data.filename;\n                    var attachmentItem = data;\n                    $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');\n                    services.deleteAttachment(self.data.mode, self.data.id, attachmentName).done(\n                        function(data) {\n                            self.attachmentList.remove(attachmentItem);\n                            self.rootElement.trigger('attachments:attachmentRemoved', [attachmentItem]);\n                            $('.pcs-attachments-delete-dialog').ojDialog('close');\n\n                            var msg = self.bundle.pcs.attachments.upload_attachment_delete;\n                            msg = oj.Translations.applyParameters(msg, {\n                                '0': attachmentName\n                            });\n\n                            $('#pcs-attachments-success-msg', self.rootElement).text(msg);\n                            $('#pcs-attachments-success-msg-container', self.rootElement).show().delay(5000).fadeOut(2000);\n\n                            $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');\n                        }\n                    ).fail(\n                        function(jqXHR, textStatus, errorThrown) {\n\n                            var msg = self.bundle.pcs.attachments.delete_attachment_error;\n                            exceptionHandler(jqXHR, msg);\n                        }\n                    );\n                } else {\n                    self.attachmentList.remove(data);\n                    self.rootElement.trigger('attachments:attachmentRemoved', [data]);\n                    $('.pcs-attachments-delete-dialog').ojDialog('close');\n                }\n            };\n\n            // Method called when no button clicked on the delete dialog\n            self.noDeleteDialog = function() {\n                $('.pcs-attachments-delete-dialog').ojDialog('close');\n            };\n\n            var fileInfo = {};\n\n\n            //Attach onload function to the iframe to redraw it after the contents are loaded\n            var iframeElem = $('#pcs-attachment-iframe-inline');\n\t\t\tiframeElem.on('load', function() {\n\t\t\t\tredraw(iframeElem);\n\t\t\t});\n\n\t\t\t//Accessing the layout property of child elements will cause browser repaint of the element\n\t\t\tfunction redraw(elem){\n\t\t\t\telem.height(elem.height());\n\t\t\t\tvar outerHeight = elem[0].offsetHeight;\n\t\t\t}\n\n            self.uploadAttachment = function() {\n                if (fileInfo.name !== '') {\n                    for (var i = 0; i < self.attachmentList().length; i++) {\n                        if (self.attachmentList()[i].filename === fileInfo.name) {\n                            $('.pcs-attachments-dialog-error-msg').css('display', 'block');\n                            return;\n                        }\n                    }\n\n                    var tmpStr = self.bundle.pcs.attachments.dateByUserTextTmp;\n\n                    var attachment = {\n                        filename: fileInfo.name,\n                        fileInfoText: tmpStr,\n                        href: fileInfo.src,\n                        contentType: fileInfo.contentType,\n                        content: fileInfo.content\n                    };\n\n                    if (self.data.mode === 'task' || self.data.mode === 'process') {\n\n                        $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');\n                        var boundary = 'Boundary_' + '123456789_123456789';\n                        var header = '--' + boundary + '\\r\\n';\n\n                        var footer = '\\r\\n--' + boundary + '--\\r\\n';\n\n                        var contents = header;\n                        contents += 'Content-Disposition: inline' + '\\r\\n';\n                        contents += 'Content-Type: application/json' + '\\r\\n\\r\\n';\n\n                        var payload = {\n                            'attachmentName': attachment.filename,\n                            'mimeType': attachment.contentType,\n                            'attachmentScope': 'BPM'\n                        };\n                        contents += JSON.stringify(payload) + '\\r\\n';\n                        contents += header;\n\n                        contents += 'Content-Transfer-Encoding: binary\\r\\n\\r\\n';\n                        contents += attachment.content;\n                        contents += footer;\n                        var contentType = 'multipart/mixed; boundary=' + boundary;\n\n                        services.uploadAttachment(self.data.mode, self.data.id, contents, contentType).done(\n                            function(data) {\n                                self.attachmentList.unshift(attachment);\n                                self.rootElement.trigger('attachments:attachmentUploaded', [attachment]);\n\n                                var msg = self.bundle.pcs.attachments.upload_attachment_success;\n                                msg = oj.Translations.applyParameters(msg, {\n                                    '0': attachment.filename\n                                });\n\n                                $('#pcs-attachments-success-msg', self.rootElement).text(msg);\n                                $('#pcs-attachments-success-msg-container', self.rootElement).show().delay(5000).fadeOut(2000);\n\n                                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');\n                            }\n                        ).fail(\n                            function(jqXHR, textStatus, errorThrown) {\n\n                                var msg = self.bundle.pcs.attachments.upload_attachment_error;\n                                exceptionHandler(jqXHR, msg);\n                            }\n                        );\n                    } else {\n                        self.attachmentList.unshift(attachment);\n                        self.rootElement.trigger('attachments:attachmentUploaded', [attachment]);\n                    }\n                }\n                $('.pcs-attachments-modalDialog').ojDialog('close');\n            };\n\n            if (self.data.attachments) {\n                for (var i = 0; i < self.data.attachments.length; i++) {\n\n                    var textFile = null;\n                    var makeTextFile = function(text, contentType) {\n\n                        var bytes = new Uint8Array(text.length);\n                        for (var i = 0; i < text.length; i++) {\n                            bytes[i] = text.charCodeAt(i);\n                        }\n\n                        var data = new Blob([bytes], {\n                            type: contentType\n                        });\n\n                        // If we are replacing a previously generated file we need to\n                        // manually revoke the object URL to avoid memory leaks.\n                        if (textFile !== null) {\n                            window.URL.revokeObjectURL(textFile);\n                        }\n\n                        textFile = window.URL.createObjectURL(data);\n\n                        // returns a URL you can use as a href\n                        return textFile;\n                    };\n\n                    var attachment = self.data.attachments[i];\n\n                    if (attachment.href === '') {\n                        attachment.href = makeTextFile(attachment.content, attachment.contentType);\n                    }\n                    self.attachmentList.unshift(attachment);\n                }\n\n            }\n\n            function abToStr(buffer) {\n                var view = new Uint8Array(buffer);\n\n                var CHUNK_SZ = 0x8000;\n                var c = [];\n                for (var i = 0; i < view.length; i += CHUNK_SZ) {\n                    c.push(String.fromCharCode.apply(null, view.subarray(i, i + CHUNK_SZ)));\n                }\n                return c.join('');\n\n            }\n\n            $('#pcs-attachments-fileControl').change(function(evt) {\n            \tvar uploadBtn = $('.pcs-attachments-upload-btn');\n\t\t\t\tuploadBtn.ojButton('option', 'disabled', true);\n\t\t\t\tself.isSizeLimitExceeding(false);\n                var file = evt.target.files[0];\n                //Set file size limit based on is documents folder enabled check\n                var fileSizeLimit = self.showDcsFolders() ? 15000000 : 5000000;\n\n                if (file && file.size <= fileSizeLimit) {\n                    var reader = new FileReader();\n                    reader.onload = function(e) {\n                        fileInfo.name = file.name;\n                        //fileInfo.content = e.target.result;\n                        fileInfo.content = abToStr(e.target.result);\n                        if (file.type === '') {\n                            // if empty then treat as binary\n                            fileInfo.contentType = 'application/octet-stream';\n                        } else {\n                            fileInfo.contentType = file.type;\n                        }\n                        fileInfo.size = file.size;\n                        fileInfo.src = window.URL.createObjectURL(file);\n                    };\n                    reader.readAsArrayBuffer(file);\n\t\t\t\t\tuploadBtn.ojButton('option', 'disabled', false);\n                } else {\n\t\t\t\t\tself.isSizeLimitExceeding(true);\n                    loggerUtil.log('Failed to load file');\n                }\n            });\n\n            self.handleDialogClose = function (){\n\t\t\t\tself.isSizeLimitExceeding(false);\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * method to clean up everything\n\t\t\t */\n\t\t\tself.dispose = function() {\n\t\t\t\tloggerUtil.log('dispose in attachment Containor');\n\n\t\t\t\tcleanDCSEventListener();\n\t\t\t\t// clean up the events\n\t\t\t\t$(self.rootElement).off();\n\t\t\t\t$('#pcs-attachment-iframe-inline').off();\n\t\t\t};\n\n            self.viewAttachment = function(attachment, event) {\n                var bytes, data, i;\n                if (ko.isObservable(attachment.href)) {\n                    var currentTarget = $(event.currentTarget);\n                    var fetchAttachment = function(attachment, response) {\n                        var data = new Blob([response], {\n                            type: attachment.contentType\n                        });\n                        var textFile = window.URL.createObjectURL(data);\n\n                        attachment.href(textFile);\n                        attachment.content = abToStr(response);\n\n                        $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');\n                        if (window.navigator.msSaveOrOpenBlob) {\n                            window.navigator.msSaveOrOpenBlob(data, attachment.filename);\n                        } else {\n                            currentTarget[0].click();\n                        }\n                    };\n\n                    if (attachment.href() === '#') {\n                        $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');\n                        services.getAttachmentStream(attachment.serverUri, attachment, fetchAttachment, currentTarget);\n                        return false;\n                    } else {\n                        if (window.navigator.msSaveOrOpenBlob) {\n                            bytes = new Uint8Array(attachment.content.length);\n                            for (i = 0; i < attachment.content.length; i++) {\n                                bytes[i] = attachment.content.charCodeAt(i);\n                            }\n                            data = new Blob([bytes], {\n                                type: attachment.contentType\n                            });\n                            window.navigator.msSaveOrOpenBlob(data, attachment.filename);\n                            return false;\n                        } else {\n                            return true;\n                        }\n\n                        return true;\n                    }\n                } else {\n                    if (window.navigator.msSaveOrOpenBlob) {\n                        bytes = new Uint8Array(attachment.content.length);\n                        for (i = 0; i < attachment.content.length; i++) {\n                            bytes[i] = attachment.content.charCodeAt(i);\n                        }\n                        data = new Blob([bytes], {\n                            type: attachment.contentType\n                        });\n                        window.navigator.msSaveOrOpenBlob(data, attachment.filename);\n                        return false;\n                    } else {\n                        return true;\n                    }\n                }\n            };\n        }\n        return AttachmentsContainer;\n    });\n\n",
    "/**\n * Created by lwagner on 3/11/2016.\n */\n\ndefine('pcs/pcs.attachments',['ojs/ojcore', 'knockout', 'jquery', '!text!pcs/attachments/templates/pcs-attachments.html', 'ojL10n!pcs/resources/nls/pcsSnippetsResource',\n\t\t'!text!pcs/attachments/templates/pcs-attachments-error.html', '!text!pcs/attachments/view/attachmentsContainer.html',\n        'pcs/attachments/viewModel/attachmentsContainer', 'pcs/util/loggerUtil','jqueryui-amd/widget'\n    ],\n    function(oj, ko, $, tmpl, bundle, errortmpl, attachmentsView,attachmentsVM,loggerUtil) {\n        'use strict';\n        // define your widget under pcs namespace\n        $.widget('pcs.attachments', {\n\n            //Options to be used as defaults\n            options: {\n                hideDelete: false,\n                hideUploadLink: false,\n                hideTitle: false,\n                attachments: [],\n                startFolderName: '',\n                mode: 'start',\n                id: -1,\n                readOnly: false,\n                isDocsEnabled: false,\n\t\t\t\tshowDocsInline: false\n            },\n\n\t\t\t// Check if the Required options are provided to the widget\n\t\t\t_isValid: function() {\n            \tif (this.options.mode === 'start'){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telse {\n            \t\tif(this.options.id === undefined || this.options.id === ''){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\n            _create: function() {\n                // _create will automatically run the first time\n                // this widget is called. Put the initial widget\n                // setup code here, then you can access the element\n                // on which the widget was called via this.element.\n                // The options defined above can be accessed\n                // via this.options this.element.addStuff();\n                var widget = this;\n\n                if ($.pcsConnection === undefined) {\n                    this.element.html('<div style=\\'color:red\\'>' + bundle.pcs.common.pcs_connection + ' </div>');\n                    return;\n                }\n\n\t\t\t\t// check if the the plugin is initialized correctly\n\t\t\t\tif (!this._isValid()) {\n\t\t\t\t\tthis.element.html(errortmpl);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\tvar data = {\n                    rootElement: widget.element,\n                    hideDelete: widget.options.hideDelete,\n                    hideUploadLink: widget.options.hideUploadLink,\n                    hideTitle: widget.options.hideTitle,\n                    attachments: widget.options.attachments,\n                    startFolderName: widget.options.startFolderName,\n                    mode: widget.options.mode,\n                    id: widget.options.id,\n                    isDocsEnabled: widget.options.isDocsEnabled,\n\t\t\t\t\tshowDocsInline: widget.options.showDocsInline\n                };\n\n                function Model() {\n                    var self = this;\n\n                    if (!ko.components.isRegistered('attachmentComponent')) {\n                        ko.components.register('attachmentComponent', {\n                            template: attachmentsView,\n                            viewModel: attachmentsVM\n                        });\n                    }\n                    self.data = data;\n\n                    if (widget.options.readOnly) {\n                        self.data.hideUploadLink = true;\n                        self.data.hideDelete = true;\n                    }\n                }\n\n                var vm = new Model();\n\n                widget.model = vm;\n\n                this.element.html(tmpl);\n\n                //ko.cleanNode(this.element['0']);\n                ko.applyBindings(vm, this.element['0']);\n            },\n\n            // Destroy an instantiated plugin and clean up modifications\n            // that the widget has made to the DOM\n            destroy: function() {\n                //t his.element.removeStuff();\n                // For UI 1.8, destroy must be invoked from the base\n                // widget\n                $.Widget.prototype.destroy.call(this);\n                // For UI 1.9, define _destroy instead and don't worry\n                // about calling the base widget\n            },\n\n\t\t\t_destroy: function (){\n\t\t\t\tloggerUtil.log('Destroying attachments');\n\t\t\t\t// clean everything up\n\t\t\t\tif (this.model && this.model.data && this.model.data.container) {\n\t\t\t\t\tthis.model.data.container.dispose();\n\t\t\t\t}\n\t\t\t},\n\n            // Respond to any changes the user makes to the option method\n            _setOption: function(key, value) {\n                this.options[key] = value;\n\n                // For UI 1.8, _setOption must be manually invoked\n                // from the base widget\n                $.Widget.prototype._setOption.apply(this, arguments);\n                // For UI 1.9 the _super method can be used instead\n                // this._super( '_setOption', key, value );\n            },\n\n            getAttachments: function() {\n                var data = this.model.data.container.attachmentList();\n                return data;\n            }\n        });\n    });\n\n"
  ]
}