/*
 RequireJS i18n 2.0.2 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/requirejs/i18n for details
*/
(function(){function s(a,b,d,h,g,e){b[a]||(a=a.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2"));return b[a]?(d.push(a),!0!==b[a]&&1!==b[a]||h.push(g+a+"/"+e),!0):!1}function B(a){var b=a.toLowerCase().split(/-|_/);a=[b[0]];var d=1,h;for(h=1;h<b.length;h++){var g=b[h],e=g.length;if(1==e)break;switch(d){case 1:if(d=2,4==e){a.push(g.charAt(0).toUpperCase()+g.slice(1));break}case 2:d=3;a.push(g.toUpperCase());break;default:a.push(g)}}if(!("zh"!=a[0]||1<a.length&&4==a[1].length)){b="Hans";d=1<a.length?a[1]:
null;if("TW"===d||"MO"===d||"HK"===d)b="Hant";a.splice(1,0,b)}return a}function w(a,b){for(var d in b)b.hasOwnProperty(d)&&(null==a[d]?a[d]=b[d]:"object"===typeof b[d]&&"object"===typeof a[d]&&w(a[d],b[d]))}var x=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define('ojL10n',["module"],function(a){var b=a.config?a.config():{};return{version:"2.0.1+",load:function(a,h,g,e){e=e||{};e.locale&&(b.locale=e.locale);var c=x.exec(a),n=c[1],f,p=c[5],q,k=[],t={},y,r="",z,A,l,u,v,m;c[5]?(n=c[1],a=n+p,f=c[4]):(p=c[4],f=b.locale,
"undefined"!==typeof document?(f||(f=e.isBuild?"root":document.documentElement.lang)||(f=void 0===navigator?"root":navigator.language||navigator.userLanguage||"root"),b.locale=f):f="root");q=B(f);z=b.noOverlay;A=b.defaultNoOverlayLocale;if(c=b.merge)if(l=c[n+p])c=x.exec(l),u=c[1],v=c[4];m=[];for(c=0;c<q.length;c++)y=q[c],r+=(r?"-":"")+y,m.push(r);e.isBuild?(k.push(a),l&&k.push(l),h(k,function(){g()})):("query"==b.includeLocale&&(a=h.toUrl(a+".js"),a+=(-1===a.indexOf("?")?"?":"&")+"loc="+f),e=[a],
l&&e.push(l),h(e,function(a,b){var d=[],c=function(a,b,c){for(var e=z||!0===a.__noOverlay,h=A||a.__defaultNoOverlayLocale,g=!1,f=m.length-1;0<=f&&(!g||!e);f--)g=s(m[f],a,d,k,b,c);f=1===m.length&&"root"===m[0];e&&(f||!g)&&h&&s(h,a,d,k,b,c);f||s("root",a,d,k,b,c)};c(a,n,p);var e=d.length;b&&c(b,u,v);h(k,function(){var c=function(a,b,c,e,f){for(;b<c&&d[b];b++){var g=d[b],k=a[g];if(!0===k||1===k)k=h(e+g+"/"+f);w(t,k)}};c(b,e,d.length,u,v);c(a,0,e,n,p);t._ojLocale_=q.join("-");g(t)})}))}}})})();

define('pcs/resources/nls/pcsSnippetsResource',{root:!0,de:!0,es:!0,fr:!0,it:!0,ja:!0,ko:!0,pt:!0,"zh-Hans":!0,"zh-Hant":!0});

/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */
/*jslint regexp: true */
/*global require, XMLHttpRequest, ActiveXObject,
  define, window, process, Packages,
  java, location, Components, FileUtils */

define('text',['module'], function (module) {
    'use strict';

    var text, fs, Cc, Ci, xpcIsWindows,
        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],
        xmlRegExp = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
        bodyRegExp = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
        hasLocation = typeof location !== 'undefined' && location.href,
        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\:/, ''),
        defaultHostName = hasLocation && location.hostname,
        defaultPort = hasLocation && (location.port || undefined),
        buildMap = {},
        masterConfig = (module.config && module.config()) || {};

    function useDefault(value, defaultValue) {
        return value === undefined || value === '' ? defaultValue : value;
    }

    //Allow for default ports for http and https.
    function isSamePort(protocol1, port1, protocol2, port2) {
        if (port1 === port2) {
            return true;
        } else if (protocol1 === protocol2) {
            if (protocol1 === 'http') {
                return useDefault(port1, '80') === useDefault(port2, '80');
            } else if (protocol1 === 'https') {
                return useDefault(port1, '443') === useDefault(port2, '443');
            }
        }
        return false;
    }

    text = {
        version: '2.0.15',

        strip: function (content) {
            //Strips <?xml ...?> declarations so that external SVG and XML
            //documents can be added to a document without worry. Also, if the string
            //is an HTML document, only the part inside the body tag is returned.
            if (content) {
                content = content.replace(xmlRegExp, "");
                var matches = content.match(bodyRegExp);
                if (matches) {
                    content = matches[1];
                }
            } else {
                content = "";
            }
            return content;
        },

        jsEscape: function (content) {
            return content.replace(/(['\\])/g, '\\$1')
                .replace(/[\f]/g, "\\f")
                .replace(/[\b]/g, "\\b")
                .replace(/[\n]/g, "\\n")
                .replace(/[\t]/g, "\\t")
                .replace(/[\r]/g, "\\r")
                .replace(/[\u2028]/g, "\\u2028")
                .replace(/[\u2029]/g, "\\u2029");
        },

        createXhr: masterConfig.createXhr || function () {
            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.
            var xhr, i, progId;
            if (typeof XMLHttpRequest !== "undefined") {
                return new XMLHttpRequest();
            } else if (typeof ActiveXObject !== "undefined") {
                for (i = 0; i < 3; i += 1) {
                    progId = progIds[i];
                    try {
                        xhr = new ActiveXObject(progId);
                    } catch (e) {}

                    if (xhr) {
                        progIds = [progId];  // so faster next time
                        break;
                    }
                }
            }

            return xhr;
        },

        /**
         * Parses a resource name into its component parts. Resource names
         * look like: module/name.ext!strip, where the !strip part is
         * optional.
         * @param {String} name the resource name
         * @returns {Object} with properties "moduleName", "ext" and "strip"
         * where strip is a boolean.
         */
        parseName: function (name) {
            var modName, ext, temp,
                strip = false,
                index = name.lastIndexOf("."),
                isRelative = name.indexOf('./') === 0 ||
                             name.indexOf('../') === 0;

            if (index !== -1 && (!isRelative || index > 1)) {
                modName = name.substring(0, index);
                ext = name.substring(index + 1);
            } else {
                modName = name;
            }

            temp = ext || modName;
            index = temp.indexOf("!");
            if (index !== -1) {
                //Pull off the strip arg.
                strip = temp.substring(index + 1) === "strip";
                temp = temp.substring(0, index);
                if (ext) {
                    ext = temp;
                } else {
                    modName = temp;
                }
            }

            return {
                moduleName: modName,
                ext: ext,
                strip: strip
            };
        },

        xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,

        /**
         * Is an URL on another domain. Only works for browser use, returns
         * false in non-browser environments. Only used to know if an
         * optimized .js version of a text resource should be loaded
         * instead.
         * @param {String} url
         * @returns Boolean
         */
        useXhr: function (url, protocol, hostname, port) {
            var uProtocol, uHostName, uPort,
                match = text.xdRegExp.exec(url);
            if (!match) {
                return true;
            }
            uProtocol = match[2];
            uHostName = match[3];

            uHostName = uHostName.split(':');
            uPort = uHostName[1];
            uHostName = uHostName[0];

            return (!uProtocol || uProtocol === protocol) &&
                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&
                   ((!uPort && !uHostName) || isSamePort(uProtocol, uPort, protocol, port));
        },

        finishLoad: function (name, strip, content, onLoad) {
            content = strip ? text.strip(content) : content;
            if (masterConfig.isBuild) {
                buildMap[name] = content;
            }
            onLoad(content);
        },

        load: function (name, req, onLoad, config) {
            //Name has format: some.module.filext!strip
            //The strip part is optional.
            //if strip is present, then that means only get the string contents
            //inside a body tag in an HTML string. For XML/SVG content it means
            //removing the <?xml ...?> declarations so the content can be inserted
            //into the current doc without problems.

            // Do not bother with the work if a build and text will
            // not be inlined.
            if (config && config.isBuild && !config.inlineText) {
                onLoad();
                return;
            }

            masterConfig.isBuild = config && config.isBuild;

            var parsed = text.parseName(name),
                nonStripName = parsed.moduleName +
                    (parsed.ext ? '.' + parsed.ext : ''),
                url = req.toUrl(nonStripName),
                useXhr = (masterConfig.useXhr) ||
                         text.useXhr;

            // Do not load if it is an empty: url
            if (url.indexOf('empty:') === 0) {
                onLoad();
                return;
            }

            //Load the text. Use XHR if possible and in a browser.
            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {
                text.get(url, function (content) {
                    text.finishLoad(name, parsed.strip, content, onLoad);
                }, function (err) {
                    if (onLoad.error) {
                        onLoad.error(err);
                    }
                });
            } else {
                //Need to fetch the resource across domains. Assume
                //the resource has been optimized into a JS module. Fetch
                //by the module name + extension, but do not include the
                //!strip part to avoid file system issues.
                req([nonStripName], function (content) {
                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,
                                    parsed.strip, content, onLoad);
                });
            }
        },

        write: function (pluginName, moduleName, write, config) {
            if (buildMap.hasOwnProperty(moduleName)) {
                var content = text.jsEscape(buildMap[moduleName]);
                write.asModule(pluginName + "!" + moduleName,
                               "define(function () { return '" +
                                   content +
                               "';});\n");
            }
        },

        writeFile: function (pluginName, moduleName, req, write, config) {
            var parsed = text.parseName(moduleName),
                extPart = parsed.ext ? '.' + parsed.ext : '',
                nonStripName = parsed.moduleName + extPart,
                //Use a '.js' file name so that it indicates it is a
                //script that can be loaded across domains.
                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';

            //Leverage own load() method to load plugin value, but only
            //write out values that do not have the strip argument,
            //to avoid any potential issues with ! in file names.
            text.load(nonStripName, req, function (value) {
                //Use own write() method to construct full module value.
                //But need to create shell that translates writeFile's
                //write() to the right interface.
                var textWrite = function (contents) {
                    return write(fileName, contents);
                };
                textWrite.asModule = function (moduleName, contents) {
                    return write.asModule(moduleName, fileName, contents);
                };

                text.write(pluginName, nonStripName, textWrite, config);
            }, config);
        }
    };

    if (masterConfig.env === 'node' || (!masterConfig.env &&
            typeof process !== "undefined" &&
            process.versions &&
            !!process.versions.node &&
            !process.versions['node-webkit'] &&
            !process.versions['atom-shell'])) {
        //Using special require.nodeRequire, something added by r.js.
        fs = require.nodeRequire('fs');

        text.get = function (url, callback, errback) {
            try {
                var file = fs.readFileSync(url, 'utf8');
                //Remove BOM (Byte Mark Order) from utf8 files if it is there.
                if (file[0] === '\uFEFF') {
                    file = file.substring(1);
                }
                callback(file);
            } catch (e) {
                if (errback) {
                    errback(e);
                }
            }
        };
    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&
            text.createXhr())) {
        text.get = function (url, callback, errback, headers) {
            var xhr = text.createXhr(), header;
            xhr.open('GET', url, true);

            //Allow plugins direct access to xhr headers
            if (headers) {
                for (header in headers) {
                    if (headers.hasOwnProperty(header)) {
                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);
                    }
                }
            }

            //Allow overrides specified in config
            if (masterConfig.onXhr) {
                masterConfig.onXhr(xhr, url);
            }

            xhr.onreadystatechange = function (evt) {
                var status, err;
                //Do not explicitly handle errors, those should be
                //visible via console output in the browser.
                if (xhr.readyState === 4) {
                    status = xhr.status || 0;
                    if (status > 399 && status < 600) {
                        //An http 4xx or 5xx error. Signal an error.
                        err = new Error(url + ' HTTP status: ' + status);
                        err.xhr = xhr;
                        if (errback) {
                            errback(err);
                        }
                    } else {
                        callback(xhr.responseText);
                    }

                    if (masterConfig.onXhrComplete) {
                        masterConfig.onXhrComplete(xhr, url);
                    }
                }
            };
            xhr.send(null);
        };
    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&
            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {
        //Why Java, why is this so awkward?
        text.get = function (url, callback) {
            var stringBuffer, line,
                encoding = "utf-8",
                file = new java.io.File(url),
                lineSeparator = java.lang.System.getProperty("line.separator"),
                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),
                content = '';
            try {
                stringBuffer = new java.lang.StringBuffer();
                line = input.readLine();

                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324
                // http://www.unicode.org/faq/utf_bom.html

                // Note that when we use utf-8, the BOM should appear as "EF BB BF", but it doesn't due to this bug in the JDK:
                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058
                if (line && line.length() && line.charAt(0) === 0xfeff) {
                    // Eat the BOM, since we've already found the encoding on this file,
                    // and we plan to concatenating this buffer with others; the BOM should
                    // only appear at the top of a file.
                    line = line.substring(1);
                }

                if (line !== null) {
                    stringBuffer.append(line);
                }

                while ((line = input.readLine()) !== null) {
                    stringBuffer.append(lineSeparator);
                    stringBuffer.append(line);
                }
                //Make sure we return a JavaScript string and not a Java string.
                content = String(stringBuffer.toString()); //String
            } finally {
                input.close();
            }
            callback(content);
        };
    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&
            typeof Components !== 'undefined' && Components.classes &&
            Components.interfaces)) {
        //Avert your gaze!
        Cc = Components.classes;
        Ci = Components.interfaces;
        Components.utils['import']('resource://gre/modules/FileUtils.jsm');
        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);

        text.get = function (url, callback) {
            var inStream, convertStream, fileObj,
                readData = {};

            if (xpcIsWindows) {
                url = url.replace(/\//g, '\\');
            }

            fileObj = new FileUtils.File(url);

            //XPCOM, you so crazy
            try {
                inStream = Cc['@mozilla.org/network/file-input-stream;1']
                           .createInstance(Ci.nsIFileInputStream);
                inStream.init(fileObj, 1, 0, false);

                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']
                                .createInstance(Ci.nsIConverterInputStream);
                convertStream.init(inStream, "utf-8", inStream.available(),
                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);

                convertStream.readString(inStream.available(), readData);
                convertStream.close();
                inStream.close();
                callback(readData.value);
            } catch (e) {
                throw new Error((fileObj && fileObj.path || '') + ': ' + e);
            }
        };
    }
    return text;
});


define('text!pcs/identityBrowser/view/idBrowser.html',[],function () { return '<!-- parent VM which consumes this should have USer Defined idbConfig object with configuration details -->\n\n<select  data-bind="attr: {id: idbID, placeholder : placeholder}, ojComponent: { component: \'ojIdentity\', value: value,\n\t\toptions: $.proxy(getIdentities, $data),\n\t\tmultiple: multiple, selectAll: true, selectLabel: selectLabel,\n\t\tdefaultScope: scope}">\n</select>\n';});

/**
 * Created by rojv on 9/23/2016.
 */

define('pcs/identityBrowser/viewModel/Identity',[], function() {
    'use strict';

    function Identity(identity) {
        //Identity Rest API: 1.0, 2.0, 3.0
        this.id = identity.id || identity.identityName;
        this.type = identity.type || identity.identityType;
        this.title = identity.title;
        this.firstName = identity.firstName || identity.userFirstName;
        this.lastName = identity.lastName || identity.userLastName;
        this.email = identity.email;
        this.mobile = identity.mobile || identity.userMobile;
    }

    Identity.prototype = {
        getId: function() {
            return this.id;
        },
        getType: function() {
            return this.type;
        },
        getTitle: function() {
            return this.title;
        },
        getFirstName: function() {
            return this.title;
        },
        getLastName: function() {
            return this.title;
        },
        getFullName: function() {
            return this.firstName + ' ' + this.lastName;
        },
        getEmail: function() {
            return this.email;
        },
        getMobile: function() {
            return this.email;
        }
    };

    return Identity;
});

/**
 * Created by rojv on 9/23/2016.
 */
define('pcs/identityBrowser/viewModel/Identities',[], function() {
    'use strict';

    function Identities() {
        this._identities = [];
        this._selectedIdentities = [];
    }

    Identities.prototype = {
        setIdentities: function(identities) {
            this._identities = identities;
        },

        getIdentities: function() {
            return this._identities;
        },

        setSelectedIdentities: function(identities) {
            this._selectedIdentities = identities;
        },

        getSelectedIdentities: function() {
            return this._selectedIdentities;
        }
    };

    return Identities;

});

/**
 * Created by nisabhar on 4/9/18.
 */

define('pcs/util/loggerUtil',['jquery'],function($){
	'use strict';

	function PCSLogger() {
		var self= this;
		self.enableLog = false;

		return {
			log: function(value) {
				if (self.enableLog) {
					console.log(value);
				}
			},
			error : function (value) {
				if (self.enableLog) {
					console.error(value);
				}
			},
			debug : function (value) {
				if (self.enableLog) {
					console.debug(value);
				}
			},
			warn : function (value) {
				if (self.enableLog) {
					console.warn(value);
				}
			},
			enableLog :  function (){
				self.enableLog = true;
			},
			disableLog : function(){
				self.enableLog = false;
			}
		}
	}

	var instance  = new PCSLogger();
	//console.log('####Intitating logger Util');

	return instance;

});


/**
 * Created by nisabhar on 3/11/2016.
 */

define('pcs/util/pcsUtil',['module', 'knockout', 'ojs/ojcore', 'jquery','pcs/util/loggerUtil'], function(module, ko, oj, $,loggerUtil) {
    'use strict';

    var eventList = {};

    //A Pub/Sub system based on JQuery callbacks
    $.CustomEvent = function(eventId) {
        var callbacks;
        var pubsub = eventId && eventList[eventId];

        if (!pubsub) {
            callbacks = $.Callbacks();
            pubsub = {
                publish: callbacks.fire,
                subscribe: callbacks.add,
                unsubscribe: callbacks.remove
            };
            if (eventId) {
                eventList[eventId] = pubsub;
            }
        }
        return pubsub;
    };

    //IE polyfill for the CustomEvent constructor
	(function () {
		if ( typeof window.CustomEvent === "function" ) return false; //If not IE

		function CustomEvent ( event, params ) {
			params = params || { bubbles: false, cancelable: false, detail: undefined };
			var evt = document.createEvent( 'CustomEvent' );
			evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );
			return evt;
		}

		CustomEvent.prototype = window.Event.prototype;

		window.CustomEvent = CustomEvent;
	})();

    var _eventHandler = {
        addHandler: function(element, type, handler) {
            if (element.addEventListener) {
                element.addEventListener(type, handler, false);
            } else if (element.attachEvent) {
                element.attachEvent('on' + type, handler);
            } else {
                element['on' + type] = handler;
            }
        },
        removeHandler: function(element, type, handler) {
            if (element.removeEventListener) {
                element.removeEventListener(type, handler, false);
            } else if (element.detachEvent) {
                element.detachEvent('on' + type, handler);
            } else {
                element['on' + type] = null;
            }
        }
    };

    if (!String.prototype.startsWith) {
        Object.defineProperty(String.prototype, 'startsWith', {
            enumerable: false,
            value: function(searchString, position) {
                position = position || 0;
                return this.substr(position, searchString.length) === searchString;
            }
        });
    }

    if (!String.prototype.endsWith) {
        Object.defineProperty(String.prototype, 'endsWith', {
            enumerable: false,
            value: function(searchString, position) {
                var subjectString = this.toString();
                if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {
                    position = subjectString.length;
                }
                position -= searchString.length;
                var lastIndex = subjectString.indexOf(searchString, position);
                return lastIndex !== -1 && lastIndex === position;
            }
        });
    }

    //TODO nisabhar : Remove this both commented code, We can not assume where snippets is being consumed
    //util for centering any element in the center of the page
    //stackoverflow - http://stackoverflow.com/questions/210717/using-jquery-to-center-a-div-on-the-screen
    //$.fn.center = function () {
    //    this.css('position','absolute');
    //    this.css('top', Math.max(0, (($(window).height() - $(this).outerHeight()) / 2) +
    //            $(window).scrollTop()) + 'px');
    //    this.css('left', Math.max(0, (($(window).width() - $(this).outerWidth()) / 2) +
    //            $(window).scrollLeft()) + 'px');
    //    return this;
    //};
    //
    ////show loading animation for any ajax event
    //$(document).bind('ajaxStart', function(){
    //    $('body').append('<img id='pcs-loading-anim' src='css/pcs/images/spin.gif'/>');
    //    $('#pcs-loading-anim').center();
    //}).bind('ajaxStop', function(){
    //    $('#pcs-loading-anim').remove();
    //});

    /**
     * This method is to do dummy ADF call
     * @param url
     * @private
     */
    var _adfProxyCall = function(url) {
        // Let the container handle if container is willing to
        if (typeof window.doADFProxyCall === 'function') {
            window.doADFProxyCall(url);
        }
        // else handle ourself
        else {
            if (url) {
                window.location.assign(url);
            }
        }
    };

    /**
     * Method to parse multi part data used by startform plugin
     * @param jqXHR
     * @returns {{}}
     * @private
     */
    var _multipartParse = function(jqXHR) {
        var contentType = jqXHR.getResponseHeader('Content-Type');
        var body = jqXHR.response;

        // Examples for content types:
        //      multipart/form-data; boundary='----7dd322351017c'; ...
        //      multipart/form-data; boundary=----7dd322351017c; ...
        var m = contentType.match(/boundary=(?:'([^']+)'|([^;]+))/i);

        if (!m) {
            throw new Error('Bad content-type header, no multipart boundary');
        }

        var boundary = m[1] || m[2];
        var isRaw = typeof(body) !== 'string';
        var s, i;

        function Header_parse(headerString) {

            var headers = headerString.split('\r\n');

            var contentType = 'text/plain';
            var fieldName = 'pcsFormUrl';

            //Result object
            var headerFields = {
                contentType: contentType,
                fieldName: fieldName
            };

            for (var j = 1; j < headers.length; j++) {
                var header = headers[j];
                /*jshint validthis:true */
                var matchResult = header.match(/^.*filename="([^"]*)"/);
                if (matchResult) {
                    headerFields.fieldName = matchResult[1];
                } else {
                    var searchStr = 'Content-Type:';
                    if (header.indexOf(searchStr) > -1) {
                        matchResult = header.substring(header.indexOf(searchStr) + searchStr.length);
                    }
                    if (matchResult) {
                        headerFields.contentType = matchResult.trim();
                    }
                }
            }
            return headerFields;
        }

        // \r\n is part of the boundary.
        boundary = '\r\n--' + boundary;

        if (isRaw) {
            var view = new Uint8Array(body);
            //s = String.fromCharCode.apply(null, view);

            var CHUNK_SZ = 0x8000;
            var c = [];
            for (i = 0; i < view.length; i += CHUNK_SZ) {
                c.push(String.fromCharCode.apply(null, view.subarray(i, i + CHUNK_SZ)));
            }
            s = c.join('');
        } else {
            s = body;
        }

        // Prepend what has been stripped by the body parsing mechanism.
        s = '\r\n' + s;

        var parts = s.split(new RegExp(boundary)),
            partsByName = {};

        // First part is a preamble, last part is closing '--'
        for (i = 1; i < parts.length - 1; i++) {
            // var subparts = parts[i].split('\r\n\r\n');
            // var headers = subparts[0].split('\r\n');
            // partsByName[fieldName] = isRaw?rawStringToBuffer(subparts[1]):subparts[1];

            var searchStr = '\r\n\r\n';
            var data = parts[i].substring(parts[i].indexOf(searchStr) + searchStr.length); // we need to igonore the two enters in string thats why +3
            var header = parts[i].substring(0, parts[i].indexOf(searchStr));

            var headerResult = Header_parse(header);

            var convertDataToBuffer = false;

            if (isRaw && !headerResult.contentType.startsWith('text')) {
                convertDataToBuffer = true;
            }

            partsByName[headerResult.fieldName] = {
                data: data,
                contentType: headerResult.contentType,
                fileName: headerResult.fieldName
            };
        }
        return partsByName;
    };

    //Usage =hideStartform=false&filter={'processName':'AttachApplicationProcess'}&hideSave=true&hideDiscard=true&submitLabel='My Submit'
    // Read a page's GET URL variables and return them as an associative array.
    function _getUrlParametersObject() {
        var vars = {},
            hash;

        //no query params
        if (window.location.href.indexOf('?') === -1) {
            return vars;
        }
        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
        for (var i = 0; i < hashes.length; i++) {
            hash = hashes[i].split('=');
            //vars[hash[0]] = hash[1];
            var key = decodeURIComponent(hash[0]);
            var val = decodeURIComponent(hash[1]);
            var obj = JSON.parse(val);
            vars[key] = obj;
        }

        return vars;
    }

    var _getAuthToken = function(url) {
        return $.ajax({
            type: 'GET',
            url: url,
            dataType: 'text',
            xhrFields: {
                withCredentials: true
            }
        });
    };

    return {
        adfProxyCall: _adfProxyCall,
        getAuthToken: _getAuthToken,
        multipartParse: _multipartParse,
        getUrlParametersObject: _getUrlParametersObject,
        eventHandler: _eventHandler,
        initComponentForIFrame: function(options, loadComponent, element) {
            if (!$.isEmptyObject($.pcsConnection)) {
                loadComponent();
            } else {
                $.pcsConnection = {};
                //$.pcsConnection.serverURL = "http://den02biu.us.oracle.com:7001";

				// See if test mode is passed
				if(!$.isEmptyObject(options)){
					if(options.testMode) {
						$.pcsConnection.testMode = options.testMode;
					}
					if(options.serverURL){
						$.pcsConnection.serverURL =options.serverURL;
					}
					if(options.authInfo){
						$.pcsConnection.authInfo =options.authInfo;
						loadComponent();
						return;
					}
				}

                var util = this;
                var scriptCallback = function() {
                    var serverURL = util.getServerURL();
                    loggerUtil.log('Script loaded and ready, getting token');
                    util.getAuthToken(serverURL + '/ic/process/workspace/auth/token')
                        .done(function(data) {
                            if (data && data.startsWith('<html')) {
                                element.text('User cannot be authorized').show();
                            } else {
                                $.pcsConnection.authInfo = 'Bearer ' + data;
                                loadComponent();
                            }
                        })
                        .fail(function(jqXHR) {
                            element.text('User cannot be authorized').show();
                        });
                };

                //Load a script tag on PCS Server
                var script = document.createElement('script');
                //real browsers
                script.onload = scriptCallback;
                //Internet explorer
                script.onreadystatechange = function() {
                    if (this.readyState === 'complete') {
                        scriptCallback();
                    }
                };

                var serverURL = this.getServerURL();
                script.src = serverURL + '/ic/process/workspace/faces/js/homePage.js';
                document.getElementsByTagName('head')[0].appendChild(script);
            }
        },
        getCookie: function(key) {
            var result;
            return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? (result[1]) : null;
        },
		storeLoggedInUser : function (data) {

			$.pcsConnection['isAdmin'] = data.adminFlag;
			$.pcsConnection['isProcessOwner'] = false;

			if(data.roles && data.roles.items){
				$.each(data.roles.items, function(index, role) {
					if(role.id.endsWith('.ProcessOwner')){
						$.pcsConnection['isProcessOwner'] = true;
						return false;
					}
				});
			}
		},
        getServerURL: function() {
            if ($.pcsConnection && $.pcsConnection.serverURL) {
                return $.pcsConnection.serverURL.endsWith('/') ? $.pcsConnection.serverURL.substring(0, $.pcsConnection.serverURL.length - 1) : $.pcsConnection.serverURL;
            } else {
            	var url = window.location.origin;
				if (!$.pcsConnection) {
					$.pcsConnection= {};
				}
				$.pcsConnection.serverURL =url;
                return url;
            }
        },
        getRestUri: function() {
            //if($.pcsConnection.restURI){
            //    return $.pcsConnection.restURI  ;
            //}else{
            return '/bpm/api/4.0/';
            //}
        },
        getAuthInfo: function() {
            if ($.pcsConnection && $.pcsConnection.authInfo) {
                var authInfo = $.pcsConnection.authInfo;
                if (!authInfo.startsWith('Bearer ') && !authInfo.startsWith('Basic ')) {
                    authInfo = 'Bearer ' + authInfo;
                }
                return authInfo;
            }
            return '';
        },
        getRestURL: function() {
            if ($.pcsConnection && $.pcsConnection.restURL) {
                return $.pcsConnection.restURL;
            } else {
                var url = this.getServerURL() + this.getRestUri();
                if ($.pcsConnection) {
                    $.pcsConnection.restURL = url;
                }
                return url;
            }
        },
        getDpServerURL: function() {
            if ($.pcsConnection && $.pcsConnection.dpServerURL) {
                return $.pcsConnection.dpServerURL.endsWith('/') ? $.pcsConnection.dpServerURL.substring(0, $.pcsConnection.dpServerURL.length - 1) : $.pcsConnection.dpServerURL;
            } else {
				return this.getServerURL();
            }
        },
        getDpRestURL: function() {
            var url = this.getDpServerURL() + '/bpm/api/4.0/';
            return url;
        },
		beforeRequestCallback: function(xhr,util){
			//Dummy ADF call
			util.adfProxyCall();

			xhr.setRequestHeader('Authorization', util.getAuthInfo());
			if (util.isTestMode()) {
				xhr.setRequestHeader('pcs_mode', 'dev');
			}
			var locale = requirejs.s.contexts._.config.locale;
			if(locale){
				xhr.setRequestHeader('Accept-Language', locale);
			}
		},
        isTestMode: function() {
            if ($.pcsConnection && $.pcsConnection.testMode) {
                return true;
            } else {
                return false;
            }
        },
        taskIconColor: function(str) {
			var colorCodes = [ '#6e8598', '#754b9a', '#45ac62', '#ed813d', '#3f92d0', '#E85E93',
				'#81BB5F', '#DFE146', '#FABC39', '#EB5B60', '#1FB4AD', '#00B6D1'];

            if (!str) {
                return 'grey';
            }
            var hash = 0,
                i, chr, len;

            for (i = 0, len = str.length; i < len; i++) {
                chr = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + chr;
                hash |= 0; // Convert to 32bit integer
            }

            // var code = hash;
            // var B = code & 0xFF;
            //
            // code >>= 8;
            // var G = code & 0xFF;
            //
            // code >>= 8;
            // var R = code & 0xFF;
            //
            // return 'rgb(' + R + ',' + G + ',' + B + ')';

            var index = hash % (colorCodes.length) ;

            return colorCodes[Math.abs(index)];
        },
        taskInitials: function(taskName) {
            if (!taskName) {
                return 'NA';
            }

            taskName = taskName.replace(' ', '');
            var firstCharUpper = taskName.charAt(0).toUpperCase();
            var secondCharUpper = '';
            for (var i = 1; i < taskName.length; i++) {
                if (taskName.charAt(i) === taskName.charAt(i).toUpperCase()) {
                    secondCharUpper = taskName.charAt(i);
                    break;

                }
            }

            return firstCharUpper + secondCharUpper;

        },
		getRandomInt : function (min, max) {
			return Math.floor(Math.random() * (max - min + 1)) + min;
        },
		unApplyBindings : function($node, remove) {
			// unbind events
			$node.find('*').each(function() {
				$(this).off();
				$(this).unbind();
			});

			$node.off();

			// Remove KO subscriptions and references
			if (remove) {
				ko.cleanNode($node[0]);
				$node.find('*').each(function() {
					$(this).remove();
				});
				ko.removeNode($node);
			} else {
				ko.cleanNode($node);
				$node.find('*').each(function() {
					$(this).remove();
				});
			}
		},
        compositeVersion: function (formMetadataURL) {
            //'webforms/oracleinternalpcs~Mortgage_Underwriting!1*soa_1b4254aa-b094-4cc2-9ea7-29fd58919997~6f5740fb-a6d3-4f82-a022-49854f89accb~c3f48544-3ea0-4238-9d8c-a3e8cedec34c',
            var version;
            if (formMetadataURL){
                try{
                    var splitOnEsclamation = formMetadataURL.split('!');
                    var splitOnStar = splitOnEsclamation[1].split('*');
                    version = splitOnStar[0];
                }
                catch (err){
                    loggerUtil.error('Error while getting version');
                }

            }
            return version;
        },
		applicationName: function (formMetadataURL) {
			//'webforms/oracleinternalpcs~Mortgage_Underwriting!1*soa_1b4254aa-b094-4cc2-9ea7-29fd58919997~6f5740fb-a6d3-4f82-a022-49854f89accb~c3f48544-3ea0-4238-9d8c-a3e8cedec34c',
			var applicationName;
			if (formMetadataURL){
				try{
					var splitOnTilde = formMetadataURL.split('~');
					var splitOnEscalamation = splitOnTilde[1].split('*');
					applicationName = splitOnEscalamation[0];
				}
				catch (err){
					loggerUtil.error('Error while getting application Name');
				}

			}
			return applicationName;
		}
    };
});

define('pcs/data-services/DataServices',['require','jquery','pcs/util/pcsUtil'],function(require) {
    'use strict';
    var $ = require('jquery'),
        pcsUtil = require('pcs/util/pcsUtil');
    return (function() {
        var instance,

            getBaseURL = function(version) {
                if (version && version === 'dp') {
                    return pcsUtil.getDpServerURL() + '/bpm/api/4.0';
                }
                if (version) {
                    return pcsUtil.getServerURL() + '/bpm/api/' + version;
                }
                return pcsUtil.getServerURL() + '/bpm/api/4.0';
            },

            //callback to set authorization request header for every call
            beforeRequestCallback = function(xhr) {
				pcsUtil.beforeRequestCallback(xhr,pcsUtil);
            },

            serializeData = function(contentType, payload) {
                var data = JSON.stringify(payload);
                if (!contentType && contentType.startsWith('multipart')) {
                    data = new Uint8Array(payload.length);
                    for (var i = 0; i < payload.length; i++) {
                        data[i] = payload.charCodeAt(i);
                    }
                }
                return data;
            };

        function init() {
            return {
                get: function(url, options, version) {
                    if (url.indexOf(getBaseURL(version)) === -1) {
                        url = getBaseURL(version) + url;
                    }
                    //add URL query parameters for GET
                    if (options && options.queryParams) {
                    	var queryParams = $.param(options.queryParams, true) ;
                        url += '?' + queryParams;
                    }
                    //alert(url);
					//Dummy ADF call
					pcsUtil.adfProxyCall();

                    return $.ajax({
                        type: 'GET',
                        url: url,
                        beforeSend: beforeRequestCallback,
                        xhrFields: {
                            withCredentials: true
                        },
                        contentType: (options && options.contentType) ? options.contentType : 'application/json',
                        dataType: (options && options.dataType) ? options.dataType : 'json'
                    });
                },

                post: function(url, options, version) {
                    if (url.indexOf(getBaseURL(version)) === -1) {
                        url = getBaseURL(version) + url;
                    }
					if (!options.contentType) {
                        options.contentType = 'application/json';
                    }
                    var payload = serializeData(options.contentType, options.payload);

					//Dummy ADF call
					pcsUtil.adfProxyCall();

                    return $.ajax({
                        type: 'POST',
                        url: url,
                        cache: false,
                        processData: false,
                        data: payload,
                        beforeSend: beforeRequestCallback,
                        xhrFields: {
                            withCredentials: true
                        },
						contentType: (options && options.contentType) ? options.contentType : 'application/json',
                        dataType: (options && options.dataType) ? options.dataType : 'json'
                    });
                },

                put: function(url, options, version) {
                    if (url.indexOf(getBaseURL(version)) === -1) {
                        url = getBaseURL(version) + url;
                    }
                    if (!options.contentType) {
                        options.contentType = 'application/json';
                    }

                    var payload = serializeData(options.contentType, options.payload);

					//Dummy ADF call
					pcsUtil.adfProxyCall();

                    return $.ajax({
                        type: 'PUT',
                        url: url,
                        cache: false,
                        processData: false,
                        data: payload,
                        beforeSend: beforeRequestCallback,
                        xhrFields: {
                            withCredentials: true
                        },
						contentType: (options && options.contentType) ? options.contentType : 'application/json',
                        dataType: (options && options.dataType) ? options.dataType : 'json'
                    });
                },

                delete: function(url, options, version) {
                    if (url.indexOf(getBaseURL(version)) === -1) {
                        url = getBaseURL(version) + url;
                    }

					//Dummy ADF call
					pcsUtil.adfProxyCall();

                    return $.ajax({
                        type: 'DELETE',
                        url: url + '/' + options.payload,
                        beforeSend: beforeRequestCallback,
                        xhrFields: {
                            withCredentials: true
                        },
                        contentType: (options && options.contentType) ? options.contentType : 'application/json',
                        cache: false,
                        processData: false
                    });
                }
            };
        }

        return {
            // Get the Singleton instance if one exists
            // or create one if it doesn't
            getInstance: function(connection) {
                if (!instance) {
                    instance = init();
                }
                if (connection) {
                    instance.connection = connection;
                }
                return instance;
            },

            setConnection: function(connection) {
                if (!instance) {
                    instance = init();
                }
                instance.connection = connection;
            }
        };

    })();
});

/**
 * Created by rojv on 9/23/2016.
 */

define('pcs/identityBrowser/viewModel/IdentityService',['pcs/identityBrowser/viewModel/Identity', 'pcs/identityBrowser/viewModel/Identities','pcs/data-services/DataServices'],
    function(Identity, Identities, DataServices) {
        'use strict';

        var resourceUrlConfig = {
            identities: '/identities'
        };
        var dataServices = DataServices.getInstance();

        function IdentityService() {
            this._identities = new Identities();
        }

        IdentityService.prototype = {
            getIdentity: function(index) {
                return this._identities.getIdentities[index];
            },

            setIdentities: function(identities) {
                this._identities.setIdentities(this.parseIdentity(identities));
            },

            getIdentities: function() {
                return [].concat(this._identities.getIdentities());
            },

            setSelectedIdentities: function(identities) {
                this._identities.setSelectedIdentities(this.parseIdentity(identities));
            },

            getSelectedIdentities: function() {
                return this._identities.getSelectedIdentities();
            },

            parseIdentity: function(identities) {
                var _identities = [];
                if (identities && Array.isArray(identities)) {
                    for (var i = 0, len = identities.length; i < len; i++) {
                        _identities.push(new Identity(identities[i]));
                    }
                }

                return _identities;
            },


            restCall: function(params) {
                var _this = this;
                return new Promise(function(fulfill, reject) {
                    var url = resourceUrlConfig.identities;
                    var options = {
                        contentType: 'application/json; charset=utf-8',
                        queryParams: params,
						traditional:true
                    };
                    dataServices.get(url, options, null, params).then(function(data) {
                        _this.setIdentities(data.items || []);
                        fulfill(_this.getIdentities());
                    }).fail(function(error) {
                        //return the cache
                        reject(_this.getIdentities());
                    });
                });
            }

        };

        return IdentityService;

    });

define("ojidentity",["jquery","ojs/ojcore","ojs/ojeditablevalue"],function(a,b,c){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="../../../resources/js/node_modules/composer.js.core/dist/",b(b.s="./src/main/js/ojidentity.js")}({"./node_modules/babel-runtime/core-js/json/stringify.js":function(a,b,c){a.exports={"default":c("./node_modules/core-js/library/fn/json/stringify.js"),__esModule:!0}},"./node_modules/core-js/library/fn/json/stringify.js":function(a,b,c){var d=c("./node_modules/core-js/library/modules/_core.js"),e=d.JSON||(d.JSON={stringify:JSON.stringify});a.exports=function(a){return e.stringify.apply(e,arguments)}},"./node_modules/core-js/library/modules/_core.js":function(a,b){var c=a.exports={version:"2.5.1"};"number"==typeof __e&&(__e=c)},'./node_modules/css-loader/index.js?{"importLoaders":1,"sourceMap":false,"minimize":true}!./node_modules/postcss-loader/lib/index.js?{"config":{"path":"/Users/talabes/repositories2/identity-browser/node_modules/composer-front-end-config/conf/webpack../postcss.config.js"}}!./src/main/css/ojidentity.css':function(a,b,c){b=a.exports=c("./node_modules/css-loader/lib/css-base.js")(!1),b.push([a.i,'.oj-identity{max-width:100%;width:100%;min-width:100px}.oj-identity.hasFilter{max-width:calc(100% - 32px);width:calc(100% - 32px);min-width:100px}.oj-identity .oj-select-search-field{line-height:36px}.oj-identity .oj-select-choice{height:32px;line-height:32px}.oj-identity.oj-select-multi.oj-disabled .oj-select-selected-choice{border-color:#d5d5d5}.oj-identity-type{display:inline-block;width:24px;height:24px;vertical-align:middle;margin:0 2px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAABICAMAAAGsIPWrAAACc1BMVEUkJCT///8kJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCRPcgFcAAAA0HRSTlMAAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISMkJSYnKCkqKywtLi8wMTIzNTY3ODk6Ozw+P0JDREVGSUxNTk9QUVJUVVZXWFlaW1xdXl9gYmNoaWpsbW5vcHFyc3R1dnh5en1+f4CBg4WGiYqLjI2Oj5CRkpOUlZaXmJmam5ydnp+goaKkpaanqKmqq6ytrq+wsbKztLW2uLq+v8DBwsPFx8jLzc7T1tfa293e4OPm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+TvcGFAAAA5VJREFUOMutVPtfk1UYf97bxmbMqVvOFQIlhWVhxs3mNS8pmIqSycosp5Y3AjUFQQG3vMIGbbBLqJkoXsoyK5FLOUYivOw950/qnLN3c5sf/Rifvj+85/m+3/Oc8zzfcz4HOI4DLjsfsjAGFn//I3DxuKsTuKCdxYABDuPGRDyGIywO+gIQCn5OYyZVZysFO+KMg2L5dQCOd6JzPHCLKBJaMBDY0p1gqQOEFfLhd7ovH5Rg30OMJw6kTQEYGiAfEDASyZDXd/9NgExMkAez6T5ZaQmfBXw+/0JwBAKhLBs4gsFD9vdSpyQIgGbPr3VkWRKJtXstd1G/qeYLCSR78yVSC47eOlFGplnOtjLkpy9A65q1xEQHSoQLCKMrYozAvL/Q0KyYsnKU1ov/+Zh4UzURx7b0cpLJC/XOjTMoTBrgHMRCgoaqkC1O6qZqywlZ7zxJ4XKdKnjWas8gAJabt4mlKvkW4R6RRnzx0bytY0q97ciLpIc3GnPL++RdS06YAXLrTv1J23nQVjcdKg9cUlhzv9VuIGmfxpw6/B8qIKtLRYVC3ESNd1z28yp5ZxzhqGoizB/HWDGpRGydUNrUHO2mG7Lyc5WeEm1PlFaDbs4gxMliknVWAK4/7vuAAbjSRSpKpUn5JpQ5G8zsfAwcmDsC/k4fuXVdDRzM9LKz+m6jszlB2qbtbEmQpZLla0J8QYpt9k/2cjDtODtFp8tV/bwVPL/ATOJNtopVVilmWJJgXHtnDON71QZeFQgMxavnZ2S7wtS4nteMBcuyBary4urG5m8KjXPcg8rED8v0FY0th+ZqyX+t+f19Tfu/9NwZGEXK33/0Hm9o2v7uVAlMHx5tcnr7ZZxAuPdkU81y0FlyckpODw4Phx8QhIcjkcjtdW/Py2FVCbpMQxKmiJPv/ClCzBD9woMXr16seUsDKmICb60eUhB5hyL7NXyyIJT0jrObpfyUK6ZkmL8alBFCcniHmJphyPvo2iOkXF2Tb3ycIWQsP/f7mBwlGVF59F5HuSlmvVB04xHdWAVSHl5fq6NC4V30+HdM+uWDDCLs7huJpGLkvmN6vMEn8X+aSHwqWry45OW0HYDTLaj1dXd3HamsYNhEsHmFlQgzHV72cLFrHwx0tnr83S22JIEhdL4s02IPPSm0168xWrecOZYu+Lda9Tq9IauylAjm7e5OL4PP6233eDxud0c9FSTjK6+m4yX9JDr/F3FKodbfNrouAAAAAElFTkSuQmCC) no-repeat}.user{background-position:center -16px;background-size:80%}.group{background-position:0 0}.approle,.role{background-position:0 -50px}.oj-identity-select{max-height:106px;overflow:auto;background-color:#fcfdfe;border:1px solid #dfe4e7;border-radius:2px 0 0 2px}.oj-identity-select .oj-select-choices{background:none;border-width:0}.oj-identity-container .oj-listbox-result-label{width:calc(100% - 54px);display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle}.oj-identity-checkbox{display:inline-block;width:14px;height:14px;margin:0 4px 0 8px;vertical-align:middle;border-radius:2px;-webkit-box-shadow:0 0 1px #000;box-shadow:0 0 1px #000;background:-webkit-gradient(linear,left bottom,left top,from(#fff),to(#efeff1));background:linear-gradient(0deg,#fff,#efeff1);cursor:pointer}.oj-identity-checkbox:after{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0;content:"";position:absolute;width:9px;height:3px;background:transparent;margin:3px 1px;border:2px solid #737373;border-top:none;border-right:none;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.oj-identity-checkbox.selected:after{-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";filter:alpha(opacity=100);opacity:1}.oj-identity-filter{background:#fcfdfe url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAABACAYAAAEMiUU4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjE4NUNBNzUwODA4MjExRTZCMjVBQzhFMEMzMkQxRjFBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjE4NUNBNzUxODA4MjExRTZCMjVBQzhFMEMzMkQxRjFBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTg1Q0E3NEU4MDgyMTFFNkIyNUFDOEUwQzMyRDFGMUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTg1Q0E3NEY4MDgyMTFFNkIyNUFDOEUwQzMyRDFGMUEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4hiR9yAAAFtklEQVR42mL8//8/AzJgAhFLlixJgNK5jFhVQGXrQDSGChYQce3atZNAyg+I17FAJcyhtDUTkurTIAIggHDbgu6w60B8CCwC0rJ48WJdEA3C2M0AukMLiA3gDgOCKiAWBGJvmMA0ID4GYgAEEIYZWJ0Bdcp0ZAkgvxfuLBgGOs8GShvjdCZOK3ABmKtBfrsApAyQ5E5qaWmZI5sAkrRCCn9zorwJEECUOxIWX1XoEkAxF2QTemACUMk4IHUIxQ1AQSkgxQHEzED8MCYm5heKG4ACz4CUKRBHwiSxxcUOZD514oK4yAJGlAKQ8gDiTVBfhAPxYmBkvYTF5l8gXgXE76D8qUAsgmzFYyC2gbLZgFgeKoZID1Djw6HJewYuRyoB8QmSohsggAgqIDrNQiMUFARlQOwLxM+B+C4QfwNiXiBWgfp8PhAvgsUnC5qBeUD8BYhtgQr+YrMRaEkJNMT2YfUCUAEnkFoPxLlAQ24jiTsBqXygmD+KBvTUg5SyzIE4EsrOAPGxqcOXVliB+B80u5gB8XmaxAITA4WAYgNQohGYLRig2cERiCOgSRMUFj+A+CoQLweVaSBFwKzCgC0dLALiWUC8B4qxAVAa0IKqw/ACqLz5CMS7oS5BBuJAfAUqPwurF6DgMhC7QmuWi0C8FZoNQUCHlEAElXw8UAxK4udIjQVQhRACxHygehaIb9MkIQEE0HBLicCcB0ogHUDMDcR3gPgl1BJpIFaEllLF0JoGazpYB8QmQAVfcJRGskDqLBBL4vICqJzjxONiZmgZiTMMooF4I9AmNiy2CwGppUBsgdMAoNNByRhUaK6Alo3I5SQoo2UD1bzGGwtABaCG1EogLodqBrlmIRD3AeUuEBuNO6D1OQO0LmAHat5HbjoA5YU/RKUDNPAf6Hx+qPMTSTXgLzQbHwHiIOQKZhhmpmFgALaaCVQbhUILUlCLChRNr6F1xVoQG1YrYUsHE6CFyRIgXg3EX6FZmBtaoEwC4ktA3I7LAFCTMQxaLqADUGI6AC1Q2nGFwXVomxMXSIc2OXF6AVQeLoPWfwfR5NyglWomvlgAaQwE4gaoYhgwBuIiUCOLmGj8Ba2lp0D5oBw5HWrwL2LTwScg/g5lg2LgGRKf5IRkC8RPyClQQE2bDCAWgvqfJAO+QJvtoDpgHo50MUgKFIAA7Zk7SwNREIWDMYoYEVMEqxQBsVLRQk1tk9JaDIh2pvGBWIiNqF1Kf4I/wPgCwcpUgm2wCiIqiA9EhMSgwRn8FtaQxL2bLFpkYap93LmPOefM2boz+HM4aCicVFEEfrq4KBXRJxGGNQIWBUm8c36127ukOciVU7HjLZCBFVkWJGJA0AVg8YDyLkBflurw0353kuAgCUckDvQ0SjL3JiuwASsvS5z/aNmdXSfoilGg4Mku0J2cgTVmrJgSRx45vlBECp8pIPTYuAqQFhFgVmezqWqhWj/LO9qSDKmakjhT6wrZ5r4MWUolikWJW4lt+Wi2wjMDbJ2f85P7beuMcACNnJBQQyglHz+0rVSc86JLnpZ7eS9w4BVezVOGPhtl9EAbV04HdwtELWWrEoRyEtDOc0OBqMJVAoCiMrjS1Rw+SVKlkWm5mibwBigp1Y1I7EuoEfPoAieaZNRMoJlA7TKUXkfxvJ8yi9FxK8K9aNkh4wvgQisuRYjoBiuuJU4ljvQd6YuKJjiwisRXJpwCA0wv5Y5JxEyikhtYawvy6OkuZud3kYC+044+L5megR38G+2S9jBE2xwOHGL1dnGXxnEdjKC4iI2pbcmwhP7bm2drbqo0Sx2clyX0YhIDsi4u0IHUQ5qF9dL4SWpA5XjG+v+xJdFLf5mp1RK5KcM7fKgZvKgx2z2tkAn2e8X3/Yuh6BUOBGy0bPe0wvhaH17rAasRsbrvJFihDv06fqlnSPgJAAUx4TJMYpozknW69E098G8S+AIIhC7zaRQqwQAAAABJRU5ErkJggg==") no-repeat center -33px;width:32px;height:32px;display:none;top:0;position:absolute;cursor:pointer;right:-32px;border:1px solid #dfe4e7;border-left-width:0;-webkit-box-sizing:border-box;box-sizing:border-box}.oj-identity-filter:hover{background-position:-1px 0}.oj-identity-filter.showFilter{display:inline-block}.oj-identity-filter-drop{line-height:24px;min-width:100px}.oj-identity-filter-drop input{vertical-align:middle}.oj-identity-container .info{color:#c3c3c3;font-size:12px}.oj-identity .oj-select-choice{border-radius:2px 0 0 2px}.oj-identity-filter.multiple:hover{background-position:-1px 6px}.oj-identity-filter.multiple{background-position:center -27px;padding:21px 0 20px}.oj-identity-loading-container{width:22px;height:22px;position:absolute;margin:3px 0 0 -50px;display:none;top:7px;right:28px}.oj-select-multi .oj-identity-loading-container{top:5px;right:2px}.oj-multi-loading{margin:5px 0 0 -22px}.identity-show-inline{display:inline-block}.oj-identity-loading{width:22px;height:22px;display:inline-block;background:url("data:image/gif;base64,R0lGODlhPAA8APf/AIfc/ly6/rXs/njR/sPw/lm3/mWz/lKy/oPC/ovU/mnE/n3J/tXt/2XB/mzH/mK//jyg/k6v/vT6/1+8/jab/t70/1Ks/li2/oPJ/pLU/t3x/1Cw/nzD/pPb/o/j/pvO/37S/tb1/2/J/lSz/nK7/rrm/4rf/nbP/ur6/9Hx/8Lu/87p/1W0/vf8/9nt//L5/+H2/7bc/+r2/0qm/nLE/qXV/8vn/4rG/pLi/tjx//j9/9Xx/5Dk/r3p/12v/tLq/0Gk/u34/4ne/sHg/8bp/5bk/q3Z/8nr/73h/7LZ/53m/qHh/s7u/6Ll/qLV/7rf/8Xl/0us/mrB/pnm/kGh/sXu/2m1/rPh/4rJ/q7d/6nZ/7jt/pbN/jqf/rXm/m24/sDk/3m//tzv/6np/pXh/pje/sHq/8jy/6nd/s3y/zid/q3k/uHz/6Xd/pnR/qzq/o3a/p3U/qrl/rHl/mG5/k6p/rXh/4XW/tHu/2S8/tn0/1+0/oHR/rrq/l6y/qLZ/p7Q/67h/q/s/pro/nbJ/ub3/2W5/qXa/uT4/5DJ/qXp/pjV/ubz//H8/6bl/liw/rTa/5jj/p7Y/srs/5LO/onO/qbi/qLc/r7u/pzi/pnZ/qHT/2e3/uT1/43e/r/n/4bQ/mm8/oLU/qbT/5Pm/o3P/qrh/lu1/onY/m7E/qjW/9L0/2zE/rLc/5ze/nLI/mC4/oDX/kKl/nrS/n3U/oTa/kyt/kao/oPZ/n/W/kWn/oXb/nDK/kep/mbC/kmq/j+j/nXO/oLY/le2/nPN/oHY/nTN/n7V/o3h/nzU/kSn/la1/ojd/kOm/kiq/mnF/j+i/kmr/k+v/mG+/nfQ/kqr/j6i/nvT/mfD/mvG/k2u/m3I/nLM/ozg/nHL/l+9/kSm/o3i/oLZ/obb/n3V/nPM/jme/j2h/l27/ovg/nLL/jug/mfC/mO//nHK/ozh/pHl/rvg/+j0/8Tj/0uo/kak/nzP/nnN/kSj/kCg/t33/4vc/lm0/s/z/26//v///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAwD/ACwAAAAAPAA8AAAI/wD/CRxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTDqxQIkOCUpUqYcCghYHKgj3uEOPl4Jmvdt8CFFh2wFCNm3rgzDqxs+fPoEMPSLO1BwrKPrFoLW3qE6hQolN/6eJiUgWurFt5doUK1pZYWYBIrgJwVitTtU+/SnWrSxa0GCJRmKCL9q5Tr1HD9oU2w0XITIPrbr0XCE+OyyucwNr7FhoEHyD7IYtcuERCLYr9QlAD6aOS0YS1mlaoiq9qNQg8IuIBu+6Shhg6f37hkQBv0nd0NJSwYbEf4h4FHSfc42GNvvQkgBw0/Wyhh2J01f8RE5JU91gRLZAPeeZMlSoqzHiJqMmMChVV2ouUwCkirVi1AGBCODyEJIEBsqzXUCH/BThgESF9AYwsRjxERIMChvMGSAhAMKEf2jHUAioYDkjARwio4aEstxzFUAmzlBiOPh7dQIGKE97ySysLmXFCjAAKiMNHSdy4oo62UJJQG8T8WOIZINWBI4u/2LLBKWCE+E8LRBDCS5NABhiJch/ZMCWSGxywTAEBfNOOL8848KWTQeoh0gdHVpnmmm2+GeecYfZBUiI56qkmm27CKSeY/wlaUgxUWnlon4oCSksKKM3DiaF8Jvpnkx3koJIEHzyyJ6J+ymnPHGTeJAESWNAggaovr2hyRAs35arrrrz26uuvwAYr7LDEFmvsscgaGxAAIfkECQMA/wAsAAAAADwAPAAACP8A/wkcSLCgwYMIEypcyLChw4cQI0qcSLGixYsYM2rcyLGjx48gQ4ocSbKkyZMoUwrUAcOMK1dlNGXIsOgKG5UFU3gSlivZgBPleDl45otVHAY4GzkCUKvYsWvUgqkTkU1BgwcTAmCQgTIEDiHjcMWiNeuEMXfbnmFrMA1dgAuwbJgkEC4ds108rw0Ixk3EUF/tvgUoMGzEAVUkQ/BAZoJpLHKzqBnzRtUq1sHLDmywFU8kIngeuoEV6/MEMV5p17Z9y+JAhCgbxIQcwyOcibt5qWkKhEdDjiuSpAwuvEFbtV4kQIYg5YGxY3JLdByUsKhA5s3RbjVb8VEQaNG7xOX/YrIQTOvXznTJ+vKRgBLbzJquaUip+HFlQM65AIlCgCdcHUjHkAT82JJdM8BAkMhIehzxkBtRpCcLNBBYIVIMj8jmkAbHgZNfFxSAFIMFwMgS0S+3yJKgOSF2lEQdXZwDBDgR9YKfNesgwEhHM1CgxjrWAKFLRNoBoeNHFFBgDgQl3sKVQzLocoM8IRlAQYwz9pLEQ1DcJFIiakAAjSy6OPOIBA7BkYscKYRkgznnANPMLdHYghhDPdASSy0A4LCFPh9ZEKQyvVSjzQZgLMTENccUswszJoSjyEcrlFhmFBEcwIIRCZUwQDK5iLOLEN14AOhHJMxZ5wYHLFMADVDkvjCQBiWIQs0s5OwJgAnIKBGSPIRGoc0BIwxTQADftOPLMw6IwE0wA1yTizCPRoqCSE/8Yos0ml4QADrTNIDNM9u4Y8wJs+iJyziknkGSG4eO4GoAEzzQgALZiOBNMNQwWgyfJmxhkhvEGotOsss2++yn0z4qAEoMhHLsBOGOW+656caCiyd64AQGDd/Yi68I6vDLaBkqCIjTP2xcsQizvJRzAiprvLDyzTjnrPPOPPfs889ABy300EQXbXRKAQEAIfkECQMA/wAsAAAAADwAPAAACP8A/wkcSLCgwYMIEypcyLChw4cQI0qcSLGixYsYM2rcyLGjx48gQ4ocSbKkyZMoUw5slOaNoyZLlljqUUilwRCKkJlgNg5XsWPXBpwwFqiTzUZjeIRLJwRArWK5ks2iFoybiG2XjJ4MQUppt6a1hEWdWpXXtmwKUjExyZWHh24mnIqlRbacu7MKfDWQsoJkI1LwPLzbuUtcLHLXqJ0g5k2Eg2fsGkz7FoABSX1FdDLbhSsWUKHGGj/G1uDBN3QB8mggiQIHz85welSYrQFPm1ekTaMusGxBSR2ZnppBGORKu2m7l404gOS3nBQLD00IUGAYiwMb6Hh8YcMGpA+AwpD/MNJwUfXrG7RFEdNxFAUKarqcA1ZHQkMJ/liMSB/lF5eOBsAnHzCy/OeQHctFYEs0vZDQERUUDCiLMuw5JMMBCjKojCwdUWAOBNAAAc4tEUljSzW96CILMB19aA0QzdziTETaVOOMLs0AYU1H67wYozNRRBSFM7fkaA0EHc0niy69VGPLag5p8Mst4AABDQT1dETCkk3aIk1zDhnRizJAAANBF1Z0xIUyvURjSwQHhPKQHxsCc04XanzQkRi3RBNFBBuMsIwdDTmhSx0kfIHABx8w4tEeUWizwQEsDFMAGAsRsVZJ8UhKqaUBTHBIEAj1QEsuc5hkyAEjgDrBNO2kwYKGVgLt4EoyuRRTixw6kMSAoAUEgM437TSAzTMOiKCOMScMkMwxxeAyjhBN9DoSGMEO+4CxyIrgDbMDXHNMLLjswowJyBRhrUh2BPDNtscm+22z15ATizjmoutBCCatsEAD7CiQzTbuEBMMNbPQEoswuwBgwjse6INSC2gIvA0v5RyccC7C1AKAEN00gYJNnWjCCzca46rrxzicsa5NLUxiCirP6urJG6vYpPPOPPfs889ABy300EQXbfTRSCeNdEAAIfkECQMA/wAsAAAAADwAPAAACP8A/wkcSLCgwYMIEypcyLChw4cQI0qcSLGixYsYM2rcyLGjx48gQ4ocSbKkyZMoUw5EdEbQmzdjxgiokkKHSoI6zowhBc9DOGQmhDAbVwvXkhw3/+kYBI+HB2TpTDADsAuXsFjHaLkqdPOMz25Bqda6movWtVnUQExSqSNS0KG1xBXLRS7ZrAHUghnjVkLlqqlFi2FNdg3vib3eRGz7JJKRgRs2CDaxitUs2hPBynnjtc1BtmdIQRqgQEFNvTAx5MHoMKeC6wo7TBFTx0uE52fYfBECmYS0uS4QrAEDciPIwRaatn1WwK5Bg2lQPvpQA/zccFlYFqJRgM35g2kTFnj/dFEdGhBZ4LIzXNSg3bRv6AIEYNMR0Dlr55vpsiChYZD3E8hXwAVGdBTGcM0oc4szBToUR3wFFDAMC+Jx9IgsCvYSTRQ/PLRChBOOcMApHYGjSy+/VGOLNhBJMMwyIh4gDYscLVhNFNpIs0FELIi4QQS2RNHRhrZEsMEBI0R0wI/aRFGNMx09YuQBB7CwTGQOaTCjLU/2YkFHHFA5wjLDFLDIQ6oEGU0vtyhDQkdxjMBCmQUE0EB/DEkAy5ptNgMEFx3ZsMwFdQYwwTcZNOSGM7fo4icw1ojhkT/yofPNNO00cMVCT/SiCziyAAHNOV98lAU6E0zzQAO+YKOAHQhJ0MBFm6ECcw4EXUDykQQ0rNqAq884sE0CR7QwUCFrJNPJEzfQYw2u5lgRUg4NsKPAM9lsIwIv3BgTDDUDzHINObnMMZAYH/hAgQsiXYGtA9t6Q0wwJ1AjLi25xCJMLTCodIm23pRjTL0DXJPMMbEUg8suADhyUwndfhvuwbkUI04t4zAjhAmr3FQBCPZeg6++tTC8cTfhKJGUDj3cgbAwCwPAjAndIOPBG/3YtHIKczRBhsbpIKPEFiEkZfTRSCet9NJMN+3001BHLfXUVFedUkAAIfkECQMA/wAsAAAAADwAPAAACP8A/wkcSLCgwYMIEypcyLChw4cQI0qcSLGixYsYM2rcyLGjx48gQ4ocSbKkyZMoUxZEIailoDcC+qFQqRAeDx4ePIQLh6zJKh0qXzAqqITnu27pTJgQIoRMI5Qu8lH4QHCMUqbMmAEAsGvXPhgmIVEYq8bH0H8qto7rWqsWLnHCisVKQRKSOXNduqyDMCPGPz1u4RaTGytXrmPkaDERuQIChHPnrFkDBgxIGA2xCh9OnCzZtWuzZokqFNIANMpAgMiS1awOByMVYleogmrWgAHUcp84cQdkDNWswSnTdYuLBISXTgQLZswYsXLcJn3kpIv4rV69nEFZiIabOm/ueIn/EMHHo5jsv6JVqxalRsM2IrZtc+AgW7ZOHZNEiWLLljZt/BzHUAuEZPPMMwoogA0aHWEQQQTSbLDBAXE8hAY22PjiSwMNlNKRIQeEOMKIGjzEBIftPPDANAt0NCILLCyzzDAQsTHNNN98M8EE6HQ0zDAXFCBkARGhg04ASCLZUQFJIomOgA4FMGQBF9DIUQPo7JjjNCs8xMaPMsIYSkeV3PhAO+00wKBDMbAwYogHcNDRFRw24As72NDwUCghSihNBKp0lAM2CR74TDZ2NNTKg//1F0WJHRVIn3zjHbFQPLbsV0000Tizx0dejMcLL954ww03JQSBUA0H/OIMdrfcvqKLESDdw005zRmz3AkgMAGUQD8Y4Ues1SkDTjOyPBLSDsHslhs1t4X2WTK0gOHHsaulBgRl84jUwwDSXkMtLcccY1gsMEhwA2XQWAMZBH6NtAYt5JibS2bFCCMMLrioINA8M0CQlzlUlZTCYMKIg0tbXY0DgAADMWKFGvhAglIhcuziMABZMWVCEwUlcVZKeiCjlAnpdPMOMuHQlBAKmCiRkwc3zeTyzTjnrPPOPPfs889ABy300EQXbbRKAQEAIfkECQMA/wAsAAAAADwAPAAACP8A/wkcSLCgwYMIEypcyLChw4cQI0qcSLGixYsYM2rcyLGjx48gQ4ocSbKkyZMoUw5kxMVGwRCrUKgsOKQOBQr5XhCEB4/UmH4zxVjoYs6cGjUkBjYK56EpDyWIUMawZu3cOQgQunQZIhCGiXTd3iELFw6TyU2ygKgFBgxa1Rny/qlgxkyIEBN4020h6eSWLl3KwDWTlVZtUjm1du0aBwAAXSFmQ0KpFu2Xs169bvkFLNhImWLChOHCVSvxLgAwQEowpM2WrShRKEcLZeSHbTE9LN3JlStWLNDicGUC2erAhg3SIkTQps0NQh1ektEid4y37xQfQ43YfqD7ASQLd8z/mnXtWjLpcDwyGMZ+2TIWLOI0LEGt/oAB4wt1/BOggH//dEjQUAv2GBNMMCecQE0PHVWCDjoBRBjAHw8F4o063JRDjDGadLTANNN8880EE6zwUCfbiKAiL+7w0VEDMLbTzgPTsAHRM9lk44AD22zTkQLYYMOOLzBGFKQCCjyDY0c5KvkMkhC1AGMDvvgSZEd8iNDjjtl08tAKID4gYwOpdNSBN97wwouKnzx0CDokijhNJR2VEIwxxpTDjTouOpSHhBGik0VHFdSX4IHGmNGQHexd8F8BDHgkynj31UcNEwsxsN0I8LlHx0dmkEMLLcmUN4soDB4kARL8HOfdASNow/GRDp74xtsxoiYDRxUVEAQFLK7ZwlwE0mxwioAf6VELLuIIU0wxtuYCBxeaYeaMM9FEUw1sroEXUh8AKLZLacwKs4QEjzTTjDLK6FJtL9c6N5IAQtDFTGOKqfDPCsCoBQRhzYDDLhYmbdENXibYxQx2/yRilTXQsKXWDSjpU0Q4yCDTTTcyCeSDVutgNcM8KumwRRFNeUCQCzepgY8qMw2kQwgCRDbQKCRwFfPOPPfs889ABy300EQXbfTRSCetNEoBAQAh+QQJAwD/ACwAAAAAPAA8AAAI/wD/CRxIsKDBgwgTKlzIsKHDhxAjSpxIsaLFixgzatzIsaPHjyBDihxJsqTJkyhTDpQQA9CHlx+GqEQIhQQQYNYgdDFHwcfMghrC9LqlTNbNczrVMBqoQ0AjlEj42armrJcucEahnVsXY+AZHqRCmNRyYEMEbVGo3tLV7Ka1MAIb4QjnAZ7YkXaWsRhRNoKtKNGGFgVCT6AAIemQ0b0LkkGAAsOW8S2r7e8vwbLEwNgFgJmJbsg8oAhJA91jyJIPHKBk44frH1iMLBFWi7OQz01AEnnwbYLpApCxSDioo0yuYuJqjWN2e9VHQg3aTesdIMCfhWuOxSqGizOzSB5zPP/D5iv69FIN19DKFUtYdwCjOQZy8EwBtgYNHgRpqEPUtfXt1aJCRwmIsE029bEjyUNmDDBLMscct0RHxKjDiwgOINjJQ4WcQM0A10CICkc6nBBMOd7wso0DERETjIez/MdRBQNQc4Ix3HgjQkS8cGNMMB/O8sJGOiQzS43B4BjRNiJ44yOQOnCUCy3XzGJjMPs5FEQ2DjDpTTnGdFRGLMdQWWMJD12BzTNcisALHx31gUsxuRxjJCpRMtQCKw2wowCb27TREQq71CJOLLmQk4wXDWUwzQP4YfMnHh5FAkChwiBKCxMLZREAOt882oAvNHy0ignMXIpLpsd4kadBRgzPU0B1E4TazhUgRWKCEMyMU8uccHCBhRgrIeHPCCwsAxytNLQAEiLhdLPrpbWkME8zuvTiTDVRaCPNBgcgK+usDIhEgAfISCuEIwIBIQs42f5SjS3eqjbCMsMYQRImPKCbDgwChQGMu8rc0ks0UdgSAbgjUGISAfB4sMVAqkBgzcDNFOwMwtpEoAVKIUzxlEAumLPOOda4i622j/zwE0F1qNEFBOdA424dTgz38kAfWOHzF18gEIPOOxdt9NFIJ6300kw37fTTUEct9dRUExQQACH5BAkDAP8ALAAAAAA8ADwAAAj/AP8JHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFMS1FAjDImXX758cKGyoIY4ByLYinZLGRBgELpQmJGkJptSw1gc2KAtyq9b4IBAg2COggGVK6QEKJB0aVNnt5oBsUY1UUoirKZN2NqVaTVnusRaW/cBJRFsDdpNQ7d12YgD0mxV66VLFrBzgAg2EtmJ0DO8D77xLeAX8M5eygyvEKhDwBQdIFskEOHgcYPI6PK4scGAwY8fNfxk3qyjCTIPAkCWIOZORLZn7BpMyyIDoRNwYgp5EpIuHA99H0EEK8drWzYFvtAsfJIDVS0AQrqF/1PkcccsasG4Vc/2p6GlXMK+h/eAoqOXZOeNcRNhr0VDHXfEIs4uzJjwDiYdlXHMNQOcYIw6nzzkxTGx4EKgCWN0hEssCzZoTBAPFXINhRYW2NEu4sRCzjXUnBDRLMnkUkwt4wjREQC1CJMLLedFRA2MMn7XkRA46shjRMH8SAt8tXSUDpG1FJNLMoU81AkxSV5DSyzCdDSGCcyMg0sxx1Tx0BHeGHPCANeQs0RHmCAD5i4bwvGQPSKkueY1XnSEiAfvzJliDw2V8IwDIqhjDDUD7OCREh50YwIAuwgzhxELEeGLAtlswws3wYDwUQg8hNMNkSnI04wTCMlwyDQNbM3aKS/llACSIKXioMc/KwABDglQrOREHgFMACs7nG7Dh38foTBFEfXxCgwQytwSTRQRHDDCMhcEEMA3DzSAzaEaiKQPaAKpcg4wsijTSzS2ZLttAQGgA664dqD0QRfryqJLL9XYIo22y9Brbzva6avGOucA4S/A2gw8wjD0LrBZSgZQYA4E1gDRzC3ORKHNBgewMMwfEtSUxAwac+zxLb+IvAEW5dYk0AtDIGABBND46gcC8aRs89BEF2300UgnrfTSTDft9NNQRy01SgEBACH5BAkDAP8ALAAAAAA8ADwAAAj/AP8JHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3Mixo8ePIEOKHEmypMmTKFMOZJOlFIYFHDiEQWBkhcqCQSSxmhCgwLIDG2xFu9XskZibLS4989XuW89hIw5oi9JLGRBrXxih3HFv2zNsDaahC3CBxQFptn7dkgUMgrlRJpkEUycim4IGD3j6HLFBW7Ve4ICc60LhBskdA06UE+FgaVN0BaAeiBDFma6r69TUGfnizixqxtx5BTtNr1m0Q9m6hTRyybFr1ObWVZBKUhYGuBnYoPM38DkLI2GIy5UscTleDi61OCghkWVZ0GKMdFQrFq3PxrwdWRiPKD0JIhsx/9tV7HVsNA25KNs0sFE/HR3TCNk1vDiI5QwlcJKgI0WTdx6E0JEgJgBQHTmzzPEQHpYIswsz6XggQEdKmDCeMLlcU8hDhRxTTC0AmBCOEh150I0Q4+BiXUS0xIILAEIA2BEPyBRYS3kRXZOLgxCG0xE84aRzYS4RzeIhiCYg09EUHrwjBAAqvvBQELO0iMs4QuAwIA/hWFjLOJM8ZMYAOvI4RkerwGOiAHr8Q4JDLdhDzSzkxAJiFR01IkAI8P0TgyzsMVQCMScMkEwu4uyCwkgWAKHMEwsdIQI3wVBzjYcdjDTEOcA0Y0E8CV2RzTbeGDNnizCMZAUE0MiiizNhqMMiw0AMQEEIO884wEs5hSazxEg2UNDFOUCA00s12mwwwjIFBPDNAw0okI0I6lQqipQiGUCBORAAI8stv9gizQEsXBDABNM0gM0z27hjzAk7kIQABWqsY42jvUShzQEjDFMAOt+040uuk4ZZ0ijCEtvMLdHYoiyz50Ir7T0GmzSEBd266kwU45YbADrpYgNKJzep8gW++vLrr7OEEHETQfJswknDGxywTClZsPHyzjz37PPPQAct9NBEF2300UgnrXRKAQEAIfkEBQMA/wAsAAAAADwAPAAACP8A/wkcSLCgwYMIEypcyLChw4cQI0qcSLGixYsYM2rcyLGjx48gQ4ocSbKkyZMoUw6sUCJDglKVKmHAYISByoI9EhDj5eCZr3bfAhRYdsBQjZt64Mw6sbPnz6BDD2ywtQcKyj6xaC1t6hOoUKJTf93iYlJFraxbeXaFCtaWWFmASK4CcFYrU7VPv0p1e0sWsBgiUZigi/auU69Rw/YFNsNFSCWD6269FwhPjssrnNDZ+xYYBB8g+4WLXLhEQi2K/UJQA+mjktGEtZpWqIWvajUIPCLiAbvukoYYOn9+4ZEAb9J3dDSUsGGxH+IeBR0n3ONhjb70JIAcNP1soYdibtX/EROSVPdYES2QD3mmfRUVKrxE1GTGjIoqVc6IlMApIq1YuABgAjI8hCSBAbKs11Ah/wU4YBEhfQGNLEY8RESDAiLzBkgIQDChH9ox1AIqGA5IwEcIqOGhLLocxVAJs5SIjD4e3UCBihPq8ksrC5lxQowACkjGR0ncuKKOtlCSUBvE/FhiFSDVgSOLv9gizSlghPhPC0QQwkuTQAYYiXIf2TAlktIcsEwBAXzTji/POPClk0HqIdIHR1aZ5pptvhnnnGH2QVIiOeqpJptuwiknmP8JWlIMVFp5aJ+KAkpLCijNw4mhfCb6Z5Md5KCSBB88sieifsppzxxk3iQBEljAIIKqL69ockQLN+Wq66689urrr8AGK+ywxBZr7LHIGhsQADs=") no-repeat 50%;background-size:30px}.disabled-filter{background-color:#efeff1;border-color:#dfe4e7;cursor:default}.oj-select-choice+.disabled-filter{border-color:#efeff1}.disabled-filter.multiple:hover{background-position:center -27px}.disabled-filter:hover{background-position:center -33px}html[dir=rtl] .oj-identity-filter{left:-32px;right:auto;border-left-width:1px;border-right-width:0}html[dir=rtl] .oj-identity-checkbox:after{margin:3px 1px;right:4px}html[dir=rtl] .oj-multi-loading{margin:5px 0 0;left:8px}html[dir=rtl] .oj-select-loading{left:30px;margin:3px 0 0}.oj-disabled .oj-identity-select{background-color:#efeff1}.oj-identity-container{z-index:1052}.oj-identity-container .oj-listbox-no-results{height:18px}',""])},"./node_modules/css-loader/lib/css-base.js":function(a,b){function c(a,b){var c=a[1]||"",e=a[3];if(!e)return c;if(b&&"function"==typeof btoa){var f=d(e);return[c].concat(e.sources.map(function(a){return"/*# sourceURL="+e.sourceRoot+a+" */"})).concat([f]).join("\n")}return[c].join("\n")}function d(a){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"}a.exports=function(a){var b=[];return b.toString=function(){return this.map(function(b){var d=c(b,a);return b[2]?"@media "+b[2]+"{"+d+"}":d}).join("")},b.i=function(a,c){"string"==typeof a&&(a=[[null,a,""]]);for(var d={},e=0;e<this.length;e++){var f=this[e][0];"number"==typeof f&&(d[f]=!0)}for(e=0;e<a.length;e++){var g=a[e];"number"==typeof g[0]&&d[g[0]]||(c&&!g[2]?g[2]=c:c&&(g[2]="("+g[2]+") and ("+c+")"),b.push(g))}},b}},"./node_modules/style-loader/lib/addStyles.js":function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=o[d.id];if(e){e.refs++;for(var f=0;f<e.parts.length;f++)e.parts[f](d.parts[f]);for(;f<d.parts.length;f++)e.parts.push(k(d.parts[f],b))}else{for(var g=[],f=0;f<d.parts.length;f++)g.push(k(d.parts[f],b));o[d.id]={id:d.id,refs:1,parts:g}}}}function e(a,b){for(var c=[],d={},e=0;e<a.length;e++){var f=a[e],g=b.base?f[0]+b.base:f[0],h=f[1],i=f[2],j=f[3],k={css:h,media:i,sourceMap:j};d[g]?d[g].parts.push(k):c.push(d[g]={id:g,parts:[k]})}return c}function f(a,b){var c=q(a.insertInto);if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var d=t[t.length-1];if("top"===a.insertAt)d?d.nextSibling?c.insertBefore(b,d.nextSibling):c.appendChild(b):c.insertBefore(b,c.firstChild),t.push(b);else if("bottom"===a.insertAt)c.appendChild(b);else{if("object"!=typeof a.insertAt||!a.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var e=q(a.insertInto+" "+a.insertAt.before);c.insertBefore(b,e)}}function g(a){if(null===a.parentNode)return!1;a.parentNode.removeChild(a);var b=t.indexOf(a);b>=0&&t.splice(b,1)}function h(a){var b=document.createElement("style");return a.attrs.type="text/css",j(b,a.attrs),f(a,b),b}function i(a){var b=document.createElement("link");return a.attrs.type="text/css",a.attrs.rel="stylesheet",j(b,a.attrs),f(a,b),b}function j(a,b){Object.keys(b).forEach(function(c){a.setAttribute(c,b[c])})}function k(a,b){var c,d,e,f;if(b.transform&&a.css){if(!(f=b.transform(a.css)))return function(){};a.css=f}if(b.singleton){var j=s++;c=r||(r=h(b)),d=l.bind(null,c,j,!1),e=l.bind(null,c,j,!0)}else a.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(c=i(b),d=n.bind(null,c,b),e=function(){g(c),c.href&&URL.revokeObjectURL(c.href)}):(c=h(b),d=m.bind(null,c),e=function(){g(c)});return d(a),function(b){if(b){if(b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap)return;d(a=b)}else e()}}function l(a,b,c,d){var e=c?"":d.css;if(a.styleSheet)a.styleSheet.cssText=v(b,e);else{var f=document.createTextNode(e),g=a.childNodes;g[b]&&a.removeChild(g[b]),g.length?a.insertBefore(f,g[b]):a.appendChild(f)}}function m(a,b){var c=b.css,d=b.media;if(d&&a.setAttribute("media",d),a.styleSheet)a.styleSheet.cssText=c;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c))}}function n(a,b,c){var d=c.css,e=c.sourceMap,f=b.convertToAbsoluteUrls===undefined&&e;(b.convertToAbsoluteUrls||f)&&(d=u(d)),e&&(d+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */");var g=new Blob([d],{type:"text/css"}),h=a.href;a.href=URL.createObjectURL(g),h&&URL.revokeObjectURL(h)}var o={},p=function(a){var b;return function(){return void 0===b&&(b=a.apply(this,arguments)),b}}(function(){return window&&document&&document.all&&!window.atob}),q=function(a){var b={};return function(c){if("undefined"==typeof b[c]){var d=a.call(this,c);if(d instanceof window.HTMLIFrameElement)try{d=d.contentDocument.head}catch(e){d=null}b[c]=d}return b[c]}}(function(a){return document.querySelector(a)}),r=null,s=0,t=[],u=c("./node_modules/style-loader/lib/urls.js");a.exports=function(a,b){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");b=b||{},b.attrs="object"==typeof b.attrs?b.attrs:{},b.singleton||(b.singleton=p()),b.insertInto||(b.insertInto="head"),b.insertAt||(b.insertAt="bottom");var c=e(a,b);return d(c,b),function(a){for(var f=[],g=0;g<c.length;g++){var h=c[g],i=o[h.id];i.refs--,f.push(i)}if(a){d(e(a,b),b)}for(var g=0;g<f.length;g++){var i=f[g];if(0===i.refs){for(var j=0;j<i.parts.length;j++)i.parts[j]();delete o[i.id]}}}};var v=function(){var a=[];return function(b,c){return a[b]=c,a.filter(Boolean).join("\n")}}()},"./node_modules/style-loader/lib/urls.js":function(a,b){a.exports=function(a){var b="undefined"!=typeof window&&window.location;if(!b)throw new Error("fixUrls requires window.location");if(!a||"string"!=typeof a)return a;var c=b.protocol+"//"+b.host,d=c+b.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,b){var e=b.trim().replace(/^"(.*)"$/,function(a,b){return b}).replace(/^'(.*)'$/,function(a,b){return b});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(e))return a;var f;return f=0===e.indexOf("//")?e:0===e.indexOf("/")?c+e:d+e.replace(/^\.\//,""),"url("+JSON.stringify(f)+")"})}},"./src/main/css/ojidentity.css":function(a,b,c){var d,e=0,f=c('./node_modules/css-loader/index.js?{"importLoaders":1,"sourceMap":false,"minimize":true}!./node_modules/postcss-loader/lib/index.js?{"config":{"path":"/Users/talabes/repositories2/identity-browser/node_modules/composer-front-end-config/conf/webpack../postcss.config.js"}}!./src/main/css/ojidentity.css');"string"==typeof f&&(f=[[a.i,f,""]]),f.locals&&(b.locals=f.locals),b.use=b.ref=function(){return e++||(d=c("./node_modules/style-loader/lib/addStyles.js")(f,{hmr:!0})),b},b.unuse=b.unref=function(){e>0&&!--e&&(d(),d=null)}},"./src/main/js/ojidentity.js":function(a,b,c){var d,e,d,e;d=[c("./node_modules/babel-runtime/core-js/json/stringify.js")],(e=function(f){"use strict";var g=function(a){return a&&a.__esModule?a:{"default":a}}(f);d=[c,c("ojs/ojcore"),c("jquery"),c("ojs/ojeditablevalue")],(e=function(require,a,b){c("./src/main/css/ojidentity.css").use();var d={GENERATED_OPTIONS_SELECTOR:"oj-select-options-generated",KEY:{TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isControl:function(a){switch(a.which){case d.KEY.SHIFT:case d.KEY.CTRL:case d.KEY.ALT:return!0}return!(!a.metaKey&&!a.ctrlKey)},isFunctionKey:function(a){return(a=a.which?a.which:a)>=112&&a<=123}},DEFAULT_QUERY_DELAY:70,ValueChangeTriggerTypes:{ENTER_PRESSED:"enter_pressed",OPTION_SELECTED:"option_selected",OPTION_REMOVED:"option_removed",BLUR:"blur",SEARCH_ICON_CLICKED:"search_icon_clicked"},lastMousePosition:{x:0,y:0},nextUid:function(){var a=1;return function(){return a++}}(),scrollBarDimensions:null,each2:function(a,c){for(var d=b(b.isFunction(a[0])?a[0]():a[0]),e=-1,f=a.length;++e<f&&(d.context=d[0]=b.isFunction(a[0])?a[e]():a[e])&&!1!==c.call(d[0],e,d););return a},measureScrollbar:function(){var a=b("<div class='oj-listbox-measure-scrollbar'></div>");a.appendTo("body");var c={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),c},splitVal:function(a,c){var d,e,f;if(null===a||a.length<1)return[];for(d=a.split(c),e=0,f=d.length;e<f;e+=1)d[e]=b.trim(d[e]);return d},getSideBorderPadding:function(a){return a.outerWidth(!1)-a.width()},installKeyUpChangeEvent:function(a){var c="keyup-change-value";a.on("keydown",function(){b.data(a,c)===undefined&&b.data(a,c,a.val())}),a.on("keyup",function(e){if(e.which===d.KEY.ENTER)return void e.stopPropagation();var f=b.data(a,c);f!==undefined&&a.val()!==f&&(b.removeData(a,c),a.trigger("keyup-change"))})},installFilteredMouseMove:function(a){a.on("mousemove",function(a){var c=d.lastMousePosition;c!==undefined&&c.x===a.pageX&&c.y===a.pageY||(b(a.target).trigger("mousemove-filtered",a),d.lastMousePosition.x=a.pageX,d.lastMousePosition.y=a.pageY)})},thunk:function(a){var b,c=!1;return function(){return!1===c&&(b=a(),c=!0),b}},_focus:function(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus(),a.is(":visible")&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},40)},getCursorInfo:function(a){a=b(a)[0];var c=0,d=0;if("selectionStart"in a)c=a.selectionStart,d=a.selectionEnd-c;else if("selection"in document){a.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-a.value.length),c=e.text.length-d}return{offset:c,length:d}},killEvent:function(a){a.preventDefault(),a.stopPropagation()},killEventImmediately:function(a){a.preventDefault(),a.stopImmediatePropagation()},defaultEscapeMarkup:function(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(a).replace(/[&<>"'\\]/g,function(a){return b[a]})},local:function(a,c){var e,f,g=a,h=function(a){return""+a.label};b.isArray(g)&&(f=g,g={results:f}),!1===b.isFunction(g)&&(f=g,g=function(){return f});var i=g();return i&&i.text&&(h=i.text,b.isFunction(h)||(e=i.text,h=function(a){return a[e]})),function(a){var e=a.term,f={results:[]};if(""===e&&!c)return void a.callback(g());g()&&d.each2(b(g().results),function(b,e){d._processData(a,e,f.results,c,!0,h)}),a.callback(f)}},cleanupResults:function(a){a.children().remove(),a.removeClass("oj-listbox-result-with-children")},remote:function(c,e){return function(f){var g={},h=this,i=function(a){var c={results:[]};h.inputSearch=g.searchPattern,d.each2(b(a),function(a,b){d._processData(f,b,c.results,e,!1)}),f.callback(c)};if(f.value)i(f.value);else{var j=b.trim(f.term);if(j&&(g.searchPattern="*"!==j?"*"+f.term+"*":j),b.extend(!0,g,{scope:this.defaultScope}),!g.searchPattern)return void i(this.results||[]);this.inputSearch&&this.inputSearch===g.searchPattern?i(this.results):(clearTimeout(this.queryTimer),this.queryTimer=setTimeout(function(){h.loading.hasClass("identity-show-inline")||h.loading.addClass("identity-show-inline"),c(g).then(function(a){h.results=a&&Array.isArray(a)?a:[],i(h.results),
h.loading.removeClass("identity-show-inline"),h.ojContext._setOption("messagesCustom",[])})["catch"](function(b,c){h.loading.removeClass("identity-show-inline"),h.ojContext._setOption("messagesCustom",[new a.Message(b,c)])})},1e3))}}},_processData:function(a,c,e,f,g,h){var i,j,k={};if(b.extend(!0,k,c[0]),c[0].label&&f&&f.label&&"label"!==f.label&&(k[f.label]=c[0].label,delete k.label),c[0].value&&f&&f.value&&"value"!==f.label&&(k[f.value]=c[0].value,delete k.value),!k.children&&f&&f.children&&(k.children=k[f.children],delete k[f.children]),k.children){i={};for(j in k)k.hasOwnProperty(j)&&(i[j]=k[j]);i.children=[],d.each2(b(k.children),function(b,c){d._processData(a,c,i.children,f&&f.childKeys?f.childKeys:null,g,h)}),(!g||i.children.length||a.matcher(a.term,i[f.label],k))&&e.push(i)}else g&&!a.matcher(a.term,k[f.label],k)||e.push(k)},clazz:function(c,d){var e=function(){};return a.Object.createSubclass(e,c,""),e.prototype=b.extend(e.prototype,d),e},LAST_QUERY_RESULT:"last-query-result",getLastQueryResult:function(a){return b.data(a.container,a._classNm+"-"+d.LAST_QUERY_RESULT)},saveLastQueryResult:function(a,c){b.data(a.container,a._classNm+"-"+d.LAST_QUERY_RESULT,c)}},e=d.clazz(Object,{_bind:function(a){var b=this;return function(){a.apply(b,arguments)}},_init:function(c){var e,f=this._classNm,g=this._elemNm;this.ojContext=c.ojContext,this.ojContext.validate=function(){if(this.options.value.length)return!0;var b=a.Translations.getTranslatedString("oj-validator.required.summary");return this._setOption("messagesCustom",[new a.Message(b)]),!1},this.opts=c=this._prepareOpts(c),this.id=c.id,this.headerInitialized=!1,c.element.data(g)!==undefined&&null!==c.element.data(g)&&c.element.data(g)._destroy(),this.container=this._createContainer();var h=this.opts.rootAttributes;this.containerId=h&&h.id?h.id:"ojChoiceId_"+(c.element.attr("id")||"autogen"+d.nextUid()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=d.thunk(function(){return b("#__oj_zorder_container").length?b("#__oj_zorder_container"):c.element.closest("body")}),this.container.attr("style",c.element.attr("style")),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.showScopeFilter&&(this.container.addClass("hasFilter"),this.container.find(".oj-identity-filter").addClass("showFilter")),this.opts.element.data(g,this).attr("tabindex","-1").before(this.container),this.container.data(g,this),this.dropdown=this.container.find(".oj-listbox-drop"),this.dropdown.data("ojlistbox",this),this.opts.showScopeFilter&&this.container.on("click",".oj-identity-filter",b.proxy(this._showFilter,this)),this.opts.loading=this.container.find(".oj-identity-loading-container");var i=this.containerId;if(this.dropdown.attr("data-oj-containerid",i),this.results=this.container.find(".oj-listbox-results"),this.results.on("click",d.killEvent),c.list&&b("#"+c.list).is("ul")){var j=b("#"+c.list);this.dropdownListParent=j.parent(),j.addClass("oj-listbox-results").attr("role","listbox"),this.results.replaceWith(j),this.results=this.container.find(".oj-listbox-results"),this.results.css("display","")}e="oj-select"==f?this.container.find("input.oj-listbox-input"):this.container.find("input."+f+"-input"),this.search=e,this.queryCount=0,this.resultsPage=0,this.context=null,this._initContainer(),this.container.on("click",d.killEvent),d.installFilteredMouseMove(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".oj-listbox-results",this._bind(this._highlightUnderEvent)),b(this.container).on("change","."+f+"-input",function(a){a.stopPropagation()}),b(this.dropdown).on("change","."+f+"-input",function(a){a.stopPropagation()});var k=this;d.installKeyUpChangeEvent(e),e.on("keyup-change input paste",this._bind(this._updateResults)),e.on("focus",function(){e.addClass(f+"-focused"),"oj-select"!==f&&k.container.addClass("oj-focus")}),e.on("blur",function(){e.removeClass(f+"-focused"),"oj-select"!==f&&k.container.removeClass("oj-focus")}),this.dropdown.on("mouseup",".oj-listbox-results",this._bind(function(a){var c=b(a.target);if(this._selectionEvent=a,c.closest(".oj-listbox-result-selectable").length>0){if(this.opts.multiple&&this.opts.selectAll&&c.hasClass("oj-identity-checkbox")){var e=this.getVal(),f=c.closest(".oj-listbox-result").data(this._elemNm),g=e?e.slice(0):[],h={optionMetadata:{trigger:d.ValueChangeTriggerTypes.OPTION_SELECTED}};c.hasClass("selected")?(g.splice(this.opts.indexOf.call(g,f),1),h.optionMetadata.trigger=d.ValueChangeTriggerTypes.OPTION_REMOVED,c.attr("checked",!1)):g.push(f),this.opts.contains.call(this.opts.results,g)?this.opts.checkAll.addClass("selected"):this.opts.checkAll.removeClass("selected"),c.toggleClass("selected"),this.setVal(g,a,h)}else this._highlightUnderEvent(a),this._selectHighlighted(null,a)}else if(this.opts.multiple&&this.opts.selectAll&&c.hasClass("oj-identity-checkbox")){var i=c.parent().nextAll().find(".oj-identity-checkbox"),j=this,e=this.getVal(),g=e?e.slice(0):[],h={optionMetadata:{trigger:d.ValueChangeTriggerTypes.OPTION_SELECTED}};c.toggleClass("selected");var k=c.hasClass("selected");i.each(function(){var a=b(this.parentNode).data(j._elemNm);k?g.push(a):g.splice(j.opts.indexOf.call(g,a),1)}),k?i.addClass("selected"):(h.optionMetadata.trigger=d.ValueChangeTriggerTypes.OPTION_REMOVED,c.attr("checked",!1),i.removeClass("selected")),this.setVal(g,a,h)}})),this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()}),b.isFunction(this.opts.initSelection)&&this._initSelection();var l=c.element.prop("disabled");l===undefined&&(l=!1),this._enable(!l);var m=c.element.prop("readonly");m===undefined&&(m=!1),this._readonly(m),d.scrollBarDimensions=d.scrollBarDimensions||d.measureScrollbar(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this._focus()},_showFilter:function(a){var c=a.target;if(a=b.Event(a),this._enabled){if(!this.filterDropdown){var e=this,f=this.opts.scopesOptions||[],g=d.nextUid();this.filterDropdown=b('<div class="oj-identity-filter-drop"></div>');for(var h=0,i=f.length;h<i;h++){var j=b('<div><input type="checkbox" name="oj-identity-'+g+'" value="'+f[h].value+'" '+(-1!=e.opts.defaultScope.indexOf(f[h].value)?"checked ":"")+"/> "+f[h].label+"</div>");this.filterDropdown.append(j)}this.filterDropdown.on("click","input",function(){b(this).is(":checked")&&e.opts.defaultScope.indexOf(b(this).val())?e.opts.defaultScope.push(b(this).val()):e.opts.defaultScope.splice(e.opts.defaultScope.indexOf(b(this).val()),1)}),this.filterDropdown.appendTo(document.body),this.filterDropdown.ojPopup(),this.filterDropdown.ojPopup("option",{tail:"none",modality:"modeless",initialFocus:"none"})}this.filterDropdown.ojPopup("isOpen")||this.filterDropdown.ojPopup("open",c)}},_clickAwayHandler:function(a){var c,d=this.dropdown;b(a.target).closest(d).length||b(a.target).closest("#"+d.attr("data-oj-containerid")).length||d.length>0&&(c=d.data("ojlistbox"))&&c.close(a)},_surrogateRemoveHandler:function(){this.dropdown&&this.dropdown.remove()},_destroy:function(){var a=this._closeDelayTimer;isNaN(a)||(delete this._closeDelayTimer,window.clearTimeout(a));var b=this.opts.element,c=b.data(this._elemNm);this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.opts.list&&this.results&&(this._cleanupList(this.results),this.dropdownListParent&&this.dropdownListParent.append(this.results)),c!==undefined&&(c.container.remove(),c.dropdown.remove(),b.removeAttr("aria-hidden").removeData(this._elemNm).off("."+this._classNm).prop("autofocus",this.autofocus||!1),this.elementTabIndex?b.attr({tabindex:this.elementTabIndex}):b.removeAttr("tabindex"),b.show())},_cleanupList:function(a){if(a&&a.is("ul")){a.removeClass("oj-listbox-results oj-listbox-result-sub"),a.removeAttr("role");for(var c=a.children().length-1;c>=0;c--)this._cleanupList(b(a.children()[c]))}else if(a.is("li")){(a.hasClass("oj-listbox-placeholder")||a.hasClass("oj-listbox-no-results"))&&a.remove(),a.attr("class")&&a.attr("class",a.attr("class").replace(/\oj-listbox-\S+/g,""));var d=a.children(".oj-listbox-result-label");d&&d.contents().unwrap(),"none"==a.css("display")&&a.css("display",""),this._cleanupList(a.children("ul"))}},_optionToData:function(a){if(a.is("option"))return{value:a.prop("value"),label:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:"locked"===a.attr("locked")||!0===a.data("locked")};if(a.is("optgroup"))return{label:a.attr("label"),children:[],element:a.get(),css:a.attr("class")};if(a.is("li")){var b,c=null,d=a.children();return d&&d.length>0&&d.is("ul")?(b=a.attr("oj-data-label")?a.attr("oj-data-label"):a.clone().children().remove().end().text().trim(),c=[]):b=a.attr("oj-data-label")?a.attr("oj-data-label"):a.text().trim(),{value:a.attr("oj-data-value"),label:b,element:a.get(),css:a.attr("class"),children:c}}},_prepareOpts:function(a){var c,e,g=this;a.options&&Array.isArray(a.options)&&a.optionsKeys&&(a.options=b.extend(!0,[],a.options)),c=a.element;var h=c.get(0).tagName.toLowerCase();return"input"===h&&c.attr("list")?this.datalist=e=b("#"+c.attr("list")):"select"===h&&c.children().length>0?this.datalist=e=c:a.list&&(this.datalist=e=b("#"+a.list)),a=b.extend({},{populateResults:function(c,e,f,g){var h,i=b.proxy(this.opts.id,this),j=this,k=this.opts.optionRenderer;"function"!=typeof k&&(k=null),(h=function(c,e,g,l,m){var n,o,p,q,r,s,t,u,v=function(a,c){if(c.children&&c.children.length>0){var d=c.element&&b(c.element[0]).is("li")&&b(c.element[0]).children("ul"),e=d?b(c.element[0]).children("ul"):b("<ul></ul>");e.hasClass("oj-listbox-result-sub")||e.addClass("oj-listbox-result-sub"),h(c,c.children,e,l+1,!1),d||a.append(e)}},w=function(a,b,c){function d(a,c){var e=0;if(3===a.nodeType){var f=a.data.toUpperCase().indexOf(c);if(f>=0){var g=document.createElement("span");g.className=b;var h=a.splitText(f),i=(h.splitText(c.length),h.cloneNode(!0));g.appendChild(i),h.parentNode.replaceChild(g,h),e=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(var j=0;j<a.childNodes.length;++j)j+=d(a.childNodes[j],c);return e}a.length&&c&&c.length&&a.each(function(){d(this,c.toUpperCase())})},x=function(c){a._placeholderData||(p={},p[a.optionsKeys.label]=c,a.optionsKeys.label!==a.optionsKeys.value&&(p[a.optionsKeys.value]=""),a._placeholderData=p),s=b("<li></li>"),s.addClass("oj-listbox-placeholder oj-listbox-results-depth-0 oj-listbox-result oj-listbox-result-selectable"),s.attr("role","presentation"),t=b(document.createElement("div")),t.addClass("oj-listbox-result-label"),t.attr("id","oj-listbox-result-label-"+d.nextUid()),t.attr("role","option"),t.text(a._placeholderData[a.optionsKeys.label]),s.append(t),s.data(j._elemNm,a._placeholderData),g.prepend(s)},y=j._getPlaceholder(),z=j.getVal();z&&0!==z.length&&(m&&y&&!f.term?x(y):a.multiple||(x(""),a.placeholder=""));var A=a.multiple&&a.selectAll;if(a.results=e,z=j.getVal(),A){var B=b("<li class='oj-listbox-results-depth-0' role='presentation'></li>"),C=d.nextUid(),D=b(document.createElement("input")),E=!1;z&&Array.isArray(z)&&(E=a.contains.call(e,z));var F=b(document.createElement("span"));F.addClass("oj-listbox-result-label"),F.attr("id","oj-listbox-result-label-"+C),F.attr("role","option"),F.text(a.selectLabel),D.attr({id:"oj-checkbox-"+C,"class":"oj-identity-checkbox",type:"checkbox",checked:E});var G=b(document.createElement("label"));G.attr({"for":"oj-checkbox-"+C,"class":"oj-identity-checkbox"+(E?" selected":""),"aria-label":E?"selected":"unselected"}),a.checkAll=G,B.append([G,F]),g.prepend(B)}var H=!(!a.resultTemplateKeys||!Array.isArray(a.resultTemplateKeys));for(n=0,o=e.length;n<o;n+=1){p=e[n],r=!0===p.disabled,q=!r&&i(p)!==undefined;var I=p.element&&b(p.element[0]).is("li");if(s=b(I?p.element[0]:"<li></li>"),s.hasClass("oj-listbox-result"))p.children&&p.children.length>0&&v(s,p),b(p.element[0]).css("display","");else{var J=d.nextUid();if(s.addClass("oj-listbox-results-depth-"+l),s.addClass("oj-listbox-result"),s.addClass(q?"oj-listbox-result-selectable":"oj-listbox-result-unselectable"),r&&s.addClass("oj-disabled"),p.children&&s.addClass("oj-listbox-result-with-children"),s.attr("role","presentation"),A){var E=!1;z&&Array.isArray(z)&&(E=-1!==a.indexOf.call(z,p));var G=b(document.createElement("label"));G.attr({"for":"oj-checkbox-"+J,"class":"oj-identity-checkbox"+(E?" selected":""),"aria-label":E?"selected":"unselected"}),s.append(G)}var K=p.identityType?p.identityType:"";if(K||(K=p.type||""),K){var L=b(document.createElement("span"));L.attr("class","oj-identity-type "+K),s.append(L)}if(t=b(document.createElement("div")),t.addClass("oj-listbox-result-label"),t.attr("id","oj-listbox-result-label-"+J),t.attr("role","option"),r&&t.attr("aria-disabled","true"),!I){if(function(b,d){if(k){var e={index:n,depth:l,leaf:!d.children,parent:c,data:d,component:a.ojContext,parentElement:b.get(0)},g=k.call(a.ojContext,e);null!==g&&(null===g.parentNode||g.parentNode instanceof DocumentFragment)&&b.appendChild(g)}else(u=a.formatResult(d))!==undefined&&b.text(u);if(!0!==f.initial){var h=b.find(".oj-listbox-highlighter-section");h.length||(h=b),w(h,"oj-listbox-highlighter",f.term)}}(t,p),H)for(var M=a.resultTemplateKeys,N=0,O=M.length;N<O;N++)p.hasOwnProperty(M[N])&&p[M[N]]&&t.append([b("<span> | </span>"),b("<span class='info'> "+p[M[N]]+"</span>")]);else p.email&&t.append([b("<span> | <span>"),b("<span class='info'> "+p.email+"</span>")]);t[0].title=t.text(),s.append(t)}p.children&&p.children.length>0&&v(s,p),s.data(j._elemNm,p),I?(b(p.element[0]).contents().filter(function(){return"UL"!==this.tagName}).wrapAll(t),b(p.element[0]).css("display","")):g.append(s)}}})(null,e,c,0,g)}},f,a),a.id=function(a){return a[this.opts.optionsKeys.value]},a.formatResult=function(a){return isNaN(a[this.optionsKeys.label])?a[this.optionsKeys.label]:this.ojContext._formatValue(a[this.optionsKeys.label])},a.formatSelection=function(a){return a&&a[this.optionsKeys.label]?isNaN(a[this.optionsKeys.label])?a[this.optionsKeys.label]:this.ojContext._formatValue(a[this.optionsKeys.label]):undefined},"select"!==h&&null!==a.manageNewEntry&&(a.manageNewEntry=function(c){var d={};return d[a.optionsKeys.value]=d[a.optionsKeys.label]=b.trim(c),d}),e?a.query=this._bind(function(a){var b,c,f={results:[],more:!1},h=a.term;c=function(b,e){var f,i=b.children()&&b.children().length>0&&b.children().is("ul");b.is("option")||b.is("li")&&!i?a.matcher(h,b.text(),b)&&e.push(g._optionToData(b)):(b.is("optgroup")||b.is("li")&&i)&&(f=g._optionToData(b),d.each2(b.is("optgroup")?b.children():b.children("ul").children(),function(a,b){c(b,f.children)}),f.children.length>0&&e.push(f))},b=e.children(),this._getPlaceholder()!==undefined&&b.length>0&&""==b.first().attr("value")&&(b=b.slice(1)),d.each2(b,function(a,b){c(b,f.results)}),a.callback(f)}):"options"in a&&(b.isFunction(a.options)?a.query=d.remote(a.options,a.optionsKeys?a.optionsKeys:null):a.query=d.local(a.options,a.optionsKeys?a.optionsKeys:null)),a},_createHeader:function(){var a=this.opts.element.find(".oj-listbox-header");if(a.length){this.header=b("<li>",{"class":"oj-listbox-result-header oj-listbox-result-unselectable",role:"presentation"}),this.header.append(a.children()),this._initializeHeaderItems();var c=b("<ul>",{"class":"oj-listbox-results-with-header",role:"listbox"});c.append(this.header),c.appendTo(this.results.parent());var d=b("<li>",{role:"presentation"});c.append(d),this.results.attr("role","presentation"),this.results.appendTo(d)}this.headerInitialized=!0},_initializeHeaderItems:function(){this.headerItems=this.header.find("li[role='option'], li:not([role])"),this.headerItems.uniqueId(),this.header.find("ul").attr("role","presentation"),this.header.find("li:not([role])").attr("role","option");this.header.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){b(this).attr("tabIndex",-1)})},_isHeaderItem:function(a){var c=!1;return this.headerItems.each(function(){if(b(this).attr("id")===a)return c=!0,!1}),c},_getNextHeaderItem:function(a){if(!this.headerItems)return null;if(!a)return this.headerItems.first();var c=!1,d=null;return this.headerItems.each(function(){if(c)return d=b(this),!1;c=b(this).attr("id")===a}),d},_getPreviousHeaderItem:function(a){if(!this.headerItems)return null;var c=null;return this.headerItems.each(function(){if(b(this).attr("id")===a)return!1;c=b(this)}),c},_setFocusOnHeaderItem:function(a){var b=a.find(".oj-component .oj-enabled").first();if(0===b.length){b=a.find("a, input, select, textarea, button, object, .oj-component-initnode").first(),0===b.length&&(b=a.children().first())}b&&b.addClass("oj-focus")},_removeHighlightFromHeaderItems:function(){this.headerItems&&this.headerItems.find(".oj-focus").removeClass("oj-focus")},_triggerSelect:function(a){var c=b.Event(this._elemNm+"-selecting",{val:this.id(a),object:a});return this.opts.element.trigger(c),!c.isDefaultPrevented()},_isInterfaceEnabled:function(){return!0===this.enabledInterface},_enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a!==this.enabledInterface&&(this.container.toggleClass("oj-disabled",b),this.close(),this.enabledInterface=a,!0)},_enable:function(a){a===undefined&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.container.toggleClass("oj-enabled",a),this.container.find(".oj-identity-filter").toggleClass("disabled-filter",!a),this._enableInterface())},_disable:function(){this._enable(!1)},_readonly:function(a){return a===undefined&&(a=!1),this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this._enableInterface(),!0)},_opened:function(){return this.container.hasClass("oj-listbox-dropdown-open")},_usingHandler:function(a,c){if(o(c))return void(this._closeDelayTimer=window.setTimeout(b.proxy(this.close,this),1));var d=this.container,e=c.element.element;e.css(a),"bottom"===c.vertical?(d.addClass("oj-listbox-drop-above"),e.addClass("oj-listbox-drop-above")):(d.removeClass("oj-listbox-drop-above"),e.removeClass("oj-listbox-drop-above"))},_getDropdownPosition:function(){var a={my:"start top",at:"start bottom",of:this.container.children().first(),collision:"flip",using:b.proxy(this._usingHandler,this)},c="rtl"===l();return p(a,c)},_positionDropdown:function(){this.dropdown.css("width",this.container.outerWidth()),this.dropdown.position(this._getDropdownPosition())},_shouldOpen:function(a){if(this._opened())return b.isFunction(this.opts.options);if(!1===this._enabled||!0===this._readonly)return!1;var c={component:this.opts.element};return this.ojContext._trigger("beforeExpand",a,c)},_clearDropdownAlignmentPreference:function(){this.container.removeClass("oj-listbox-drop-above"),this.dropdown.removeClass("oj-listbox-drop-above")},open:function(a,b){return!!this._shouldOpen(a)&&(this._opening(a,b),!0)},_opening:function(){this.headerInitialized||this._createHeader(),this.container.addClass("oj-listbox-dropdown-open")},_showDropDown:function(){if(this._opened()){this.windowEventBind=b.proxy(this._positionDropdown,this),this.documentEventBind=b.proxy(this._clickAwayHandler,this),window.addEventListener("resize",this.windowEventBind,!0),window.addEventListener("scroll",this.windowEventBind,!0),document.documentElement.addEventListener("mousedown",this.documentEventBind,!0);if("true"!==this._getActiveContainer().attr("aria-expanded")){this._clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.appendTo(this.body()),this.header&&(this.dropdown.find(".oj-listbox-results-with-header").prepend(this.header),this.header.show()),this.dropdown.position(this._getDropdownPosition()).show(),b("#oj-listbox-drop").removeAttr("id"),this.dropdown.attr("id","oj-listbox-drop");var a=this.containerId;this.dropdown.attr("data-oj-containerid",a),this._positionDropdown(),this._getActiveContainer().attr("aria-expanded",!0)}}},close:function(a){if(this._opened()){if(this._selectionEvent&&this._selectionEvent.target&&b(this._selectionEvent.target).hasClass("oj-identity-checkbox"))return void(this._selectionEvent=null);this.container.removeClass("oj-listbox-dropdown-open");var c=this._getActiveContainer().attr("aria-expanded");if(c&&"false"!==c){window.removeEventListener("resize",this.windowEventBind,!0),window.removeEventListener("scroll",this.windowEventBind,!0),document.documentElement.removeEventListener("mousedown",this.documentEventBind,!0);var d=this.containerId,e="scroll."+d,f="resize."+d,g="orientationchange."+d;this.container.parents().add(window).each(function(){b(this).off(e).off(f).off(g)}),this._clearDropdownAlignmentPreference(),this.header&&(this.header.hide(),this.header.appendTo(this.container)),this.dropdown.removeAttr("data-oj-containerid"),this.dropdown.removeAttr("id"),this.opts.list?this._removeHighlight():(this.dropdown.detach(),this.results.empty()),this._getActiveContainer().attr("aria-expanded",!1),this.ojContext._IsRequired()&&this.ojContext.validate()}}},_clearSearch:function(){},_ensureHighlightVisible:function(){var a,c,d,e,f,g,h,i=this.results;if(!((c=this._highlight())<0)){if(0==c)return void i.scrollTop(0);a=this._findHighlightableChoices().find(".oj-listbox-result-label"),d=b(a[c]),e=d.offset().top+d.outerHeight(!0),c===a.length-1&&(h=i.find("li.oj-listbox-more-results"),h.length>0&&(e=h.offset().top+h.outerHeight(!0))),f=i.offset().top+i.outerHeight(!0),e>f&&i.scrollTop(i.scrollTop()+(e-f)),g=d.offset().top-i.offset().top,g<0&&"none"!=d.css("display")&&i.scrollTop(i.scrollTop()+g)}},_findHighlightableChoices:function(){return this.results.find(".oj-listbox-result-selectable:not(.oj-disabled, .oj-selected)").filter(function(){return"none"!=b(this).css("display")})},_moveHighlight:function(a){var c=this._findHighlightableChoices(),d=this._highlight();if(this.header&&(d<=0||d===c.length-1)){var e=this._getActiveContainer().attr("aria-activedescendant"),f=this._isHeaderItem(e);f||(e=null);var g=null;if(a>0&&(d<0||d===c.length-1)?g=this._getNextHeaderItem(e):a<0&&(f&&d<0||0===d)&&(g=this._getPreviousHeaderItem(e)),g)return this._removeHighlight(),this._setFocusOnHeaderItem(g),void this._getActiveContainer().attr("aria-activedescendant",g.attr("id"));f&&a<0&&(d=0)}for(;d>=-1&&d<c.length;){d+=a,d==c.length?d=0:-1==d&&(d=c.length-1);var h=b(c[d]);if(h.hasClass("oj-listbox-result-selectable")&&!h.hasClass("oj-disabled")&&!h.hasClass("oj-selected")){this._highlight(d);break}}},_highlight:function(a){var c,d=this._findHighlightableChoices();if(0===arguments.length){var e=d.filter(".oj-hover");return e.length||(e=d.children(".oj-hover").closest(".oj-listbox-result")),d.get().indexOf(e[0])}a>=d.length&&(a=d.length-1),a<0&&(a=0),this._removeHighlight(),c=b(d[a]),c.hasClass("oj-listbox-result-with-children")?c.children(".oj-listbox-result-label").addClass("oj-hover"):c.addClass("oj-hover"),this._getActiveContainer().attr("aria-activedescendant",c.find(".oj-listbox-result-label").attr("id")),this._ensureHighlightVisible()},_removeHighlight:function(){this.results.find(".oj-hover").removeClass("oj-hover"),this._removeHighlightFromHeaderItems()},_highlightUnderEvent:function(a){var c=b(a.target).closest(".oj-listbox-result-selectable");if(c.length>0&&!c.is(".oj-hover")){var d=this._findHighlightableChoices();this._highlight(d.index(c))}else 0==c.length&&this._removeHighlight()},_updateResults:function(a){var c=this.search,e=this,f=c.val(),g=b.data(this.container,this._classNm+"-last-term");if((!0===a||!g||f!==g)&&(g||f||!a||"input"!==a.type)){b.data(this.container,this._classNm+"-last-term",f);var h=this.opts.minLength||0;f.length>=h?(clearTimeout(this.queryTimer),a&&!0!==a?this.queryTimer=setTimeout(function(){e._queryResults(a)},d.DEFAULT_QUERY_DELAY):this._queryResults(a)):this.close()}},_queryResults:function(a){function c(){if(i._positionDropdown(),i.header&&i.headerItems.length){var a=i._findHighlightableChoices(),b=i.headerItems.length+a.length;if(i.headerItems.attr("aria-setsize",b),a.length){var c=a.children("[role='option']");c.attr("aria-setsize",b),c.first().attr("aria-posinset",i.headerItems.length+1)}}}var e,f=this.search,g=this.results,h=this.opts,i=this,j=f.val();if((h.minLength||0)>j.length)return void this.close();this.open(null,!0),++this.queryCount,this._removeHighlight(),e=this.search.val(),j=e!==undefined&&null!==e&&(!0!==a||h.inputSearch||h.minLength>0)?e:"",this.resultsPage=1,h.query({element:h.element,term:j,page:this.resultsPage,context:null,matcher:h.matcher,callback:this._bind(function(e){if(this._opened())if(this.context=e&&e.context!==undefined?e.context:null,e&&0!==e.results.length)d.saveLastQueryResult(this,e.results),this._showDropDown(),this._preprocessResults(g),i.opts.populateResults.call(this,g,e.results,{term:f.val(),page:this.resultsPage,context:null,initial:a},this._showPlaceholder()),this._postprocessResults(e,a),c();else if("oj-select"===this._classNm&&!0!==this.opts.multiple||this.opts.inputSearch&&""!==b.trim(this.opts.inputSearch)||this.header){var j=b("<li>");j.addClass("oj-listbox-no-results"),j.text(h.noMatchesFound),this._showDropDown(),this._preprocessResults(g),g.append(j),c()}})})},_preprocessResults:function(a){if(this.opts.list){var b=a.children();this._hideResultList(b)}else a.empty()},_hideResultList:function(a){for(var c=0;c<a.length;c++){b(a[c]).is("LI")&&((b(a[c]).hasClass("oj-listbox-no-results")||b(a[c]).hasClass("oj-listbox-placeholder"))&&b(a[c]).remove(),b(a[c]).css("display","none"),b(a[c]).hasClass("oj-selected")&&b(a[c]).removeClass("oj-selected"));var d=b(a[c]).children("ul");d&&d.children()&&this._hideResultList(d.children())}},_cancel:function(a){this.close(a)},_focusSearch:function(){d._focus(this.search)},_selectHighlighted:function(a,c){if(this.header){var e=this._getActiveContainer().attr("aria-activedescendant");if(this._isHeaderItem(e)){var f=b("#"+e),g=f.find("a, input, select, textarea, button, object").first();return 0===g.length&&(g=f.children()),g.length&&g[0].click(),void this.close(c)}}var h=this._highlight(),i=this.results.find(".oj-hover"),j=i.closest(".oj-listbox-result").data(this._elemNm);j?(this._highlight(h),a=a||{},a.trigger=d.ValueChangeTriggerTypes.OPTION_SELECTED,j!==this.opts._placeholderData?this._onSelect(j,a,c):this._onSelect([],a,c)):a&&a.noFocus&&this.close(c)},_getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},_setPlaceholder:function(){var a=this._getPlaceholder();a&&(this.search.attr("placeholder",a),this.container.removeClass(this._classNm+"-allowclear"))},_initContainerWidth:function(){function a(){var a,b,c,d,e,f;if((a=this.opts.element.attr("style"))!==undefined)for(b=a.split(";"),d=0,e=b.length;d<e;d+=1)if(f=b[d].replace(/\s/g,""),null!==(c=f.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&c.length>=1)return c[1]}var b=a.call(this);null!==b&&this.container.css("width",b)},getVal:function(){return this.ojContext.option("value")},setVal:function(a,b,c){var d={doValueChangeCheck:!1};c&&(d._context=c),"string"!=typeof a&&Array.isArray(a)||(a=[a]),this.opts.element.val(0!==a.length?a:null),this.ojContext._updateValue(a,b,d)},_showPlaceholder:function(){return!1},_getActiveContainer:function(){return this.search},_hasSearchBox:function(){return this.opts.minimumResultsForSearch!==undefined&&this.container._hasSearchBox!==undefined},_findItem:function(a,c){for(var d=0;d<a.length;d++)if(b(a[d]).data(this._elemNm).value===c)return a[d];return null}}),f={closeOnSelect:!0,openOnEnter:!0,id:function(a){return a.id},matcher:function(a,b){return(""+b).toUpperCase().indexOf((""+a).toUpperCase())>=0},separator:","},h=d.clazz(e,{_enableInterface:function(){h.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this._isInterfaceEnabled())},_focus:function(){this._opened()&&this.close()},_destroy:function(){b("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),h.superclass._destroy.apply(this,arguments)},_clear:function(a){this.selection.data(this._elemNm);this.search.val(""),this.selection.removeData(this._elemNm),this._setPlaceholder()},_initSelection:function(){var a=this.opts.element;this.opts.initSelection.call(null,a,this._bind(this._updateSelectedOption))},_containerKeydownHandler:function(a){if(this._isInterfaceEnabled()){if(a.which===d.KEY.PAGE_UP||a.which===d.KEY.PAGE_DOWN)return void d.killEvent(a);switch(a.which){case d.KEY.UP:case d.KEY.DOWN:return this._opened()?this._moveHighlight(a.which===d.KEY.UP?-1:1):this.open(a),void d.killEvent(a);case d.KEY.ENTER:return this._selectHighlighted(null,a),d.killEvent(a),void(this._opened()||(this._userTyping=!1));case d.KEY.TAB:return this.close(a),void(this._userTyping=!1);case d.KEY.ESC:return this._opened()&&(this._cancel(a),d.killEvent(a)),void(this._userTyping=!1)}this._userTyping=!0}},_containerKeyupHandler:function(a){this._isInterfaceEnabled()&&(this._opened()||this.open(a))},_initContainer:function(){var a,c,e=this.container,f=(this.dropdown,this.opts.rootAttributes),g=f&&f.id?f.id:this.opts.element.attr("id")||d.nextUid();this.selection=a=e.find("."+this._classNm+"-choice"),a.attr("id",this._classNm+"-choice-"+g),c=b("label[for='"+this.opts.element.attr("id")+"']"),c.attr("id")||c.attr("id",this._classNm+"-label-"+g),a.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+g),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+g),this.search.attr("aria-owns",this.results.attr("id")),this.search.attr("aria-labelledby",c.attr("id")),this.opts.element.attr("aria-labelledby",c.attr("id")),this.search.attr("id")&&c.attr("for",this.search.attr("id")),this.opts.element.attr("aria-label")&&this.search.attr("aria-label",this.opts.element.attr("aria-label")),this.opts.element.attr("aria-controls")&&this.search.attr("aria-controls",this.opts.element.attr("aria-controls")),a.on("keydown",this._bind(this._containerKeydownHandler)),a.on("mousedown","abbr",this._bind(function(a){this._isInterfaceEnabled()&&(this._clear(a),d.killEventImmediately(a),this.close(a),this.selection.focus())})),a.on("mousedown",this._bind(function(a){this.opts.element.prop("disabled")&&d.killEvent(a),this._opened()?this.close(a):this._isInterfaceEnabled()&&this.open(a);var b=this.search.parent().attr("aria-hidden");b&&"true"==b?this.selection.focus():this.search.focus(),this.container.addClass("oj-active")})),a.on("mouseup",this._bind(function(a){this.container.removeClass("oj-active")})),a.on("focus",this._bind(function(a){d.killEvent(a)})),this.search.on("blur keyup",this._bind(function(a){if("keyup"!==a.type||10===a.keyCode||13===a.keyCode){if(this.search.val()!==undefined&&this.results.find(".oj-hover").length<=0)if(this.opts.manageNewEntry){var b=this.selection.data(this._elemNm);if(!b&&""!==this.search.val()||b&&(b.label!==this.search.val()||!this.ojContext.isValid())){var c=this.opts.manageNewEntry(this.search.val()),e="blur"===a.type?d.ValueChangeTriggerTypes.BLUR:d.ValueChangeTriggerTypes.ENTER_PRESSED,f={trigger:e};this._onSelect(c,f,a)}}else if(null==this.opts.manageNewEntry){var c=this.selection.data(this._elemNm);if(""==this.search.val())this._clear(a);else if("oj-select"!==this._classNm){var g=this.opts.formatSelection(c);g!==undefined&&this.search.val(g)}}this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus")}})),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this._setPlaceholder()},_prepareOpts:function(){var a=h.superclass._prepareOpts.apply(this,arguments),c=this,e=this.getVal(),f=a.element.get(0).tagName.toLowerCase();if("input"===f&&a.element.attr("list")||"select"===f&&a.element.children().length>0||a.list){var i=a.list?"li":"option";a.initSelection=function(a,b){var d,e=c.getVal();Array.isArray(e)&&(e=e[0]),
d=e!==undefined&&null!==e?c._optionToData(a.find(i).filter(function(){return"li"==i?this.getAttribute("oj-data-value")===e:"option"==i?this.value===e:void 0})):c._optionToData(a.find(i).filter(function(){return"li"==i?!0===this.getAttribute("oj-data-selected"):"option"==i?this.selected:void 0})),b(d)},a.validate=function(a,b){var d;return b!==undefined&&null!==b&&(d=c._optionToData(a.find(i).filter(function(){return"li"==i?this.getAttribute("oj-data-value")===b:"option"==i?this.value===b:void 0}))),!!d}}else("options"in a||e&&e.length>0)&&(b.isFunction(a.options)?(a.initSelection=function(f,h){var i=function n(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if((0,g["default"])(b)===(0,g["default"])(e))return e;if(e.children){var f=n(e.children,b);if(f)return f}}return null};e=c.getVal();var j="";e&&e.length&&(j=e[0]);var k=null;if(!j)return void h(k);var l=d.getLastQueryResult(c);if(l&&(k=i(l,j)),!k){var m=c.currentItem;m&&m.length&&j===m[0]&&(k=m[0])}k||c.valueChangeTrigger?h(k):a.query({value:[j],callback:b.isFunction(h)?function(a){a&&a.results&&(k=i(a.results,j)),h(k)}:b.noop})},a.validate||(a.validate=function(a,b){return!0})):(a.initSelection=function(d,h){var i="";(e=c.getVal())&&e.length&&(i=e[0]);var j="select"==f&&c.ojContext._HasPlaceholderSet()&&!c.ojContext._IsRequired(),k=j?c._getPlaceholder():null,l=null;a.query({matcher:function(a,b,c){var d=(0,g["default"])(i)===(0,g["default"])(c);return d&&(l=c),d},callback:b.isFunction(h)?function(){l||"select"!==f||(l=k),h(l)}:b.noop})},a.validate=function(c,d){var e=d,f=null;return a.query({matcher:function(a,b,c){var d=(0,g["default"])(e)===(0,g["default"])(c);return d&&(f=c),d},callback:b.noop}),!!f}));return a},_postprocessResults:function(a,b,c){var e,f=-1,g=this;e=this._findHighlightableChoices(),d.each2(e,function(a,b){var c=g.getVal();if(c&&c[0]===g.id(b.data(g._elemNm)))return f=a,!1}),!1!==c&&!0===b&&f>=0&&this._highlight(f)},_onSelect:function(a,b,c){if(this._triggerSelect(a)){var d;b&&b.trigger&&(d={optionMetadata:{trigger:b.trigger}}),this.setVal(a||[],c,d),this.close(c),this._focusSearch()}},_clearSearch:function(){this.search.val("")}}),i=d.clazz(h,{_elemNm:"ojidentity",_classNm:"oj-select",_userTyping:!1,_createContainer:function(){return b(document.createElement("div")).attr({"class":"oj-identity oj-select oj-component"}).html(["<div class='oj-select-choice' tabindex='0' role='combobox' ","\t aria-autocomplete='none' aria-expanded='false' aria-ready='true'>","  <span class='oj-select-chosen'></span>","  <abbr class='oj-select-search-choice-close' role='presentation'></abbr>","  <a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role='presentation'>","</a></div>","<span class='oj-identity-filter'></span>","<div class='oj-listbox-drop oj-identity-container' style='display:none' role='presentation'>","  <div class='oj-listbox-search-wrapper'>","  <div class='oj-listbox-search'>","\t<input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","\t\t   spellcheck='false' class='oj-listbox-input' title='Search field' ","\t\t   role='combobox' aria-expanded='false' aria-autocomplete='list' />","\t<span class='oj-listbox-spyglass-box'>","\t  <span class='oj-component-icon oj-clickable-icon-nocontext oj-listbox-search-icon' role='presentation'>","\t   <b role='presentation'></b></span>","\t</span>","\t<span class='oj-identity-loading-container oj-select-loading'>","\t  <span class='oj-identity-loading' role='presentation'>","\t   &nbsp;</span>","\t</span>","  </div>","  </div>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>"].join(""))},_enable:function(a){i.superclass._enable.apply(this,arguments),this._enabled?(this.container.find(".oj-select-choice").attr("tabindex","0"),this.container.find(".oj-select-arrow").removeClass("oj-disabled")):(this.container.find(".oj-select-choice").attr("tabindex","-1"),this.container.find(".oj-select-arrow").addClass("oj-disabled"))},close:function(a){this._opened()&&(i.superclass.close.apply(this,arguments),this.container.find(".oj-select-choice").attr("aria-expanded",!1),this._testClear(a)||this._clearSearch(),a instanceof MouseEvent&&a.target!=this.selection&&a.target!=this.search||d._focus(this.selection),this.container.find(".oj-listbox-spyglass-box").off("mouseup click"))},_opening:function(a,b){i.superclass._opening.apply(this,arguments);var c;a&&"keydown"==a.type&&a.which!=d.KEY.UP&&a.which!=d.KEY.DOWN&&a.which!=d.KEY.LEFT&&a.which!=d.KEY.RIGHT&&(c=String.fromCharCode(a.which),d.killEvent(a)),this._opened()&&(c=this.search.val()),this._showSearchBox(c),b||(c?this._updateResults():this._updateResults(!0))},_showDropDown:function(){if(this._opened()){i.superclass._showDropDown.apply(this,arguments),this.container.find(".oj-select-choice").attr("aria-expanded",!0);var a,b,c;this._hasSearchBox()&&(a=this.search.get(0),a.createTextRange?(b=a.createTextRange(),b.collapse(!1),b.select()):a.setSelectionRange&&(c=this.search.val().length,a.setSelectionRange(c,c)))}},_initContainer:function(){var a=this.containerId+"_selected";this.text=this.container.find(".oj-select-chosen").attr("id",a),i.superclass._initContainer.apply(this,arguments),this.container.find(".oj-select-choice").attr({"aria-owns":this.search.attr("aria-owns"),"aria-labelledby":this.search.attr("aria-labelledby"),"aria-describedby":a});var b=this.opts.element.attr("aria-label");b&&this.selection.attr("aria-label",b),this.search.on("keydown",this._bind(this._containerKeydownHandler)),this.search.on("keyup-change input",this._bind(this._containerKeyupHandler));var c=this;this.selection.on("blur",function(a){c._testClear(a)})},_initSelection:function(){this._isPlaceholderOptionSelected()?(this._updateSelection(null),this.close(),this._setPlaceholder()):i.superclass._initSelection.apply(this,arguments)},_updateSelectedOption:function(a){if(a!==undefined&&null!==a){var b=this.getVal();b=Array.isArray(b)?b[0]:b,(0,g["default"])(b)!==(0,g["default"])(a)&&(b===undefined||null===b?this.ojContext.options.value=Array.isArray(a)?a:[a]:this.setVal(Array.isArray(a)?a:[a])),this._updateSelection(a),this.close()}},_updateSelection:function(a){this.selection.data(this._elemNm,a),null!==a&&this.text.text(a[this.opts.optionsKeys.label]),a&&""!=a.id&&this.text.removeClass(this._classNm+"-default"),this.opts.allowClear&&this.container.addClass(this._classNm+"-allowclear")},_getActiveContainer:function(){return this.search.attr("aria-expanded")&&this._hasSearchBox()?this.search:this.selection},_isPlaceholderOptionSelected:function(){if(null===this._getPlaceholder())return!1;var a=this.getVal();return""===(a=Array.isArray(a)?a[0]:a)||a===undefined||null===a},_getPlaceholder:function(){return this.opts.placeholder},_showPlaceholder:function(){return!0},_setPlaceholder:function(){var a=this._getPlaceholder();this._isPlaceholderOptionSelected()&&a!==undefined&&(a===undefined&&(a=""),this.text.text(a).addClass(this._classNm+"-default"),this.container.removeClass(this._classNm+"-allowclear"))},setVal:function(a,b,c){i.superclass.setVal.call(this,a,b,c),this.selection.data("selectVal",a)},_containerKeydownHandler:function(a){if(!(d.KEY.isControl(a)&&a.which!=d.KEY.SHIFT||d.KEY.isFunctionKey(a))){switch(a.which){case d.KEY.TAB:return this.close(a),this.selection.focus(),void this._testClear(a);case d.KEY.ENTER:if(a.target===this.selection[0]&&!this._opened())return this.open(a),void d.killEvent(a)}var b=this._hasSearchBox();if(i.superclass._containerKeydownHandler.apply(this,arguments),this._userTyping&&!this._opened()&&this.open(a),!b&&this._userTyping){var c;a.which!=d.KEY.LEFT&&a.which!=d.KEY.RIGHT&&(c=String.fromCharCode(a.which)),this._showSearchBox(c),this._updateResults(),d.killEvent(a)}}},_testClear:function(a){return""==this.text.text()&&(this._clear(a),!0)},_showSearchBox:function(a){var c=!1,e=this.dropdown.find(".oj-listbox-search");if(e&&(this._hasSearchBox()?(this.dropdown.find(".oj-listbox-search-wrapper").removeClass("oj-helper-hidden-accessible"),b(e).removeAttr("aria-hidden"),this.search.val(a),c=!0):(this.dropdown.find(".oj-listbox-search-wrapper").addClass("oj-helper-hidden-accessible"),b(e).attr("aria-hidden","true"))),d._focus(c?this.search:this.selection),c){var f=this;e.find(".oj-listbox-spyglass-box").on("mouseup click",function(a){f.search.focus(),a.stopPropagation()})}},_hasSearchBox:function(){var a=this.opts.minimumResultsForSearch;return(this.opts.list?b("#"+this.opts.list).find("li").length:this.datalist?this.datalist[0].length:this.opts.options?this.opts.options.length:0)>a||this._userTyping||b.isFunction(this.opts.options)}}),j=d.clazz(e,{_prepareOpts:function(){var a=j.superclass._prepareOpts.apply(this,arguments),c=this,e=a.element.get(0).tagName.toLowerCase();if("input"===e&&a.element.attr("list")||"select"===e&&a.element.children().length>0||a.list){var f=a.list?"li":"option";a.initSelection=function(a,b){var g,h=[],i=c.getVal();if(i)for(var j=i,k=0;k<j.length;k++){var l=j[k];g=a.find(f).filter(function(){return"option"===f?this.value===l:"li"===f?this.getAttribute("oj-data-value")===l:void 0}),g&&g.length?h.push(c._optionToData(g)):h.push({value:l,label:l})}else"select"!==e&&(g=a.find(f).filter(function(){return"option"===f?this.selected:"li"===f?!0===this.getAttribute("oj-data-selected"):void 0}),d.each2(g,function(a,b){h.push(c._optionToData(b))}));b(h)}}else"options"in a&&(b.isFunction(a.options)?a.initSelection=function(e,f){var h=function m(c,d){for(var e=[],f=0,g=c.length;f<g;f++){var h=c[f];if(a.indexOf.call(c,h)>=0&&e.push(h),h.children){var i=m(h.children,d);i&&i.length&&b.merge(e,i)}}return e},i=c.getVal(),j=[],k=d.getLastQueryResult(c);k&&(j=h(k,i));var l=function(){for(var a=[],b=0;b<i.length;b++){for(var d=i[b],e=!1,h=0;h<j.length;h++){var k=j[h];if((0,g["default"])(d)===(0,g["default"])(k)){a.push(k),j.splice(h,1),e=!0;break}}if(!e){var l=c.currentItem;if(l&&l.length)for(var m=0;m<l.length;m++)if((0,g["default"])(d)===(0,g["default"])(l[m])){a.push(l[m]),e=!0;break}e||a.push(d)}}f(a)};c.valueChangeTrigger?l():a.query({value:i,callback:function(a){if(a&&a.results){var c=h(a.results,i);c&&c.length&&b.merge(j,c)}l()}})}:a.initSelection=a.initSelection||function(d,e){var f=c.getVal(),h=[];a.query({matcher:function(a,c,d){var e=b.grep(f,function(a){return(0,g["default"])(a)===(0,g["default"])(d)}).length;return e&&h.push(d),e},callback:b.isFunction(e)?function(){for(var a=[],b=0;b<f.length;b++){for(var c=f[b],d=!1,i=0;i<h.length;i++){var j=h[i];if((0,g["default"])(c)===(0,g["default"])(j)){a.push(j),h.splice(i,1),d=!0;break}}d||a.push(c)}e(a)}:b.noop})});return a},_selectChoice:function(a){var b=this.container.find("."+this._classNm+"-selected-choice.oj-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("oj-focus"),a&&a.length&&(this.close(),a.addClass("oj-focus"),this.container.find("."+this._classNm+"-description").text(a.attr("valueText")+". Press back space to delete.").attr("aria-live","assertive"),this.opts.element.trigger("choice-selected",a)))},_destroy:function(){b("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),j.superclass._destroy.apply(this,arguments)},_initContainer:function(){var a,c,e="."+this._classNm+"-choices",f=d.nextUid();this.searchContainer=this.container.find("."+this._classNm+"-search-field"),this.selection=a=this.container.find(e);var g=this;this.selection.on("click","."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)",function(a){g.search[0].focus(),g._selectChoice(b(this))}),c=b("label[for='"+this.opts.element.attr("id")+"']"),c.attr("id")||c.attr("id",this._classNm+"-label-"+f),a.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+f),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+f),this.search.attr("aria-owns",this.results.attr("id")),this.search.attr("aria-labelledby",c.attr("id")),this.opts.element.attr("aria-labelledby",c.attr("id")),this.search.attr("id")&&c.attr("for",this.search.attr("id")),this.opts.element.attr("aria-label")&&this.search.attr("aria-label",this.opts.element.attr("aria-label")),this.opts.element.attr("aria-controls")&&this.search.attr("aria-controls",this.opts.element.attr("aria-controls")),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this._bind(function(b){if(this._isInterfaceEnabled()){++this.keydowns;var c=a.find("."+this._classNm+"-selected-choice.oj-focus"),e=c.prev("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),f=c.next("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),g=d.getCursorInfo(this.search);if(c.length&&(b.which==d.KEY.LEFT||b.which==d.KEY.RIGHT||b.which==d.KEY.BACKSPACE||b.which==d.KEY.DELETE||b.which==d.KEY.ENTER)){var h=c;return b.which==d.KEY.LEFT&&e.length?h=e:b.which==d.KEY.RIGHT?h=f.length?f:null:b.which===d.KEY.BACKSPACE?(this._unselect(c.first(),b),this.search.width(10),h=e.length?e:f):b.which==d.KEY.DELETE?(this._unselect(c.first(),b),this.search.width(10),h=f.length?f:null):b.which==d.KEY.ENTER&&(h=null),this._selectChoice(h),d.killEvent(b),void(h&&h.length||this.open())}if((b.which===d.KEY.BACKSPACE&&1==this.keydowns||b.which==d.KEY.LEFT)&&0==g.offset&&!g.length)return this._selectChoice(a.find("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)").last()),void d.killEvent(b);if(this._selectChoice(null),this._opened())switch(b.which){case d.KEY.UP:case d.KEY.DOWN:return this._moveHighlight(b.which===d.KEY.UP?-1:1),void d.killEvent(b);case d.KEY.ENTER:return this._selectHighlighted(null,b),void d.killEvent(b);case d.KEY.TAB:return void this.close(b);case d.KEY.ESC:return this._cancel(b),void d.killEvent(b)}if(!(b.which===d.KEY.TAB||d.KEY.isControl(b)||d.KEY.isFunctionKey(b)||b.which===d.KEY.ESC||b.which===d.KEY.ENTER&&this.search.val()&&"ojcombobox"===this._elemNm))switch(b.which){case d.KEY.UP:case d.KEY.DOWN:return this.open(),void d.killEvent(b);case d.KEY.PAGE_UP:case d.KEY.PAGE_DOWN:case d.KEY.ENTER:return void d.killEvent(b)}}})),this.search.on("keyup",this._bind(function(a){this.keydowns=0})),this.search.on("blur keyup",this._bind(function(a){if("keyup"!==a.type||10===a.keyCode||13===a.keyCode){if(this.opts.manageNewEntry&&this.search.val()&&this.results.find(".oj-hover").length<=0){var b=this.opts.manageNewEntry(this.search.val()),c="blur"===a.type?d.ValueChangeTriggerTypes.BLUR:d.ValueChangeTriggerTypes.ENTER_PRESSED,e={trigger:c};this._onSelect(b,e,a)}this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus"),this._selectChoice(null),this._opened()||this._clearSearch(),a.stopImmediatePropagation()}})),this.container.on("click touchstart",e,this._bind(function(a){this._isInterfaceEnabled()&&(b(a.target).closest("."+this._classNm+"-selected-choice").length>0||(this._selectChoice(null),this._opened()?this.close(a):(this.open(),this._focusSearch()),a.preventDefault()))})),this.container.on("focus",e,this._bind(function(){this._isInterfaceEnabled()})),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this._clearSearch()},_enableInterface:function(){j.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this._isInterfaceEnabled())},_initSelection:function(){var a=this.getVal();if(null!==a&&0!==a.length||"oj-select"!==this._classNm&&""!==this.opts.element.text()||(this._updateSelection([]),this.close(),this._clearSearch()),null!==a&&a.length){var b=this,c=this.opts.element;this.opts.initSelection.call(null,c,function(a){a!==undefined&&null!==a&&0!==a.length&&(b._updateSelection(a),b.close(),b._clearSearch())})}},_clearSearch:function(){var a=this._getPlaceholder(),b=this._getMaxSearchWidth(),c=this.getVal();a===undefined||c&&0!==c.length?(this.search.attr("placeholder",""),this.search.val("").width(10),this.searchContainer.width("auto")):(this.search.attr("placeholder",a),this.search.val("").width(b>0?b:this.container.css("width")),this.searchContainer.width("100%"))},_opening:function(a,b){this._resizeSearch(),j.superclass._opening.apply(this,arguments),this._focusSearch(),b||this._updateResults(!0),this.search.focus()},close:function(a){this._opened()&&j.superclass.close.apply(this,arguments)},_focus:function(){this.close(),this.search.focus()},_updateSelection:function(a){var c=[],d=[],e=this;b(a).each(function(){e.opts.indexOf.call(c,this)<0&&(c.push(this),d.push(this))}),a=d,this.selection.find("."+this._classNm+"-selected-choice").remove(),b(a).each(function(){e._addSelectedChoice(this)}),this.currentItem=a,this.opts.element.val(0===c.length?[]:c),e._postprocessResults(),setTimeout(function(){e._positionDropdown()},0)},_onSelect:function(a,c,d){if(this._triggerSelect(a)){var e,f=this;c&&c.trigger&&(e={optionMetadata:{trigger:c.trigger}});var g=this.getVal(),h=g?g.slice(0):[];b(a).each(function(){f.opts.indexOf.call(h,this)<0&&h.push(this)}),this.setVal(h,d,e),!this.select&&this.opts.closeOnSelect||this._postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect&&(this.close(d),this.search.width(10)),c&&c.noFocus||this._focusSearch()}},_cancel:function(a){this.close(a),this._focusSearch()},_addSelectedChoice:function(a){var c,e=!a.locked,f=b("<li class='"+this._classNm+"-selected-choice'>\t<div></div>\t<a href='#' onclick='return false;' role='button' aria-label='remove' class='"+this._classNm+"-clear-entry \t  oj-component-icon oj-clickable-icon-nocontext "+this._classNm+"-clear-entry-icon' tabindex='-1'>\t</a></li>"),g=b("<li class='"+this._classNm+"-selected-choice "+this._classNm+"-locked'><div></div></li>"),h=e?f:g;this.id(a);c=this.opts.formatSelection(a),c!==undefined&&(h.find("div").addClass(this._classNm+"-selected-choice-label").text(c),h.find("."+this._classNm+"-clear-entry").attr("aria-label",c+" remove"),h.attr("valueText",c)),e&&h.find("."+this._classNm+"-clear-entry").on("mousedown",d.killEvent).on("click dblclick",this._bind(function(a){this._isInterfaceEnabled()&&(b(a.target).closest("."+this._classNm+"-selected-choice").fadeOut("fast",this._bind(function(){this._unselect(b(a.target),a),this.selection.find("."+this._classNm+"-selected-choice.oj-focus").removeClass("oj-focus"),this.close(a),this._focusSearch()})).dequeue(),d.killEvent(a))})),h.data(this._elemNm,a),h.insertBefore(this.searchContainer)},_unselect:function(a,b){var c,d,e=this.getVal(),f=e?e.slice(0):[],g=this;if(a=a.closest("."+this._classNm+"-selected-choice"),0===a.length)throw"Invalid argument: "+a+". Must be ."+this._classNm+"-selected-choice";if(c=a.data(this._elemNm)){for(;(d=g.opts.indexOf.call(f,c))>=0;)f.splice(d,1),this.setVal(f,b),this.select&&this._postprocessResults();this.ojContext._IsRequired()&&0===f.length||a.remove(),this.ojContext._IsRequired()&&this.ojContext.validate()}},_postprocessResults:function(a,b,c){var e=this.getVal(),f=e&&(this.opts.element.val()||this.ojContext.isValid())?e:[],g=this.results.find(".oj-listbox-result"),h=this;d.each2(g,function(a,b){var c=h.id(b.data(h._elemNm));f&&h.opts.indexOf.call(f,c)>=0&&(b.addClass("oj-selected"),b.find(".oj-listbox-result-selectable").addClass("oj-selected"))}),!g.filter(".oj-listbox-result:not(.oj-selected)").length>0&&this.close()},_getMaxSearchWidth:function(){return this.selection.width()-d.getSideBorderPadding(this.search)},_textWidth:function(a){var c=document.createElement("span"),d=document.createTextNode(a);c.style.display="none",c.appendChild(d),b("body").append(c);var e=b("body").find("span:last").width();return b("body").find("span:last").remove(),e},_resizeSearch:function(){var a,b,c,e,f,g=d.getSideBorderPadding(this.search);a=this._textWidth(this.search.val())+10,b=this.search.offset().left,c=this.selection.width(),e=this.selection.offset().left,f=c-(b-e)-g,f<a&&(f=c-g),f<40&&(f=c-g),f<=0&&(f=a),this.search.width(Math.floor(f))},setVal:function(a,b,c){var e=[],f=this;"string"==typeof a&&(a=d.splitVal(a,this.opts.separator));for(var g=0;g<a.length;g++)f.opts.indexOf.call(e,a[g])<0&&e.push(a[g]);var h={doValueChangeCheck:!1};c&&(h._context=c),this.opts.element.val(0!==a.length?a:null),this.ojContext._updateValue(e,b,h),this.search.attr("aria-activedescendant",this.opts.element.attr("id"))}}),k=d.clazz(j,{_elemNm:"ojidentity",_classNm:"oj-select",_createContainer:function(){return b(document.createElement("div")).attr({"class":"oj-identity oj-select oj-select-multi oj-component"}).html(["<div class='oj-identity-select'>","  <ul class='oj-select-choices'>","\t<li class='oj-select-search-field'>","\t  <input type='text' role='combobox' aria-expanded='false' aria-autocomplete='list' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='oj-listbox-input'>","\t<span class='oj-identity-loading-container oj-multi-loading'>","\t  <span class='oj-identity-loading' role='presentation'>","\t   &nbsp;</span>","\t</li>","  </ul>","</div>","<span class='oj-identity-filter multiple'></span>","<div class='oj-select-description oj-helper-hidden-accessible'/>","<div class='oj-listbox-drop oj-identity-container oj-listbox-drop-multi' style='display:none'>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>"].join(""))}}),l=function(){var a=document.documentElement.getAttribute("dir");return a&&(a=a.toLowerCase()),"rtl"===a?"rtl":"ltr"},m=function(){var a=20;if(b.isNumeric(a))return a;var c=b("<div />");b(document.body).append(c),c.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var d=b("<div />");d.height(1),c.append(d);var e=d.width(),f=c.width();return c.remove(),a=f-e}(),n=function(a,c){function d(a,b){if(a.bottom-b.top<-1)return!1;var c="auto"===b.overflowY||"scroll"===b.overflowY?m:0;return!(b.bottom-c-a.top<1)&&(c="auto"!==b.overflowX&&"scroll"!==b.overflowX||"rtl"!==l()?0:m,!(a.right-(b.left+c)<-1)&&(c="auto"!==b.overflowX&&"scroll"!==b.overflowX||"ltr"!==l()?0:m,!(a.left-(b.right-c)>-1)))}function e(a){var c=a[0];if(1===c.nodeType){var d=c.getBoundingClientRect();return d.overflowX=a.css("overflow-x"),d.overflowY=a.css("overflow-y"),d}if(b.isWindow(c)){var d={width:c.innerWidth,height:c.innerHeight,top:0,bottom:c.innerHeight,left:0,right:c.innerWidth};return d}return{height:0,width:0}}if(!a)return!1;var f=e(a);if(c&&!d(f,e(b(window))))return!1;for(var g=!0,h=a.parent();g&&h&&h.length>0&&1===h[0].nodeType;){if(function(a){return"visible"!==a.css("overflow-x")||"visible"!==a.css("overflow-y")}(h)){var i=e(h);i.height>0&&i.width>0&&(g=d(f,i))}h=h.parent()}return g},o=function(a){if(a.target&&a.target.height>0&&a.target.width>0){var b=a.target.element;return!n(b)}return!1},p=function(a,c){for(var d=b.extend({},a),e=0;e<q.length;e++){var f=q[e],g=d[f];g&&(d[f]=g.replace("start",c?"right":"left").replace("end",c?"left":"right").replace("<",c?"+":"-").replace(">",c?"-":"+"))}return d},q=["my","at"],r={defaultElement:"<select>",widgetEventPrefix:"oj",options:{minimumResultsForSearch:10,noMatchesFound:"No matches found",placeholder:null,list:undefined,required:!1,multiple:!0,options:null,optionsKeys:{label:"id",value:"id"},beforeExpand:null,selectAll:!0,selectLabel:"Select All",defaultScope:["user"],showScopeFilter:!1,scopesOptions:[{label:"User",value:"user"},{label:"Group",value:"group"},{label:"Role",value:"role"}],indexOf:function(a){if(!a)return-1;var b=this.length,c=0;for(a=(0,g["default"])(a);c<b;c++){if((0,g["default"])(this[c])===a)return c}return-1},contains:function(a){if(!a)return!1;for(var b=a.length,c=this.length,d=0,e=0,f=0;d<c;d++){var h=(0,g["default"])(this[d]);for(e=0;e<b;e++){if(h===(0,g["default"])(a[e])){++f;break}}}return f===c}},widget:function(){return this.select?this.select.container:this.element.parent()},_ComponentCreate:function(){this._super(),this._setup()},_nativeSetDisabled:function(a){a?(this.element.attr("disabled",""),this.element.parent().addClass("oj-disabled").removeClass("oj-enabled")):(this.element.removeAttr("disabled"),this.element.parent().removeClass("oj-disabled").addClass("oj-enabled"))},_nativeChangeHandler:function(a){},_jetSetup:function(){var a={},c=this.options.multiple;a.element=this.element,a.ojContext=this,a=b.extend(this.options,a),b.isArray(a.defaultScope)||(a.defaultScope=[a.defaultScope]),this.select=c?new k:new i,this.select._init(a);var d=this.select.opts;this.select.container.addClass("oj-select-jet oj-form-control"),this.element.val=function(a){return arguments.length&&(d.value=a),d.value||[]}},_setup:function(){this._jetSetup()},refresh:function(){this._super(),this._cleanup(),this._setup()},_destroy:function(){this._super(),this._cleanup()},_NotifyDetached:function(){this.select.close()},_NotifyHidden:function(){this.select.close()},_SetPlaceholder:function(a){},_updateValue:function(a,c,d){c&&(d._context=d._context||{},b.extend(!0,d._context,{optionMetadata:{trigger:"option_selected",writeback:"shouldWrite"},originalEvent:c.originalEvent||c}),this.valueUpdated=!0,this.option({value:a},d),this.select._initSelection()),this._IsRequired()&&0!==a.length&&(this.select.container.removeClass("oj-invalid"),this.select.container.find(".oj-messaging-inline-container").remove())},_SetPlaceholderOption:function(a){this._super(a)},_HasPlaceholderSet:function(){return"string"==typeof this.options.placeholder},_IsRequired:function(){return this.options.required},_ClearPlaceholder:function(){this._SetPlaceholderOption(null),this._SetPlaceholder(null)},_InitOptions:function(b,c){var e=[{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}];if(this._super(b,c),a.EditableValueUtils.initializeOptionsFromDom(e,c,this),this.options.value===undefined)this.options.value=this.element.attr("value")!==undefined?d.splitVal(this.element.val(),","):null;else{var f=this.options.value;Array.isArray(f)&&(f=f.slice(0)),this.options.value=f}},_SetDisplayValue:function(a){this.element.val(a)},_GetDisplayValue:function(){return this.element.val()},_updateDisplayValue:function(){this.valueUpdated?this.valueUpdated=!1:this.select._initSelection()},_setOption:function(a,c,d){if("value"===a){var e=this.select.opts.element;c||(c=[]),Array.isArray(c)||(c=[c]);for(var f=[],g=0;g<c.length;g++)(this.options.multiple||this.select.opts.validate(e,c[g]))&&f.push(c[g]);return this._super(a,f,d),void this._updateDisplayValue()}"placeholder"===a?(this.select.opts.placeholder=c||null,this.select._setPlaceholder()):"minimumResultsForSearch"===a?this.select.opts.minimumResultsForSearch=c:"multiple"===a?(this.options.multiple=c,this.refresh()):"defaultScope"===a?(c?b.isArray(c)||(c=[c]):c=["user"],this.options.defaultScope=c,this.refresh()):"optionsKeys"===a?(this.options.optionsKeys=c,this.refresh()):"options"===a&&(this.options.options=c,this.refresh()),"disabled"===a?(c?this.select._disable():this.select._enable(),this.options.disabled=!!c):"options"===a?(this.select.opts.options=c,this.select.opts=this.select._prepareOpts(this.select.opts),this._super("value",this.select.getVal())):this._super(a,c,d)},_getDropdown:function(){if(this.select&&this.select._opened()){var a=this.select.dropdown;if(a&&a.attr("data-oj-containerid")===this.select.containerId)return a}return null},_cleanup:function(){this.select._destroy(),this.select=undefined},getNodeBySubId:function(a){var c,d=null;if(null==a){var e=this.widget();return e?e[0]:null}if(this._isNative())return null;if(!(d=this._super(a))){var f=this._getDropdown();switch(c=a.subId){case"oj-select-drop":f&&(d=f[0]);break;case"oj-select-results":f&&(d=f.find(".oj-listbox-results")[0]);break;case"oj-select-search":f&&(d=f.find(".oj-listbox-search")[0]);break;case"oj-select-input":case"oj-listbox-input":!0===this.options.multiple?d=this.widget().find(".oj-listbox-input")[0]:f&&(d=f.find(".oj-listbox-input")[0]);break;case"oj-select-choice":case"oj-select-chosen":case"oj-select-arrow":d=this.widget().find("."+c)[0];break;case"oj-listitem":if(f){var g=f.find(".oj-listbox-result");d=this.select._findItem(g,a.value)}break;case"oj-select-remove":var h=this.widget().find(".oj-select-selected-choice"),i=this.select._findItem(h,a.value);d=i?b(i).find(".oj-select-clear-entry-icon")[0]:null;break;case"oj-listbox-result-label":if(f){var j=b("#"+this.select.results.attr("id")).children(),k=a.index;j.length&&k<j.length&&(d=j.eq(k).find("."+c)[0])}}}return d||null},getSubIdByNode:function(a){if(this._isNative())return this._super(a);var c=null;if(null!=a){var d=b(a);d.hasClass("oj-listbox-input")?c={subId:"oj-select-input"}:d.hasClass("oj-select-arrow")?c={subId:"oj-select-arrow"}:d.hasClass("oj-listbox-result")?c={subId:"oj-listitem",value:d.data("ojidentity").value}:d.hasClass("oj-select-clear-entry-icon")&&(c={subId:"oj-select-remove",value:d.closest(".oj-select-selected-choice").data("ojidentity").value})}return c},_GetDefaultStyleClass:function(){return"oj-select"},_GetMessagingLauncherElement:function(){return this.select?this.select.selection:this.element}};!function(a,c,d,e){if(b.widget(a,c,d),e){var f=a.split(".")[1];delete b.fn[f]}if("oj.oj"===a.substring(0,5)||"oj._oj"===a.substring(0,6))var g=a.split(".");var h,i=g[0],j=g[1],k=i+"-"+j,l="_"===j.substring(0,1);h=l?"_"+i+"-"+j.substring(3):i+"-"+j.substring(2),b.expr[":"][h.toLowerCase()]=function(a){return!!b.data(a,k)}}("oj.ojIdentity",b.oj.editableValue,r)}.apply(b,d))!==undefined&&(a.exports=e)}.apply(b,d))!==undefined&&(a.exports=e)},jquery:function(b,c){b.exports=a},"ojs/ojcore":function(a,c){a.exports=b},"ojs/ojeditablevalue":function(a,b){a.exports=c}})});
/**
 * Created by rojv on 9/23/2016.
 */

define('pcs/identityBrowser/viewModel/IdentityViewModel',['knockout', 'pcs/identityBrowser/viewModel/IdentityService','ojidentity', 'ojL10n!pcs/resources/nls/pcsSnippetsResource'], function(ko, IdentityService) {
    'use strict';

    function IdentityViewModel(params) {
        var self = this;
		var loggerUtil =  require('pcs/util/loggerUtil');

        //Set the resourcebundle
        self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');
        self.service = new IdentityService();
        //self.value = ko.observableArray([]); //ko observable array
        self.value = params.hasOwnProperty('value') ? params.value : ko.observableArray([]); //ko observable array
		self.valueSubscription = self.value.subscribe(function(value) {
            self.service.setSelectedIdentities(value);
        });
        self.multiple = params.hasOwnProperty('multiple') && ko.utils.unwrapObservable(params.multiple) === true;
        self.scope = (params.hasOwnProperty('scope') ? ko.utils.unwrapObservable(params.scope) : 'user');
        if(!self.scope){
        	self.scope = 'all';
		}
        self.placeholder = (params.hasOwnProperty('placehoderTxt') ? ko.utils.unwrapObservable(params.placehoderTxt) : self.bundle.pcs.idBrowser.placeholderTxt);
        self.idbID = (params.hasOwnProperty('idbID') ? ko.utils.unwrapObservable(params.idbID) : 'identityBrowser');
		self.selectLabel = params.hasOwnProperty('selectLabel') ? params.selectLabel : 'Select All';

		/**
		 * method to clean up everything
		 */
		self.dispose = function() {
			loggerUtil.log('dispose in IVM');
			self.valueSubscription.dispose();

			// clean up the events
		};
    }

    IdentityViewModel.prototype = {
        //set the default selected Identities
        setValue: function(value) {
            this.value(value);
        },
        getValue: function() {
            return this.service.getSelectedIdentities();
        },
        getUserIDs: function() {
            var values = this.service.getSelectedIdentities();
            return values.map(function(item) {
                return item.id;
            });
        },
        getUserTypes: function() {
            var values = this.service.getSelectedIdentities();
            return values.map(function(item) {
                return item.type;
            });
        },
        //this will return promise that will resolve to list of identities
        getIdentities: function(params) {
            return this.service.restCall(params);
        },
        getIdentityIndex: function(identities, identity) {
            if (!Array.isArray(identities)) {
                throw 'argument type in not array';
            }
            if (!identity) {
                return -1;
            }

            var arrLen = identities.length;
            var i = 0;
            var childElem = JSON.stringify(identity);

            for (; i < arrLen; i++) {
                // fastest way.
                // will fail if the object keys are unordered with comparing one
                var parentElem = JSON.stringify(identities[i]);

                if (parentElem === childElem) {
                    return i;
                }
            }
            return -1;
        }
    };

    return IdentityViewModel;

});

/**
 * Created by srayker on 05/23/2016.
 */

requirejs.config(
	{
		shim: {
			'pcs/identityBrowser/viewModel/IdentityViewModel': {
				deps: ['pcs/config/debug-config']
			}
		}
	}
);


define('pcs/identityBrowser/loader',['ojs/ojcore', 'knockout', '!text!pcs/identityBrowser/view/idBrowser.html', 'pcs/identityBrowser/viewModel/IdentityViewModel'],

    function(oj, ko, view, viewModel) {
        'use strict';
        // oj.Composite.register('pcs-idBrowser', {
        //     view: {
        //         inline: view
        //     },
        //     viewModel: {
        //         inline: viewModel
        //     },
        //     metadata: {
        //         inline: JSON.parse(metadata)
        //     }
        // });

		var loggerUtil =  require('pcs/util/loggerUtil');

        if (!ko.components.isRegistered('pcs-identity-browser')) {
            ko.components.register('pcs-identity-browser', {
                template: view,
                viewModel: {
                    createViewModel: function(params, componentInfo) {
                        return new viewModel(params, componentInfo);
                    }
                }
            });
            loggerUtil.log('pcs-idBrowser registered');
        }
    }
);

/**
 * Created by srayker on 05/23/2016.
 */




define('pcs/pcs.identitybrowser',['ojs/ojcore', 'knockout', 'jquery', 'ojL10n!pcs/resources/nls/pcsSnippetsResource',
        'ojs/ojknockout',
        'pcs/identityBrowser/loader','pcs/util/loggerUtil'
    ],

    function(oj) {
        'use strict';
		//loggerUtil.log('loaded identity browser file');
    }
);


define('text!pcs/dynamicProcess/status/view/statusView.html',[],function () { return '<div class=" oj-flex oj-sm-12">\n\t<!-- ko if: instanceId() -->\n\t<div class="oj-flex oj-sm-12" style="flex-wrap: nowrap;max-height:120px;height:120px">\n\n\t\t<div class="oj-flex-item">\n\t\t\t<section id="pcs-dp-status-containor"\n\t\t\t\t\t class="cd-horizontal-timeline oj-flex oj-sm-12 pcs-dp-font oj-md-flex-wrap-nowrap">\n\t\t\t\t<!-- Milestone start -->\n\t\t\t\t<div id="pcs-dp-mile-timeline" class="timeline" data-bind="visible:selectedView() === \'milestone\'">\n\t\t\t\t\t<div class="events-wrapper">\n\t\t\t\t\t\t<div class="events">\n\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href="#" class="timelineEvent started" ></a>\n\t\t\t\t\t\t\t\t\t<a class="milestoneTxt" data-bind="text:bundle.pcs.dp.milestone.start"></a>\n\t\t\t\t\t\t\t\t\t<a class="dateTxt" data-bind="pcsFormatDate: startDate(), datePattern:\'MMM d\'" ></a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<!-- ko foreach: completedMilestones -->\n\t\t\t\t\t\t\t\t\t<!-- ko if: ($parent.completedMilestones().length - 1) === $index()-->\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<a href="#" class="timelineEvent selected"  data-bind="click:$parent.showMilestoneInfo,attr:{id: \'pcs-mile-\'+ getActivityName().replace(\' \',\'\') + getId()}"></a>\n\t\t\t\t\t\t\t\t\t\t<a class="milestoneTxt" data-bind="text:getActivityName()"></a>\n\t\t\t\t\t\t\t\t\t\t<a class="dateTxt" data-bind="pcsFormatDate: getExecutionCompletedDate(), datePattern:\'MMM d\'"></a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t\t\t\t<!-- ko if: ($parent.completedMilestones().length - 1) !== $index()-->\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<a class="timelineEvent completed" data-bind="click:$parent.showMilestoneInfo,attr:{id: \'pcs-mile-\'+ getActivityName().replace(\' \',\'\') + getId()}"></a>\n\t\t\t\t\t\t\t\t\t\t<a class="milestoneTxt" data-bind="text:getActivityName()"></a>\n\t\t\t\t\t\t\t\t\t\t<a class="dateTxt" data-bind="pcsFormatDate: getExecutionCompletedDate(), datePattern:\'MMM d\'"></a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href="#" class="timelineEvent currentDate" ></a>\n\t\t\t\t\t\t\t\t\t<a class="milestoneTxt" data-bind="text:bundle.pcs.dp.milestone.today"></a>\n\t\t\t\t\t\t\t\t\t<a class="dateTxt" data-bind="pcsFormatDate: getCurrentDateFormatted(), datePattern:\'MMM d\'"></a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<!-- foreach: incompleteMilestones\n                                       <li><a href="#" class="timelineEvent" data-bind="text:getActivityName()"></a>\n                                       <a class="dateTxt" data-bind="pcsFormatDate: getExecutionCompletedDate(), datePattern:\'MMM d\'"></a></li>\n                                 -->\n\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t<div class="filling-line" aria-hidden="true"></div>\n\t\t\t\t\t\t</div> <!-- .events -->\n\t\t\t\t\t</div> <!-- .events-wrapper -->\n\n\t\t\t\t\t<ul class="cd-timeline-navigation">\n\t\t\t\t\t\t<li><a href="#" class="prev inactive" data-bind="click:clickPrevious, ojComponent: {\n\t\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', label: bundle.pcs.dp.milestone.previous, display: \'icons\', chroming: \'half\',\n\t\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon timeline-nxt-icon\'}\n\t\t\t\t\t\t\t\t\t}"></a></li>\n\t\t\t\t\t\t<li><a href="#" class="next" data-bind="click:clickNext, ojComponent: {\n\t\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', label: bundle.pcs.dp.milestone.next, display: \'icons\', chroming: \'half\',\n\t\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon timeline-prev-icon;\'}\n\t\t\t\t\t\t\t\t\t}"></a></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<!-- Milestone end -->\n\n\t\t\t\t<!-- Timeline start -->\n\t\t\t\t<div id="pcs-dp-timeline" class="oj-flex oj-sm-12 "\n\t\t\t\t\t data-bind=\'visible:selectedView() === "timeline", ojComponent: {component:"ojTimeline",\n\t\t\t\tanimationOnDisplay: "auto",\n\t\t\t\tminorAxis:{\n\t\t\t\t\tscale:"days",\n\t\t\t\t\tzoomOrder:["months","days","hours"],\n\t\t\t\t\tconverter:{days:daysConverter}\n\t\t\t\t},\n\t\t\t\tmajorAxis:{scale:""},\n\t\t\t\tstart:graphStartDate,\n\t\t\t\tend: graphEndDate,\n\t\t\t\tselectionMode: "single",\n\t\t\t\tseries:[{\n\t\t\t\t\tid:"s1",\n\t\t\t\t\temptyText:"No Milestones met.",\n\t\t\t\t\titems:completedTimeEvents(),\n\t\t\t\t}],\n\t\t\t\toverview:{\n\t\t\t\t\trendered:"off"\n\t\t\t\t},\n\t\t\t\tstyleDefaults:{\n\t\t\t\t\tborderColor:"none",\n\t\t\t\t\titem:{\n\t\t\t\t\t\tbackgroundColor:"#f9fdff",\n\t\t\t\t\t\tborderColor:"#dcf1ff",\n\t\t\t\t\t\thoverBackgroundColor:"white",\n\t\t\t\t\t\tselectedBorderColor:"#ed813e"\n\t\t\t\t\t},\n\t\t\t\t\tmajorAxis:{separatorColor:"none"},\n\t\t\t\t\tminorAxis:{\n\t\t\t\t\t\tbackgroundColor:"white"},\n\t\t\t\t\tseries:{\n\t\t\t\t\t\tbackgroundColor:"white"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\'\n\t\t\t\t\t style="width:100%;height: 120px"></div>\n\t\t\t\t<!-- Timeline end -->\n\n\t\t\t\t<!-- Stage start -->\n\t\t\t\t<div class="pcs-stage-container oj-flex oj-sm-12  oj-sm-justify-content-center oj-sm-align-items-center" data-bind="visible:selectedView() === \'stage\'">\n\t\t\t\t\t<!-- ko foreach: stages -->\n\t\t\t\t\t<div class="pcs-stage-tablet" data-bind="click:$parent.onStageUIClick, text:label, css:css, attr:{title:title, id:id}">\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- /ko -->\n\t\t\t\t</div>\n\t\t\t\t<!-- Stage end -->\n\t\t\t</section>\n\t\t</div>\n\t\t<div class="oj-flex-item" style="min-width:30px;max-width:30px">\n\t\t\t<div class="oj-flex oj-sm-12" style="margin-top:10px">\n\t\t\t\t<div id="pcs-milestone-view-switch" class="oj-flex oj-sm-12 pcs-milestone-view-switch"\n\t\t\t\t\t data-bind="ojComponent: {component: \'ojButtonset\', checked: selectedView,\n\t\t\t\t\t\t\t\t\t  optionChange: onViewClick,\n\t\t\t\t\t\t\t\t\t  rootAttributes:{class:\'oj-flex oj-sm-12\'}},\n\t\t\t\t\t\t\t\tattr:{\'aria-label\':bundle.pcs.dp.milestone.chooseView}">\n\t\t\t\t\t<!-- ko foreach: views() -->\n\t\t\t\t\t\t<!-- ko if: isVisible && !isEmpty() -->\n\t\t\t\t\t\t<label class="oj-flex oj-sm-12" data-bind="attr: {for: id}" ></label>\n\t\t\t\t\t\t<input class="oj-flex oj-sm-12" type="radio" name=\'views\' data-bind="value: id, attr: {id: id},\n\t\t\t\t\t\t\t\t\t  ojComponent: {\n\t\t\t\t\t\t\t\t\t  component: \'ojButton\', label: label,\n\t\t\t\t\t\t\t\t\t  display: \'icons\',\n\t\t\t\t\t\t\t\t\t  icons: {start: classes},\n\t\t\t\t\t\t\t\t\t  chroming: \'half\',\n\t\t\t\t\t\t\t\t\t  rootAttributes:{style:\'border:1px;outline:none\'}}"/>\n\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t<!-- /ko -->\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\n\t<div class="oj-form-layout pcs-dp-display-none" id="pcs-dp-status-error">\n\t\t<span style="margin:20px; color:red" data-bind="text: bundle.pcs.dp.common.errGettingInstanceDetailsMsg" ></span>\n\t</div>\n\t<!-- /ko -->\n</div>\n<!-- ko ifnot: instanceId() -->\n<div style="color:red" data-bind="text:bundle.pcs.dp.common.instanceIdMissingMsg"></div>\n<!-- /ko -->\n<div id="pcs-milestone-popup" class="pcs-milestone-popup" data-bind="ojComponent:{component: \'ojPopup\', modality:\'modeless\', tail:\'simple\'}">\n\t<div class="oj-flex oj-sm-flex-items-initial oj-sm-justify-content-center">\n\t\t<!-- ko if: popupData() -->\n\t\t<div class="oj-flex-item oj-sm-12">\n\t\t\t<div> <span class="pcs-milestone-popup-label" data-bind="text:bundle.pcs.dp.milestone.activityLbl"></span>  <span data-bind="text: popupData().getActivityName()"></span></div>\n\t\t</div>\n\t\t<!-- ko if: popupData().getActivityDescription() -->\n\t\t<div class="oj-flex-item oj-sm-12 marginTop10" >\n\t\t\t<div><span class="pcs-milestone-popup-label" data-bind="text:bundle.pcs.dp.milestone.descriptionLbl"></span><span data-bind="text: popupData().getActivityDescription()"></span></div>\n\t\t</div>\n\t\t<!-- /ko -->\n\t\t<div class="oj-flex-item oj-sm-12 marginTop10" >\n\t\t\t<div><span class="pcs-milestone-popup-label" data-bind="text:bundle.pcs.dp.milestone.completedOnLbl"></span><span  data-bind="text: popupData().getExecutionCompletedDateFormatted()"></span></div>\n\t\t</div>\n\t\t<div class="oj-flex-item oj-sm-12 marginTop10" >\n\t\t\t<div><span class="pcs-milestone-popup-label" data-bind="text:bundle.pcs.dp.milestone.durationLbl"></span><span data-bind="text: popupData().getDuration()"></span></div>\n\t\t</div>\n\t\t<!-- /ko -->\n\t</div>\n</div>\n<div id="pcs-stage-popup" class="pcs-stage-popup" data-bind="ojComponent:{component: \'ojPopup\', modality:\'modeless\', tail:\'simple\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trootAttributes:{class:\'pcs-stage-popup\'}}">\n\t<div class="oj-flex oj-sm-flex-items-initial oj-sm-justify-content-center">\n\t\t<!-- ko if: stagePopupData() -->\n\t\t\t<div data-bind="template:{name:stagePopupTemplate, data: stagePopupData()}"></div>\n\t\t<!-- /ko -->\n\t</div>\n</div>\n<script id="stageData" type="text/html">\n\t<div class="oj-flex-item oj-sm-12">\n\t\t<div class="pcs-stage-popup-header" data-bind="text:$parent.bundle.pcs.dp.milestone.activitiesLbl"></div>\n\t\t<div class="pcs-dp-line"></div>\n\t</div>\n\t<div class="oj-flex-item oj-sm-12 pcs-stage-popup-lineItem" >\n\t\t<div>\n\t\t\t<span class="pcs-stage-availableTxt " data-bind="text: $data.available"></span>\n\t\t\t<span class="pcs-milestone-popup-label" data-bind="text:$parent.bundle.pcs.dp.milestone.availableLbl"></span>\n\t\t</div>\n\t</div>\n\t<div class="oj-flex-item oj-sm-12 pcs-stage-popup-lineItem" >\n\t\t<div>\n\t\t\t<span class="pcs-stage-activeTxt " data-bind="text:  $data.active"></span>\n\t\t\t<span class="pcs-milestone-popup-label" data-bind="text:$parent.bundle.pcs.dp.milestone.activeLbl"></span>\n\t\t</div>\n\t</div>\n\t<div class="oj-flex-item oj-sm-12 pcs-stage-popup-lineItem" style="margin-bottom: 10px">\n\t\t<div>\n\t\t\t<span class="pcs-stage-completedTxt" data-bind="text: $data.completed"></span>\n\t\t\t<span class="pcs-milestone-popup-label" data-bind="text:$parent.bundle.pcs.dp.milestone.completedLbl"></span>\n\t\t</div>\n\t</div>\n</script>\n\n<script id="stageAvailable" type="text/html">\n\t<div class="pcs-stage-notStarted" data-bind="text: $parent.bundle.pcs.dp.milestone.stageNotStarted"></div>\n</script>\n\n<script id="stageCompleted" type="text/html">\n\t<div class="pcs-stage-notStarted" data-bind="text: $data.completedOn"></div>\n\t<div class="pcs-dp-line"></div>\n\t<div data-bind="template:{name:\'stageData\'}"></div>\n</script>\n\n';});

/**
 * Created by nisabhar on 11/7/17.
 */

define('pcs/util/dateUtil',['knockout', 'ojs/ojcore', 'jquery','ojs/ojdatetimepicker'], function(ko, oj, $) {
	'use strict';


	/**
	 * ,method to convert time in string
	 * @param millisecs
	 * @returns {string}
	 */
	var _getTimeDurationTxt = function (millisecs) {

		if (!millisecs){
			return '';
		}

		var durationTxt = '';
		// get total seconds between the times
		var delta = Math.abs(millisecs) / 1000;

		// calculate (and subtract) whole days
		var days = Math.floor(delta / 86400);
		delta -= days * 86400;
		durationTxt = days > 0 ? durationTxt + days + 'd ' : durationTxt;

		// calculate (and subtract) whole hours
		var hours = Math.floor(delta / 3600) % 24;
		delta -= hours * 3600;
		durationTxt = hours > 0 ? durationTxt + hours + 'h ' : durationTxt;

		// calculate (and subtract) whole minutes
		var minutes = Math.floor(delta / 60) % 60;
		delta -= minutes * 60;
		durationTxt = minutes > 0 ? durationTxt + minutes + 'm' : durationTxt;

		if (durationTxt === ''){
			var seconds = Math.floor(delta);
			durationTxt = seconds + 's';
		}

		return durationTxt;
	};

	/**
	 * Convert the given utc date to user timezone
	 * @param utcDate
	 */
	var _getDateInUserTimezone = function(utcDate){
		if(!utcDate){
			return null;
		}

		var date;
		if (typeof utcDate === 'string' || typeof utcDate === 'number'){
			//string format or longTime format
			date = new Date(utcDate)
		}else if(utcDate instanceof Date){
			date = utcDate;
		}else{
			return utcDate;
		}

		var convertedDate = oj.IntlConverterUtils.dateToLocalIso(date);

		return convertedDate;
	};


	/**
	 * convert the requested date in the given pattern, do not change the timezone
	 * @param requestedDate
	 * @param datePattern
	 * @returns {string}
	 */
	var _getFormattedDate =  function (requestedDate, datePattern) {
		if(!requestedDate || requestedDate === ''){
			return '';
		}
		var pattern = datePattern ? datePattern : 'MMM dd yyyy, hh:mm a';
		var dateOptions = {
			pattern: pattern
		};
		var dateConverter = oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter(dateOptions);

		return dateConverter.format(requestedDate);
	};


	/**
	* method to convert
	* @param userDate
	* @returns {Date}
	*/
	var _getDateStingInUTCTimezone= function(userDate){

		var date;
		if (typeof userDate === 'string' || typeof userDate === 'number'){
			//string format or longTime format
			date = new Date(userDate)
		}else if(userDate instanceof Date){
			date = userDate;
		}else{
			return userDate.toString();
		}

		date =date.toISOString();

		return date;
	};


	/**
	 * custom handlers to convert date pattern
	 * @type {{update: update}}
	 */
	ko.bindingHandlers.pcsFormatDate = {
		update: function(element, valueAccessor, allBindings) {
			var valueUnwrapped = ko.unwrap(valueAccessor());

			if (!valueUnwrapped) {
				return;
			}

			var formattedValue = _getFormattedDate (valueUnwrapped, allBindings().datePattern);

			ko.bindingHandlers.text.update(element, function() {
				return formattedValue;
			});
		}
	};


	return {

		getTimeDurationTxt : _getTimeDurationTxt,

		getDateInUserTimezone: _getDateInUserTimezone,

		getFormattedDate : _getFormattedDate,

		getDateStingInUTCTimezone: _getDateStingInUTCTimezone
	};
});

/**
 * Created by nisabhar on 1/4/2017.
 */

define('pcs/dynamicProcess/model/DpInstance',['ojs/ojcore','pcs/util/pcsUtil', 'pcs/util/dateUtil'], function(oj,pcsUtil,dateUtil) {
    'use strict';
    return function(data) {
    	var self = this;
		//Set the resourcebundle
		self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

        //set state displayName
        if (data.state === 'ACTIVE') {
            data.stateDisplayName = self.bundle.pcs.dp.common.active;
            data.stateIconClass = 'pcs-dp-list-state-active';
        } else if (data.state === 'COMPLETED') {
            data.stateDisplayName = self.bundle.pcs.dp.common.completed;
			data.stateIconClass = 'pcs-dp-list-state-completed';
        } else if (data.state === 'TERMINATED') {
            data.stateDisplayName = self.bundle.pcs.dp.common.terminated;
			data.stateIconClass = 'pcs-dp-list-state-terminated';
        } else if (data.state === 'CLOSED') {
            data.stateDisplayName = self.bundle.pcs.dp.common.closed;
			data.stateIconClass = 'pcs-dp-list-state-closed';
        }


        //set initials and color
		var appName;
        if (data.processName) {
			appName = data.processName;

        } else {
			appName = data.processDefinitionId;
        }
		data.initials = pcsUtil.taskInitials(appName);
		data.colorCode = pcsUtil.taskIconColor(appName);

        //Create actionsList
        var availableActions = data.availableActions;
        var actionsList = [];
        if (availableActions) {
            availableActions.forEach(function(item, index) {
                var actionDisplayName = item;
                if (item === 'close') {
                    actionDisplayName = self.bundle.pcs.dp.common.close;
                } else if (item === 'complete') {
                    actionDisplayName = self.bundle.pcs.dp.common.complete;
                }
                var action = {
                    actionDisplayName: actionDisplayName,
                    action: item,
                    id: data.id,
                    title: data.title
                };
                actionsList.push(action);
            });
        }
        data.actionsList = actionsList;

        //stor the server dates
		data.serverCloseTime = data.closeTime;
		data.serverCreateTime = data.createTime;

		//convert dates into local timezone
		data.closeTime = dateUtil.getDateInUserTimezone(data.serverCloseTime);
		data.createTime =  dateUtil.getDateInUserTimezone(data.serverCreateTime);


		//set date specific variables
		data.duration = dateUtil.getTimeDurationTxt(data.durationInMillis);
		data.closeTimeFormatted = dateUtil.getFormattedDate(data.closeTime);
		data.createTimeFormatted = dateUtil.getFormattedDate(data.createTime);


		// for long instance desciption
        data.longText = '';
		if (data.userId) {
			data.longText = self.bundle.pcs.dp.common.instMsgWithUserId.replace('{id}', data.id).replace('{processName}', data.processName).replace('{userId}', data.userId).replace('{createTimeFormatted}', data.createTimeFormatted);
		} else {
			data.longText = self.bundle.pcs.dp.common.instMsgNoUserId.replace('{id}', data.id).replace('{processName}', data.processName).replace('{createTimeFormatted}', data.createTimeFormatted);

		}


        return {
            data: data,
            toString: function() {
                return data.title + data.description + data.id + data.longText;
            },
			getLongText : function (){
				return data.longText;
			},
            getTitle: function() {
                return data.title;
            },
            getNumber: function() {
                return data.id;
            },
			getId: function() {
				return data.id;
			},
            getDescription: function() {
                return data.description;
            },
			getProcessName: function(){
				return data.processName;
			},
			getUpdatedBy: function() {
                return data.userId;
            },
            getProcessDefinitionId: function() {
                return data.processDefinitionId;
            },
            getInstanceCreatedDate: function() {
                return data.createTime;
            },
            getInstanceCompletedDate: function() {
                return data.closeTime;
            },
			getInstanceCreatedDateFormatted: function() {
				return data.createTimeFormatted;
			},
			getInstanceCompletedDateFormatted: function() {
				return data.closeTimeFormatted;
			},
            getTotalTime: function() {
                return data.durationInMillis;
            },
			getDuration: function() {
				return data.duration;
			},
			getFormMetadataURL: function() {
                return data.formMetadataURL;
            },

            getFormName: function() {
                return data.formName;
            },

            getAvailableActions: function() {
                return data.actionsList;
            },
			getPermissionsList: function() {
				return data.availablePermissions;
			},
            // Dummy
            getApplication: function() {
                return data.processDefinitionId;
            },
            getInitials: function() {
                return data.initials;
            },
            getState: function() {
                return data.state;
            },
            getStateDisplayName: function() {
                return data.stateDisplayName;
            },
            getColorCode: function() {
                return data.colorCode;
            },
			getStateIconClass : function(){
				return data.stateIconClass;
			}
        };
    };
});

/**
 * Created by nisabhar on 1/18/2017.
 */


define('pcs/dynamicProcess/model/DpExecution',['ojs/ojcore','pcs/util/pcsUtil', 'pcs/util/dateUtil'], function(oj,pcsUtil,dateUtil) {
    'use strict';
    return function(data) {

    	var self = this;
		//Set the resourcebundle
		self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

        // if(data.activityType === 'stage'){
		// 	data.activityType = 'pcsprocess';
		// }

        //Set Icon Class
        var activityType = data.activityType.toLowerCase();
        if (activityType === 'humanTask'.toLowerCase() || activityType === 'task' || activityType === 'pcsTask'.toLowerCase()) {
            data.iconClass = 'pcs-dp-act-humantask-icon';
            data.activityTypeDisplayName = 'Human task' ;
        } else if (activityType === 'processTask'.toLowerCase() || activityType === 'process' || activityType === 'pcsProcess'.toLowerCase()) {
            data.iconClass = 'pcs-dp-act-process-icon';
			data.activityTypeDisplayName = 'Process' ;
        } else if (activityType === 'caseTask'.toLowerCase()) {
            data.iconClass = 'pcs-dp-act-case-icon';
			data.activityTypeDisplayName = 'Case' ;
        } else if (activityType === 'stage') {
            data.iconClass = 'pcs-dp-act-stage-icon';
			data.activityTypeDisplayName = 'Stage' ;
        } else if (activityType === 'milestone') {
            data.iconClass = 'pcs-dp-act-milestone-icon';
			data.activityTypeDisplayName = 'Milestone' ;
        }

        // Set displayName for State
        var state = data.state;
        if (state === 'ACTIVE') {
            data.stateDisplayName = self.bundle.pcs.dp.common.running;
			data.statusIconClass = '';
			data.statusBarClass= 'pcs-dp-hist-state-running';
			data.weightage = 2;
        } else if (state === 'COMPLETED') {
            data.stateDisplayName = self.bundle.pcs.dp.common.completed;
            data.statusIconClass = 'pcs-dp-act-completed-icon';
			data.statusBarClass= 'pcs-dp-hist-state-completed';
			data.weightage = 3;
        } else if (state === 'AVAILABLE') {
            data.stateDisplayName = self.bundle.pcs.dp.common.available;
			data.statusIconClass = '';
			data.statusBarClass= 'pcs-dp-hist-state-available';
			data.weightage = 1;
        } else if (state === 'ENABLED') {
            data.stateDisplayName = self.bundle.pcs.dp.common.enabled;
			data.statusIconClass = '';
			data.statusBarClass= 'pcs-dp-hist-state-available';
			data.weightage = 1;
        } else if (state === 'DISABLED') {
            data.stateDisplayName = self.bundle.pcs.dp.common.disabled;
			data.statusIconClass = '';
			data.statusBarClass= 'pcs-dp-hist-state-available';
			data.weightage = 1;
        } else if (state === 'TERMINATED') {
            data.stateDisplayName = self.bundle.pcs.dp.common.terminated;
			data.statusIconClass = 'pcs-dp-act-terminated-icon';
			data.statusBarClass= 'pcs-dp-hist-state-completed';
			data.weightage = 3;
        } else if (state === 'FAILED') {
            data.stateDisplayName = self.bundle.pcs.dp.common.failed;
			data.statusIconClass = 'pcs-dp-act-failed-icon';
			data.statusBarClass= 'pcs-dp-hist-state-running';
			data.weightage = 2;
        } else {
            data.stateDisplayName = state;
			data.weightage = 0;
        }

		//Set history drill down boolean
		var drillDown = false;
		if (data.state === 'ACTIVE' || data.state === 'COMPLETED' || data.state === 'TERMINATED') {
			activityType = data.activityType.toLowerCase();
			if (activityType !== 'stage' && activityType !== 'milestone') {
				drillDown = true;
			}
		}
		data.showHistoryDrillDown = drillDown;

        //Create actionsList
        var availableActions = data.availableActions;
        var actionsList = [];
		if(data.showHistoryDrillDown){
			var action = {
				//NOTE : Do not forget to add in actiitYView, in action dropdown
				actionDisplayName: 'Open',
				action: 'drilldown',
				executionId: data.executionId,
				activityName: data.activityName,
				activityId : data.activityId,
				activityType : data.activityType
			};
			actionsList.push(action);
		}
        if (availableActions) {
            availableActions.forEach(function(item, index) {
                var actionDisplayName = item;
                if (item === 'manual-start') {
                    actionDisplayName = self.bundle.pcs.dp.common.start;
                } else if (item === 'disable') {
                    actionDisplayName = self.bundle.pcs.dp.common.disableTxt;
                } else if (item === 'reenable') {
                    actionDisplayName = self.bundle.pcs.dp.common.enableTxt;
                } else if (item === 'complete') {
                    actionDisplayName = self.bundle.pcs.dp.common.forceComplete;
                } else if (item === 'reactivate') {
                    actionDisplayName = self.bundle.pcs.dp.common.retry;
                }
                var action = {
                	//NOTE : Do not forget to add in actiitYView, in action dropdown
                    actionDisplayName: actionDisplayName,
                    action: item,
                    executionId: data.executionId,
                    activityName: data.activityName,
					activityId : data.activityId,
					activityType : data.activityType
                };
                actionsList.push(action);
            });
        }

        data.actionsList = actionsList;


		//stor the server dates
		data.serverEndTime = data.endTime;
		data.serverCreateTime = data.createTime;

		//convert dates into local timezone
		data.endTime = dateUtil.getDateInUserTimezone(data.serverEndTime);
		data.createTime =  dateUtil.getDateInUserTimezone(data.serverCreateTime);


        //set date specific variables
        data.duration = dateUtil.getTimeDurationTxt(data.durationInMillis);
        data.endTimeFormatted = dateUtil.getFormattedDate(data.endTime);
        data.createTimeFormatted = dateUtil.getFormattedDate(data.createTime);


		if (data.state === 'ACTIVE' || data.state === 'FAILED') {
			data.infoText = 'Started on ' +  data.createTimeFormatted;
		}else if(data.state === 'AVAILABLE' || data.state === 'ENABLED' || data.state === 'DISABLED'){
			data.infoText = 'Available for starting';
		}

        return {
            data: data,
            toString: function() {
                return data.activityName + data.stageName; //+ data.activityDescription;
            },
            getId: function() {
                return data.id;
            },
			getParentProcessActivityInstanceId: function() {
				return data.parentProcessActivityInstanceId;
			},
			getActivityId: function() {
				return data.activityId;
			},
			getActivityName: function() {
				return data.activityName;
			},
            getActivityDescription: function() {
                return ''; //data.activityDescription;
            },
			getActivityType: function() {
				return data.activityType;
			},
			getActivityTypeDisplayName: function() {
				return data.activityTypeDisplayName;
			},
            getProcessDefinitionId: function() {
                return data.processDefinitionId;
            },
            getProcessInstanceId: function() {
                return data.processInstanceId;
            },
			getExecutionId: function() {
				return data.executionId;
			},
            getUserId: function() {
                return data.userId === '' || data.userId === null ? '' : data.userId;
            },
			getInfoText : function(){
				return data.infoText;
			},

            //Dates
            getExecutionCreatedDate: function() {
                return data.createTime;
            },
			getExecutionCompletedDate: function() {
                return data.endTime;
            },
			getExecutionCreatedDateFormatted: function() {
				return data.createTimeFormatted;
			},
			getExecutionCompletedDateFormatted: function() {
				return data.endTimeFormatted;
			},
            getTotalTime: function() {
                return data.durationInMillis;
            },
            getDuration: function() {
                return data.duration;
            },

            getDisplayState: function() {
                var suffix = '';
                var retVal;
                if (this.getExecutionCompletedDate().length > 0) {
                    suffix = ': ';
                }
                retVal = data.stateDisplayName;
                return retVal + suffix;
            },

            getAvailableActions: function() {
                return data.actionsList;
            },
            isRequired: function() {
                return data.required;
            },
            getState: function() {
                return data.state;
            },
			getStatusIconClass : function (){
				return data.statusIconClass ;
			},
			getStateDisplayName :function (){
				return data.stateDisplayName;
			},
            getWeightage: function() {
                return data.weightage;
            },
            // local variables
            getIconClass: function() {
                return data.iconClass;
            },
			getStatusBarClass : function(){
				return data.statusBarClass;
			},
            showHistoryDrillDown: function() {
                return data.showHistoryDrillDown;
            },
            getRunningInfoText: function() {
                return '';
            },
			setStageName: function(stageName){
				data.stageName = stageName;
			},
			getStageName: function(){
				return data.stageName;
			}
        };
    };
});

/**
 * Created by nisabhar on 1/11/2017.
 */

define('pcs/dynamicProcess/services/DPDetailService',['jquery','pcs/data-services/DataServices','pcs/dynamicProcess/model/DpInstance','pcs/dynamicProcess/model/DpExecution' ],
	function($,DataServices, Instance,Execution ) {

		'use strict';
		var resourceUrlConfig = {
				//Instance
				'instance': '/dp-instances/',
				'variableList': '/dp-instances/{id}/variables',
				'variableData': '/dp-instances/{id}/variables/{variableName}',
				'instanceAction': '/dp-instances/{instanceId}',

				//execution
				'executionList': '/dp-executions',
				'executionAction': '/dp-executions/{executionId}',

				//engine
				'processDefinition': '/dp-definitions/{processDefinitionId}',

				//pcs
				'pcsTask': '/tasks/dynamic-process/{executionId}',
				'pcsProcessInstance': '/processes/dynamic-process/{executionId}'
			},

			dataServices = DataServices.getInstance();

		//making it a singleton
		var instance;
		var loggerUtil =  require('pcs/util/loggerUtil');

		function CreateInstance(options) {

			var self = this;
			//Set the resourcebundle
			self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

			var _state = {
				//for the instanceId vvariable
				instanceVariables : {},
				instanceVariableData : {}
			};

			_state.options = options;

			var replacePlaceHolders = function(str, paramsObj) {
				return str.replace(/{\w+}/g,
					function(placeHolder) {
						return paramsObj[placeHolder];
					}
				);
			};


			//Create the error response object with custom error messages
			function createActionErrorResponse(error) {
				var shortMsg, longMsg;
				switch (error.status) {
					case 204:
						shortMsg = self.bundle.pcs.dp.common.ErrMsg204;
						break;
					case 400:
						shortMsg = self.bundle.pcs.dp.common.ErrMsg400;
						break;
					case 403:
						var errmsg = error.responseJSON.message;
						longMsg = errmsg.substring(errmsg.indexOf('Reason:'), errmsg.length);
						shortMsg = self.bundle.pcs.dp.common.ErrMsg403;
						break;
					case 404:
						if(error.responseJSON && error.responseJSON.type && error.responseJSON.type === 'InvalidRequestException'){
							longMsg = self.bundle.pcs.dp.common.ERROR_INVALID_STATE;
						}
						shortMsg = self.bundle.pcs.dp.common.ErrMsg404;
						break;
					case 500:
						longMsg = error.responseJSON.message;
						shortMsg = self.bundle.pcs.dp.common.ErrMsg500;
						break;
					case 0:
						shortMsg = self.bundle.pcs.dp.common.ErrMsg0;
						break;
				}
				return {
					'code': error.status,
					'shortMsg': shortMsg,
					'longMsg': longMsg
				};
			}

			return {
				// get the instance item object
				fetchInstanceItem: function(refresh, id) {
					var url = resourceUrlConfig.instance + id;
					var promise = $.Deferred();

					if (!refresh) {
						promise.resolve(_state.instance);
						return promise;
					}
					var options = {};
					dataServices.get(url, options, 'dp').done(function(data) {

						var instance = new Instance(data);
						//put it in cache
						_state.instance = instance;
						promise.resolve(instance);
					}).fail(function(error) {
						promise.reject(error);
					});
					return promise;
				},

				//get the activities list
				fetchExecutionList: function(refresh, params) {
					var url = resourceUrlConfig.executionList;
					var promise = $.Deferred();

					if (!refresh) {
						promise.resolve(_state.executionList);
						return promise;
					}

					var options = {
						queryParams: params
					};
					dataServices.get(url, options, 'dp').done(function(data) {

						var stages = {};
						var executionList = data.items.map(function(item) {
							if(item.activityType === 'stage'){
								stages[item.executionId] = item.activityName;
							}
							return new Execution(item);
						});

						//Add stage name to the activities
						executionList.map(function(item){
							//Get the stageName based on parent id or self executionId
							var stageName = stages[item.getParentProcessActivityInstanceId()] ? stages[item.getParentProcessActivityInstanceId()] : stages[item.getExecutionId()];
							if(stageName){
								item.setStageName(stageName);
							} else {
								item.setStageName('');
							}
						});

						//put it in cache
						_state.executionList = executionList;
						promise.resolve(executionList);
					}).fail(function(error) {
						promise.reject(error);
					});
					return promise;
				},
				sortExecutionList: function(activities, sortByKey, srtOrder) {
					var promise = $.Deferred();
					var list = activities;

					if (list === undefined) {
						return promise.resolve([]);
					}

					var key;
					if (sortByKey === 'duration') {
						key = 'durationInMillis';
					} else {
						key = sortByKey;
					}

					function sortFunction(a, b) {
						var dir = srtOrder === 'asc' ? -1 : 1;
						if (a.data[key] < b.data[key]) {
							return dir;
						}
						if (a.data[key] > b.data[key]) {
							return -1 * dir;
						}
						return 0;
					}

					list.sort(sortFunction);

					// list.forEach(function(item,index){
					// 	loggerUtil.log(item.data.activityName);
					// });

					promise.resolve(list);
					return promise;
				},

				//Do a client search search of the execution list
				searchExecutionList: function(searchText) {
					var promise = $.Deferred();
					var list = _state.executionList;

					if (list === undefined) {
						return promise.resolve([]);
					}
					var prunedList = [];

					$.each(list, function(index, value) {
						if (value.toString().toLowerCase().indexOf(searchText.toLowerCase()) !== -1) {
							prunedList.push(value);
						}
					});
					promise.resolve(prunedList);
					return promise;
				},

				// fetch all instance variables
				fetchInstanceVariables:function(refresh,params){
					var url = resourceUrlConfig.variableList;
					url = replacePlaceHolders(url, params);

					var instanceId = params['{id}'];

					var promise = $.Deferred();

					if (!refresh &&  _state.instanceVariables[instanceId]) {
						promise.resolve(_state.instanceVariables[instanceId]);
						return promise;
					}

					var options = {

					};
					dataServices.get(url, options, 'dp').done(function(data) {
						//put it in cache
						_state.instanceVariables[instanceId] = data.items;

						promise.resolve(data.items);

					}).fail(function(error) {
						promise.reject(error);
					});
					return promise;
				},

				getInstanceVariableData: function(refresh, params) {
					var url = resourceUrlConfig.variableData;
					url = replacePlaceHolders(url, params);

					var instanceId = params['{id}'];
					var variableName = params['{variableName}'];

					var promise = $.Deferred();

					if (!refresh && _state.instanceVariableData[instanceId] && _state.instanceVariableData[instanceId][variableName]) {
						promise.resolve(_state.instanceVariableData[instanceId][variableName]);
						return promise;
					}

					var options = {
						dataType : 'text'
					};

					dataServices.get(url, options, 'dp').done(function(data) {
						//put it in cache
						if (!_state.instanceVariableData[instanceId]) {
							_state.instanceVariableData[instanceId] = {};
						}
						_state.instanceVariableData[instanceId][variableName] = data;

						promise.resolve(data);
					}).fail(function(error) {

						promise.reject(error);
					});
					return promise;
				},

				performActivityAction: function(params, payload) {
					var promise = $.Deferred();

					var url = resourceUrlConfig.executionAction;
					url = replacePlaceHolders(url, params);

					var options = {
						contentType: 'application/json',
						payload: payload
					};
					dataServices.put(url, options, 'dp').done(function(data) {
						promise.resolve(data);
					}).fail(function(error) {
						promise.reject(createActionErrorResponse(error));
					});

					return promise;
				},
				performInstanceAction: function(params, payload) {
					var promise = $.Deferred();

					var url = resourceUrlConfig.instanceAction;
					url = replacePlaceHolders(url, params);

					var options = {
						contentType: 'application/json',
						payload: payload
					};
					dataServices.put(url, options, 'dp').done(function(data) {
						promise.resolve(data);
					}).fail(function(error) {
						promise.reject(createActionErrorResponse(error));
					});

					return promise;
				},
				fetchAssociatedTask: function(params) {
					var promise = $.Deferred();
					var url = resourceUrlConfig.pcsTask;
					url = replacePlaceHolders(url, params);

					var executionId = params['{executionId}'];

					if (_state.associatedTask && _state.associatedTask[executionId]) {
						promise.resolve(_state.associatedTask[executionId]);
						return promise;
					}

					var options = {
						contentType: 'application/json'
					};
					dataServices.get(url, options).done(function(data) {
						if (_state.associatedTask === undefined) {
							_state.associatedTask = {};
						}
						_state.associatedTask[executionId] = data.number;

						promise.resolve(data.number);
					}).fail(function(error) {
						//promise.resolve(200385);
					   promise.reject(error);
					});

					return promise;
				},
				fetchAssociatedProcess: function(params) {
					var promise = $.Deferred();
					var url = resourceUrlConfig.pcsProcessInstance;
					url = replacePlaceHolders(url, params);

					var executionId = params['{executionId}'];

					if (_state.associatedProcess && _state.associatedProcess[executionId]) {
						promise.resolve(_state.associatedProcess[executionId]);
						return promise;
					}

					var options = {
						contentType: 'application/json'
					};
					dataServices.get(url, options, '4.0').done(function(data) {
						if (_state.associatedProcess === undefined) {
							_state.associatedProcess = {};
						}
						_state.associatedProcess[executionId] = data.processId;
						promise.resolve(data.processId);
					}).fail(function(error) {

						// promise.resolve(200307);
						promise.reject(error);
					});

					return promise;
				},
				fetchProcessDefinition: function(refresh, params) {

					var url = resourceUrlConfig.processDefinition;
					url = replacePlaceHolders(url, params);

					var processDefId = params['{processDefinitionId}'];
					var promise = $.Deferred();

					if (!refresh && _state.processDefinition && _state.processDefinition[processDefId]) {
						promise.resolve(_state.processDefinition[processDefId]);
						return promise;
					}

					var options = {};
					dataServices.get(url, options, 'dp').done(function(data) {

						if (_state.processDefinition === undefined) {
							_state.processDefinition = {};
						}
						_state.processDefinition[processDefId] = data;
						promise.resolve(data);
					}).fail(function(error) {
						promise.reject(error);
					});
					return promise;

				}
			};

		}

		return {
			getInstance: function(options) {
				if (!instance) {
					instance = new CreateInstance(options);
				}
				return instance;
			}
		};

});

/**
 * Created by nisabhar on 11/17/2016.
 */


define('pcs/dynamicProcess/status/viewModel/statusVM',['ojs/ojcore', 'knockout', 'jquery', 'pcs/dynamicProcess/services/DPDetailService', 'pcs/util/dateUtil', 'ojs/ojknockout', 'promise', 'ojs/ojpopup', 'ojs/ojtimeline',
		'ojL10n!pcs/resources/nls/pcsSnippetsResource'],
    function(oj, ko, $, InstanceDetail, dateUtil) {
        'use strict';

        return function(params, componentInfo) {
            var self = this,
                service, timelineComponents, timelineTotWidth;

			var loggerUtil =  require('pcs/util/loggerUtil');

            var element = componentInfo.element;
            self.properties = params;

            var eventsMinDistance = 40;
            var minDistanceFactor = 4;

            self.selectedView = ko.observable('milestone');
            self.instanceId = ko.observable();
            self.startDate = ko.observable();
            self.popupData = ko.observable();
            self.stagePopupData = ko.observable();
            self.graphStartDate = ko.observable();
            self.graphEndDate = ko.observable();
            self.isMilestoneVisible = ko.observable(true);
            self.isStageVisible = ko.observable(true);
            self.isTimelineVisible = ko.observable(false);


            // List of actvities for this  instance
            self.completedMilestones = ko.observableArray([]);
            self.completedTimeEvents = ko.observableArray([]);
            self.incompleteMilestones = ko.observableArray([]);
            self.stages = ko.observableArray([]);

			self.views = ko.observableArray([{
					id: 'milestone',
					label: 'Milestone',
					classes: 'dp-milestone-icon',
					isVisible: self.isMilestoneVisible(),
					isEmpty : ko.observable(false)
				},
				{
					id: 'stage',
					label: 'Stage',
					classes: 'dp-stages-icon',
					isVisible: self.isStageVisible(),
					isEmpty : ko.observable(false)
				},
				{
					id: 'timeline',
					label: 'Milestone-Timeline',
					classes: 'dp-timeline-icon',
					isVisible: self.isTimelineVisible(),
					isEmpty : ko.observable(false)
				}
			]);



            //attribute to hold if the component is standalone or used inside details
            self.isConsumed = ko.observable(false);

            //Set the resourcebundle
            self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

            // The props field on context is a Promise. Once that resolves,
            // we can access the properties that were defined in the composite metadata
            // and were initially set on the composite DOM element
            // context.props.then(function(properties) {
            //     self.properties = properties;
            //     self.initContex();
            // });

            self.initContext = function() {
                service = InstanceDetail.getInstance();

                if (self.properties.instanceid === undefined) {
                    return;
                }

                // check if instanceId is observable or plain variables
                if (ko.isObservable(self.properties.instanceid)) {
                    self.instanceId(self.properties.instanceid());
                } else {
                    self.instanceId(self.properties.instanceid);
                }

                //check if instanceId is passed or not
                if (self.instanceId() === '') {
                    return;
                }

                //set the param about how the component is being used
                if (self.properties.consumed) {
                    self.isConsumed(self.properties.consumed);
                }


                if (self.properties.instanceitem) {
                    if (ko.isObservable(self.properties.instanceitem)) {
                        self.populateData(self.properties.instanceitem());
                    } else {
                        self.populateData(self.properties.instanceitem);
                    }
                } else {
                    self.fetchInstanceDetail();
                }

                if (self.properties.activities) {
                    if (ko.isObservable(self.properties.activities)) {
                        prepareData(self.properties.activities());
                        prepareTimelineData(self.properties.activities());
                        prepareStagesData(self.properties.activities());
                    } else {
                        prepareData(self.properties.activities);
                        prepareTimelineData(self.properties.activities);
                        prepareStagesData(self.properties.activities);
                    }
                } else {
                    self.fetchExecutionList();
                }

                if(self.properties.showTimeline){
					self.isTimelineVisible(self.properties.showTimeline);
				}

				if(self.properties.showStages){
					self.isStageVisible(self.properties.showStages);
				}

				if(self.properties.showMilestones){
					self.isMilestoneVisible(self.properties.showMilestones);
				}

                //Days converter
                var options = {
                    formatType: 'date',
                    pattern: 'MMM dd'
                };
                self.daysConverter = oj.Validation.converterFactory('datetime').createConverter(options);
            };


            //Method to populate instance detail data
            self.populateData = function(instanceitem) {
                if (instanceitem) {
                    self.startDate(instanceitem.getInstanceCreatedDate());
                }

            };

            //Method to do AJAX call to get instance detail
            self.fetchInstanceDetail = function() {
                var promise = $.Deferred();
                service.fetchInstanceItem(true, self.instanceId()).then(function(data) {
                    self.populateData(data);
                    promise.resolve();
                }, function(rejected) {
                    self.showErrorRegion();
                });
                return promise;
            };


            //Method to fetch  activities
            self.fetchExecutionList = function() {
                //Start the loading indicator
                $('#pcs-cdet-overlay', element).addClass('pcs-common-load-overlay');

                var promise = $.Deferred();
                var param = {
                    'processInstanceId': self.instanceId()
                };
                service.fetchExecutionList(true, param).then(function(data) {

                    prepareData(data);
                    prepareTimelineData(data);
                    prepareStagesData(data);

                    //stop the loading indicator
                    $('#pcs-cdet-overlay', element).removeClass('pcs-common-load-overlay');

                    promise.resolve();
                }, function(rejected) {
                    self.showErrorRegion();
                });
                return promise;
            };

            function prepareData(data) {

            	if(data.length === 0){
            		return;
				}
                //clean old activites
                self.completedMilestones.removeAll();
                self.incompleteMilestones.removeAll();

                //Filter Completed milestones
                var completedArr = data.filter(function(item) {
                    return item.getExecutionCompletedDate() !== '' && item.getExecutionCompletedDate() !== null && item.getActivityType() === 'milestone';
                });
                //Sort the Activities by Completed Date
                completedArr = completedArr.sort(function(a, b) {
                    return compareValue(a.getExecutionCompletedDate(), b.getExecutionCompletedDate());
                });
                ko.utils.arrayPushAll(self.completedMilestones, completedArr);

                //Filter incomplete Activities
                var incompleteArr = data.filter(function(item) {
                    return (item.getExecutionCompletedDate() === '' || item.getExecutionCompletedDate() === null) && item.getActivityType() === 'milestone';
                });
                //Sort the incomplete activities by Creation date
                incompleteArr = incompleteArr.sort(function(a, b) {
                    return compareValue(a.getExecutionCreatedDate(), b.getExecutionCreatedDate());
                });
                ko.utils.arrayPushAll(self.incompleteMilestones, incompleteArr);

                updateUI();
            }

            function prepareTimelineData(data) {

				if(data.length === 0){
					return;
				}
                //Filter Completed milestones
                var completedArr = data.filter(function(item) {
                    return item.getExecutionCompletedDate() !== '' && item.getExecutionCompletedDate() !== null && item.getActivityType() === 'milestone';
                });

                //Sort the Activities by Completed Date
                completedArr = completedArr.sort(function(a, b) {
                    return compareValue(a.getExecutionCompletedDate(), b.getExecutionCompletedDate());
                });

                //Set the graph start date to previous day of DP start date
				var startDate = new Date(self.startDate());
				startDate.setDate(startDate.getDate() - 1);
				self.graphStartDate(startDate.toISOString());

                //set the graph end date
				var tomorrowDate = new Date();
				tomorrowDate.setDate(tomorrowDate.getDate() + 1);
				self.graphEndDate(tomorrowDate.toISOString());

                //get the last milestone date
                if (completedArr.length > 0) {
                    var lastMilestoneDate = new Date(completedArr[completedArr.length - 1].getExecutionCompletedDate());
                    //Date after last milestone date
                    lastMilestoneDate.setDate(lastMilestoneDate.getDate() + 1);
                    var endDate = lastMilestoneDate.getTime() > self.getCurrentDateFormatted() ? lastMilestoneDate : tomorrowDate;
                    self.graphEndDate(endDate.toISOString());
                }

                var graphData = completedArr.map(function(item) {
                    var arrItem = {};
                    arrItem.id = item.getId();
                    arrItem.title = item.getActivityName();
                    arrItem.description = 'Activity : ' + item.getActivityTypeDisplayName() + '\n' +
                        ', Duration : ' + item.getDuration();
                    arrItem.start = item.getExecutionCompletedDate();
                    return arrItem;
                });
				graphData.unshift({id:'start', title: self.bundle.pcs.dp.milestone.start, start: new Date(self.startDate()).getTime()});
				graphData.unshift({id:'today', title: self.bundle.pcs.dp.milestone.today, start: new Date().getTime()});
                ko.utils.arrayPushAll(self.completedTimeEvents, graphData);
            }

            function hideStageDisplay(hide){
				$.each(self.views(),function(index,item){
					if(item.id === 'stage'){
						item.isEmpty(hide)
					}

				});
				var btnSet = $('#pcs-milestone-view-switch',element);
				if(oj.Components.getWidgetConstructor(btnSet, 'ojButtonset') ){
					btnSet.ojButtonset( "refresh" );
				}
			}

            function prepareStagesData(data) {
				if(data.length === 0){
					hideStageDisplay(true);
					return;
				}
                self.stages([]);
                //Variable saves
                self.stageTaskStatus = {};
                //Filter Stages from the data
                var stagesArr = data.filter(function(item) {
                    if (item.getActivityType() === 'stage') {
						var currentTime = (new Date()).getTime();
						var completedTime = (new Date(item.getExecutionCompletedDate())).getTime();
						var timeAgoMillis = currentTime - completedTime;
						var completedOnStr = self.bundle.pcs.dp.milestone.completedAgo.replace('{0}', dateUtil.getTimeDurationTxt(timeAgoMillis));
						self.stageTaskStatus[item.getExecutionId()] = {
                            completed: 0,
                            active: 0,
                            available: 0,
							completedOn: completedOnStr
                        };
                        return true;
                    } else {
                        return false;
                    }
                });

				if(!stagesArr || stagesArr.length === 0){
					hideStageDisplay(true);
				}else{
					hideStageDisplay(false);
				}

                //Calculate the number of completed,active,available tasks for each stage
                data.map(function(item) {
                	//retrieve the stage object relating to a activity
                    var stageObj = self.stageTaskStatus[item.getParentProcessActivityInstanceId()];
                    //ensure activity is not a milestone
                    if (stageObj && item.getActivityType() !== 'milestone') {
                        switch (item.getState()) {
                            case 'COMPLETED':
                                stageObj.completed = stageObj.completed + 1;
                                break;
                            case 'ACTIVE':
                                stageObj.active = stageObj.active + 1;
                                break;
							case 'FAILED':
								stageObj.active = stageObj.active + 1;
								break;
							// As we dont show available in activites panel now if it doesnt have any actions ,
							// so we dont show it in status bar
                            // case 'AVAILABLE':
                             //    stageObj.available = stageObj.available + 1;
                             //    break;
                            case 'ENABLED':
                                stageObj.available = stageObj.available + 1;
                                break;
							case 'DISABLED':
								stageObj.available = stageObj.available + 1;
								break;
                        }
                    }
                });

                // Sort the stages by weightage for maintaining display order in stages view
                stagesArr = stagesArr.sort(function(a, b) {
					var x = a.getWeightage(),
						y = b.getWeightage();
					if(x === y){
						if(a.getExecutionCompletedDate() !== '' && a.getExecutionCompletedDate() !== '' ){
							x = a.getExecutionCompletedDate();
							y = b.getExecutionCompletedDate();
						} else if(a.getExecutionCreatedDate() !== '' && a.getExecutionCreatedDate() !== '' ){
							x = a.getExecutionCreatedDate();
							y = b.getExecutionCreatedDate();
						}
					}
					if (x > y) {
						return -1;
					}
					if (x < y) {
						return 1;
					}
					return 0;
                });

                stagesArr = stagesArr.map(function(item) {
                    var css;
                    switch (item.getState()) {
                        case 'COMPLETED':
                            css = 'pcs-stage-completed';
                            break;
                        case 'ACTIVE':
                            css = 'pcs-stage-active';
                            break;
                        case 'AVAILABLE':
                            css = 'pcs-stage-available';
                            break;
                        case 'ENABLED':
                            css = 'pcs-stage-available';
                            break;
                    }
                    var arrItem = {};
                    arrItem.id = 'pcs-stage-' +  item.getActivityName().replace(' ', '') + item.getId();
                    arrItem.label = item.getActivityName();
                    arrItem.title = self.bundle.pcs.dp.detail[item.getState()] + ' : ' + item.getActivityName();
                    arrItem.state = item.getState() === 'ENABLED' ? 'AVAILABLE' : item.getState();
                    arrItem.css = css;
                    arrItem.execId = item.getExecutionId();
                    return arrItem;
                });
                ko.utils.arrayPushAll(self.stages, stagesArr);
            }

            //Compare to sort by date values
            function compareValue(date1, date2) {
                //calculate the time in millis
                var x = (new Date(date1).getTime()),
                    y = (new Date(date2).getTime());
                if (x > y) {
                    return 1;
                }
                if (x < y) {
                    return -1;
                }
                return 0;
            }

            //Implement Lifecyle method to fetch the data after the UI is attached
            self.attached = function() {

            };

            //Select the rendered dom elements to Stylize the completed milestones
            function updateUI() {
                var timelines = $('.cd-horizontal-timeline', element);
                timelines.each(function() {
                    var timeline = $(this, element);
                    timelineComponents = {};
                    //cache timeline components
                    timelineComponents['timelineWrapper'] = timeline.find('.events-wrapper');
                    timelineComponents['eventsWrapper'] = timelineComponents['timelineWrapper'].children('.events');
                    timelineComponents['fillingLine'] = timelineComponents['eventsWrapper'].children('.filling-line');
                    timelineComponents['timelineEvents'] = timelineComponents['eventsWrapper'].find('.timelineEvent');
                    timelineComponents['timelineEventsTxt'] = timelineComponents['eventsWrapper'].find('.dateTxt');
                    timelineComponents['milestoneEventsTxt'] = timelineComponents['eventsWrapper'].find('.milestoneTxt');
                    timelineComponents['timelineNavigation'] = timeline.find('.cd-timeline-navigation');

                    //assign a left postion to the single events along the timeline
                    var totDistanceValue = setDatePosition(timelineComponents, eventsMinDistance);
                    //assign a width to the timeline
                    timelineTotWidth = setTimelineWidth(timelineComponents, eventsMinDistance, totDistanceValue);
                    //the timeline has been initialize - show it
                    timeline.addClass('loaded');
                });
            }

            self.showMilestoneInfo = function(data, event) {
                self.popupData(data);
                var popup = $('#pcs-milestone-popup');
                showPopup(popup, event);
            };

            self.stagePopupTemplate = ko.observable();
            self.onStageUIClick = function(data, event) {
            	var template;
                switch(data.state){
					case 'AVAILABLE':
						template = 'stageAvailable';
						break;
					case 'COMPLETED':
						template = 'stageCompleted';
						break;
					default:
						template = 'stageData';
						break;
				}
                self.stagePopupTemplate(template);
                var stageData = self.stageTaskStatus[data.execId];
                self.stagePopupData(stageData);
                var popup = $('#pcs-stage-popup');
                showPopup(popup, event);
            };

            function showPopup(popup, event) {
                var position = {
                    'my': 'center top',
                    'at': 'center bottom',
                    'collision': 'none'
                };
                var id = '#' + event.target.id;
                popup.ojPopup('open', id, position);
                //loggerUtil.log(event.target.id);
            }

            self.clickNext = function(model, event) {
                event.preventDefault();
                updateSlide(timelineComponents, timelineTotWidth, 'next');
            };

            self.clickPrevious = function(model, event) {
                event.preventDefault();
                updateSlide(timelineComponents, timelineTotWidth, 'prev');
            };

            /* *** Third party code ignore jshint warnings *** */
            function updateSlide(timelineComponents, timelineTotWidth, string) {
                //retrieve translateX value of timelineComponents['eventsWrapper']
                var translateValue = getTranslateValue(timelineComponents['eventsWrapper']),
                    wrapperWidth = Number(timelineComponents['timelineWrapper'].css('width').replace('px', ''));
                //translate the timeline to the left('next')/right('prev')
                if (string === 'next') {
                    translateTimeline(timelineComponents, translateValue - wrapperWidth + eventsMinDistance, wrapperWidth - timelineTotWidth);
                } else {
                    translateTimeline(timelineComponents, translateValue + wrapperWidth - eventsMinDistance);
                }
            }

            //Update the timeline position to the last completed milestone
            function updateTimelinePosition(string, event, timelineComponents) {
                //translate timeline to the left/right according to the position of the selected event
                var eventStyle = window.getComputedStyle(event.get(0), null),
                    eventLeft = Number(eventStyle.getPropertyValue('left').replace('px', '')),
                    timelineWidth = Number(timelineComponents['timelineWrapper'].css('width').replace('px', '')),
                    timelineTotWidth = Number(timelineComponents['eventsWrapper'].css('width').replace('px', ''));
                var timelineTranslate = getTranslateValue(timelineComponents['eventsWrapper']);

                if ((string === 'next' && eventLeft > timelineWidth - timelineTranslate) || (string === 'prev' && eventLeft < -timelineTranslate)) {
                    translateTimeline(timelineComponents, -eventLeft + timelineWidth/2, timelineWidth - timelineTotWidth);
                }
            }

            function translateTimeline(timelineComponents, value, totWidth) {
                var eventsWrapper = timelineComponents['eventsWrapper'].get(0);
                value = (value > 0) ? 0 : value; //only negative translate value
                value = ((typeof totWidth !== 'undefined') && value < totWidth) ? totWidth : value; //do not translate more than timeline width
                setTransformValue(eventsWrapper, 'translateX', value + 'px');
                //update navigation arrows visibility
                if (value === 0) {
                    timelineComponents['timelineNavigation'].find('.prev').addClass('inactive');
                } else {
                    timelineComponents['timelineNavigation'].find('.prev').removeClass('inactive');
                }
                if (value === totWidth) {
                    timelineComponents['timelineNavigation'].find('.next').addClass('inactive');
                } else {
                    timelineComponents['timelineNavigation'].find('.next').removeClass('inactive');
                }
            }

            //Update the filling line of completed milestones
            function updateFilling(selectedEvent, filling, totWidth) {
                //change .filling-line length according to the selected event
                var eventStyle = window.getComputedStyle(selectedEvent.get(0), null);
                var eventLeft = eventStyle.getPropertyValue('left');
                eventLeft = Number(eventLeft.replace('px', ''));
                var scaleValue = (eventLeft + 15) / totWidth;
                setTransformValue(filling.get(0), 'scaleX', scaleValue);
            }

            //Calculate the position for milestones
            function setDatePosition(timelineComponents, min) {
                for (var i = 0, equiDistanceValue = 0; i < timelineComponents['timelineEvents'].length; i++) {
                    timelineComponents['timelineEvents'].eq(i).css('left', (equiDistanceValue * min) + 'px');
                    timelineComponents['timelineEventsTxt'].eq(i).css('left', (equiDistanceValue * min) + 'px');
                    timelineComponents['milestoneEventsTxt'].eq(i).css('left', ((equiDistanceValue * min)) + 'px');
                    equiDistanceValue += minDistanceFactor;
                }
                return equiDistanceValue;
            }

            //Calculate the width for the TimeLine
            function setTimelineWidth(timelineComponents, width, totDistanceValue) {
                var totalWidth = totDistanceValue * width;
                totalWidth = totalWidth < 1160 ? 1160 : totalWidth;
                timelineComponents['eventsWrapper'].css('width', totalWidth + 'px');
                var selectedEvent = timelineComponents['eventsWrapper'].find('a.currentDate');
                if (selectedEvent.length !== 0) {
                    updateFilling(selectedEvent, timelineComponents['fillingLine'], totalWidth);
                    updateTimelinePosition('next', selectedEvent, timelineComponents);
                }
                return totalWidth;
            }

            function getTranslateValue(timeline) {
                var timelineStyle = window.getComputedStyle(timeline.get(0), null),
                    timelineTranslate = timelineStyle.getPropertyValue('-webkit-transform') ||
                    timelineStyle.getPropertyValue('-moz-transform') ||
                    timelineStyle.getPropertyValue('-ms-transform') ||
                    timelineStyle.getPropertyValue('-o-transform') ||
                    timelineStyle.getPropertyValue('transform'),
                    translateValue = 0;

                if (timelineTranslate.indexOf('(') >= 0) {
                    timelineTranslate = timelineTranslate.split('(')[1];
                    timelineTranslate = timelineTranslate.split(')')[0];
                    timelineTranslate = timelineTranslate.split(',');
                    translateValue = timelineTranslate[4];
                }
                return Number(translateValue);
            }

            function setTransformValue(element, property, value) {
                element.style['-webkit-transform'] = property + '(' + value + ')';
                element.style['-moz-transform'] = property + '(' + value + ')';
                element.style['-ms-transform'] = property + '(' + value + ')';
                element.style['-o-transform'] = property + '(' + value + ')';
                element.style['transform'] = property + '(' + value + ')';
            }


            self.getCurrentDateFormatted = function() {
                return (new Date()).getTime();
            };

            self.onViewClick = function(event, data) {
                if (self.selectedView() === 'timeline') {
                    $('#pcs-dp-timeline').ojTimeline('refresh');
                }

                //workaround as stage gets added in buttonSet later because of isEmpty
                if(!data.value){
					self.selectedView('stage');
				}
            };


            /**
             * When the rest call fails
             */
            self.showErrorRegion = function() {
                $('#pcs-dp-status-error', element).show();
                $('#pcs-dp-status-containor', element).hide();
            };

            // Public method to modify activity list
            // self.modifyActivityList = function(activityList) {
            //     loggerUtil.log('modifying activities');
            //     prepareData(activityList);
            // };

            //subscribe to changes in activity list
            if (self.properties.activities && ko.isObservable(self.properties.activities)) {
                self.activitiesSubscription = self.properties.activities.subscribe(function(newValue) {
                    prepareData(newValue);
                    prepareTimelineData(newValue);
                    prepareStagesData(newValue);
                });
            }

            //subscribe to changes in instanceitem
            if (self.properties.instanceitem && ko.isObservable(self.properties.instanceitem)) {
                self.instanceitemSubscription = self.properties.instanceitem.subscribe(function(newValue) {
                    self.populateData(newValue);
                });
            }

            self.bindingsApplied = function() {
                //temp for Knockoutcomponet
                self.initContext();
            };

            //Dispose the computed,sbsrciption,event http://knockoutjs.com/documentation/component-binding.html
            self.dispose = function() {
                //loggerUtil.log('dispose in status');

                if (self.activitiesSubscription) {
                    self.activitiesSubscription.dispose();
                }

                if (self.instanceitemSubscription) {
                    self.instanceitemSubscription.dispose();
                }

                //De-Subscribe to the events

            };

            // Temp call the bindingApplied for knockout component
            self.bindingsApplied();
        };
    }
);

/**
 * Created by nisabhar on 11/17/2016.
 */



define('pcs/dynamicProcess/status/loader',['ojs/ojcore','knockout',  '!text!pcs/dynamicProcess/status/view/statusView.html', './viewModel/statusVM'],

    function(oj,ko, view, viewModel) {
        'use strict';
        // oj.Composite.register('pcs-dpstatus', {
        //     view: {
        //         inline: view
        //     },
        //     viewModel: {
        //         inline: viewModel
        //     },
        //     metadata: {
        //         inline: JSON.parse(metadata)
        //     }
        // });

        if (!ko.components.isRegistered('pcs-dpstatus')) {
            ko.components.register('pcs-dpstatus', {
                template: view,
                viewModel: {
                    createViewModel: function(params, componentInfo) {
                        return new viewModel(params, componentInfo);
                    }
                }
            });
        }
    }
);


define('text!pcs/dynamicProcess/activity/view/dpActivityView.html',[],function () { return '<div id="pcs-dp-act-container" class="pcs-dp-act-container pcs-dp-font ">\n    <!-- ko if: instanceId() -->\n\t<div id="pcs-dp-act-toolbar" class="oj-flex oj-sm-align-items-center pcs-dp-act-toolbar">\n\t\t<span id="pcs-dp-act-act-hdr-label" data-bind="visible: !isSearchTxtVisible(), text:bundle.pcs.dp.activity.activitiesLbl" class="oj-flex-item pcs-dp-act-act-hdr-label" ></span>\n\t\t<span id="pcs-dp-act-search" class="oj-flex oj-sm-justify-content-flex-end pcs-dp-act-search">\n\t\t\t<span  id="pcs-dp-act-filter-ipContainer" class="oj-flex-item pcs-dp-act-filter-input"  data-bind="visible: isSearchTxtVisible()">\n\t\t\t\t<input id="pcs-dp-act-filter-input" class="pcs-dp-act-filter-input" type="text" data-bind="\n\t\t\t\t\tojComponent:{\n\t\t\t\t\t\tcomponent: \'ojInputText\', rawValue: searchText, placeholder: bundle.pcs.dp.activity.searchActivity\n\t\t\t\t\t}"/>\n\t\t\t</span>\n\t\t\t<span class="oj-flex">\n\t\t\t\t<button id="pcs-dp-act-search-btn" \tdata-bind="visible:!isSearchTxtVisible(), click: onSearchBtnClick,\n\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.search, display: \'icons\',\n\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon oj-fwk-icon-magnifier\'}\n\t\t\t\t\t\t}, attr: {\'aria-label\' : bundle.pcs.dp.common.search, title:bundle.pcs.dp.common.search}">\n\t\t\t\t</button>\n\t\t\t\t<button id="pcs-dp-act-search-clear-btn" \tdata-bind="visible:isSearchTxtVisible(), click: onSearchBtnClick,\n\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.clearSearch, display: \'icons\',\n\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon oj-fwk-icon-cross\'}\n\t\t\t\t\t\t}, attr: {\'aria-label\' : bundle.pcs.dp.common.clearSearch, title:bundle.pcs.dp.common.clearSearch}">\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t\t<span class="oj-flex-item" data-bind="visible: !isSearchTxtVisible()">\n\t\t\t\t<button id="pcs-dp-act-filter-btn" class="pcs-dp-act-filter-btn" data-bind="visible: true,\n\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.activity.filterSort, display: \'icons\',\n\t\t\t\t\t\t\t\ticons: {start:\'demo-icon-font pcs-dp-act-gear-icon\'}, menu:\'#pcs-act-filter-menu\'\n\t\t\t\t\t\t\t}, attr: {\'aria-label\' : bundle.pcs.dp.activity.filterSort, title:bundle.pcs.dp.activity.filterSort}">\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t\t<!-- ko ifnot: isConsumed -->\n\t\t\t<span class="oj-flex-item" data-bind="visible: !isSearchTxtVisible()">\n\t\t\t\t<button id="pcs-dp-act-refresh-btn" data-bind="visible: true, click: onRefreshBtnClick,\n\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.refresh, display: \'icons\',\n\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-act-refresh-icon\'}\n\t\t\t\t\t\t\t}, attr: {\'aria-label\' : bundle.pcs.dp.common.refresh, title:bundle.pcs.dp.common.refresh}">\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t\t<!-- /ko -->\n\t\t</span>\n\t\t<ul id="pcs-act-filter-menu" class="pcs-dp-display-none" data-bind="ojComponent: {component: \'ojMenu\'}">\n\t\t\t<li>\n\t\t\t\t<span class="pcs-dp-menu-header-txt">Show</span>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<div class="oj-flex oj-sm-align-items-center pcs-dp-menu-item">\n\t\t\t\t\t<input id="pcs-act-available" type="checkbox" class="pcs-dp-menu-checkbox" data-bind="checked: availableChecked"/>\n\t\t\t\t\t<label for="pcs-act-available" class="oj-checkbox-label-nocomp" data-bind="text:bundle.pcs.dp.common.available"></label>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<div class="oj-flex oj-sm-align-items-center pcs-dp-menu-item">\n\t\t\t\t\t<input id="pcs-act-running" type="checkbox" class="pcs-dp-menu-checkbox" data-bind="checked: runningChecked"/>\n\t\t\t\t\t<label for="pcs-act-running" class="oj-checkbox-label-nocomp" data-bind="text:bundle.pcs.dp.common.running"></label>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<div class="oj-flex oj-sm-align-items-center pcs-dp-menu-item">\n\t\t\t\t\t<input id="pcs-act-completed" type="checkbox" class="pcs-dp-menu-checkbox" data-bind="checked: completedChecked"/>\n\t\t\t\t\t<label for="pcs-act-completed" class="oj-checkbox-label-nocomp" data-bind="text:bundle.pcs.dp.common.completed"></label>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li id="divider" class="oj-menu-divider"></li>\n\t\t\t<li>\n\t\t\t\t<span class="pcs-dp-menu-header-txt">Sort by</span>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<div aria-labelledby="mainlabelid"\n\t\t\t\t\t\t\t\t data-bind="ojComponent: {component: \'ojRadioset\', value:activitySortValue}" >\n\t\t\t\t\t<div class="oj-flex oj-sm-align-items-center pcs-dp-menu-item pcs-dp-menu-radio">\n\t\t\t\t\t\t<input id="pcs-act-status" name="rad" type="radio" value="status">\n\t\t\t\t\t\t<label for="pcs-act-status" data-bind="text:bundle.pcs.dp.activity.status"></label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="oj-flex oj-sm-align-items-center pcs-dp-menu-item pcs-dp-menu-radio">\n\t\t\t\t\t\t<input id="pcs-act-stage" name="rad" type="radio" value="stage">\n\t\t\t\t\t\t<label for="pcs-act-stage" data-bind="text:bundle.pcs.dp.activity.stage"></label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div class="pcs-dp-line"></div>\n\n\t<!-- ko if: displayTemplate() === \'COMBINED_VIEW\' -->\n\t<div id="pcs-dp-act-actionable-activities" class="pcs-dp-act-actionable-activities">\n\n\t\t<!-- ko foreach: actionableActivities -->\n\t\t<div class="pcs-dp-act-row pcs-dp-act-row-height" data-bind="css: { \'pcs-dp-act-row-selected\': $parent.selectedExecutionId() === getExecutionId() }">\n\t\t\t<span data-bind="css:getStatusBarClass() +\' pcs-dp-act-row-height\'" style="height:45px"></span>\n\t\t\t<div class="pcs-dp-act-row-icon-containor">\n\t\t\t\t<span data-bind="css :getIconClass() , attr :{ title : getActivityType()}"></span>\n\t\t\t</div>\n\t\t\t<div class="pcs-dp-act-row-content">\n\t\t\t\t<span class="pcs-dp-act-row-content-text" >\n\t\t\t\t\t<!-- ko if:isRequired() -->\n\t\t\t\t\t<span class="pcs-dp-act-required-icon" data-bind="attr :{ title : \'Required\'}">*</span>\n\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t<span class="pcs-dp-act-activity-title " data-bind="text:getActivityName()"></span>\n\t\t\t\t</span>\n\t\t\t\t<span class="pcs-dp-act-row-content-infotext" data-bind="text:getInfoText()"></span>\n\n\t\t\t\t<span data-bind="css :getStatusIconClass() , attr :{ title : getStateDisplayName()}"></span>\n\t\t\t</div>\n\n\t\t\t<!-- ko if:getAvailableActions().length >0 -->\n\t\t\t<div class="pcs-dp-act-row-actions">\n\t\t\t\t<button tabindex="0" data-bind="ojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\',\n\t\t\t\t\t\t\t\t\tchroming: \'half\',\n\t\t\t\t\t\t\t\t\tlabel: $parent.bundle.pcs.dp.activity.actions,\n\t\t\t\t\t\t\t\t\tdisplay: \'icons\',\n\t\t\t\t\t\t\t\t\tmenu: \'#pcs-dp-act-actionMenu\' + getId(),\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-act-actions-icon\'},\n\t\t\t\t\t\t\t\t\trootAttributes:{style:\'outline:none\'}\n\t\t\t\t\t\t\t\t}, attr: {id: \'pcs-dp-act-actions-act-\'+ getId()}">\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\n\t\t</div>\n\n\t\t<ul class="pcs-dp-display-none"\n\t\t\tdata-bind="ojComponent: {component: \'ojMenu\'}, attr: {id: \'pcs-dp-act-actionMenu\'+ getId()}">\n\t\t\t<!-- ko foreach:getAvailableActions()-->\n\t\t\t<li>\n\t\t\t\t<a href="#" class="" data-bind="text:$data.actionDisplayName, value:$parent.getId() , click: $parents[1].performActivityActionSelection"></a>\n\t\t\t</li>\n\t\t\t<!-- /ko -->\n\t\t</ul>\n\t\t<!-- /ko -->\n\n\t\t<!-- ko if:actionableActivities().length === 0 && searchText().length ===0 -->\n\t\t<div data-bind="template: {name: \'pcs_dp_act_empty_template\'}"></div>\n\t\t<!-- /ko -->\n\n\t</div>\n\t<!-- /ko -->\n\n\t<!-- ko if: displayTemplate() === \'ALL_ACTIVITIES\' -->\n\t<div id="pcs-dp-act-all-activities" class="pcs-dp-act-actionable-activities">\n\n\t\t<!-- ko foreach: activityData() -->\n\t\t<div class="pcs-dp-act-row pcs-dp-act-row-height" data-bind="css: { \'pcs-dp-act-row-selected\': $parent.selectedExecutionId() === getExecutionId() }">\n\t\t\t<span data-bind="css:getStatusBarClass(), attr :{ title : getStateDisplayName()}" style="width: 6px;left: -3px"></span>\n\t\t\t<div class="pcs-dp-act-row-icon-containor">\n\t\t\t\t<span data-bind="css :getIconClass(), attr :{ title : getActivityTypeDisplayName()}"></span>\n\t\t\t</div>\n\t\t\t<div class="pcs-dp-act-row-content">\n\t\t\t\t<div class="oj-flex pcs-dp-act-row-content-text">\n\t\t\t\t\t<!-- ko if:isRequired() -->\n\t\t\t\t\t<span class="pcs-dp-act-required-icon" data-bind="attr :{ title : $parent.bundle.pcs.dp.activity.required}">*</span>\n\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t<!-- ko ifnot:showHistoryDrillDown() -->\n\t\t\t\t\t<span class="pcs-dp-act-activity-title " data-bind="text:getActivityName()"></span>\n\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t<!-- ko if:showHistoryDrillDown() -->\n\t\t\t\t\t<a class="pcs-dp-act-activity-title " data-bind="click: $parent.drillDown , text:getActivityName()" style="cursor: pointer"></a>\n\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t<span data-bind="css :getStatusIconClass() , attr :{ title : getStateDisplayName()}"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class="oj-flex oj-sm-justify-content-space-between pcs-dp-act-row-content-infotext">\n\t\t\t\t\t<!-- ko ifnot:getStageName() === \'\' -->\n\t\t\t\t\t\t<div class="oj-flex-item pcs-dp-act-stage-name" data-bind="text:getStageName()"></div>\n\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t<span class="oj-sm-justify-content-flex-end" data-bind="pcsFormatDate:getExecutionCompletedDate(), datePattern:\'MMM d\'"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- ko if:getAvailableActions().length >0 -->\n\t\t\t<div class="pcs-dp-act-row-actions">\n\t\t\t\t<button tabindex="0" data-bind="ojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\',\n\t\t\t\t\t\t\t\t\tchroming: \'half\',\n\t\t\t\t\t\t\t\t\tlabel: $parent.bundle.pcs.dp.activity.actions,\n\t\t\t\t\t\t\t\t\tdisplay: \'icons\',\n\t\t\t\t\t\t\t\t\tmenu: \'#pcs-dp-act-actionMenu\' + getId(),\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-act-actions-icon\'},\n\t\t\t\t\t\t\t\t\trootAttributes:{style:\'outline:none\'}\n\t\t\t\t\t\t\t\t}, attr: {id: \'pcs-dp-act-actions-act-\'+ getId()}">\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\n\t\t</div>\n\n\t\t<ul class="pcs-dp-display-none"\n\t\t\tdata-bind="ojComponent: {component: \'ojMenu\'}, attr: {id: \'pcs-dp-act-actionMenu\'+ getId()}">\n\t\t\t<!-- ko foreach:getAvailableActions()-->\n\t\t\t<li>\n\t\t\t\t<a href="#" class="" data-bind="text:$data.actionDisplayName, value:$parent.getId() , click: $parents[1].performActivityActionSelection"></a>\n\t\t\t</li>\n\t\t\t<!-- /ko -->\n\t\t</ul>\n\t\t<!-- /ko -->\n\n\t\t<!-- ko if:activityData().length === 0 && searchText().length ===0 -->\n\t\t<div data-bind="template: {name: \'pcs_dp_act_empty_template\'}"></div>\n\t\t<!-- /ko -->\n\n\t</div>\n\t<!-- /ko -->\n\n\n\t<!-- ko if: displayTemplate() === \'FILTERED_VIEW\' -->\n    <div id="pcs-dp-act-accordion" class="pcs-dp-act-accordion">\n\n\t\t<!-- ko if: availableActivities().length >0 -->\n        <div id="pcs-dp-act-available-container" class="pcs-dp-act-available-container" data-bind="ojComponent: {component: \'ojCollapsible\', expanded:true}">\n            <span id="pcs-dp-act-available-header" class="pcs-dp-act-available-header pcs-dp-act-accordion-header">\n                <span id="pcs-dp-act-available-header-text" class="pcs-dp-act-available-header-text" data-bind="text:bundle.pcs.dp.activity.available"></span>\n                <hr class="pcs-dp-act-act-hr"/>\n            </span>\n\n            <div id="pcs-dp-act-available-div" class="pcs-dp-act-available-div">\n\t\t\t\t<!-- ko foreach: availableActivities -->\n\t\t\t\t<!-- ko if:getAvailableActions().length >0 -->\n\t\t\t\t<div class="oj-flex-bar  pcs-dp-act-activity-item" >\n\t\t\t\t\t<div class="oj-flex-bar-start">\n\t\t\t\t\t\t<div style="margin-right:10px">\n\t\t\t\t\t\t\t<span data-bind="css :getIconClass() , attr :{ title : getActivityTypeDisplayName()}"></span>\n\t\t\t\t\t\t\t<span data-bind="css :getStatusIconClass() , attr :{ title : getStateDisplayName()}" style="margin-left:-10px;"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="oj-flex-bar-middle pcs-dp-act-bar-middle">\n\n\t\t\t\t\t\t<span class="pcs-dp-act-activity-title" data-bind="text:getActivityName()"></span>\n\t\t\t\t\t\t<!-- ko if:isRequired() -->\n\t\t\t\t\t\t<span class="pcs-dp-act-required-icon"></span>\n\t\t\t\t\t\t<!-- /ko -->\n\n\t\t\t\t\t\t<span class="floatRight pcs-dp-act-action-dots" data-bind="attr: {\'id\': \'pcs-dp-act-action-dots-\'+getExecutionId()}">\n\t\t\t\t\t\t\t<button  id="pcs-dp-act-actions-btn" class="oj-button-sm"\n\t\t\t\t\t\t\t\t\trole="button"\n\t\t\t\t\t\t\t\t\tdata-bind="attr:{\'aria-label\':$parent.bundle.pcs.dp.activity.disable},\n\t\t\t\t\t\t\t\t\tojComponent: {component:\'ojButton\', label: $parent.bundle.pcs.dp.activity.disable, chroming: \'half\',\n\t\t\t\t\t\t\t\t\tdisplay: \'icons\', icons: {start:\'oj-fwk-icon pcs-dp-act-actions-icon\'} }">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="floatRight pcs-dp-act-activity-actions">\n\t\t\t\t\t\t\t<!-- ko foreach:getAvailableActions()-->\n\t\t\t\t\t\t\t<button class="oj-button-sm pcs-dp-act-act-btn"\n\t\t\t\t\t\t\t\trole="button"\n\t\t\t\t\t\t\t\tdata-bind="click: $parents[1].performActivityAction ,ojComponent: {component:\'ojButton\',\n\t\t\t\t\t\t\t\tlabel: $data.actionDisplayName,chroming: \'half\'},\n\t\t\t\t\t\t\t\tattr: {\'id\': \'pcs-dp-act-btn-\'+action , \'aria-label\' : actionDisplayName}">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- /ko -->\n\t\t\t\t<!-- /ko -->\n            </div>\n        </div>\n\t\t<!-- /ko -->\n\n\t\t<!-- ko if: runningActivities().length >0 -->\n        <div id="pcs-dp-act-inprogress-container" class="pcs-dp-act-inprogress-container" data-bind="ojComponent: {component: \'ojCollapsible\', expanded:true}">\n            <span id="pcs-dp-act-inprogress-header" class="pcs-dp-act-inprogress-header pcs-dp-act-accordion-header">\n                <span id="pcs-dp-act-inprogress-header-text" class="pcs-dp-act-inprogress-header-text" data-bind="text:bundle.pcs.dp.activity.inProgress"></span>\n                  <hr class="pcs-dp-act-act-hr"/>\n            </span>\n\n            <div id="pcs-dp-act-inprogress-div" class="pcs-dp-act-inprogress-div">\n\t\t\t\t<!-- ko foreach: runningActivities -->\n\t\t\t\t<div class="oj-flex-bar  pcs-dp-act-activity-item" >\n\t\t\t\t\t<div class="oj-flex-bar-start">\n\t\t\t\t\t\t<div style="margin-right:10px">\n\t\t\t\t\t\t\t<span data-bind="css :getIconClass() , attr :{ title : getActivityTypeDisplayName()}"></span>\n\t\t\t\t\t\t\t<span data-bind="css :getStatusIconClass() , attr :{ title : getStateDisplayName()}" style="margin-left:-10px;"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="oj-flex-bar-middle pcs-dp-act-bar-middle">\n\n\t\t\t\t\t\t<span class="pcs-dp-act-activity-title" data-bind="text:getActivityName()"></span>\n\n\t\t\t\t\t\t<span class="floatRight pcs-dp-act-action-dots">\n\t\t\t\t\t\t\t<!-- ko if:getAvailableActions().length >0 -->\n\t\t\t\t\t\t\t<button class="oj-button-sm" role="button"\n\t\t\t\t\t\t\t\t\tdata-bind="attr:{\'aria-label\':$parent.bundle.pcs.dp.activity.disable},\n\t\t\t\t\t\t\t\t\tojComponent: {component:\'ojButton\', label: $parent.bundle.pcs.dp.activity.disable, chroming: \'half\',\n\t\t\t\t\t\t\t\t\tdisplay: \'icons\', icons: {start:\'oj-fwk-icon pcs-dp-act-actions-icon\'} }">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<span class="floatRight pcs-dp-act-activity-actions">\n\t\t\t\t\t\t\t<!-- ko foreach:getAvailableActions()-->\n\t\t\t\t\t\t   <button class="oj-button-sm pcs-dp-act-act-btn"\n\t\t\t\t\t\t\t\t   role="button"\n\t\t\t\t\t\t\t\t   data-bind="click: $parents[1].performActivityAction ,ojComponent: {component:\'ojButton\',\n\t\t\t\t\t\t\t\tlabel: $data.actionDisplayName,chroming: \'half\'},\n\t\t\t\t\t\t\t\tattr: {\'id\': \'pcs-dp-act-btn-\'+action , \'aria-label\' : actionDisplayName}">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<!--<span class="floatRight">-->\n\t\t\t\t\t\t\t<!--&lt;!&ndash; ko if: showHistoryDrillDown() &ndash;&gt;-->\n\t\t\t\t\t\t\t<!--<button class="oj-button-sm"-->\n\t\t\t\t\t\t\t\t\t<!--aria-label="Show" role="button"-->\n\t\t\t\t\t\t\t\t\t<!--data-bind="click:$parent.drillDown ,ojComponent: {component:\'ojButton\',-->\n\t\t\t\t\t\t\t\t\t<!--label: \'Open Details\', chroming: \'half\',-->\n\t\t\t\t\t\t\t\t\t<!--display: \'icons\',-->\n\t\t\t\t\t\t\t\t\t<!--icons: {start: \'pcs-dp-act-goto-icon\'}}">-->\n\t\t\t\t\t\t\t<!--</button>-->\n\t\t\t\t\t\t\t<!--&lt;!&ndash; /ko &ndash;&gt;-->\n\t\t\t\t\t\t<!--</span>-->\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- /ko -->\n            </div>\n        </div>\n\t\t<!-- /ko -->\n\n\t\t<!-- ko if:completedActivities().length >0 -->\n        <div id="pcs-dp-act-completed-container" class="pcs-dp-act-completed-container"\n             data-bind="ojComponent: {component: \'ojCollapsible\', expanded:false}">\n            <span id="pcs-dp-act-completed-header" class="pcs-dp-act-completed-header pcs-dp-act-accordion-header">\n                <span id="pcs-dp-act-completed-header-text" class="pcs-dp-act-completed-header-text" data-bind="text:bundle.pcs.dp.activity.completed"></span>\n                  <hr class="pcs-dp-act-act-hr"/>\n            </span>\n\n            <div id="pcs-dp-act-completed-div" class="oj-p pcs-dp-act-completed-div" >\n\t\t\t\t<!-- ko foreach: completedActivities -->\n\t\t\t\t<div class="oj-flex-bar pcs-dp-act-activity-item" >\n\t\t\t\t\t<div class="oj-flex-bar-start">\n\t\t\t\t\t\t<div style="margin-right:10px">\n\t\t\t\t\t\t\t<span data-bind="css :getIconClass() , attr :{ title : getActivityTypeDisplayName()}"></span>\n\t\t\t\t\t\t\t<span data-bind="css :getStatusIconClass() , attr :{ title : getStateDisplayName()}" style="margin-left:-10px;"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="oj-flex-bar-middle pcs-dp-act-bar-middle">\n\n\t\t\t\t\t\t<span class="pcs-dp-act-activity-title" data-bind="text:getActivityName()"></span>\n\n\t\t\t\t\t\t<span class="floatRight">\n\t\t\t\t\t\t\t<!-- ko if: showHistoryDrillDown() -->\n\t\t\t\t\t\t\t<button class="oj-button-sm" role="button"\n\t\t\t\t\t\t\t\t\tdata-bind="click:$parent.drillDown , attr:{\'aria-label\':$parent.bundle.pcs.dp.activity.openDetail},\n\t\t\t\t\t\t\t\t\tojComponent: {component:\'ojButton\',\n\t\t\t\t\t\t\t\t\tlabel: $parent.bundle.pcs.dp.activity.openDetail, chroming: \'half\',\n\t\t\t\t\t\t\t\t\tdisplay: \'icons\',\n\t\t\t\t\t\t\t\t\ticons: {start: \'pcs-dp-act-goto-icon\'}}">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- /ko -->\n            </div>\n        </div>\n\t\t<!-- /ko -->\n\n    </div>\n\t<!-- /ko -->\n\n\t<div id="pcs-dp-act-confirm-dialog" class="pcs-dp-dialog"\n\t\t data-bind="ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\',rootAttributes:{class:\'pcs-dp-dialog-custom\', style:\'width:400px\'}}">\n\t\t<div id="pcs-dp-act-confirm-header" class="oj-dialog-header oj-helper-clearfix pcs-dp-dialog-header">\n\t\t\t<span  class="oj-dialog-title" data-bind="text:bundle.pcs.dp.common.confirm"></span>\n\t\t\t<span class="pcs-dp-dialog-close-btn">\n\t\t\t\t<button data-bind="click: closeDialog,\n\t\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.close, display: \'icons\',\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-dialog-close-icon\'}\n\t\t\t\t\t\t\t\t}">\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="pcs-dp-dialog-body oj-dialog-body" id="pcs-dp-act-confirm-body">\n\t\t\t<div class="pcs-dp-act-err-short-msg" style="white-space: pre-wrap" data-bind="text:actionConfirmMessage"></div>\n\t\t</div>\n\t\t<div class="oj-dialog-footer pcs-dp-dialog-footer">\n\t\t\t<button class="oj-button-primary" data-bind="click:confirmActivityAction,\n                \tojComponent: {component: \'ojButton\', label: bundle.pcs.dp.common.ok, chroming: \'full\',\n                \trootAttributes: {style: \'padding-left:13px;padding-right:13px;font-weight:normal\'}}"> </button>\n\t\t\t<button data-bind="click:closeDialog,\n                \tojComponent: {component: \'ojButton\', label: bundle.pcs.dp.common.cancel, chroming: \'full\',\n                \trootAttributes: {style: \'padding-left:13px;padding-right:13px;font-weight:normal\'}}"> </button>\n\t\t</div>\n\t</div>\n\n\t<div id="pcs-dp-act-err-dialog" class="pcs-dp-dialog"\n\t\t data-bind="ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\', rootAttributes:{style:\'width:400px\'},\n\t\t \t\t\trootAttributes:{class:\'pcs-dp-dialog-custom\'}}">\n\t\t<div id="pcs-dp-act-error-header" class="oj-dialog-header oj-helper-clearfix pcs-dp-dialog-header">\n\t\t\t<span  class="oj-dialog-title" data-bind="text:bundle.pcs.dp.common.error"></span>\n\t\t\t<span class="pcs-dp-dialog-close-btn">\n\t\t\t\t<button data-bind="click: closeDialog,\n\t\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.close, display: \'icons\',\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-dialog-close-icon\'}\n\t\t\t\t\t\t\t\t}">\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="pcs-dp-dialog-body oj-dialog-body" id="pcs-dp-act-error-body" >\n\t\t\t<div class="pcs-dp-act-err-short-msg" data-bind="text:shortErrorMessage"></div>\n\t\t\t<br>\n\t\t\t<div data-bind="text:longErrorMessage"></div>\n\t\t</div>\n\t\t<div class="oj-dialog-footer  pcs-dp-dialog-footer">\n\t\t\t<button class="oj-button-primary" data-bind="click:closeDialog,\n                \tojComponent: {component: \'ojButton\', label: bundle.pcs.dp.common.ok,\n                \trootAttributes: {style: \'padding-left:13px;padding-right:13px;font-weight:normal\'}}"> </button>\n\t\t</div>\n\t</div>\n\n\t<div class="oj-form-layout pcs-dp-display-none" style="margin-top:20px" id="pcs-dp-act-error">\n\t\t<span style="margin:20px; color:red" data-bind="text: bundle.pcs.dp.common.errGettingInstanceDetailsMsg" ></span>\n\t</div>\n\n\t<div id="pcs-dp-act-overlay"></div>\n\t<!-- /ko -->\n    <!-- ko ifnot: instanceId() -->\n    <div style="color:red" data-bind="text:bundle.pcs.dp.common.instanceIdMissingMsg"></div>\n    <!-- /ko -->\n</div>\n\n<script type="text/html" id="pcs_dp_act_empty_template">\n\t<div class="oj-form-layout oj-flex oj-sm-12 pcs-dp-empty-watermark" style="margin-top:50px" id="pcs-dp-act-actionable-activities-dummy">\n\t<div class="oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center" style="">\n\t\t<span class="pcs-dp-act-empty-act-icon"></span>\n\t</div>\n\t<div class="oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center">\n\t\t<span class="pcs-dp-act-watermark-text" data-bind="text: bundle.pcs.dp.activity.noActivitiesMsg" ></span>\n\t</div>\n</div>\n</script>\n';});

/**
 * Created by nisabhar on 11/17/2016.
 */


define('pcs/dynamicProcess/activity/viewModel/dpActivityVM',['ojs/ojcore', 'knockout', 'jquery', 'pcs/dynamicProcess/services/DPDetailService', 'ojs/ojknockout', 'ojs/ojradioset', 'ojL10n!pcs/resources/nls/pcsSnippetsResource'],
    function(oj, ko, $, InstanceDetail) {

        'use strict';

        return function(params, componentInfo) {
            var self = this;
			var loggerUtil =  require('pcs/util/loggerUtil');
            var service;
            var element = componentInfo.element;
            self.properties = params;

            //current instanceId
            self.instanceId = ko.observable();

            // for searching
            self.searchText = ko.observable('');

            //available activites list
            self.availableActivities = ko.observableArray([]);

            //running activites list
            self.runningActivities = ko.observableArray([]);

            //completed activites list
            self.completedActivities = ko.observableArray([]);

            //combine list of availblae and running
			self.actionableActivities = ko.observableArray([]);

            //Attribute to hold confirm message
            self.actionConfirmMessage = ko.observable('');

            //attribute to hold pending action
            self.pendingAction = {};

            //attribute to hold long error msg
            self.longErrorMessage = ko.observable();

            //attribute to hold short error msg
            self.shortErrorMessage = ko.observable();

            //attribute to hold if the component is standalone or used inside details
            self.isConsumed = ko.observable(false);

			//Set the resourcebundle
			self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

			//attribute to store currently selected executionId
			self.selectedExecutionId = ko.observable('');


			self.displayTemplate = ko.observable("ALL_ACTIVITIES");

			self.isSearchTxtVisible = ko.observable(false);

			self.availableChecked = ko.observable();
			self.runningChecked = ko.observable();
			self.completedChecked = ko.observable();
			self.activitySortValue = ko.observable();
			self.rawData = [];
			self.activityData = ko.observableArray([]);

            // The props field on context is a Promise. Once that resolves,
            // we can access the properties that were defined in the composite metadata
            // and were initially set on the composite DOM element
            // context.props.then(function(properties) {
            //     self.properties = properties;
            //     self.initContex();
            // });

            self.initContext = function() {
                service = InstanceDetail.getInstance();

                if (self.properties.instanceid === undefined) {
                    return;
                }

                // check if instanceId is observable or plain variables
                if (ko.isObservable(self.properties.instanceid)) {
                    self.instanceId(self.properties.instanceid());
                } else {
                    self.instanceId(self.properties.instanceid);
                }

                //check if instanceId is passed or not
                if (self.instanceId() === '') {
                    return;
                }

                //set the param about how the component is being used
                if (self.properties.consumed) {
                    self.isConsumed(self.properties.consumed);
                }


                if (self.properties.activities) {
                    if (ko.isObservable(self.properties.activities)) {
                        self.populateData(self.properties.activities());
                    } else {
                        self.populateData(self.properties.activities);
                    }
                } else {
                    self.fetchActivitiesList();
                }
            };


            //Handle error from rest api calls
            //Fire Error Event to handle errors at the top level
            function handleError(error) {
                self.shortErrorMessage(error.shortMsg);
                self.longErrorMessage(error.longMsg);
                $('#pcs-dp-act-err-dialog', element).ojDialog('open');
            }

            //Close the error dialog
            self.closeDialog = function() {
                $('.pcs-dp-dialog').ojDialog('close');
            };


            //Method to populate  actvities data
            self.populateData = function(activity) {
            	//Prepare data for all activities view
				prepareData(activity);
                self.availableActivities.removeAll();
                self.runningActivities.removeAll();
                self.completedActivities.removeAll();
				self.actionableActivities.removeAll();

                if (activity === undefined) {
                    return;
                }
                $.each(activity, function(index, item) {
                    var state = item.getState();
                    if (item.getActivityType() === 'milestone') {
                        return true;
                    }
                    if (state === 'AVAILABLE' || state === 'ENABLED' || state === 'DISABLED') {
                    	if(item.getAvailableActions().length > 0){
							self.availableActivities.push(item);
							self.actionableActivities.push(item);
						}

                    }
                    if (state === 'ACTIVE' || state === 'FAILED') {
						if(item.getAvailableActions().length > 0) {
							self.runningActivities.push(item);
							self.actionableActivities.push(item);
						}
                    }
                    if (state === 'COMPLETED' || state === 'TERMINATED') {
                        self.completedActivities.push(item);
                    }
                });
            };

			var prepareData = function(data){
				if(!data || data.length === 0){
					self.activityData([]);
					return;
				}
				self.rawData = data;
				if(!self.availableChecked() && !self.runningChecked() && !self.completedChecked()){
					//Very first time set the default values of filters
					//Set default filter value
					self.availableChecked(true);
					self.runningChecked(true);
					self.completedChecked(false);
					//Sort the filtered data based on Status
					self.activitySortValue('status');
				} else {
					self.activityData([]);
					//Whenever data is refreshed update the data
					filterActivityData('available', self.availableChecked());
					filterActivityData('running', self.runningChecked());
					filterActivityData('completed', self.completedChecked());
					sortActivityData(self.activitySortValue());
				}
			};

			//subscribe to changes in available filter and filter activity data accordingly
			var availableCheckedSub = self.availableChecked.subscribe(function(newValue){
				filterActivityData('available', newValue);
				sortActivityData(self.activitySortValue());
			});
			//subscribe to changes in running filter and filter activity data accordingly
			var runningCheckedSub = self.runningChecked.subscribe(function(newValue){
				filterActivityData('running', newValue);
				sortActivityData(self.activitySortValue());
			});
			//subscribe to changes in completed filter and filter activity data accordingly
			var completedCheckedSub = self.completedChecked.subscribe(function(newValue){
				filterActivityData('completed', newValue);
				sortActivityData(self.activitySortValue());
			});
			//subscribe to changes in activity sort value and sort activity data accordingly
			var activitySortValueSub = self.activitySortValue.subscribe(function(newValue){
				 sortActivityData(newValue);
			});

			//Filter the activity data based on selected filter value
			function filterActivityData(filter, isChecked){
				if(isChecked){
					//Add items to activity list when checked
					var checkedData = self.rawData.filter(function(item){
						//Skip milestone data
						if (item.getActivityType() === 'milestone') {
							return false;
						}
						//Skip non actionable activities
						if(item.getAvailableActions() && item.getAvailableActions().length <= 0){
							return false;
						}
						var state = item.getState();
						switch (filter){
							case 'available':
								return (state === 'AVAILABLE' || state === 'ENABLED' || state === 'DISABLED');
								break;
							case 'running':
								return (state === 'ACTIVE' || state === 'FAILED');
								break;
							case 'completed':
								return (state === 'COMPLETED' || state === 'TERMINATED');
								break;
						}
					});
					self.activityData(self.activityData().concat(checkedData));
				}else{
					//Remove items from activity list when unchecked
					var uncheckedData = self.activityData().filter(function(item){
						var state = item.getState();
						var retVal = true;
						switch (filter){
							case 'available':
								if (state === 'AVAILABLE' || state === 'ENABLED' || state === 'DISABLED'){
									retVal = false;
								}
								break;
							case 'running':
								if (state === 'ACTIVE' || state === 'FAILED'){
									retVal = false
								}
								break;
							case 'completed':
								if (state === 'COMPLETED' || state === 'TERMINATED'){
									retVal = false;
								}
								break;
						}
						return retVal;
					});
					self.activityData(uncheckedData ? uncheckedData : self.activityData());
				}
			}

			//Sort the activity data based on selected sort value
			function sortActivityData(sort){
				self.activityData.sort(function(a, b){
					var aData;
					var bData;
					switch(sort){
						case 'status':
							aData = a.getWeightage();
							bData = b.getWeightage();
							break;
						case 'stage':
							aData = a.getStageName();
							bData = b.getStageName();
							break;
					}
					if(aData > bData){
						return 1;
					}
					if(aData < bData){
						return -1;
					}
					return 0;
				});
			}

            //method to get the actviites list
            self.fetchActivitiesList = function() {
                var promise = $.Deferred();
                var param = {
                    'processInstanceId': self.instanceId()
                };
                service.fetchExecutionList(true, param).then(function(data) {
                    // loggerUtil.log(data);
                    self.populateData(data);
                    promise.resolve();
                }, function(rejected) {
                    self.showErrorRegion();
                });
                return promise;
            };


            /**
             * When the rest call fails
             */
            self.showErrorRegion = function() {
                $('#pcs-dp-act-error', element).show();
                $('#pcs-dp-act-accordion', element).hide();
            };


            // //Create the Refresh Event params data
            // function getRefreshEventParams(executionId, action) {
            //     //loggerUtil.log('firing event for refreshing data');
            //     return {
            //         'bubbles': true,
            //         'detail': {
            //             'executionId': executionId,
            //             'action': action
            //         }
            //     };
            // }

            function getConfirmationMsg(actionObject) {

                var msg ;
				if (actionObject.action === 'complete'){
					msg = self.bundle.pcs.dp.activity.forceCompleteMsg;
				}else{
					msg = self.bundle.pcs.dp.activity.actionConfirmMsg;
				}

                msg = msg.replace('{activity}', actionObject.activityName);
                msg = msg.replace('{actionType}', actionObject.actionDisplayName.toLowerCase());

                return msg;
            }


			/**
			 * Function called when action is clicked in the UI from menu
			 * @param data
			 * @param event
			 */
			self.performActivityActionSelection = function(actionObject, event) {
				var executionId = actionObject.executionId;
				var action = actionObject.action;

				if (action === 'drilldown'){
					var activity ={};
					$.each(self.actionableActivities(), function(index, item) {
						if(item.getExecutionId() === executionId){
							activity = item;
							return false;
						}
					});
					self.drillDown(activity);
				}else{
					self.performActivityAction(actionObject, event);
				}
			},

			/**
			 * Function called when action is clicked in the UI
             * @param data
             * @param event
             */
            self.performActivityAction = function(actionObject, event) {
                loggerUtil.log('performing action - ' + actionObject);

                // SHow message dialog containor
                if (actionObject.action === 'manual-start' || actionObject.action === 'complete') {
                    //set the pending action
                    self.pendingAction = actionObject;
                    self.actionConfirmMessage(getConfirmationMsg(actionObject));

                    $('#pcs-dp-act-confirm-dialog', element).ojDialog('open');

                } else {
                    self.handleActivityAction(actionObject);
                }

            };


            //Close the confirm dialog and execute action
            self.confirmActivityAction = function() {
                self.handleActivityAction(self.pendingAction);
                self.closeDialog();
            };


            /**
             * Function which perform the action on the backend
             * @param executionId
             * @param action
             */
            self.handleActivityAction = function(actionObject) {
				//Start the loading indicator
				$('#pcs-dp-act-overlay', element).addClass('pcs-common-load-overlay');

                var payload = {
                    action: actionObject.action
                };
                service.performActivityAction({
                    '{executionId}': actionObject.executionId
                }, payload).then(function() {

					//stop the loading indicator
					$('#pcs-dp-act-overlay', element).removeClass('pcs-common-load-overlay');

                    //Check if parent will handle the refresh
                    if (self.isConsumed()) {
                       // do nothing , parent will handle it
                    } else {
                        //handle in the component itself
                        self.fetchActivitiesList();

                    }

                    var params = {
						'bubbles': true,
						'detail': actionObject
					};

					// fire event
					element.dispatchEvent(new CustomEvent('dpactivity:actionPerformed', params));

                }).fail(function(error) {
					//stop the loading indicator
					$('#pcs-dp-act-overlay', element).removeClass('pcs-common-load-overlay');

					//Check if parent will handle the refresh
					if (self.isConsumed()) {
						// do nothing , parent will handle it
					} else {
						//handle in the component itself
						handleError(error);
					}

					actionObject.shortErrorMessage = error.shortMsg;
					actionObject.longErrorMessage =error.longMsg;
					var params = {
						'bubbles': true,
						'detail': actionObject
					};
					element.dispatchEvent(new CustomEvent('dpactivity:actionError', params));

                });
            };


            self.selectActionableActivity = function (data,event){
            	self.selectedExecutionId (data.getExecutionId());
			};

            /**
             * method to call when refresh icon is clicked
             */
            self.onRefreshBtnClick = function() {
                self.fetchActivitiesList();
				// fire event
				var params = {
					'bubbles': true
				};
				element.dispatchEvent(new CustomEvent('dpactivity:refreshData', params));
            };

            //method when user wants to drill to  activity
            self.drillDown = function(data) {
                var params = {
                    'bubbles': true,
                    'detail': {
                        'title': data.getActivityName(),
                        //'taskNumber' : data.geTaskId(), not pppulates , fetch from executionID
                        'id': data.getId(),
						'activityId': data.getActivityId(),
                        'type': data.getActivityType(),
                        'executionId': data.getExecutionId()
                    }
                };
                // loggerUtil.log('firing event for drilldown');
                element.dispatchEvent(new CustomEvent('dpactivity:drilldown', params));
            };


            //method to search as soon as user type
            function searchActivitiesList(searchtext) {
                var promise = $.Deferred();
                service.searchExecutionList(searchtext).then(function(data) {
                    // loggerUtil.log(data);
                    self.populateData(data);
                    promise.resolve();
                });
                return promise;
            }

            //method to search as soon as user type
            self.searchTextSubscription = self.searchText.subscribe(function(newValue) {
                searchActivitiesList(newValue);
            });


            //subscribe to changes in activity list
            if (self.properties.activities && ko.isObservable(self.properties.activities)) {
                self.activitiesSubscription = self.properties.activities.subscribe(function(newValue) {
                    self.populateData(newValue);
                });
            }

			//subscribe to activity selection
			if (self.properties.selectedexecutionid && ko.isObservable(self.properties.selectedexecutionid)) {
				self.selectedExecutionIdSubscription = self.properties.selectedexecutionid.subscribe(function(newValue) {
					self.selectedExecutionId(newValue);
				});
			}


            self.bindingsApplied = function() {
                //temp for Knockoutcomponet
                self.initContext();

                // element.addEventListener('instanceid-changed', self.instanceIdChanged);
                // element.addEventListener('activities-changed',self.activitiesChanged);
            };

            //Method called when instanceid change
            // self.instanceIdChanged = function(event) {
            //     var newVal = event.detail.value;
            //     self.instanceId(newVal);
            //     if (self.properties.activities) {
            //         // loggerUtil.log('do nothing');
            //         //do nothing
            //     } else {
            //         self.fetchActivitiesList();
            //     }
            // };

            //Method called when activities change
            //self.activitiesChanged = function(event){
            //    var newVal = event.detail.value;
            //    self.populateData(newVal);
            //};

            // Public method to modify activity list
            // self.modifyActivityList = function(activityList) {
            //     // loggerUtil.log('modifying activities');
            //     self.populateData(activityList);
            // };


            self.onCloseBtnClick = function() {
                var params = {
                    'bubbles': true,
                    'detail': {
                        'instanceId': self.instanceId()
                    }
                };
                // loggerUtil.log('firing event for drilldown');
                element.dispatchEvent(new CustomEvent('dpactivity:close', params));
            };

			self.onSearchBtnClick = function(data, event){
				self.isSearchTxtVisible() ? self.isSearchTxtVisible(false) : self.isSearchTxtVisible(true);
				if(!self.isSearchTxtVisible()){
					//Updating the observable doesnt clear text for rawValue, hence use OJ to set value
					$('#pcs-dp-act-filter-input', element).ojInputText({'value': ''});
					$('#pcs-dp-act-search', element).toggleClass('pcs-dp-act-search-visible');
				}else{
					$('#pcs-dp-act-search', element).toggleClass('pcs-dp-act-search-visible');
				}
			};


            //Dispose the computed,sbsrciption,event http://knockoutjs.com/documentation/component-binding.html
            self.dispose = function() {
                loggerUtil.log('dispose in dp activity');
                self.searchTextSubscription.dispose();
                if (self.activitiesSubscription) {
                    self.activitiesSubscription.dispose();
                }
                if(self.selectedExecutionIdSubscription){
                	self.activitiesSubscription.dispose();
				}
				if(availableCheckedSub){
					availableCheckedSub.dispose();
				}
				if(runningCheckedSub){
					runningCheckedSub.dispose();
				}
				if(completedCheckedSub){
					completedCheckedSub.dispose();
				}
				if(activitySortValueSub){
					activitySortValueSub.dispose();
				}

                //De-Subscribe to the events
            };

            // Temp call the bindingApplied for knockout component
            self.bindingsApplied();
        };
    }
);

/**
 * Created by nisabhar on 11/17/2016.
 */



define('pcs/dynamicProcess/activity/loader',['ojs/ojcore','knockout', '!text!pcs/dynamicProcess/activity/view/dpActivityView.html', './viewModel/dpActivityVM'],

    function(oj,ko, view, viewModel) {
        'use strict';
        // oj.Composite.register('pcs-dpactivity', {
        //     view: {
        //         inline: view
        //     },
        //     viewModel: {
        //         inline: viewModel
        //     },
        //     metadata: {
        //         inline: JSON.parse(metadata)
        //     }
        // });

        if (!ko.components.isRegistered('pcs-dpactivity')) {
            ko.components.register('pcs-dpactivity', {
                template: view,
                viewModel: {
                    createViewModel: function(params, componentInfo) {
                        return new viewModel(params, componentInfo);
                    }
                }
            });
        }
    }
);


define('text!pcs/dynamicProcess/data/view/dpDataView.html',[],function () { return '<div id="pcs-dp-data-form-container pcs-dp-font " class="oj-flex oj-sm-12" >\n    <!-- ko if: instanceId() -->\n\t<div class="oj-form-layout oj-flex oj-sm-12 pcs-dp-empty-watermark pcs-dp-display-none" id="pcs-dp-data-empty-containor">\n\t\t<div class="oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center" style="">\n\t\t\t<span class="pcs-dp-data-empty-data-icon"></span>\n\t\t</div>\n\t\t<div class="oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center">\n\t\t\t<span class="pcs-dp-empty-watermark-text" data-bind="text: \'No data associated with this instance\'" ></span>\n\t\t</div>\n\t</div>\n\n\t<div class="oj-form-layout pcs-dp-display-none" id="pcs-dp-data-error">\n\t\t<span style="margin:20px; color:red" data-bind="text: \'Error occurred while getting the data for this instance\'" ></span>\n\t</div>\n\n\t<div class="oj-row oj-flex oj-sm-12 " style="margin-top:10px" id="pcs-dp-data-list">\n\t\t<!-- ko foreach: variableList -->\n\t\t<div class="oj-xl-3 oj-lg-3 oj-md-4 oj-sm-6 oj-flex-item oj-flex pcs-common-center-align pcs-dp-data-variable-box">\n\t\t\t<div class="oj-flex  oj-sm-12 pcs-common-center-align pcs-dp-data-variable-container">\n\t\t\t\t<a data-bind="click:$parent.launchVariableDetail" class="oj-sm-12 pcs-dp-data-var-link">\n\t\t\t\t\t<!--<div data-bind="style : {background: $data.colorCode} , attr : {title : $data.variableName} "-->\n\t\t\t\t\t\t <!--class="pcs-dp-data-variable-link pcs-dp-data-var-holder-smaller" >-->\n\t\t\t\t\t\t<!--<span data-bind="text:$data.initials " class="pcs-dp-data-variable-initials"></span>-->\n\t\t\t\t\t<!--</div>-->\n\t\t\t\t\t<div class="pcs-common-center-align pcs-dp-data-var-icon"></div>\n\t\t\t\t</a>\n\t\t\t\t<a data-bind="click:$parent.launchVariableDetail" style=" text-decoration: none;cursor: pointer;" class="oj-sm-12">\n\t\t\t\t\t<div data-bind="text:$data.variableName" class=" pcs-dp-data-var-label"></div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- /ko -->\n\t</div>\n\n\t<div id="pcs-dp-data-input-container" class="oj-flex oj-sm-12">\n\t\t<div id="pcs-dp-data-input-label">\n\t\t\t<span class="pcs-dp-data-start-form-label" data-bind="text: \'Start Form\'"></span>\n\t\t</div>\n\t\t<div id="pcs-dp-data-form-frame" class="oj-flex oj-sm-12" >\n\t\t\t<div class="oj-sm-12 pcs-common-center-align" id="pcs-dp-data-loading">\n\t\t\t\t<div class="pcs-common-center-align pcs-common-loading"/>\n\t\t\t</div>\n\t\t\t<div class="oj-xl-12 oj-lg-12 oj-md-12 oj-col" id="pcs-dp-data-iframe-container" >\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="oj-flex oj-sm-12 pcs-dp-display-none" id="pcs-dp-data-form-error">\n\t\t\t<span class="oj-flex oj-sm-12" style="margin:20px; color:red" data-bind="text: \'Error occurred while getting the start form\'" ></span>\n\t\t</div>\n\t</div>\n\n\n    <!-- /ko -->\n    <!-- ko ifnot: instanceId() -->\n    <div style="color:red">Instance Id is missing</div>\n    <!-- /ko -->\n</div>\n\n\n<div id="pcs-dp-data-var-dialog" class="pcs-dp-dialog"\n\t data-bind="ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\',rootAttributes:{class:\'pcs-dp-dialog-custom\', style:\'width:400px\'}}">\n\t<div id="pcs-dp-data-var-header" class="oj-dialog-header oj-helper-clearfix pcs-dp-dialog-header">\n\t\t<span class="oj-dialog-title" data-bind="text: selectedVariableDialogTitle"></span>\n\t\t<span class="pcs-dp-dialog-close-btn">\n\t\t\t\t<button data-bind="click: closeVariableDialog,\n\t\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.close, display: \'icons\',\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-dialog-close-icon\'}\n\t\t\t\t\t\t\t\t}">\n\t\t\t\t</button>\n\t\t\t</span>\n\t</div>\n\t<div class="pcs-dp-dialog-body oj-dialog-body" id="pcs-dp-data-var-body">\n\t\t<div class="oj-sm-12 pcs-common-center-align" id="pcs-dp-data-var-body-loading">\n\t\t\t<div class="pcs-common-center-align pcs-common-loading"/>\n\t\t</div>\n\t\t<div id="pcs-dp-data-var-body-content"></div>\n\t</div>\n\t<div class="oj-dialog-footer pcs-dp-dialog-footer">\n\t\t<button data-bind="click:closeVariableDialog,\n                \tojComponent: {component: \'ojButton\', label: bundle.pcs.dp.common.cancel, chroming: \'full\',\n                \trootAttributes: {style: \'padding-left:13px;padding-right:13px;font-weight:normal\'}}"> </button>\n\t</div>\n</div>\n';});

/**
 * Created by nisabhar on 5/12/17.
 */

define('pcs/pcsform/PCSFormService',['require','pcs/util/pcsUtil'],function(require) {
	'use strict';
	var pcsUtil = require('pcs/util/pcsUtil');

	var paths = {
		//Excetue PCS form
		'executePCSFormRest': 'webforms/{formDefId}/executeRest/{restExecutionId}'
	};

	var replacePlaceHolders = function(str, paramsObj) {
		return str.replace(/{\w+}/g,
			function(placeHolder) {
				return paramsObj[placeHolder];
			}
		);
	};

	//callback to set authorization request header for every call
	var beforeRequestCallback = function(xhr) {
		pcsUtil.beforeRequestCallback(xhr,pcsUtil);
	};


	// wrapper function for HTTP POST
	var doPost = function(url, payload) {

		var bytes = new Uint8Array(payload.length);
		for (var i = 0; i < payload.length; i++) {
			bytes[i] = payload.charCodeAt(i);
		}
		return $.ajax({
			type: 'POST',
			url: url,
			cache: false,
			processData: false,
			data: bytes,
			beforeSend: beforeRequestCallback,
			// xhrFields: {
			// 	withCredentials: true
			// },
			contentType: 'application/json'
		});
	};

	var doRestGet = function(url, params) {

		return $.ajax({
			url: url,
			type: 'GET',
			dataType: 'json',
			data: params,
			beforeSend: beforeRequestCallback,
			// xhrFields: {
			// 	withCredentials: true
			// },
			contentType: 'application/json',
			cache: false
		});
	};


	//making it a singleton
	var instance;

	function CreateInstance(options) {
		var _state = {};

		return {

			getFormMetaData: function (url) {

				var promise = $.Deferred();

				if ( _state.form && _state.form[url]) {
					promise.resolve(_state.form[url]);
					return promise;
				}

				var options = {};
				doRestGet(url).done(function (data) {

					if (_state.form === undefined) {
						_state.form = {};
					}
					_state.form[url] = data;
					promise.resolve(data);
				}).fail(function (error) {
					promise.reject(error);
				});

				return promise;
			},

			getFormMetaDataByURL: function (formMetadataUrl) {
				return doRestGet(formMetadataUrl);
			},

			executePCSFormRest: function (params, payload) {
				var serverPath = pcsUtil.getRestURL() + paths.executePCSFormRest;
				serverPath = replacePlaceHolders(serverPath, params);
				return doPost(serverPath, payload);
			},

			executeRest: function (restAPI, payload) {
				var serverPath = pcsUtil.getRestURL() + restAPI;
				return doRestGet(serverPath, payload);
			}
		};
	}

	return {
		getInstance: function(options) {
			if (!instance) {
				instance = new CreateInstance(options);
			}
			return instance;
		}
	};

});

define("forms.renderer", ["underscore","knockout","jquery","ojL10n!rendererMsg/nls/renderer","ojs/ojcore","ojs/ojknockout","ojs/ojcollapsible","ojs/ojprogressbar","ojs/ojmenu","ojs/ojtabs","ojs/ojaccordion","ojs/ojcheckboxset","ojs/ojradioset","ojs/ojselectcombobox","ojs/ojinputnumber","ojs/ojdatetimepicker","ojs/ojknockout-validation","ojidentity"], function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_118__, __WEBPACK_EXTERNAL_MODULE_156__, __WEBPACK_EXTERNAL_MODULE_277__, __WEBPACK_EXTERNAL_MODULE_338__, __WEBPACK_EXTERNAL_MODULE_379__, __WEBPACK_EXTERNAL_MODULE_380__, __WEBPACK_EXTERNAL_MODULE_451__, __WEBPACK_EXTERNAL_MODULE_452__, __WEBPACK_EXTERNAL_MODULE_453__, __WEBPACK_EXTERNAL_MODULE_454__, __WEBPACK_EXTERNAL_MODULE_455__, __WEBPACK_EXTERNAL_MODULE_456__, __WEBPACK_EXTERNAL_MODULE_457__) { return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "resources/js/node_modules/forms.renderer/dist/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 164);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_0__;

/***/ }),
/* 1 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_1__;

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_2__;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(195)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_getPrototypeOf) {
	'use strict';

	var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {
		'use strict';

		var _ = __webpack_require__(0);

		var initializing = false,

		//Inspired by John Ressig, detects if test treats a function like a String
		fnTest = /xyz/.test(function () {
			xyz;
		}) ? /\b_super\b/ : /.*/,

		/**
   * Augments an object prototype with the properties of another object. If a new property overwrites an existing
   * property of the target object it search for the existence of a _super method. If found, then bounds an
   * anonymous function with the super method.
   */
		_include = function _include(proto, _super, obj) {
			for (var k in obj) {
				proto[k] = typeof obj[k] === 'function' && typeof _super[k] === 'function' && fnTest.test(obj[k]) ? function (name, fn) {
					return function () {
						var tmp = this._super;
						this._super = _super[name];
						var ret = fn.apply(this, arguments);
						this._super = tmp;
						return ret;
					};
				}(k, obj[k]) : obj[k];
			}
		},
		    _extend = function _extend(parent, obj) {
			for (var k in obj) {
				parent[k] = obj[k];
			}
		};
		//Base Class
		var $Class = function $Class() {};
		/**
   * Takes a class and creates a derived class with the augmented static and instance members. If init function
   * is passed as a property in members it becomes the implicit constructor of the class instance. if <code>_super</code>
   * is found in any member function that overwrites a parent function(<code>init</code> included) is found then
   * is bound to the same function of the parent
   *
   * @param statics static class members
   * @param members instance members. If a property init is passed as a function then it initializes the instance
   * @return {Function}
   */

		var PROTECTED = '_protected';

		$Class.subClass = function subClass(statics, members) {
			var _super = this.prototype;
			initializing = true;
			var prototype = new this();
			initializing = false;

			/**
    * If the class has a _protected member object (with the protected variables inside)
    * then the subclasses _protected variables will be merged with the fathers protected variables.
    * NOTE: The protected objects will not be merged, the leave will be predominant.
    * @see ClassesSpec.js
    */
			function mergeProtected(obj) {
				// Gets the first parent Class
				var proto = (0, _getPrototypeOf2.default)((0, _getPrototypeOf2.default)(obj));
				while (proto) {
					if (_.has(proto, PROTECTED)) {
						// we copy the father protected because the _extend overwrites it
						var copy = _(proto[PROTECTED]).clone();
						obj[PROTECTED] = _.extend(proto[PROTECTED], obj[PROTECTED]);
						proto[PROTECTED] = copy;
					}
					// to continue with the prototypal chain of Classes
					proto = (0, _getPrototypeOf2.default)(proto);
				}
			}

			/**
    * If the class has an array member
    * then the subclasses array variables will be union with the fathers arrays.
    * @see ClassesSpec.js
    */
			function mergeArray(obj, arrayKey) {
				// Gets the first parent Class
				var proto = (0, _getPrototypeOf2.default)((0, _getPrototypeOf2.default)(obj));
				while (proto) {
					if (_.has(proto, arrayKey)) {
						// we copy the father protected because the _extend overwrites it
						var copy = _(proto[arrayKey]).clone();
						obj[arrayKey] = _.union(proto[arrayKey], obj[arrayKey]);
						proto[arrayKey] = copy;
					}
					// to continue with the prototypal chain of Classes
					proto = (0, _getPrototypeOf2.default)(proto);
				}
			}

			function Class() {
				if (!initializing && this.init) {

					for (var key in this) {
						//this iteration is correctly iterating over non members of this
						if (!_.isFunction(this[key])) {
							this[key] = _(this[key]).clone();
							if (key === PROTECTED) {
								mergeProtected(this);
							} else if (_.isArray(this[key])) {
								mergeArray(this, key);
							}
						}
					}
					this._class = Class;
					this.init.apply(this, arguments);
				}
			}
			if (this._super) {
				_extend(Class, this);
			}
			if (statics) {
				_extend(Class, statics);
			}
			if (members) {
				_include(prototype, this.prototype, members);
			}
			Class.prototype = prototype;
			Class.prototype.constructor = Class;
			Class._super = _super;
			Class.subClass = subClass;
			Class.extend = $Class.extend;
			Class.include = $Class.include;
			Class.prototype.parent = function (clazz, functionName) {
				// take all the arguments after functionName
				var args = Array.prototype.slice.call(arguments, 2);
				// call the function on super's prototype
				clazz.prototype[functionName].apply(this, args);
			};
			Class.prototype.proxy = function (fn) {
				var ctx = this;
				return function () {
					return fn.apply(ctx, arguments);
				};
			};
			Class.prototype.extend = function (obj) {
				_extend(this, obj);
			};
			Class.proxy = function (fn) {
				var ctx = this;
				return function () {
					return fn.apply(ctx, arguments);
				};
			};
			return Class;
		};
		/**
   * Extends the class with static members from obj
   * @param obj Mixed Object
   */
		$Class.extend = function (obj) {
			_extend(this, obj);
		};
		/**
   * Extends the class prototype with members from obj. Uses the same mechanics that subClass for _super binding
   * @param obj Mixed Object
   */
		$Class.include = function (obj) {
			_include.call(this, this.prototype, this._super, obj);
		};

		function createInit(init1, init2) {
			return function () {
				init1.apply(this, arguments);
				//init2.apply(this, arguments);
			};
		}

		$Class.extendClass = function (parent, obj) {
			for (var k in obj) {
				if (k === 'init') {
					parent[k] = createInit(parent[k], obj[k]);
				} else {
					parent[k] = parent[k] ? parent[k] : obj[k];
				}
			}
		};

		//Expose the class to the glabal module
		return $Class;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {

		'use strict';

		return {
			'FORM_PRESENTATION': 'FORM_PRESENTATION',
			'INPUT_TEXT': 'INPUT_TEXT',
			'TEXT_AREA': 'TEXT_AREA',
			'BUTTON': 'BUTTON',
			'SELECT': 'SELECT',
			'CHECKLIST': 'CHECKLIST',
			'CHECKBOX': 'CHECKBOX',
			'RADIO_BUTTON': 'RADIO_BUTTON',
			'NUMBER': 'NUMBER',
			'DATE': 'DATE',
			'TIME': 'TIME',
			'DATE_TIME': 'DATE_TIME',
			'EMAIL': 'EMAIL',
			'URL': 'URL',
			'MESSAGE': 'MESSAGE',
			'LINK': 'LINK',
			'MONEY': 'MONEY',
			'PHONE': 'PHONE',
			'IMAGE': 'IMAGE',
			'VIDEO': 'VIDEO',
			'IDENTITY_BROWSER': 'IDENTITY_BROWSER',
			'ROW': 'ROW',
			'PANEL': 'PANEL',
			'FORM_REFERENCE': 'FORM_REFERENCE',
			'SECTION': 'SECTION',
			'TAB': 'TAB',
			'TAB_CONTAINER': 'TAB_CONTAINER',
			'REPEATABLE_SECTION': 'REPEATABLE_SECTION',
			'REPEATABLE_SECTION_ROW': 'REPEATABLE_SECTION_ROW',
			'TABLE': 'TABLE',
			'TABLE_COLUMN': 'TABLE_COLUMN',
			'TABLE_ROW': 'TABLE_ROW',
			'BUSINESS_TYPE': 'BUSINESS_TYPE',
			'ENUM_SELECT': 'ENUM_SELECT',
			'STRING_REPEATABLE_SECTION': 'STRING_REPEATABLE_SECTION',
			'NUMBER_REPEATABLE_SECTION': 'NUMBER_REPEATABLE_SECTION',
			'BOOLEAN_REPEATABLE_SECTION': 'BOOLEAN_REPEATABLE_SECTION',
			'DATE_REPEATABLE_SECTION': 'DATE_REPEATABLE_SECTION',
			'TIME_REPEATABLE_SECTION': 'TIME_REPEATABLE_SECTION',
			'DATE_TIME_REPEATABLE_SECTION': 'DATE_TIME_REPEATABLE_SECTION'
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 5 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_5__;

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(170), __esModule: true };

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_7__;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);

		//endregion

		return Class.subClass({
			ACTION_NAME: 'DO_NOTHING'
		}, {
			init: function init(model, viewModel, scope, control) {
				this.viewModel = viewModel;
				this.scope = scope;
			},

			getType: function getType() {
				return this._class.ACTION_NAME;
			},

			template: function template() {
				return false;
			},
			component: function component() {
				return false;
			},

			execute: function execute(component) {
				//do nothing
			},

			toJS: function toJS() {
				return {
					type: this.getType()
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */
		//region dependencies

		var Class = __webpack_require__(3),
		    UUID = __webpack_require__(17),
		    EventActionsMap = __webpack_require__(86),
		    ControlPropertiesMap = __webpack_require__(87),
		    StyleControlMapper = __webpack_require__(144),
		    TranslatablePropertiesMap = __webpack_require__(145),
		    _ = __webpack_require__(0),
		    EventReference = __webpack_require__(146),
		    ColumnSpanType = __webpack_require__(147),
		    ControlEventsMap = __webpack_require__(149),
		    Value = __webpack_require__(15),
		    ValidationHelper = __webpack_require__(76),
		    koToJSUtil = __webpack_require__(21),
		    ko = __webpack_require__(1);

		__webpack_require__(338);

		//endregion
		return Class.subClass({}, {
			_parent: null,
			isValid: null,
			_registerProperties: function _registerProperties(container, element, properties) {
				for (var propertyName in element) {
					/* istanbul ignore else */
					if (element.hasOwnProperty(propertyName)) {
						var property = element[propertyName];
						container[propertyName] = property instanceof Function ? property(container, properties) : property;
					}
				}
			},
			/* jshint maxparams: 6 */
			init: function init(id, name, type, properties, context, parent) {

				//common properties
				this.id = id || UUID.createUuid();
				this.name = ko.observable(name); //ko.observable(type.id + '_' + this.id);
				this.type = type.id;
				this.validationHelper = ValidationHelper;
				this.context = context;
				this._parent = parent;
				this.isValid = ko.observable(true);

				//properties derived from specific type
				this._registerProperties(this, type.properties(), properties);
				//properties based on context (renderer or builder context
				this._registerProperties(this, context.properties(), properties);
				// Styles associated with the control.
				this.styles = this.styleHandler.getAllStyles(this, properties);
				//properties for the particular type
				var defaults = {
					position: 0,
					isRoot: false,
					label: name,
					autoFocus: false,
					disabled: false,
					required: false,
					hide: false,
					parsedStyle: '',
					formattedStyle: {},
					isBindable: type.isBindable(),
					binding: '',
					autoColSpan: true,
					connectorMapping: '',
					events: [],
					computed: false,
					filterEnabled: false,
					originalId: null,
					computedValue: null,
					hideBindings: false
				};
				defaults[ColumnSpanType.SMALL.propertyName] = 1;
				defaults[ColumnSpanType.MEDIUM.propertyName] = 1;
				defaults[ColumnSpanType.LARGE.propertyName] = 1;
				defaults[ColumnSpanType.EXTRA_LARGE.propertyName] = 1;

				_.defaults(properties, defaults);

				//TODO are position and isRoot necessary? (to be answered when doing layout stories)
				this.properties = {
					position: ko.observable(properties.position),
					isRoot: ko.observable(properties.isRoot),
					label: ko.observable(properties.label),
					autoFocus: ko.observable(properties.autoFocus),
					disabled: ko.observable(properties.disabled),
					required: ko.observable(properties.required),
					hide: ko.observable(properties.hide),
					parsedStyle: ko.observable(properties.parsedStyle),
					formattedStyle: ko.observable(properties.formattedStyle),
					isBindable: ko.observable(properties.isBindable),
					binding: ko.observable(properties.binding),
					autoColSpan: ko.observable(properties.autoColSpan),
					connectorMapping: ko.observable(properties.connectorMapping),
					computed: ko.observable(properties.computed),
					filterEnabled: ko.observable(properties.filterEnabled),
					originalId: properties.originalId,
					hideBindings: ko.observable(properties.hideBindings)
				};

				this.properties[ColumnSpanType.SMALL.propertyName] = ko.observable(properties[ColumnSpanType.SMALL.propertyName]);
				this.properties[ColumnSpanType.MEDIUM.propertyName] = ko.observable(properties[ColumnSpanType.MEDIUM.propertyName]);
				this.properties[ColumnSpanType.LARGE.propertyName] = ko.observable(properties[ColumnSpanType.LARGE.propertyName]);
				this.properties[ColumnSpanType.EXTRA_LARGE.propertyName] = ko.observable(properties[ColumnSpanType.EXTRA_LARGE.propertyName]);

				this.properties.formattedStyle = this.styleHandler.getFormattedStyle(this);
				this.properties.parsedStyle = this.styleHandler.getParsedStyle(this);

				var events = [];
				_.each(ko.unwrap(properties.events), function (event) {
					events.push(new EventReference(event.id, context.viewModel));
				}, this);
				this.events = ko.observableArray(events);

				var scope = new context.scopeFactory.Scope(context.viewModel.getCurrentGlobalScope());
				scope.controlId = this.id;
				this.properties.computedValue = new Value(properties.computedValue, context.viewModel, scope);
			},
			executeEvent: function executeEvent(trigger) {
				var events = [];
				_.each(this.events(), function (eventRef) {
					var eventTrigger = eventRef.event().trigger;
					if (trigger === eventTrigger()) {
						events.push(eventRef.execute(this));
					}
				}, this);
				this.context.viewModel.dependenciesExtension.reEvaluateOnControl(trigger, this);
				return _promise2.default.all(events);
			},
			findClosest: function findClosest(id) {
				return this.getParent().findClosest(id);
			},
			hasValueProperty: function hasValueProperty() {
				return true;
			},
			executeEventOnAll: function executeEventOnAll(trigger) {
				return this.executeEvent(trigger);
			},
			getValidEvents: function getValidEvents() {
				return ControlEventsMap[this.type];
			},
			makeCopy: function makeCopy() {
				var copy = this.toJS();
				copy.properties.originalId = this.properties.originalId ? this.properties.originalId : copy.id;
				copy.id = UUID.createUuid();
				if (this.controls) {
					var controls = [];
					_.each(this.controls(), function (control) {
						controls.push(control.makeCopy());
					});
					copy.controls = controls;
				}
				return copy;
			},
			getConnectorCall: function getConnectorCall() {
				return false;
			},
			isRepeatable: function isRepeatable() {
				return false;
			},
			getParent: function getParent() {
				return this._parent;
			},
			getFullBinding: function getFullBinding() {
				return this.getBindingContext() + this.properties.binding();
			},
			getBindingContext: function getBindingContext() {
				return this.getParent() ? this.getParent().getContextForChildren(this) : '';
			},
			getDataTemplate: function getDataTemplate() {
				return 'constantValueTypeTemplate';
			},
			getContextForChildren: function getContextForChildren(child) {
				return this.getBindingContext();
			},
			hasStyle: function hasStyle() {
				return this.styles().length > 0;
			},
			getStyleMapper: function getStyleMapper() {
				return StyleControlMapper[this.type];
			},
			getControlActions: function getControlActions() {
				return EventActionsMap[this.type];
			},
			getControlEventProperties: function getControlEventProperties() {
				return ControlPropertiesMap[this.type];
			},
			getTranslatableProperties: function getTranslatableProperties() {
				return TranslatablePropertiesMap[this.type];
			},
			//Overridable empty function
			saveValue: function saveValue() {},
			/**
    * Adds a custom error to the control and forces a validation
    * @param summary
    * @param detail
    */
			setError: function setError(summary, detail) {
				var ojComponentWidgetRef = this.getOjComponent();
				ojComponentWidgetRef('option', 'messagesCustom', [{
					summary: summary,
					detail: detail
				}]);
				this.validate();
			},
			_propertiesToJS: function _propertiesToJS() {
				return koToJSUtil.toJS(this.properties);
			},
			toJS: function toJS() {
				var events = [];
				_.each(this.events(), function (event) {
					events.push(event.toJS());
				});
				return {
					id: this.id,
					name: this.name(),
					type: this.type,
					properties: _.extend({}, this._propertiesToJS(), {
						events: events,
						computedValue: this.properties.computedValue.toJS()
					})
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    _ = __webpack_require__(0);

		//endregion

		return Class.subClass({}, {
			init: function init(id, dependencies) {
				this.id = id;
				this._dependencies = dependencies || [];
			},
			decorate: function decorate(control, context) {
				//check if the dependencies were applied, failed if not.
				_.each(this.dependencies(), function (dependency) {
					if (!dependency.isApplied(control)) {
						throw new Error('Need ' + dependency.id + 'to use decorator:' + this.id);
					}
				}, this);
				this._decorate(control, context);
			},
			_decorate: function _decorate(control, context) {
				throw new Error('Unsupported Operation Exception');
			},
			dependencies: function dependencies() {
				return this._dependencies;
			},
			isApplied: function isApplied(control) {
				throw new Error('Unsupported Operation Exception');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 11 */
/***/ (function(module, exports) {

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

var store = __webpack_require__(71)('wks');
var uid = __webpack_require__(55);
var Symbol = __webpack_require__(11).Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;


/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {
		'use strict';

		var Enum = __webpack_require__(112),
		    ControlTypeId = __webpack_require__(4);

		return Enum.subClass({

			ARRAY: {
				name: 'ARRAY',
				defaultControl: null
			},
			BOOLEAN: {
				name: 'BOOLEAN',
				defaultControl: ControlTypeId.CHECKBOX
			},
			DATE_TIME: {
				name: 'DATE_TIME',
				defaultControl: ControlTypeId.DATE_TIME
			},
			DATE: {
				name: 'DATE',
				defaultControl: ControlTypeId.DATE
			},
			ENUM: {
				name: 'ENUM',
				defaultControl: ControlTypeId.ENUM_SELECT
			},
			NUMBER: {
				name: 'NUMBER',
				defaultControl: ControlTypeId.NUMBER
			},
			OBJECT: {
				name: 'OBJECT',
				defaultControl: ControlTypeId.SECTION
			},
			OBJECT_REF: {
				name: 'OBJECT_REF',
				defaultControl: null
			},
			STRING: {
				name: 'STRING',
				defaultControl: ControlTypeId.INPUT_TEXT
			},
			TIME: {
				name: 'TIME',
				defaultControl: ControlTypeId.TIME
			},
			UNKNOWN: {
				name: 'UNKNOWN',
				defaultControl: null
			},
			equals: function equals(type1, type2) {
				return type1.name === type2.name;
			}

		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		var msg = __webpack_require__(5);

		return {
			ON_LOAD: {
				value: 'ON_LOAD',
				label: msg.ON_LOAD,
				event: 'load'
			},
			ON_CHANGE: {
				value: 'ON_CHANGE',
				label: msg.ON_CHANGE,
				event: 'change'
			},
			ON_FOCUS: {
				value: 'ON_FOCUS',
				label: msg.ON_FOCUS,
				event: 'focus'
			},
			ON_BLUR: {
				value: 'ON_BLUR',
				label: msg.ON_BLUR,
				event: 'blur'
			},
			ON_EXPAND_TOGGLE: {
				value: 'ON_EXPAND_TOGGLE',
				label: msg.ON_EXPAND_TOGGLE,
				event: 'expand'
			},
			ON_EXPAND: {
				value: 'ON_EXPAND',
				label: msg.ON_EXPAND,
				event: 'expand'
			},
			ON_COLLAPSE: {
				value: 'ON_COLLAPSE',
				label: msg.ON_COLLAPSE,
				event: 'expand'
			},
			ON_SELECTION_CHANGE: {
				value: 'ON_SELECTION_CHANGE',
				label: msg.ON_SELECTION_CHANGE,
				event: 'selectionChange'
			},
			ON_SELECTED: {
				value: 'ON_SELECTED',
				label: msg.ON_SELECTED,
				event: 'ojselect'
			},
			ON_UNSELECTED: {
				value: 'ON_UNSELECTED',
				label: msg.ON_UNSELECTED,
				event: 'ojdeselect'
			},
			ON_CLICK: {
				value: 'ON_CLICK',
				label: msg.ON_CLICK,
				event: 'click'
			},
			ON_SUBMIT: {
				value: 'ON_SUBMIT',
				label: msg.ON_SUBMIT,
				event: 'submit'
			},
			ON_ADD_ROW: {
				value: 'ON_ADD_ROW',
				label: msg.ON_ADD_ROW,
				event: 'addRow'
			},
			ON_REMOVE_ROW: {
				value: 'ON_REMOVE_ROW',
				label: msg.ON_REMOVE_ROW,
				event: 'removeRow'
			},
			ON_CHILDREN_CHANGE: {
				value: 'ON_CHILDREN_CHANGE',
				label: 'ON_CHILDREN_CHANGE',
				event: 'childrenChange'
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    FormsLogger = __webpack_require__(20),
		    PropertiesMap = __webpack_require__(77),
		    FunctionsMap = __webpack_require__(231),
		    DotExpressionResolver = __webpack_require__(23),
		    ValueTypes = __webpack_require__(61);

		//endregion
		var Value = Class.subClass({}, {
			type: null,
			expression: null,
			controlResolver: null,
			propertyParam: [],
			controlId: null,
			mapped: null,

			init: function init(model, viewModel, scope) {
				var defaults = _.extend({
					expression: '',
					propertyParam: [],
					type: ValueTypes.CONSTANT.value,
					controlResolver: {},
					mapped: '',
					controlId: null
				}, model);
				if (viewModel.context && viewModel.context.config && viewModel.context.config()) {
					this.translationsHandler = viewModel.context.config().translationsHandler;
				}

				this.viewModel = viewModel;
				this._translationIndex = 0; //translations for Value are stored in form of array. So index to iterate over it
				this.expression = ko.observable(defaults.expression);
				this.mapped = ko.observable(defaults.mapped);

				var params = [];
				_.each(defaults.propertyParam, function (param) {
					params.push(new Value(param, viewModel, scope));
				});
				this.propertyParam = ko.observableArray(params);

				var ControlResolver = __webpack_require__(119);

				this.type = ko.observable(ValueTypes[defaults.type]);
				this.controlResolver = new ControlResolver(defaults.controlResolver, viewModel, scope);
				this.scope = scope;

				this.control = ko.observable();
				this.controlId = defaults.controlId;
				if (this.controlId !== null) {
					if (viewModel.form()) {
						this.control(viewModel.form().findControl(this.controlId));
					}
					var subs = viewModel.form.subscribe(function (form) {
						this.control(form.findControl(this.controlId));
						subs.dispose();
					}.bind(this));
				}
			},

			getTemplate: function getTemplate() {
				var template = this.type().template;
				if (!template) {
					if (this.control()) {
						return this.control().getDataTemplate();
					} else {
						return 'constantValueTypeTemplate';
					}
				}
				return template;
			},

			toJS: function toJS() {
				var params = [];
				_.each(this.propertyParam(), function (param) {
					params.push(param.toJS());
				});
				return {
					expression: this.expression(),
					propertyParam: params,
					controlResolver: this.controlResolver.toJS(),
					type: this.type().value,
					mapped: this.mapped(),
					controlId: this.controlId
				};
			},

			_resolveMap: function _resolveMap(viewModel, value) {
				var _this = this;

				if (_.isArray(value) && this.mapped().length > 0) {
					return _.map(value, function (entry) {
						return ko.unwrap(entry[_this.mapped()]);
					});
				}
				return value;
			},

			resolve: function resolve(viewModel) {
				return this._resolveMap(viewModel, this[this.type().resolveFunction](viewModel));
			},

			_checkBundle: function _checkBundle(blockId, valueObj) {
				/* istanbul ignore else */
				if (this.translationsHandler) {
					var value = this.translationsHandler.getKeyProperty(blockId, valueObj._translationIndex);

					// For complex value such as when value.type= function, we need to iterate its propertyParam, so iterating over bundle
					//array. _translationindex keeps the check of index to be iterate and value object is common object used while iterating a single value.
					if (value) {
						valueObj._translationIndex = valueObj._translationIndex + 1;
						return value;
					}
				}
			},

			_resolveConstant: function _resolveConstant(viewModel) {
				return this.expression();
			},

			_resolveData: function _resolveData(viewModel) {
				return ko.unwrap(viewModel.context.payloadContext.getObservableValue(this.expression()));
			},

			_resolveControl: function _resolveControl(viewModel) {
				var form = viewModel.form();
				var control = this.controlResolver.resolve(form.presentation(), this.scope.eventControl);
				var property = PropertiesMap[this.expression()] || PropertiesMap.VALUE;
				if (control) {

					var params = [];
					_.each(this.propertyParam(), function (param) {
						params.push(param.resolve(viewModel));
					});
					//If there are multiple controls, map the values and return an array
					if (_.isArray(control)) {
						return _.map(control, function (ctrl) {
							return property.getValue.apply(property, [ctrl].concat(params));
						});
					} else {
						return property.getValue.apply(property, [control].concat(params));
					}
				} else {
					FormsLogger.getLogger().error('User Events Error: Value couldn\'t be resolved.');
				}
			},

			_resolveFunction: function _resolveFunction(viewModel) {
				var func = FunctionsMap[this.expression()];

				var params = [];
				_.each(this.propertyParam(), function (param) {
					params.push(param.resolve(viewModel));
				});
				return func.resolve.apply(func, params);
			},

			_resolveScope: function _resolveScope(viewModel) {
				return this.scope.getValue(this.expression());
			},

			_resolveFilter: function _resolveFilter(viewModel) {
				var filteredResponse = this.scope.getValue(this.expression());
				/* istanbul ignore else */
				if (filteredResponse && filteredResponse.length > 0) {
					var index = this.propertyParam()[0].resolve(viewModel);
					if (index !== '' && filteredResponse[index]) {
						return DotExpressionResolver.getValue(filteredResponse[index], this.mapped());
					}
					return this.mapped() ? DotExpressionResolver.getValue(filteredResponse, this.mapped()) : filteredResponse;
				}
			},

			_getBundle: function _getBundle() {
				var bundleArr = [];
				if (this.type().value === ValueTypes.CONSTANT.value) {
					bundleArr.push(this.expression());
				} else if (this.type().value === ValueTypes.FUNCTION.value) {
					_.each(this.propertyParam(), function (param) {
						bundleArr = _.union(bundleArr, param._getBundle());
					});
				}
				return bundleArr;
			},

			decorate: function decorate(viewModel, blockId, valueObj) {
				valueObj = valueObj || this;

				// Check decorateFunction for this value type i.e. decorate a constant or decorate a function
				var decorateFunction = this.type().decorateFunction;
				if (decorateFunction) {
					this[decorateFunction](viewModel, blockId, valueObj);
				}
			},

			_decorateConstant: function _decorateConstant(viewModel, blockId, valueObj) {
				this.expression(this._checkBundle(blockId, valueObj) || this.expression());
			},

			_decorateFunction: function _decorateFunction(viewModel, blockId, valueObj) {

				_.each(this.propertyParam(), function (param) {
					param.decorate(viewModel, blockId, valueObj);
				});
			},

			getParameterCount: function getParameterCount() {
				if (this.type() === ValueTypes.CONTROL) {
					return PropertiesMap[this.expression()].params;
				}
				if (this.type() === ValueTypes.FUNCTION) {
					return FunctionsMap[this.expression()].params.length;
				}
				if (this.type() === ValueTypes.FILTER) {
					return 1;
				}
				return 0;
			}
		});

		return Value;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);

		//endregion

		return Class.subClass({}, {
			value: '',
			label: '',
			accessor: '',
			params: 0,
			init: function init(value, label, accessor) {
				this.value = value;
				this.label = label;
				this.accessor = accessor;
			},

			template: function template() {
				return false;
			},

			getValue: function getValue(control) {
				return control.properties[this.accessor]();
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
		'use strict';

		return {
			createUuid: function createUuid() {
				function s4() {
					return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
				}
				return [s4() + s4(), s4(), s4(), s4(), s4() + s4() + s4()].join('-');
			},
			createSafeUuid: function createSafeUuid() {
				var id = 'ACT' + this.createUuid();
				return id.replace(/-/g, '');
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 18 */
/***/ (function(module, exports) {

var core = module.exports = { version: '2.5.3' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef


/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    ValueHelper = __webpack_require__(49);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('VALUE', dependencies);
			},
			_decorate: function _decorate(control) {
				this._doDecorate(control);
				control.initValue(control.value());
			},
			_doDecorate: function _doDecorate(control) {
				control.rawValue = ko.observable();
				if (control.type !== 'FORM_REFERENCE') {
					control.value = control.context.payloadContext.getObservableForBinding(control);
				} else {
					control.value = ko.observable({});
				}

				control._isNullEmptyOrUndefined = function (val) {
					return ValueHelper.isNullEmptyOrUndefined(val);
				};

				control.getControlValue = function () {
					var rawValue = control._getRawValue();

					var finalValue = ko.utils.unwrapObservable(control.value);

					//check if valid is present first and then check if the control is valid.
					var valid = !control.validate || control.validate();

					// if the value is not valid, we should return the rawValue
					if (!valid) {
						finalValue = rawValue;
					}

					return finalValue;
				};
				control.initValue = function (value) {
					var val = control._isNullEmptyOrUndefined(value) ? ko.unwrap(control.properties.defaultValue) : value;
					control.setValue(val);
				};
				control.setValue = function (value) {

					//Set the rawValue as well, to have them sync
					if (!control.rendered || !control.rendered()) {
						control.rawValue(value);
					} else {
						//If the element is already rendered, we need to set the value to jet directly
						control.getOjComponent()('option', 'value', value);
					}
					control.value(value);
				};
				control._getRawValue = function () {
					return ko.utils.unwrapObservable(control.rawValue);
				};

				/**
     * saves the current value into saveData[binding]
     * but if the control is invalid and [binding] has already been set
     * 	(ie. another control with same binding) the value is not overwritten
     * @param saveData
     */
				control.saveValue = function (saveData) {

					var binding = control.context.payloadContext.getFullBindingContextFor(control);
					if (!_.isEmpty(binding)) {
						var value = control.getControlValue();

						if (control.isValid() || _.isUndefined(saveData[binding])) {
							saveData[binding] = value;
						}
						//If the control is not valid and saveData[binding] has already been set
						//don't save the value
						//This means that some values are NOT saved
						//The invalid ones if the control shares a binding with another valid
					}
				};
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('value');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);

		/*globals console */
		//end region

		var FormsLogger = Class.subClass({
			logger: null,
			getLogger: function getLogger() {
				if (!FormsLogger.logger) {
					FormsLogger.logger = new FormsLogger();
				}
				return FormsLogger.logger;
			}
		}, {
			init: function init() {
				this.debug = window.formLoggerEnabled;
			},
			log: function log(value) {
				if (this.debug) {
					console.log(value); // eslint-disable-line no-console
				}
			},
			error: function error(value) {
				console.error(value); // eslint-disable-line no-console
			},
			count: function count(value) {
				if (this.debug) {
					console.count(value); // eslint-disable-line no-console
				}
			},
			time: function time(value) {
				if (this.debug) {
					console.time(value); // eslint-disable-line no-console
				}
			},
			timeEnd: function timeEnd(value) {
				if (this.debug) {
					console.timeEnd(value); // eslint-disable-line no-console
				}
			}
		});

		return FormsLogger;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ValueHelper = __webpack_require__(49),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1);

		//endregion

		function unwrapValue(value) {
			value = ko.unwrap(value);
			if (value && value.toJS) {
				return value.toJS();
			} else {
				return value;
			}
		}

		return Class.subClass({
			toJS: function toJS(object) {
				var js = _.isArray(object) ? [] : {};
				_.each(object, function (value, key) {
					js[key] = unwrapValue(value);
					if (_.isObject(js[key])) {
						js[key] = this.toJS(js[key]);
					}
				}, this);
				return js;
			},
			//TODO unify this with toJS
			toMinJS: function toMinJS(object) {
				var js = _.isArray(object) ? [] : {};
				_.each(object, function (value, key) {
					value = unwrapValue(value);
					if (!(_.isObject(value) ? _.isEmpty(value) : ValueHelper.isNullEmptyOrUndefined(value))) {
						js[key] = value;
						if (_.isObject(js[key])) {
							js[key] = this.toMinJS(js[key]);
						}
					}
				}, this);
				return js;
			}
		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(29);
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};


/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {
		'use strict';

		//region dependencies

		var StringUtils = __webpack_require__(32),
		    _ = __webpack_require__(0);
		//endregion

		function getProperty(object, propertyName) {
			return object[propertyName];
		}

		//ToDo Remove when Catalog supports UpperCase and dashes (-)
		function camelize(string) {
			string = StringUtils.trim(string).replace(/[-\s]+(.)?/g, function (match, c) {
				return c ? c.toUpperCase() : '';
			});
			return StringUtils.decap(string);
		}

		var DotExpressionResolver = {
			//This regex will match a key followed by a square brackets with numbers inside
			//It also captures the key and the index, so we can access to the correct entry in the array
			arrayBracketRegex: /(\S*)\[(\d+)\]/,
			_getValue: function _getValue(object, properties, valueResolver) {
				var value = void 0;
				var propertyName = properties.shift();
				if (propertyName) {
					value = valueResolver(object, propertyName);
					if (value) {
						value = DotExpressionResolver._getValue(value, properties, valueResolver);
					}
				} else {
					//required value found.
					value = object;
				}
				return value;
			},
			getValue: function getValue(object, dottedExpression) {
				if (StringUtils.trim(dottedExpression).length > 0) {
					var properties = dottedExpression.split('.');
					return DotExpressionResolver._getValue(object, properties, getProperty);
				}
			},
			//ToDo Remove when Catalog supports UpperCase and dashes (-)
			/**
    * @deprecated
    * @param object
    * @param dottedExpression
    * @returns {*}
    */
			getPCSCompatibleValue: function getPCSCompatibleValue(object, dottedExpression) {
				if (StringUtils.trim(dottedExpression).length > 0) {
					var properties = dottedExpression.split('.');
					return DotExpressionResolver._getValue(object, properties, function (object, propertyName) {
						var sanitizedObject = {};
						//We need to do an each of the keys to avoid a nasty problem where,
						// if object has a 'length' property (which it might because we don't know)
						// it treats the object like an array, which we 100% don't want to do
						_.each(_.keys(object), function (key) {
							var value = object[key];
							var sanitizedKey = camelize(key);
							sanitizedObject[sanitizedKey] = value;
						});
						//Check if the property name includes an array bracket
						var indexMatch = propertyName.match(DotExpressionResolver.arrayBracketRegex);
						if (indexMatch) {
							//Get the array using the captured property name
							var arrayProperty = getProperty(sanitizedObject, camelize(indexMatch[1]));
							//return the correct entry in the array, using the captured index
							return arrayProperty && arrayProperty[parseInt(indexMatch[2])];
						} else {
							return getProperty(sanitizedObject, camelize(propertyName));
						}
					});
				}
			}
		};

		return DotExpressionResolver;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    TypeFactory = __webpack_require__(206),
		    NameGenerator = __webpack_require__(57),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2),
		    ObjectTypeRef = __webpack_require__(115),
		    DoNotResolveRefStrategy = __webpack_require__(116),
		    ResolveRefStrategy = __webpack_require__(215),
		    IdentityType = __webpack_require__(216),
		    ObjectAttribute = __webpack_require__(114);
		//endregion

		var addObjectType = function addObjectType(objectType) {
			TypeCatalog.getObjectTypes()[objectType.id()] = objectType;
		};

		var TypeCatalog = Class.subClass({

			initTypes: function initTypes() {
				this.objectTypes = undefined;
				this.objectTypesRefs = undefined;
			},

			getSimpleTypesDefinitions: function getSimpleTypesDefinitions() {
				if (this.simpleTypes === undefined) {
					this.simpleTypes = ko.observable({});
					this.simpleTypes().STRING = TypeFactory.createStringType();
					this.simpleTypes().NUMBER = TypeFactory.createNumberType();
					this.simpleTypes().BOOLEAN = TypeFactory.createBooleanType();
					this.simpleTypes().DATE = TypeFactory.createDateType();
					this.simpleTypes().TIME = TypeFactory.createTimeType();
					this.simpleTypes().DATE_TIME = TypeFactory.createDateTimeType();
					this.simpleTypes().ENUM = TypeFactory.createEnumType();
				}
				return this.simpleTypes();
			},

			getObjectTypesRefs: function getObjectTypesRefs() {
				if (this.objectTypesRefs === undefined) {
					this.objectTypesRefs = ko.observable({});
				}
				return this.objectTypesRefs();
			},

			getObjectTypes: function getObjectTypes() {
				if (this.objectTypes === undefined) {
					this.objectTypes = ko.observable({});
				}
				return this.objectTypes();
			},

			getArrayTypeDefinition: function getArrayTypeDefinition(itemType) {
				return this.getArrayType(itemType);
			},

			getArrayType: function getArrayType(itemType, name, items) {
				return TypeFactory.createArrayType(name, itemType, items);
			},

			//get specific identityType object
			getIdentityType: function getIdentityType() {
				addObjectType(IdentityType);
				return IdentityType;
			},

			parseRootType: function parseRootType(schemaKey, schema) {
				return this._doParseType(schemaKey, schema, new DoNotResolveRefStrategy());
			},

			parseTypePartially: function parseTypePartially(schemaKey, schema, depth) {
				return this._doParseType(schemaKey, schema, new ResolveRefStrategy(depth));
			},

			/* jshint maxcomplexity: 17 */
			//TODO improve this method!!!
			_doParseType: function _doParseType(schemaKey, schema, strategy) {
				if (schema === undefined) {
					return TypeFactory.createUnknownType({});
				}
				if (schema.$ref) {
					if (this.getObjectTypesRefs()[schema.$ref] === undefined) {
						this.getObjectTypesRefs()[schema.$ref] = TypeFactory.createObjectTypeRef(schema.$ref, schemaKey);
					}
					return strategy.resolveReference(schema.$ref, this);
				} else if (schema.enum) {
					return TypeFactory.createEnumType(schemaKey, schema.enum);
				} else {
					// The new Json translator returns an array like [ "number", null ] if the field is nullable.
					// If the field is not nullable it returns a string like "number";
					var schemaType = Array.isArray(schema.type) ? schema.type[0] : schema.type;
					switch (schemaType) {
						case 'string':
							var simpleType;
							switch (schema.format) {
								case 'string':
									simpleType = TypeFactory.createStringType(schemaKey);
									break;
								case 'date':
									simpleType = TypeFactory.createDateType(schemaKey);
									break;
								case 'time':
									simpleType = TypeFactory.createTimeType(schemaKey);
									break;
								case 'date-time':
									simpleType = TypeFactory.createDateTimeType(schemaKey);
									break;
								default:
									simpleType = TypeFactory.createStringType(schemaKey);
									break;
							}
							return simpleType;
						case 'boolean':
							return TypeFactory.createBooleanType(schemaKey);
						case 'number':
							var type;
							if (schema.format === 'base64Binary') {
								type = TypeFactory.createStringType(schemaKey);
							} else {
								type = TypeFactory.createNumberType(schemaKey);
							}
							return type;
						case 'array':
							var itemType = this._doParseType('itemType', schema.items, strategy);
							return this.getArrayType(itemType, schemaKey, schema.items);
						case 'object':
							var objectType;
							if (this.getObjectTypes()[schema.$id]) {
								objectType = this.getObjectTypes()[schema.$id] = strategy.getObjectType(schema, this);
							} else {
								var objectName = NameGenerator.generateName(schema.$name, this.objectTypes());
								objectType = strategy.createObjectType(schema, objectName, this);
								addObjectType(objectType);
							}
							return objectType;
						default:
							return TypeFactory.createUnknownType(schema);
					}
				}
			},

			_createObjectType: function _createObjectType(schema, objectName, strategy) {
				var attributes = [];

				_.each(_.keys(schema.properties), function (attributeKey) {
					var attribute = schema.properties[attributeKey];
					TypeCatalog.parseType(attribute);
					var dataType = this._doParseType(attributeKey, attribute, strategy);
					attributes.push(new ObjectAttribute(attributeKey, dataType));
				}, this);

				return TypeFactory.createObjectType(schema.$id, objectName, attributes);
			},

			resolveReference: function resolveReference(objectTypeRef) {
				return this._getOrResolveReference(objectTypeRef, new ResolveRefStrategy(1));
			},

			_getOrResolveReference: function _getOrResolveReference(objectTypeRef, strategy) {
				var objectType = _.find(this.getObjectTypes(), function (type) {
					return type.schema().$id === objectTypeRef.schema().$ref;
				}, this);

				if (objectType) {
					return objectType;
				} else {
					return this._doResolveReference(objectTypeRef, strategy);
				}
			},

			_doResolveReference: function _doResolveReference(objectTypeRef, strategy) {
				var schema = this.typeHandler.getResolvedControl(objectTypeRef.schema().$ref);

				if (!$.isEmptyObject(schema)) {
					return this._doParseType(objectTypeRef.name(), schema, strategy);
				} else {
					return TypeFactory.createUnknownType(objectTypeRef.schema());
				}
			},

			getConcreteType: function getConcreteType(schemaKey, schema) {
				var type = this._doParseType(schemaKey, schema, new DoNotResolveRefStrategy());

				if (type instanceof ObjectTypeRef) {
					type = this.resolveReference(type);
				}

				return type;
			},

			parseType: function parseType(attribute) {
				//TODO should we still support not array types? 27335275
				if (_.isArray(attribute.type) && !_.isEmpty(attribute.type)) {
					//Bug 27335275 workaround to support JSON Schemas
					// that are sending the type and null [“string”, “null”]
					attribute.type = attribute.type[0];
				}
			}

		}, {});

		return TypeCatalog;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		return {
			ACTION_BLOCK: 'ACTION_BLOCK',
			IF_BLOCK: 'IF_BLOCK',
			CONNECTOR_BLOCK: 'CONNECTOR_BLOCK',
			ERROR_BLOCK: 'ERROR_BLOCK',
			FILTER_BLOCK: 'FILTER_BLOCK',
			EVENT_FILTER_BLOCK: 'EVENT_FILTER_BLOCK',
			FILTER_IF_BLOCK: 'FILTER_IF_BLOCK'
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    ColumnSpan = __webpack_require__(370),
		    TreeUtil = __webpack_require__(40),
		    $ = __webpack_require__(2);

		//endregion

		return Class.subClass({}, {
			init: function init(data, context, controlFactory, controlContainer) {
				var self = this;
				this.viewModel = context.viewModel;

				_.defaults(data, {
					controls: []
				});

				self.controls = ko.observableArray(self._generateControls(controlContainer, data.controls, context, controlFactory));

				self.columnSpan = new ColumnSpan(self.controls, context);

				self.getAllControls = function (skipControlsInsideRepeatables) {
					//getControls calls the function, controls calls the observable with all children
					return TreeUtil.treeToList([this], skipControlsInsideRepeatables ? 'getControls' : 'controls');
				};
				self.getControls = function () {
					return ko.unwrap(self.controls);
				};

				controlContainer.isValid = ko.pureComputed({
					read: function read() {
						var controls = controlContainer.dataSource ? controlContainer.dataSource() : controlContainer.getControls();
						return _.every(controls, function (control) {
							return control.isValid();
						});
					},
					write: function write(value) {
						//ignore
					}
				});
			},
			hasValueProperty: function hasValueProperty() {
				return false;
			},
			getParent: function getParent() {
				return this._parent;
			},
			getBindingContext: function getBindingContext() {
				return this.getParent() ? this.getParent().getContextForChildren(this) : '';
			},
			getContextForChildren: function getContextForChildren(child) {
				return this.getBindingContext();
			},
			_generateControls: function _generateControls(controlContainer, jsonControls, context, ControlFactory) {
				var controls = [];
				$.each(jsonControls, function (index, controlData) {
					var control = ControlFactory.createControl(controlData.id, controlData.name, controlData.type, controlData, context, controlContainer);
					controls.push(control);
				});
				return controls;
			},
			findControl: function findControl(controlId) {
				var control = TreeUtil.find(this, 'controls', 'id', controlId);
				control = control == null ? TreeUtil.find(this, 'controls', 'properties.originalId', controlId) : control;
				return control !== null ? control.node : null;
			}

		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__(28);
var createDesc = __webpack_require__(54);
module.exports = __webpack_require__(30) ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__(22);
var IE8_DOM_DEFINE = __webpack_require__(96);
var toPrimitive = __webpack_require__(68);
var dP = Object.defineProperty;

exports.f = __webpack_require__(30) ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),
/* 29 */
/***/ (function(module, exports) {

module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

// Thank's IE8 for his funny defineProperty
module.exports = !__webpack_require__(44)(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),
/* 31 */
/***/ (function(module, exports) {

var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};


/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {

		'use strict';

		var escapeRegExp = function escapeRegExp(str) {
			return str.replace(/([-.*+?^${}()|[\]\/\\])/g, '\\$1');
		};

		var defaultToWhiteSpace = function defaultToWhiteSpace(characters) {
			if (characters != null) {
				return '[' + escapeRegExp('' + characters) + ']';
			}
			return '\\s';
		};

		var StringUtils = {
			_nativeTrim: String.prototype.trim,

			/**
    * Converts a camelized or dasherized String into an underscored one
    * @param str {String}
    * @returns {String}
    */
			underscored: function underscored(str) {
				return this.trim(str).replace(/([a-z\d])([A-Z]+)/g, '$1_$2').replace(/[-\s]+/g, '_').toLowerCase();
			},

			/**
    * Trims defined characters from beginning and ending of the String. Defaults to whitespace characters.
    * @param str {String}
    * @param characters [Array]
    * @returns {String}
    */
			trim: function trim(str, characters) {
				str = this._makeString(str);
				if (!characters && this._nativeTrim) {
					return this._nativeTrim.call(str);
				}
				characters = defaultToWhiteSpace(characters);
				return str.replace(new RegExp('\^' + characters + '+|' + characters + '+$', 'g'), '');
			},

			/**
    * Capitalizes the first word, turns underscores into spaces, and strips a trailing ‘_id’ if present.
    * @param str {String}
    * @returns {String}
    */
			humanize: function humanize(str) {
				return this.capitalize(this.underscored(str).replace(/_id$/, '').replace(/_/g, ' '));
			},

			/**
    * Capitalizes the first word.
    * @param str {String}
    * @returns {String}
    */
			capitalize: function capitalize(str) {
				str = this._makeString(str);
				return str.charAt(0).toUpperCase() + str.substring(1);
			},

			/**
    * Splits String by delimiter (String or RegExp), taking /\s+/ by default.
    * @param str {String}
    * @param delimiter [String] (or RegExp)
    * @returns {Array}
    */
			words: function words(str, delimiter) {
				return this.trim(str, delimiter).split(delimiter || /\s+/);
			},

			/**
    * Capitalizes all the words in the String and make a title version of it.
    * @param str {String}
    * @returns {String}
    */
			titleize: function titleize(str) {
				return ('' + str).replace(/\b./g, function (ch) {
					return ch.toUpperCase();
				});
			},

			/**
    * Converts the String to a camelize Class name.
    * @param str {String}
    * @returns {string}
    */
			classify: function classify(str) {
				str = this._makeString(str);
				return this.titleize(str.replace(/_/g, ' ')).replace(/\s/g, '');
			},

			/**
    * Converts underscored or dasherized string to a camelized one.
    * Begins with a lower case letter unless it starts with an underscore, dash or an upper case letter.
    * @param str {String}
    * @param [decapitalize] {boolean}
    * @returns {string}
    */
			camelize: function camelize(str, decapitalize) {
				str = this.trim(str).replace(/[-_\s]+(.)?/g, function (match, c) {
					return c ? c.toUpperCase() : '';
				});

				if (decapitalize === true) {
					return this.decap(str);
				} else {
					return str;
				}
			},

			replaceSymbol: function replaceSymbol(str, symbol, replaceStr) {
				str = this._makeString(str);
				var escapedSymbol = escapeRegExp(this._makeString(symbol));
				var newRe = new RegExp('[' + escapedSymbol + ']', 'g');
				return str.replace(newRe, this._makeString(replaceStr));
			},

			/**
    * Converts first letter of the string to lowercase.
    * @param str
    * @returns {string}
    */
			decap: function decap(str) {
				str = this._makeString(str);
				return str.charAt(0).toLowerCase() + str.slice(1);
			},

			/**
    * Returns a boolean value defining if the String starts with the given prefix
    * @param str {String}
    * @param prefix {String}
    * @returns {boolean}
    */
			startsWith: function startsWith(str, prefix) {
				str = this._makeString(str);
				return str.indexOf(prefix) === 0;
			},

			/**
    * Returns a boolean value defining if the String ends with the given suffix
    * @param str {String}
    * @param suffix {String}
    * @returns {boolean}
    */
			endsWith: function endsWith(str, suffix) {
				str = this._makeString(str);
				return str.indexOf(suffix, str.length - suffix.length) !== -1;
			},

			/**
    * Ensure some object is a coerced to a string
    **/
			_makeString: function _makeString(object) {
				if (object == null) {
					return '';
				}
				return '' + object;
			},

			/**
    * Wraps a string given number of characters
    * Taken from http://james.padolsey.com/snippets/wordwrap-for-javascript/
    * @param str {String} the input string
    * @param width {Number} The number of characters at which the string will be wrapped
    * @param cut {Boolean} If TRUE a word will be broken up if longer than width
    * @returns {*}
    */
			wordwrap: function wordwrap(str, width, cut) {
				str = this._makeString(str);

				if (str.length === 0) {
					return [];
				}
				width = width || 75;

				var regex = '.{1,' + width + '}(\\s|$)' + (cut ? '|.{' + width + '}|.+$' : '|\\S+?(\\s|$)');

				return str.match(RegExp(regex, 'g'));
			},

			/**
    * Formats a str, replacing {N} by argument #N
    * i.e. StringUtils.format('Hello {0}!' , 'World') => 'Hello World!'
    * @param str
    * @param [arguments]: strings
    * If an argument is not valid, it will be replaced by an empty string
    */
			format: function format(str) {
				var args = arguments;
				return str.replace(/{(\d+)}/g, function (match, number) {
					return StringUtils._makeString(args[Number(number) + 1]);
				});
			},

			/**
    * generates a string ending with '...' to make it shorter
    * @param str: string to shorten
    * @param maxIndex: maximum index of the wanted string
    */
			generateLabelWithDots: function generateLabelWithDots(str, maxIndex) {
				var result = '';
				str = this._makeString(str);
				maxIndex = maxIndex || 5;
				if (str.length >= maxIndex) {
					result = str.substring(0, maxIndex - 1) + '...';
				} else {
					result = str;
				}
				return result;
			},

			/**
    * Generates an valid XML element name from the provided string
    * Taken from https://www.w3schools.com/xml/xml_elements.asp
    * @param str {String} the input string
    * @returns {String} the valid xml element name
    */
			generateXmlElementName: function generateXmlElementName(str) {
				str = this.camelize(str);

				// Add starting underscore when string starts with number or the word 'xml'
				if (/^(\d|[xX][mM][lL])/g.test(str)) {
					str = '_' + str;
				}
				// Remove colon and dots (best practice)
				str = str.replace(/[.:]/g, '');

				return this.decap(str);
			}

		};

		return StringUtils;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Handler = __webpack_require__(255);
		//endregion

		return Handler.subClass({}, {
			init: function init(id) {
				this._super(id);
			},
			setContext: function setContext(context) {
				this.context = context;
			},
			resolveDependencies: function resolveDependencies(dependencies) {
				this.context.resolveDependencies(dependencies);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    ControlTypeId = __webpack_require__(4);

		//endregion

		return Control.subClass({}, {
			/* jshint maxparams: 6 */
			init: function init(id, name, properties, context, parent, controltype) {
				this._super(id, name, controltype || context.getControlDefinitionByType(ControlTypeId.INPUT_TEXT), properties, context, parent);

				_.defaults(properties, {
					autoComplete: false,
					help: '',
					hint: '',
					pattern: '',
					patternMessage: '',
					placeHolder: '',
					readonly: false,
					defaultValue: '',
					maxLength: null,
					minLength: null
				});

				this.properties.autoComplete = ko.observable(properties.autoComplete);
				this.properties.help = ko.observable(properties.help);
				this.properties.hint = ko.observable(properties.hint);
				this.properties.maxLength = ko.observable(properties.maxLength);
				this.properties.minLength = ko.observable(properties.minLength);
				this.properties.pattern = ko.observable(properties.pattern);
				this.properties.patternMessage = ko.observable(properties.patternMessage);
				this.properties.placeHolder = ko.observable(properties.placeHolder);
				this.properties.readonly = ko.observable(properties.readonly);
				this.properties.defaultValue = ko.observable(properties.defaultValue);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ControlFactory = __webpack_require__(88),
		    _ = __webpack_require__(0),
		    UUID = __webpack_require__(17);

		//endregion

		return Class.subClass({}, {
			init: function init(schemaKey, schema, context, businessControlFactory, parent) {
				var self = this;
				self.id = UUID.createUuid();
				self.name = schemaKey;
				self.parent = parent;
				self.context = context;
				self.schema = schema;
				self.businessControlFactory = businessControlFactory;
				self.data = schema.data || {};
				_.defaults(self.data, {
					properties: {}
				});
				_.defaults(self.data.properties, {
					binding: schemaKey
				});
			},
			create: function create() {
				return ControlFactory.createControl(this.id, this.name, this.type, this.data, this.context, this.parent);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(11);
var core = __webpack_require__(18);
var ctx = __webpack_require__(52);
var hide = __webpack_require__(27);
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var IS_WRAP = type & $export.W;
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE];
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];
  var key, own, out;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    if (own && key in exports) continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
    // bind timers to global for call from export context
    : IS_BIND && own ? ctx(out, global)
    // wrap global constructors for prevent change them in library
    : IS_WRAP && target[key] == out ? (function (C) {
      var F = function (a, b, c) {
        if (this instanceof C) {
          switch (arguments.length) {
            case 0: return new C();
            case 1: return new C(a);
            case 2: return new C(a, b);
          } return new C(a, b, c);
        } return C.apply(this, arguments);
      };
      F[PROTOTYPE] = C[PROTOTYPE];
      return F;
    // make static versions for prototype methods
    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
    if (IS_PROTO) {
      (exports.virtual || (exports.virtual = {}))[key] = out;
      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);
    }
  }
};
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;


/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = __webpack_require__(174);
var defined = __webpack_require__(66);
module.exports = function (it) {
  return IObject(defined(it));
};


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var DataType = __webpack_require__(39);
		//endregion

		return DataType.subClass({}, {
			/* jshint maxparams: 6 */
			init: function init(name, label, icon, type, format) {
				this._super(this.getTypeName(), name, label, icon, {
					type: type,
					format: format
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return Class.subClass({}, {
			init: function init(id, name, label, icon, schema) {
				var self = this;
				self.id = ko.observable(id);
				self.name = ko.observable(name);
				self.label = ko.observable(label);
				self.icon = ko.observable(icon);
				self._schema = schema;
			},
			isObject: function isObject() {
				return this.hasOwnProperty('attributes') && !TypeDescription.equals(this.getTypeDescription(), TypeDescription.UNKNOWN);
			},
			isContainer: function isContainer() {
				return TypeDescription.equals(this.getTypeDescription(), TypeDescription.OBJECT);
			},
			isArray: function isArray() {
				return false;
			},
			isEnum: function isEnum() {
				return false;
			},
			getTypeDescription: function getTypeDescription() {
				throw new Error('This function must be overridden');
			},
			getTypeName: function getTypeName() {
				return this.getTypeDescription().name;
			},
			getDefaultControl: function getDefaultControl() {
				return this.getTypeDescription().defaultControl;
			},
			toJS: function toJS() {
				return this.schema();
			},
			isCompatible: function isCompatible(type) {
				return this.id() === type.id();
			},
			schema: function schema() {
				return this._schema;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    DotExpressionResolver = __webpack_require__(23),
		    _ = __webpack_require__(0);

		//endregion

		var TreeUtil = Class.subClass({
			/**
    * given the children of a given tree it will return a list of every node and leaf.
    * @param rootChildren tree children
    * @param recursiveProperty the name of the property that defines the node
    * @returns {Array} list of elements in the tree.
    */
			treeToList: function treeToList(rootChildren, recursiveProperty) {
				var plainList = [];

				for (var i = 0; i < rootChildren.length; i++) {
					var child = rootChildren[i];
					var collection = _.isFunction(child[recursiveProperty]) ? child[recursiveProperty]() : child[recursiveProperty];
					if (collection) {
						var items = ko.unwrap(collection);
						plainList = plainList.concat(items);
						plainList = plainList.concat(TreeUtil.treeToList(items, recursiveProperty));
					}
				}
				return plainList;
			},
			find: function find(tree, recursiveProperty, property, value) {
				var items = _.isFunction(tree[recursiveProperty]) ? tree[recursiveProperty]() : tree[recursiveProperty];
				if (items && items.constructor === Array) {
					return TreeUtil._find(items, recursiveProperty, property, value, tree);
				}
				return null;
			},
			/*jshint maxcomplexity:8 */
			_find: function _find(rootChildren, recursiveProperty, property, value, parent) {
				var found = null;
				for (var i = 0; i < rootChildren.length; i++) {
					var child = rootChildren[i];
					var propertyAccessor = DotExpressionResolver.getValue(child, property);
					var nodeValue = _.isFunction(propertyAccessor) ? propertyAccessor() : propertyAccessor;
					if (nodeValue === value) {
						found = {
							node: child,
							parent: parent
						};
						break;
					}

					var items = _.isFunction(child[recursiveProperty]) ? child[recursiveProperty]() : child[recursiveProperty];
					if (items && items.constructor === Array) {
						found = TreeUtil._find(items, recursiveProperty, property, value, child);
						if (found) {
							break;
						}
					}
				}
				return found;
			}
		}, {});
		return TreeUtil;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var OjSelectItem = __webpack_require__(42),
		    msg = __webpack_require__(5);

		//endregion

		return {
			STATIC: OjSelectItem.create('STATIC', msg.STATIC_LABEL),
			REST: OjSelectItem.create('REST', msg.REST_LABEL),
			DYNAMIC: OjSelectItem.create('DYNAMIC', msg.DYNAMIC_LABEL),
			CONNECTOR: OjSelectItem.create('CONNECTOR', msg.CONNECTOR_LABEL),
			EVENT_CONNECTOR: OjSelectItem.create('EVENT_CONNECTOR', ''),
			LIST_CONNECTOR: OjSelectItem.create('LIST_CONNECTOR', '')
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);
		//endregion

		/**
   * Constructs an Item to use in a OjSelect component
   */
		return Class.subClass({
			create: function create(value, label) {
				return {
					value: value,
					label: label
				};
			}
		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var UUID = __webpack_require__(17),
		    _ = __webpack_require__(0),
		    EventActionBlock = __webpack_require__(152),
		    EventIfBlock = __webpack_require__(153),
		    EventConnectorBlock = __webpack_require__(346),
		    EventFilterBlock = __webpack_require__(347),
		    EventErrorBlock = __webpack_require__(348),
		    FilterBlock = __webpack_require__(349),
		    FilterIfBlock = __webpack_require__(350),
		    ActionsMap = __webpack_require__(58);

		//endregion

		return {
			createBlock: function createBlock(viewModel, model, scope) {
				//Set default values
				model = _.extend({
					id: UUID.createUuid(),
					type: EventActionBlock.TYPE
				}, model);
				return this[model.type](viewModel, model, scope);
			},

			'ACTION_BLOCK': function ACTION_BLOCK(viewModel, model, scope) {
				model = _.extend({
					action: {
						type: ActionsMap.DO_NOTHING.value
					},
					controlResolver: {}
				}, model);
				return new EventActionBlock(model, viewModel, scope);
			},
			'IF_BLOCK': function IF_BLOCK(viewModel, model, scope) {
				return new EventIfBlock(model, viewModel, scope);
			},
			'CONNECTOR_BLOCK': function CONNECTOR_BLOCK(viewModel, model, scope) {
				model = _.extend({
					connectorFeedProperties: {}
				}, model);
				return new EventConnectorBlock(model, viewModel, scope);
			},
			'EVENT_FILTER_BLOCK': function EVENT_FILTER_BLOCK(viewModel, model, scope) {
				return new EventFilterBlock(model, viewModel, scope);
			},
			'ERROR_BLOCK': function ERROR_BLOCK(viewModel, model, scope) {
				model = _.extend({
					action: {
						type: ActionsMap.DO_NOTHING.value
					},
					controlResolver: {}
				}, model);
				return new EventErrorBlock(model, viewModel, scope);
			},
			'FILTER_BLOCK': function FILTER_BLOCK(viewModel, model, scope) {
				return new FilterBlock(model, viewModel, scope);
			},
			'FILTER_IF_BLOCK': function FILTER_IF_BLOCK(viewModel, model, scope) {
				return new FilterIfBlock(model, viewModel, scope);
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 44 */
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};


/***/ }),
/* 45 */
/***/ (function(module, exports) {

module.exports = {};


/***/ }),
/* 46 */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};


/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5),
		    ValidationHelper = __webpack_require__(76);

		//endregion
		return {
			'BACKGROUND_COLOR': {
				styleType: 'inline',
				controlType: 'color',
				name: 'backgroundColor',
				label: msg.LABEL_BACKGROUND_COLOR,
				help: null,
				attrName: 'background-color',
				group: 'color',
				default: '#fcfdfe',
				validators: ValidationHelper.hexValueValidator(msg.HEX_COLOR_FORMAT_ERROR_MESSAGE)
			},
			'COLOR': {
				styleType: 'inline',
				controlType: 'color',
				name: 'color',
				label: msg.LABEL_COLOR,
				help: null,
				attrName: 'color',
				group: 'color',
				default: '#333333',
				validators: ValidationHelper.hexValueValidator(msg.HEX_COLOR_FORMAT_ERROR_MESSAGE)
			},
			'SIZE': {
				styleType: 'inline',
				controlType: 'select',
				name: 'fontSize',
				label: msg.LABEL_FONT_SIZE,
				help: null,
				attrName: 'font-size',
				options: [{
					label: msg.LABEL_FONT_SIZE_XSMALL,
					value: 'x-small'
				}, {
					label: msg.LABEL_FONT_SIZE_SMALL,
					value: 'small'
				}, {
					label: msg.LABEL_FONT_SIZE_NORMAL,
					value: '14px'
				}, {
					label: msg.LABEL_FONT_SIZE_LARGE,
					value: 'large'
				}, {
					label: msg.LABEL_FONT_SIZE_XLARGE,
					value: 'x-large'
				}],
				default: '14px'
			},
			'TEXT_ALIGN': {
				styleType: 'inline',
				controlType: 'select',
				name: 'textAlign',
				label: msg.LABEL_TEXT_ALIGN,
				help: null,
				attrName: 'text-align',
				options: [{
					label: msg.LABEL_TEXT_ALIGN_LEFT,
					value: 'left'
				}, {
					label: msg.LABEL_TEXT_ALIGN_RIGHT,
					value: 'right'
				}, {
					label: msg.LABEL_TEXT_ALIGN_CENTER,
					value: 'center'
				}],
				default: 'left',
				group: 'align'
			},
			'WIDTH': {
				styleType: 'inline',
				controlType: 'text',
				name: 'width',
				label: msg.LABEL_WIDTH,
				help: msg.WIDTH_INLINE_HELP,
				attrName: 'width',
				group: 'size',
				validators: ValidationHelper.dimensionValidator(msg.INVALID_WIDTH)
			},
			'HEIGHT': {
				styleType: 'inline',
				controlType: 'text',
				name: 'height',
				label: msg.LABEL_HEIGHT,
				help: msg.HEIGHT_INLINE_HELP,
				attrName: 'height',
				group: 'size',
				validators: ValidationHelper.dimensionValidator(msg.INVALID_HEIGHT)
			},
			'BORDER_COLOR': {
				styleType: 'inline',
				controlType: 'color',
				name: 'borderColor',
				label: msg.LABEL_BORDER_COLOR,
				help: null,
				attrName: 'border-color',
				group: 'border',
				default: '#dfe4e7',
				validators: ValidationHelper.hexValueValidator(msg.HEX_COLOR_FORMAT_ERROR_MESSAGE)
			},
			'BORDER_STYLE': {
				styleType: 'inline',
				controlType: 'select',
				name: 'borderStyle',
				label: msg.LABEL_BORDER_STYLE,
				help: null,
				attrName: 'border-style',
				placeholder: '',
				options: [{
					label: msg.LABEL_SOLID,
					value: 'solid'
				}, {
					label: msg.LABEL_DOTTED,
					value: 'dotted'
				}, {
					label: msg.LABEL_DASHED,
					value: 'dashed'
				}],
				default: 'solid',
				group: 'border'
			},
			'BORDER_WIDTH': {
				styleType: 'inline',
				controlType: 'text',
				name: 'borderWidth',
				label: msg.LABEL_BORDER_WIDTH,
				help: null,
				attrName: 'border-width',
				group: 'border',
				validators: ValidationHelper.borderDimensionValidator(msg.INVALID_BORDER_WIDTH)
			},
			'BORDER_RADIUS': {
				styleType: 'inline',
				controlType: 'text',
				name: 'borderRadius',
				label: msg.LABEL_BORDER_RADIUS,
				help: null,
				attrName: 'border-radius',
				group: 'border',
				validators: ValidationHelper.dimensionValidator(msg.INVALID_BORDER_RADIUS)
			},
			'CONTROL_ALIGN': {
				styleType: '',
				controlType: 'select',
				name: 'controlAlign',
				label: msg.LABEL_CONTROL_ALIGNMENT,
				help: null,
				options: [{
					label: msg.LABEL_TEXT_ALIGN_LEFT,
					value: 'left'
				}, {
					label: msg.LABEL_TEXT_ALIGN_RIGHT,
					value: 'right'
				}, {
					label: msg.LABEL_TEXT_ALIGN_CENTER,
					value: 'center'
				}],
				useIfDefault: true,
				default: 'left',
				group: 'align'
			},
			'LABEL_COLOR': {
				styleType: '',
				controlType: 'color',
				name: 'labelColor',
				label: msg.LABEL_LABEL_COLOR,
				help: null,
				group: 'label',
				default: '#4f4f4f',
				validators: ValidationHelper.hexValueValidator(msg.HEX_COLOR_FORMAT_ERROR_MESSAGE)
			},
			'LABEL_SIZE': {
				styleType: '',
				controlType: 'select',
				name: 'labelSize',
				label: msg.LABEL_LABEL_SIZE,
				help: null,
				options: [{
					label: msg.LABEL_FONT_SIZE_XSMALL,
					value: 'x-small'
				}, {
					label: msg.LABEL_FONT_SIZE_SMALL,
					value: 'small'
				}, {
					label: msg.LABEL_FONT_SIZE_NORMAL,
					value: '15px'
				}, {
					label: msg.LABEL_FONT_SIZE_LARGE,
					value: 'large'
				}, {
					label: msg.LABEL_FONT_SIZE_XLARGE,
					value: 'x-large'
				}],
				useIfDefault: true,
				default: '15px',
				group: 'label'
			},
			'CLASS_NAME': {
				styleType: '',
				controlType: 'text',
				name: 'controlClassName',
				default: '',
				help: msg.CONTROL_CLASS_NAME_INLINE_HELP,
				label: msg.LABEL_CONTROL_CLASS_NAME,
				validators: ValidationHelper.cssClassNameValidator(msg.INVALID_CLASS_NAME)
			},
			'TABLE_WIDTH': {
				styleType: '',
				controlType: 'tableWidth',
				name: msg.LABEL_TABLE_COLUMNS_WIDTH,
				default: '',
				help: msg.TABLE_WIDTH_INLINE_HELP,
				label: msg.LABEL_TABLE_WIDTH,
				validators: ValidationHelper.cssClassNameValidator(msg.INVALID_CLASS_NAME)
			},
			'TABLE_COLUMN_WIDTH': {
				styleType: 'inline',
				controlType: 'tableColumnWidth',
				name: 'tableColumnWidth',
				label: msg.LABEL_WIDTH,
				help: msg.WIDTH_INLINE_HELP,
				attrName: 'width',
				group: 'size',
				validators: ValidationHelper.dimensionValidator(msg.INVALID_WIDTH)
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    Value = __webpack_require__(15),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'VALUE'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);

				var defaultValue = control ? ko.utils.unwrapObservable(control.properties.defaultValue) : null;
				var controlId = control ? control.id : null;

				this.value = new Value(model.value || {
					expression: defaultValue,
					controlResolver: {},
					controlId: controlId
				}, viewModel, this.scope);
			},

			template: function template() {
				return 'valueAccessorEventTemplate';
			},

			execute: function execute(control, blockId) {
				control.setValue(this.value.resolve(this.viewModel));
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					value: this.value.toJS()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var $ = __webpack_require__(2),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    oj = __webpack_require__(7);
		//endregion

		//Checks if the control has been rendered in the DOM
		function isRendered(control) {
			return ko.unwrap(control.rendered);
		}

		function _setRawValue(control, ojComponentType, valueString) {
			//If element is rendered, update it and trigger OJet validation
			//Otherwise set the _rawValue, which will be updated when it is
			if (isRendered(control)) {
				var $control = $(control.domId);
				$control.val(valueString);
				//Make sure the oj component is instanced before triggering validation
				if (!(ojComponentType === 'ojInputTime' && valueString === '') && $control[ojComponentType]('instance')) {
					$control[ojComponentType]('validate');
				}
				oj.ComponentBinding.deliverChanges();
			} else {
				control._rawValue = valueString;
			}
		}

		return {
			/**
    * get rawValue directly from the DOM input.
    * @param control
    * @returns {*|jQuery} rawValue.
    */
			getRawValue: function getRawValue(control) {
				return isRendered(control) ? $(control.domId).val() : control._rawValue;
			},
			/**
    * checking if value is a number before setting the value.
    * If it is not a number, then setting the value in the UI and triggering validation.
    * Note: updating the UI, will not update oj rawValue or value.
    * @param control
    * @param valueString value to be set.
    */
			setNumber: function setNumber(control, valueString) {
				if (isNaN(valueString)) {
					_setRawValue(control, 'ojInputNumber', valueString);
				} else {
					control.value(valueString);
					//If the control is not rendered, save the value in _rawValue
					if (!isRendered(control)) {
						control._rawValue = control.value();
					}
				}
			},
			/**
    * checking if the date provided is a valid date.
    * If not valid, setting the value in the UI and triggering validation.
    * Note: updating the UI, will not update oj rawValue or value.
    * @param control
    * @param ojComponentType
    * @param converter
    * @param valueString value to be set
    */
			setDate: function setDate(control, ojComponentType, converter, valueString) {
				try {
					//checking if it is a valid date.
					control.value(converter.parse(valueString));
					//If the control is not rendered, save the value in _rawValue
					if (!isRendered(control)) {
						control._rawValue = control.value();
					}
				} catch (ex) {
					//failed to parse string.
					_setRawValue(control, ojComponentType, valueString);
				}
			},
			setRawValue: function setRawValue(control, ojComponentType, valueString) {
				_setRawValue(control, ojComponentType, valueString);
			},
			isNullEmptyOrUndefined: function isNullEmptyOrUndefined(val) {
				return _.isNull(val) || _.isUndefined(val) || _.isArray(val) && val.length === 0 || !_.isArray(val) && val === '';
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    assert = __webpack_require__(59);

		//endregion

		return Class.subClass({}, {
			init: function init(model, viewModel, scope) {
				assert(!!this._class.TYPE);
				assert(!!scope);

				this.id = model.id;
				this.viewModel = viewModel;
				this.scope = scope;
			},

			getType: function getType() {
				return this._class.TYPE;
			},
			getComponentName: function getComponentName() {
				return this._class.TEMPLATE_NAME;
			},

			execute:
			/* istanbul ignore next */
			function execute() {
				throw 'Must be overriden';
			},

			toJS: function toJS() {
				return {
					id: this.id,
					type: this.getType()
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 51 */
/***/ (function(module, exports) {

module.exports = true;


/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

// optional / simple context binding
var aFunction = __webpack_require__(53);
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),
/* 53 */
/***/ (function(module, exports) {

module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};


/***/ }),
/* 54 */
/***/ (function(module, exports) {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),
/* 55 */
/***/ (function(module, exports) {

var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

var def = __webpack_require__(28).f;
var has = __webpack_require__(31);
var TAG = __webpack_require__(12)('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};


/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    StringUtils = __webpack_require__(32),
		    TreeUtil = __webpack_require__(40),
		    ko = __webpack_require__(1),
		    $ = __webpack_require__(2);

		//endregion

		//this camelize will leave _.
		var camelize = function camelize(str) {
			str = StringUtils.trim(str).replace(/[\s]+(.)?/g, function (match, c) {
				return c.toUpperCase();
			});

			return str;
		};

		var NameGenerator = Class.subClass({
			generateName: function generateName(baseName, collection, property, index) {
				baseName = camelize(baseName);
				var name = index ? baseName + index : baseName;
				index = index ? index : 0;
				var nameProperty = property || 'name';

				$.each(ko.unwrap(collection), function (i, element) {
					if (ko.unwrap(element[nameProperty]) === name) {
						index++;
						name = NameGenerator.generateName(baseName, collection, nameProperty, index);
						return false;
					}
				});
				return name;
			},
			generateNameFromTree: function generateNameFromTree(baseName, tree, recursiveProperty, property, index) {
				var plainList = TreeUtil.treeToList(tree, recursiveProperty);
				return NameGenerator.generateName(baseName, plainList, property, index);
			}
		}, {});
		return NameGenerator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5),
		    EventsId = __webpack_require__(14),
		    EventAction = __webpack_require__(8),
		    SetPropertyAction = __webpack_require__(218),
		    SetStateAction = __webpack_require__(232),
		    SetValueAction = __webpack_require__(48),
		    SetLabelBindingAction = __webpack_require__(233),
		    SetImageValueAction = __webpack_require__(234),
		    SetVideoValueAction = __webpack_require__(235),
		    SelectTabAction = __webpack_require__(236),
		    RefreshGlobalConnectorAction = __webpack_require__(237),
		    SetMessageValueAction = __webpack_require__(238),
		    RefreshConnectorAction = __webpack_require__(239),
		    AddRowAction = __webpack_require__(240),
		    SetRepeatableValueAction = __webpack_require__(241),
		    SetInvalidAction = __webpack_require__(242),
		    ClearValueAction = __webpack_require__(243),
		    SetOptionsAction = __webpack_require__(244),
		    SetDataAction = __webpack_require__(245),
		    PreventSubmitAction = __webpack_require__(246),
		    TriggerOutcomeAction = __webpack_require__(247),
		    HideColumnAction = __webpack_require__(121),
		    ShowColumnAction = __webpack_require__(248),
		    ChangePresentationAction = __webpack_require__(249).default,
		    RemoveRowAction = __webpack_require__(250);
		//endregion

		return {
			'DO_NOTHING': {
				value: 'DO_NOTHING',
				label: msg.DO_NOTHING,
				disabled: true,
				Action: EventAction
			},
			'VALUE': {
				value: 'VALUE',
				label: msg.LABEL_VALUE,
				Action: SetValueAction
			},
			'SHOW': {
				value: 'SHOW',
				label: msg.SHOW,
				Action: SetStateAction.createStateAction('SHOW', 'hide', false)
			},
			'HIDE': {
				value: 'HIDE',
				label: msg.LABEL_HIDE,
				Action: SetStateAction.createStateAction('HIDE', 'hide', true)
			},
			'ENABLE': {
				value: 'ENABLE',
				label: msg.ENABLE,
				Action: SetStateAction.createStateAction('ENABLE', 'disabled', false)
			},
			'DISABLE': {
				value: 'DISABLE',
				label: msg.DISABLE,
				Action: SetStateAction.createStateAction('DISABLE', 'disabled', true)
			},
			'REQUIRED': {
				value: 'REQUIRED',
				label: msg.LABEL_REQUIRED,
				Action: SetStateAction.createStateAction('REQUIRED', 'required', true)
			},
			'OPTIONAL': {
				value: 'OPTIONAL',
				label: msg.OPTIONAL,
				Action: SetStateAction.createStateAction('OPTIONAL', 'required', false)
			},
			'EXPAND': {
				value: 'EXPAND',
				label: msg.EXPAND,
				Action: SetStateAction.createStateAction('EXPAND', 'expanded', true)
			},
			'COLLAPSE': {
				value: 'COLLAPSE',
				label: msg.COLLAPSE,
				Action: SetStateAction.createStateAction('COLLAPSE', 'expanded', false)
			},
			'READONLY': {
				value: 'READONLY',
				label: msg.LABEL_READONLY,
				Action: SetStateAction.createStateAction('READONLY', 'readonly', true)
			},
			'EDITABLE': {
				value: 'EDITABLE',
				label: msg.EDITABLE,
				Action: SetStateAction.createStateAction('EDITABLE', 'readonly', false)
			},
			'LABEL': {
				value: 'LABEL',
				label: msg.LABEL_LABEL,
				Action: SetPropertyAction.createPropertyAction('LABEL', 'label')
			},
			'MESSAGE': {
				value: 'MESSAGE',
				label: msg.MESSAGE,
				Action: SetMessageValueAction
			},
			'IMAGE_URL': {
				value: 'IMAGE_URL',
				label: msg.IMAGE_URL,
				Action: SetImageValueAction
			},
			'VIDEO_SRC': {
				value: 'VIDEO_SRC',
				label: msg.LABEL_SOURCE_URL,
				Action: SetVideoValueAction
			},
			'ALTERNATIVE_TEXT': {
				value: 'ALTERNATIVE_TEXT',
				label: msg.LABEL_ALT_TEXT,
				Action: SetPropertyAction.createPropertyAction('ALTERNATIVE_TEXT', 'alt')
			},
			'HINT': {
				value: 'HINT',
				label: msg.LABEL_HINT,
				Action: SetPropertyAction.createPropertyAction('HINT', 'hint')
			},
			'HELP': {
				value: 'HELP',
				label: msg.LABEL_HELP,
				Action: SetPropertyAction.createPropertyAction('HELP', 'help')
			},

			'MIN_VALUE': {
				value: 'MIN_VALUE',
				label: msg.LABEL_MIN_VALUE,
				Action: SetPropertyAction.createPropertyAction('MIN_VALUE', 'minValue')
			},
			'MAX_VALUE': {
				value: 'MAX_VALUE',
				label: msg.LABEL_MAX_VALUE,
				Action: SetPropertyAction.createPropertyAction('MAX_VALUE', 'maxValue')
			},
			'MIN_LENGTH': {
				value: 'MIN_LENGTH',
				label: msg.LABEL_MIN_LENGTH,
				Action: SetPropertyAction.createPropertyAction('MIN_LENGTH', 'minLength')
			},
			'MAX_LENGTH': {
				value: 'MAX_LENGTH',
				label: msg.LABEL_MAX_LENGTH,
				Action: SetPropertyAction.createPropertyAction('MAX_LENGTH', 'maxLength')
			},

			'PATTERN': {
				value: 'PATTERN',
				label: msg.LABEL_PATTERN_VALUE,
				Action: SetPropertyAction.createPropertyAction('PATTERN', 'pattern')
			},
			'PLACEHOLDER': {
				value: 'PLACEHOLDER',
				label: msg.LABEL_PLACEHOLDER,
				Action: SetPropertyAction.createPropertyAction('PLACEHOLDER', 'placeHolder')
			},
			'SELECT': {
				value: 'SELECT',
				label: msg.SELECT,
				Action: SelectTabAction
			},
			'ADD_ROW': {
				value: 'ADD_ROW',
				label: msg.ADD_ROW,
				Action: AddRowAction
			},
			'REFRESH_CONNECTOR': {
				value: 'REFRESH_CONNECTOR',
				label: msg.REFRESH_CONNECTOR,
				Action: RefreshConnectorAction
			},
			'SET_INVALID': {
				value: 'SET_INVALID',
				label: msg.THROW_ERROR,
				Action: SetInvalidAction
			},
			'REPEATABLE_VALUE': {
				value: 'REPEATABLE_VALUE',
				label: msg.LABEL_VALUE,
				Action: SetRepeatableValueAction
			},
			'OPTIONS': {
				value: 'OPTIONS',
				label: msg.SET_OPTIONS,
				Action: SetOptionsAction
			},
			'LABEL_BINDING': {
				value: 'LABEL_BINDING',
				label: msg.LABEL_LABEL,
				Action: SetLabelBindingAction
			},
			'CLEAR_VALUE': {
				value: 'CLEAR_VALUE',
				label: msg.CLEAR_VALUE,
				Action: ClearValueAction
			},
			'REMOVE_ROW': {
				value: 'REMOVE_ROW',
				label: msg.REMOVE_ROW,
				Action: RemoveRowAction
			},
			'CAN_ADD_REMOVE_ROWS': {
				value: 'CAN_ADD_REMOVE_ROWS',
				label: msg.ENABLE_ADD_REMOVE_ROWS,
				Action: SetStateAction.createStateAction('CAN_ADD_REMOVE_ROWS', 'canAddDelete', true)
			},
			'CANT_ADD_REMOVE_ROWS': {
				value: 'CANT_ADD_REMOVE_ROWS',
				label: msg.DISABLE_ADD_REMOVE_ROWS,
				Action: SetStateAction.createStateAction('CANT_ADD_REMOVE_ROWS', 'canAddDelete', false)
			},
			'REFRESH_GLOBAL_CONNECTOR': {
				value: 'REFRESH_GLOBAL_CONNECTOR',
				label: msg.REFRESH_GLOBAL_CONNECTOR,
				Action: RefreshGlobalConnectorAction
			},
			'SET_DATA': {
				value: 'SET_DATA',
				label: msg.SET_DATA,
				Action: SetDataAction
			},

			'TRIGGER_OUTCOME': {
				value: 'TRIGGER_OUTCOME',
				label: msg.TRIGGER_OUTCOME,
				Action: TriggerOutcomeAction
			},
			'PREVENT_SUBMIT': {
				value: 'PREVENT_SUBMIT',
				label: msg.PREVENT_SUBMIT,
				eventTriggers: [EventsId.ON_SUBMIT.value],
				Action: PreventSubmitAction
			},
			'HIDE_COLUMN': {
				value: 'HIDE_COLUMN',
				label: msg.HIDE_COLUMN,
				Action: HideColumnAction
			},
			'SHOW_COLUMN': {
				value: 'SHOW_COLUMN',
				label: msg.SHOW_COLUMN,
				Action: ShowColumnAction
			},
			'CHANGE_PRESENTATION': {
				value: 'CHANGE_PRESENTATION',
				label: msg.CHANGE_PRESENTATION,
				Action: ChangePresentationAction
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
		'use strict';

		return function (condition, message) {
			if (!condition) {
				throw new Error(message || 'Assertion failed');
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlProperty = __webpack_require__(16),
		    msg = __webpack_require__(5);

		//endregion

		return ControlProperty.subClass({}, {
			value: 'VALUE',
			label: msg.LABEL_VALUE,
			init: function init() {},
			getValue: function getValue(control) {
				return control.getControlValue();
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		var msg = __webpack_require__(5);

		return {
			'CONSTANT': {
				value: 'CONSTANT',
				label: msg.CONSTANT,
				resolveFunction: '_resolveConstant',
				decorateFunction: '_decorateConstant',
				template: null
			},
			'DATA': {
				value: 'DATA',
				label: msg.DATA_DEFINITION,
				resolveFunction: '_resolveData',
				template: 'dataValueTypeTemplate'
			},
			'CONTROL': {
				value: 'CONTROL',
				label: msg.CONTROL,
				resolveFunction: '_resolveControl',
				template: 'controlValueTypeTemplate'
			},
			'FUNCTION': {
				value: 'FUNCTION',
				label: msg.FUNCTION,
				resolveFunction: '_resolveFunction',
				decorateFunction: '_decorateFunction',
				template: 'functionValueTypeTemplate'
			},
			'SCOPE': {
				value: 'SCOPE',
				label: msg.CONNECTOR_DATA,
				resolveFunction: '_resolveScope',
				template: 'dataValueTypeTemplate'
			},
			'FILTER': {
				value: 'FILTER',
				label: 'Filter',
				resolveFunction: '_resolveFilter',
				template: 'filterValueTypeTemplate'
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {




exports.__esModule = true;

var _iterator = __webpack_require__(257);

var _iterator2 = _interopRequireDefault(_iterator);

var _symbol = __webpack_require__(259);

var _symbol2 = _interopRequireDefault(_symbol);

var _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {
  return typeof obj === "undefined" ? "undefined" : _typeof(obj);
} : function (obj) {
  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);
};

/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    OptionsPropertiesFactory = __webpack_require__(273),
		    ko = __webpack_require__(1);
		__webpack_require__(277);

		//endregion

		return Class.subClass({}, {
			init: function init(typeId, context, properties) {
				this.properties = ko.observable(OptionsPropertiesFactory.createProperties(typeId, properties));

				this.customValidationMessages = ko.observableArray();

				this.loading = ko.observable(false);
			},
			getOptions: function getOptions() {
				throw new Error('operation not supported exception');
			},
			getDefaultValue: function getDefaultValue() {
				throw new Error('operation not supported exception');
			},
			getDefaultValueOptions: function getDefaultValueOptions() {
				throw new Error('operation not supported exception');
			},
			getConnectorCall: function getConnectorCall(form) {
				return false;
			},
			getTranslationBundle: /* istanbul ignore next */function getTranslationBundle() {
				//Nothing by default, if an options resolver has translatable info it will override this
			},
			translate: /* istanbul ignore next */function translate() {
				//Nothing by default, if an options resolver has translatable info it will override this
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    OptionsFeed = __webpack_require__(89),
		    OptionsType = __webpack_require__(41),
		    EventsId = __webpack_require__(14),
		    Filter = __webpack_require__(151),
		    ko = __webpack_require__(1);

		//endregion

		return Control.subClass({}, {
			/* jshint maxparams: 6 */
			_autoFocusMustBeNull: false,
			init: function init(id, name, controlType, properties, context, parent) {
				this._super(id, name, controlType, properties, context, parent);

				_.defaults(properties, {
					multiple: false,
					optionsFeed: {},
					filter: {
						blocks: []
					}
				});

				this.properties.multiple = ko.observable(properties.multiple);

				this.properties.filter = ko.observable(new Filter(id, properties.filter.blocks, context.viewModel, this.properties.filterEnabled));

				this.properties.optionsFeed = ko.observable(new OptionsFeed(properties.optionsFeed.type, context, properties.optionsFeed.properties, this.id, this.properties.filter()));

				this.properties.defaultValue = ko.pureComputed(function () {
					var optionsFeed = this.properties.optionsFeed();
					return optionsFeed.optionsResolver().getDefaultValue();
				}, this);

				this.properties.computedOptions = ko.pureComputed(function () {
					var optionsFeed = this.properties.optionsFeed();
					var allOptionsArray = optionsFeed.optionsResolver().getOptions();
					var valuesArray = [];
					var nonRepeatedOptionsArray = [];
					allOptionsArray.forEach(function (element) {
						if (!(valuesArray.indexOf(element.value) > -1)) {
							valuesArray.push(element.value);
							nonRepeatedOptionsArray.push(element);
						}
					});
					return nonRepeatedOptionsArray;
				}, this);

				this.properties.autoFocus = ko.pureComputed({
					read: function read() {
						var val = this.properties.optionsFeed().optionsResolver().autoFocus();
						//In same cases (Checklist, RadioButtons) the autofocus is used in a oj select
						//in those cases, we need to return null, because "false" will be overriden by oj as the first option
						if (this._autoFocusMustBeNull && !val) return null;
						return val;
					},
					write: function write(value) {
						this.properties.optionsFeed().optionsResolver().autoFocus(value);
					},
					owner: this
				});

				var self = this;
				this.currentOptionsFeedType = ko.pureComputed({
					read: function read() {
						var optionsFeed = ko.unwrap(self.properties.optionsFeed).type();
						return optionsFeed ? optionsFeed.value : null;
					},
					write: function write() {}
				});

				this.properties.defaultValue.subscribe(function () {
					/* istanbul ignore else*/
					if (self.value) {
						var val = self.getControlValue();
						if (self._isNullEmptyOrUndefined(val)) {
							val = self.properties.defaultValue();
						}
						self.setValue(val);
						self.executeEvent(EventsId.ON_CHANGE.value);
					}
				});
			},
			getConnectorCall: function getConnectorCall() {
				return this.properties.optionsFeed().optionsResolver().getConnectorCall(this.viewModel.form());
			},
			refreshConnector: function refreshConnector() {
				if (this.properties.optionsFeed().type() === OptionsType.CONNECTOR) {
					this.properties.optionsFeed().optionsResolver().loadAndSetConnector(this.viewModel.form());
				}
			},
			reApplyFilter: function reApplyFilter() {
				this.properties.optionsFeed().optionsResolver().reApplyFilter();
			},
			getDataTemplate: function getDataTemplate() {
				return 'selectValueTypeTemplate';
			},
			toJS: function toJS() {
				var toJs = this._super();
				delete toJs.properties.defaultValue;
				delete toJs.properties.multiple;
				delete toJs.properties.computedOptions;
				delete toJs.properties.autoFocus;
				toJs.properties.optionsFeed = this.properties.optionsFeed().toJS();
				toJs.properties.filter = this.properties.filter().toJS();
				return toJs;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 65 */
/***/ (function(module, exports) {

// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};


/***/ }),
/* 66 */
/***/ (function(module, exports) {

// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};


/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(29);
var document = __webpack_require__(11).document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};


/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = __webpack_require__(29);
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};


/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = __webpack_require__(99);
var enumBugKeys = __webpack_require__(72);

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};


/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

var shared = __webpack_require__(71)('keys');
var uid = __webpack_require__(55);
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};


/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(11);
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});
module.exports = function (key) {
  return store[key] || (store[key] = {});
};


/***/ }),
/* 72 */
/***/ (function(module, exports) {

// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');


/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {



// 25.4.1.5 NewPromiseCapability(C)
var aFunction = __webpack_require__(53);

function PromiseCapability(C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aFunction(resolve);
  this.reject = aFunction(reject);
}

module.exports.f = function (C) {
  return new PromiseCapability(C);
};


/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);

		//endregion

		return Class.subClass({}, {

			init: function init(id, controlTemplate) {
				this.id = id;
				this.controlTemplate = controlTemplate;
			},
			properties: function properties() {
				return {
					controlTemplate: this.controlTemplate
				};
			},
			isBindable: function isBindable() {
				return false;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var StyleTypeId = __webpack_require__(47),
		    msg = __webpack_require__(5),
		    richTextEditorTemplate = __webpack_require__(217),
		    ActionsMap = __webpack_require__(58),
		    PropertiesMap = __webpack_require__(77),
		    EventsId = __webpack_require__(14);

		__webpack_require__(251)();

		//endregion

		return {
			RICH_TEXT_EDITOR: {
				id: 'RICH_TEXT_EDITOR',
				name: msg.CONTROL_RICH_TEXT_EDITOR,
				icon: 'TEXT_AREA',
				dataType: 'STRING',
				templateName: 'richTextEditorTemplate',
				properties: {
					label: msg.CONTROL_RICH_TEXT_EDITOR,
					defaultValue: '',
					readonly: false,
					help: '',
					hide: false
				},
				styles: [StyleTypeId.LABEL_SIZE],
				translatableProperties: ['label', 'defaultValue', 'help'],
				events: [EventsId.ON_LOAD, EventsId.ON_CHANGE, EventsId.ON_SUBMIT],
				eventActions: [ActionsMap.VALUE, ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.READONLY, ActionsMap.EDITABLE, ActionsMap.LABEL, ActionsMap.HELP],
				eventProperties: [PropertiesMap.VALUE, PropertiesMap.LABEL, PropertiesMap.HIDDEN],
				computable: true,
				template: richTextEditorTemplate
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    oj = __webpack_require__(7),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    TreeUtil = __webpack_require__(40),
		    msg = __webpack_require__(5);
		//endregion

		var URL_PATTERN = '^(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$';

		return Class.subClass({
			positiveValueValidator: function positiveValueValidator(message) {
				return [{
					validate: function validate(value) {
						if (value <= 0) {
							throw new oj.ValidatorError(msg.INCORRECT_FORMAT_MESSAGE, message);
						}
						return true;
					}
				}];
			},
			dimensionValidator: function dimensionValidator(message) {
				return [{
					type: 'regExp',
					options: {
						pattern: '^(auto|0)$|^[0-9]+(\\.[0-9]+)?(px|em|ex|%|in|cm|mm|pt|pc)$',
						messageSummary: msg.INCORRECT_FORMAT_MESSAGE,
						messageDetail: message
					}
				}];
			},
			borderDimensionValidator: function borderDimensionValidator(message) {
				return [{
					type: 'regExp',
					options: {
						pattern: '^(auto|0)$|^[0-9]+(\\.[0-9]+)?(px|em|ex|in|cm|mm|pt|pc)$',
						messageSummary: msg.INCORRECT_FORMAT_MESSAGE,
						messageDetail: message
					}
				}];
			},
			hexValueValidator: function hexValueValidator(message) {
				return [{
					type: 'regExp',
					options: {
						pattern: '^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$',
						messageSummary: msg.INCORRECT_FORMAT_MESSAGE,
						messageDetail: message
					}
				}];
			},
			cssClassNameValidator: function cssClassNameValidator(message) {
				return [{
					type: 'regExp',
					options: {
						pattern: '^((([a-zA-Z_]|-[a-zA-Z_-])[a-zA-Z0-9_-]*)\\s*)*$',
						messageSummary: msg.INCORRECT_FORMAT_MESSAGE,
						messageDetail: message
					}
				}];
			},
			urlPattern: URL_PATTERN,
			urlValidator: function urlValidator() {
				return [{
					type: 'regExp',
					options: {
						pattern: URL_PATTERN,
						messageDetail: msg.URL_FORMAT_ERROR_MESSAGE
					}
				}];
			},
			videoUrlValidator: function videoUrlValidator() {
				return [{
					type: 'regExp',
					options: {
						pattern: '^(https?:\\/\\/)?(player.|www.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com))\\/(watch\\?v=|video\\/|embed\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?$',
						messageDetail: msg.URL_FORMAT_ERROR_MESSAGE
					}
				}];
			},
			optionsLengthValidator: function optionsLengthValidator(model, message) {
				return [{
					validate: function validate(value) {
						var compareTo = model.optionsNames.peek().split('\n').length,
						    formattedValue = value.split('\n').length;
						if (formattedValue !== compareTo) {
							throw new oj.ValidatorError(message);
						}
						return true;
					}
				}];
			},
			optionsBlankValueValidator: function optionsBlankValueValidator(message) {
				return [{
					validate: function validate(value) {
						var formattedValue = value.split('\n');
						for (var i = 0; i < formattedValue.length; i++) {
							if ($.trim(formattedValue[i]) === '') {
								throw new oj.ValidatorError(message);
							}
						}
						return true;
					}
				}];
			},
			optionsUniqueValueValidator: function optionsUniqueValueValidator(message) {
				return [{
					validate: function validate(value) {
						var formattedValue = value.split('\n');
						if (_.uniq(formattedValue).length !== formattedValue.length) {
							throw new oj.ValidatorError(message);
						}
						return true;
					}
				}];
			},
			uniqueControlNameValidator: function uniqueControlNameValidator(message, data) {
				return [{
					validate: function validate(value) {
						var plainList = TreeUtil.treeToList(data.viewModel.form().presentation().controls(), 'controls');
						// If the entered value is different than that in the view model and already assigned to another control in the tree,
						// throw an error.
						if (ko.unwrap(data.name).toLowerCase() !== value.toLowerCase() && _.find(plainList, function (control) {
							return ko.unwrap(control.name).toLowerCase() === value.toLowerCase();
						})) {
							throw new oj.ValidatorError(message);
						}
						return true;
					}
				}];
			}
		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5),
		    ControlProperty = __webpack_require__(16),
		    ControlValueProperty = __webpack_require__(60),
		    ControlIdentityValueProperty = __webpack_require__(219),
		    HasClassProperty = __webpack_require__(220),
		    IsValidProperty = __webpack_require__(221),
		    SelectedTabProperty = __webpack_require__(222),
		    ControlVideoSrcProperty = __webpack_require__(223),
		    ControlImageUrlProperty = __webpack_require__(224),
		    OptionsProperty = __webpack_require__(225),
		    IndexProperty = __webpack_require__(226),
		    RowCountProperty = __webpack_require__(227),
		    SelectedLabelProperty = __webpack_require__(228),
		    OutcomeProperty = __webpack_require__(229),
		    ControlMessageProperty = __webpack_require__(230);
		//endregion

		return {
			'VALUE': new ControlValueProperty(),
			'HAS_CLASS': new HasClassProperty(),
			'LABEL': new ControlProperty('LABEL', msg.LABEL_LABEL, 'label'),
			'MESSAGE': new ControlMessageProperty(),
			'VIDEO_SRC': new ControlVideoSrcProperty(),
			'IMAGE_URL': new ControlImageUrlProperty(),
			'PLACEHOLDER': new ControlProperty('PLACEHOLDER', msg.LABEL_PLACEHOLDER, 'placeHolder'),
			'HIDDEN': new ControlProperty('HIDDEN', msg.HIDDEN, 'hide'),
			'EXPANDED': new ControlProperty('EXPANDED', msg.LABEL_EXPANDED, 'expanded'),
			'DISABLED': new ControlProperty('DISABLED', msg.LABEL_DISABLED, 'disabled'),
			'REQUIRED': new ControlProperty('REQUIRED', msg.LABEL_REQUIRED, 'required'),
			'MIN_VALUE': new ControlProperty('MIN_VALUE', msg.LABEL_MIN_VALUE, 'minValue'),
			'MAX_VALUE': new ControlProperty('MAX_VALUE', msg.LABEL_MAX_VALUE, 'maxValue'),
			'IS_VALID': new IsValidProperty(),
			'OPTIONS': new OptionsProperty(),
			'SELECTED': new SelectedTabProperty(),
			'IDENTITY_VALUE': new ControlIdentityValueProperty(),
			'CAN_ADD_REMOVE_ROWS': new ControlProperty('CAN_ADD_REMOVE_ROWS', msg.ENABLED_ADD_REMOVE_ROWS, 'canAddDelete'),
			'INDEX': new IndexProperty(),
			'ROW_COUNT': new RowCountProperty(),
			'SELECTED_LABEL': new SelectedLabelProperty(),
			'OUTCOME': new OutcomeProperty()
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {

		'use strict';

		/**
   *
   *
   *
   *
   *
   *
   *
   *
   * DO NOT REMOVE THIS COMMENT
   * FOR PCS INTEGRATION (ADF DOESN'T INCLUDE SMALL FILES)
   *
   *
   *
   *
   *
   *
   *
   *
   *
   *
   */

		return {
			FORM_RENDERER: 'form-renderer'
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

exports.f = __webpack_require__(12);


/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(11);
var core = __webpack_require__(18);
var LIBRARY = __webpack_require__(51);
var wksExt = __webpack_require__(79);
var defineProperty = __webpack_require__(28).f;
module.exports = function (name) {
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });
};


/***/ }),
/* 81 */
/***/ (function(module, exports) {

exports.f = {}.propertyIsEnumerable;


/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */

		//region dependencies

		var ContextualHandler = __webpack_require__(33),
		    _ = __webpack_require__(0);
		//endregion

		var DefaultTranslationsHandler = ContextualHandler.subClass({}, {
			init: function init(id) {
				this._super(id);
				this._bundles = {
					availableLanguages: [],
					initLocaleBundle: {},
					defaultBundle: {}
				};
				this._allBundles = [];
				//Cross-browser support for current language of the browser
				/* istanbul ignore next */
				var browserLanguage = navigator.languages ? navigator.languages[0] : navigator.language || navigator.userLanguage;
				var requireLocale;
				try {
					//If possible, get the locale from configuration
					requireLocale = requirejs.s.contexts._.config.locale;
				} catch (e) {
					//If there's an error, we'll use the browser language
				}
				this.currentLanguage = requireLocale || browserLanguage;
			},

			getKeyProperty: function getKeyProperty(key, property) {
				var value;
				var defaultBundle = this._bundles.defaultBundle;
				var initLocaleBundle = this._bundles.initLocaleBundle;
				if (initLocaleBundle && initLocaleBundle[key] && !_.isEmpty(initLocaleBundle[key][property])) {
					value = initLocaleBundle[key][property];
				} else if (defaultBundle && defaultBundle[key] && !_.isEmpty(defaultBundle[key][property])) {
					value = defaultBundle[key][property];
				}

				if (!_.isEmpty(value)) {
					return value;
				}
				return null;
			},

			getAllBundles: function getAllBundles() {
				return this._allBundles;
			},
			setAllBundles: function setAllBundles(allBundles) {
				this._allBundles = allBundles || [];
			},
			setAvailableLanguages: function setAvailableLanguages(availableLanguages) {
				this._bundles.availableLanguages = availableLanguages || [];
			},
			fetchCurrentLanguage: function fetchCurrentLanguage() {
				return this.fetchBundle(this.currentLanguage);
			},

			fetchBundle: function fetchBundle(languageId) {
				this._bundles.initLocaleBundle = {};
				this._bundles.defaultBundle = {};
				var specificLanguageId = this.getSpecificLanguageId(languageId);
				var genericLanguageId = this.getGenericLanguageId(languageId);
				_.each(this._allBundles, function (fetchedBundle) {
					if (this.getSpecificLanguageId(fetchedBundle.id) === specificLanguageId) {
						this._bundles.initLocaleBundle = fetchedBundle.bundle;
					}
					if (fetchedBundle.id === genericLanguageId) {
						this._bundles.defaultBundle = fetchedBundle.bundle;
					}
				}, this);
				if (_.isEmpty(this._bundles.initLocaleBundle) && !_.isEmpty(this._bundles.defaultBundle)) {
					this._bundles.initLocaleBundle = this._bundles.defaultBundle;
				}
				return _promise2.default.resolve(this._bundles);
			},

			clearAllBundles: function clearAllBundles() {
				this._allBundles = [];
			},

			saveBundles: function saveBundles(bundles) {
				var self = this;
				_.each(bundles, function (bundle, key) {
					var found = _.find(self._allBundles, function (item) {
						return item.id === key;
					});
					if (found) {
						found.bundle = bundle;
					} else {
						self._allBundles.push({
							id: key,
							bundle: bundle
						});
					}
				});
			},
			getSpecificLanguageId: function getSpecificLanguageId(id) {
				id = id || '';
				return id.replace(/[-_]/, '-');
			},
			getGenericLanguageId: function getGenericLanguageId(id) {
				return this.getSpecificLanguageId(id).split('-')[0];
			}
		});

		return {
			create: function create() {
				return new DefaultTranslationsHandler('DefaultTranslationsHandler');
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    koToJSUtil = __webpack_require__(21);

		//endregion

		return Class.subClass({}, {

			init: function init(properties) {},
			observables: function observables() {
				throw new Error('Not implemented operation exception');
			},
			toJS: function toJS() {
				return koToJSUtil.toJS(this.observables());
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    DynamicOptionType = __webpack_require__(131);

		//end region

		var DefaultValue = function DefaultValue(resolver) {
			this.read = function () {
				//get default Value based on dynamic default type
				var defaultValueList = resolver.properties().defaultValue();
				var realValues = [];
				$.each(defaultValueList, function () {
					var typeId = this;
					var dynamicOptionType = DynamicOptionType[typeId];
					var defaultValue = dynamicOptionType.getValue(resolver.getOptions());
					realValues = realValues.concat(defaultValue);
				});
				return realValues.length > 0 ? realValues : [];
			};
		};

		return {
			create: function create(resolver) {
				return ko.pureComputed(new DefaultValue(resolver));
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    ValidatorBuilder = __webpack_require__(290),
		    ValidatorTypeId = __webpack_require__(136),
		    ValidatorFactory = __webpack_require__(135),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('VALIDATION', dependencies);
			},
			_decorate: function _decorate(control) {

				control.silentlyValidated = false;

				//ignoring required as JET will automatically validate it.
				control.validators = ValidatorBuilder.getValidators(control.properties, [ValidatorTypeId.REQUIRED]);

				control.registerRenderListener(function (control) {
					if (control.silentlyValidated) {
						control.validate();
					}
				});
				control.validate = function () {
					var valid;
					if (control.rendered()) {
						//DO the component validation
						valid = this._validateComponent(control);
					} else {
						control.silentlyValidated = true;
						//DO silent validation.
						valid = this._validateSilently(control);
					}
					control.isValid(valid);
					return valid;
				}.bind(this);

				control.refreshValidators = function () {
					control.validators = ValidatorBuilder.getValidators(control.properties, [ValidatorTypeId.REQUIRED]);
					control.getOjComponent()('option', 'validators', control.validators);
				};
				if (ko.isSubscribable(control.properties.pattern)) {
					control.properties.pattern.subscribe(function (nv) {
						control.refreshValidators();
						control.validate();
					});
				}
			},
			_validateComponent: function _validateComponent(control) {
				throw 'Must be overwritten';
			},
			_validateSilently: function _validateSilently(control) {
				var valid = true;
				//Adding required when silently validating.
				var silentValidators = [ValidatorFactory.CREATE_REQUIRED(control.properties)];
				var typeValidators = ValidatorBuilder.getValidatorsForType(control.type, control.properties);
				silentValidators = silentValidators.concat(typeValidators);
				var validators = _.union(control.validators, silentValidators);

				_.each(validators, function (validator) {
					try {
						//having to validate both value and raw value because some cases
						// value will not be updated with rawValue until is rendered
						validator.validate(control.value());
						if (control._rawValue) {
							validator.validate(control._getRawValue());
						}
					} catch (ex) {
						valid = false;
					}
					return valid;
				});

				return valid && this._getDeferredCustomMessages(control).length === 0;
			},
			_getDeferredCustomMessages: function _getDeferredCustomMessages(control) {
				var customMessages = [];
				var deferredCalls = control.getOjComponent()();
				_.each(deferredCalls, function (call) {
					if (call[0] === 'option' && call[1] === 'messagesCustom' && call[2] !== undefined) {
						customMessages.push(call[2]);
					}
				});
				return customMessages;
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('silentlyValidated');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		// jshint maxstatements: 52

		//region dependencies

		var ControlTypeId = __webpack_require__(4);
		var _ = __webpack_require__(0);
		var ActionsMap = __webpack_require__(58);
		//endregion

		var basicControlActions = [ActionsMap.VALUE, ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.ENABLE, ActionsMap.DISABLE, ActionsMap.LABEL, ActionsMap.SET_INVALID, ActionsMap.CLEAR_VALUE];
		var inputActions = _.union(basicControlActions, [ActionsMap.REQUIRED, ActionsMap.OPTIONAL]);
		var inlineInputActions = _.union(inputActions, [ActionsMap.HELP, ActionsMap.HINT, ActionsMap.READONLY, ActionsMap.EDITABLE, ActionsMap.PLACEHOLDER]);
		var textActionsWithoutPattern = _.union(inlineInputActions, [ActionsMap.MIN_LENGTH, ActionsMap.MAX_LENGTH]);
		var textActions = _.union(textActionsWithoutPattern, [ActionsMap.PATTERN]);
		var valueActions = _.union(inlineInputActions, [ActionsMap.MIN_VALUE, ActionsMap.MAX_VALUE]);
		var lovActions = _.union(inputActions, [ActionsMap.REFRESH_CONNECTOR, ActionsMap.OPTIONS]);

		var actions = {};
		actions[ControlTypeId.INPUT_TEXT] = textActions;
		actions[ControlTypeId.TEXT_AREA] = textActions;
		actions[ControlTypeId.BUTTON] = [ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.ENABLE, ActionsMap.DISABLE, ActionsMap.LABEL];
		actions[ControlTypeId.SELECT] = lovActions;
		actions[ControlTypeId.CHECKLIST] = lovActions;
		actions[ControlTypeId.CHECKBOX] = inputActions;
		actions[ControlTypeId.RADIO_BUTTON] = lovActions;
		actions[ControlTypeId.NUMBER] = valueActions;
		actions[ControlTypeId.DATE] = valueActions;
		actions[ControlTypeId.TIME] = valueActions;
		actions[ControlTypeId.DATE_TIME] = valueActions;
		actions[ControlTypeId.EMAIL] = textActionsWithoutPattern;
		actions[ControlTypeId.URL] = textActionsWithoutPattern;
		actions[ControlTypeId.MESSAGE] = [ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.MESSAGE];
		actions[ControlTypeId.LINK] = [ActionsMap.DO_NOTHING, ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.LABEL_BINDING, ActionsMap.VALUE];
		actions[ControlTypeId.MONEY] = valueActions;
		actions[ControlTypeId.PHONE] = textActionsWithoutPattern;
		actions[ControlTypeId.IMAGE] = [ActionsMap.LABEL, ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.IMAGE_URL, ActionsMap.ALTERNATIVE_TEXT];
		actions[ControlTypeId.VIDEO] = [ActionsMap.LABEL, ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.VIDEO_SRC];
		actions[ControlTypeId.PANEL] = [ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.LABEL];
		actions[ControlTypeId.BUSINESS_TYPE] = [ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.LABEL];
		actions[ControlTypeId.SECTION] = [ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.LABEL, ActionsMap.EXPAND, ActionsMap.COLLAPSE];
		actions[ControlTypeId.FORM_REFERENCE] = [ActionsMap.LABEL, ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.CHANGE_PRESENTATION];
		actions[ControlTypeId.TAB_CONTAINER] = [ActionsMap.SHOW, ActionsMap.HIDE];
		actions[ControlTypeId.TAB] = [ActionsMap.SHOW, ActionsMap.SELECT, ActionsMap.HIDE, ActionsMap.ENABLE, ActionsMap.DISABLE, ActionsMap.LABEL];
		var repeatableActions = [ActionsMap.REPEATABLE_VALUE, ActionsMap.SHOW, ActionsMap.HIDE, ActionsMap.DISABLE, ActionsMap.ENABLE, ActionsMap.CAN_ADD_REMOVE_ROWS, ActionsMap.CANT_ADD_REMOVE_ROWS, ActionsMap.READONLY, ActionsMap.EDITABLE, ActionsMap.REFRESH_CONNECTOR, ActionsMap.ADD_ROW, ActionsMap.CLEAR_VALUE];
		actions[ControlTypeId.TABLE] = _.union(repeatableActions, [ActionsMap.HIDE_COLUMN, ActionsMap.SHOW_COLUMN]);
		actions[ControlTypeId.REPEATABLE_SECTION] = repeatableActions;
		actions[ControlTypeId.STRING_REPEATABLE_SECTION] = repeatableActions;
		actions[ControlTypeId.NUMBER_REPEATABLE_SECTION] = repeatableActions;
		actions[ControlTypeId.BOOLEAN_REPEATABLE_SECTION] = repeatableActions;
		actions[ControlTypeId.DATE_REPEATABLE_SECTION] = repeatableActions;
		actions[ControlTypeId.TIME_REPEATABLE_SECTION] = repeatableActions;
		actions[ControlTypeId.DATE_TIME_REPEATABLE_SECTION] = repeatableActions;
		actions[ControlTypeId.IDENTITY_BROWSER] = inputActions;

		var repeatedRowActions = [ActionsMap.REMOVE_ROW, ActionsMap.CLEAR_VALUE, ActionsMap.SHOW, ActionsMap.HIDE];
		actions[ControlTypeId.REPEATABLE_SECTION_ROW] = _.union(repeatedRowActions, [ActionsMap.LABEL]);
		actions[ControlTypeId.TABLE_ROW] = repeatedRowActions;

		actions[ControlTypeId.FORM_PRESENTATION] = [ActionsMap.SET_DATA, ActionsMap.CHANGE_PRESENTATION, ActionsMap.TRIGGER_OUTCOME, ActionsMap.PREVENT_SUBMIT, ActionsMap.REFRESH_GLOBAL_CONNECTOR];
		actions[ControlTypeId.ENUM_SELECT] = inputActions;

		return actions;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {
		/*jshint maxstatements: 49*/

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4);
		var _ = __webpack_require__(0);
		var PropertiesMap = __webpack_require__(77);
		//endregion

		var commonProperties = [PropertiesMap.VALUE, PropertiesMap.HAS_CLASS, PropertiesMap.LABEL, PropertiesMap.HIDDEN, PropertiesMap.DISABLED, PropertiesMap.IS_VALID];
		var inputCommonProperties = _.union(commonProperties, [PropertiesMap.REQUIRED]);
		var textProperties = _.union(inputCommonProperties, [PropertiesMap.PLACEHOLDER]);
		var valueProperties = _.union(inputCommonProperties, [PropertiesMap.MIN_VALUE, PropertiesMap.MAX_VALUE]);
		var lovProperties = _.union(inputCommonProperties, [PropertiesMap.OPTIONS, PropertiesMap.SELECTED_LABEL]);

		var properties = {};
		properties[ControlTypeId.INPUT_TEXT] = textProperties;
		properties[ControlTypeId.TEXT_AREA] = textProperties;
		properties[ControlTypeId.BUTTON] = [PropertiesMap.HIDDEN, PropertiesMap.LABEL, PropertiesMap.DISABLED];
		properties[ControlTypeId.SELECT] = lovProperties;
		properties[ControlTypeId.CHECKLIST] = lovProperties;
		properties[ControlTypeId.CHECKBOX] = inputCommonProperties;
		properties[ControlTypeId.RADIO_BUTTON] = _.union(commonProperties, [PropertiesMap.OPTIONS, PropertiesMap.SELECTED_LABEL]);
		properties[ControlTypeId.NUMBER] = valueProperties;
		properties[ControlTypeId.DATE] = valueProperties;
		properties[ControlTypeId.TIME] = valueProperties;
		properties[ControlTypeId.DATE_TIME] = valueProperties;
		properties[ControlTypeId.EMAIL] = textProperties;
		properties[ControlTypeId.URL] = textProperties;
		properties[ControlTypeId.MESSAGE] = [PropertiesMap.HIDDEN, PropertiesMap.MESSAGE];
		properties[ControlTypeId.LINK] = [PropertiesMap.VALUE, PropertiesMap.LABEL, PropertiesMap.HIDDEN, PropertiesMap.MESSAGE];
		properties[ControlTypeId.MONEY] = valueProperties;
		properties[ControlTypeId.PHONE] = textProperties;
		properties[ControlTypeId.IMAGE] = [PropertiesMap.HIDDEN, PropertiesMap.LABEL, PropertiesMap.IMAGE_URL];
		properties[ControlTypeId.VIDEO] = [PropertiesMap.HIDDEN, PropertiesMap.LABEL, PropertiesMap.VIDEO_SRC];
		properties[ControlTypeId.PANEL] = [PropertiesMap.HIDDEN, PropertiesMap.IS_VALID, PropertiesMap.LABEL];
		properties[ControlTypeId.BUSINESS_TYPE] = [PropertiesMap.HIDDEN, PropertiesMap.LABEL];
		properties[ControlTypeId.SECTION] = [PropertiesMap.HIDDEN, PropertiesMap.LABEL, PropertiesMap.IS_VALID, PropertiesMap.EXPANDED];
		properties[ControlTypeId.FORM_REFERENCE] = [PropertiesMap.HIDDEN, PropertiesMap.LABEL];

		properties[ControlTypeId.TAB] = [PropertiesMap.HIDDEN, PropertiesMap.LABEL, PropertiesMap.IS_VALID, PropertiesMap.DISABLED, PropertiesMap.SELECTED];

		properties[ControlTypeId.TAB_CONTAINER] = [PropertiesMap.HIDDEN, PropertiesMap.IS_VALID];

		var repeatableProperties = [PropertiesMap.VALUE, PropertiesMap.HIDDEN, PropertiesMap.CAN_ADD_REMOVE_ROWS, PropertiesMap.DISABLED, PropertiesMap.ROW_COUNT];
		properties[ControlTypeId.IDENTITY_BROWSER] = _.union([PropertiesMap.IDENTITY_VALUE], textProperties);
		properties[ControlTypeId.TABLE] = repeatableProperties;
		properties[ControlTypeId.REPEATABLE_SECTION] = repeatableProperties;
		properties[ControlTypeId.STRING_REPEATABLE_SECTION] = repeatableProperties;
		properties[ControlTypeId.NUMBER_REPEATABLE_SECTION] = repeatableProperties;
		properties[ControlTypeId.BOOLEAN_REPEATABLE_SECTION] = repeatableProperties;
		properties[ControlTypeId.DATE_REPEATABLE_SECTION] = repeatableProperties;
		properties[ControlTypeId.TIME_REPEATABLE_SECTION] = repeatableProperties;
		properties[ControlTypeId.DATE_TIME_REPEATABLE_SECTION] = repeatableProperties;

		var repeatedRowProperties = [PropertiesMap.VALUE, PropertiesMap.INDEX];
		properties[ControlTypeId.REPEATABLE_SECTION_ROW] = _.union(repeatedRowProperties, [PropertiesMap.LABEL]);
		properties[ControlTypeId.TABLE_ROW] = repeatedRowProperties;

		properties[ControlTypeId.ENUM_SELECT] = inputCommonProperties;

		properties[ControlTypeId.FORM_PRESENTATION] = [PropertiesMap.IS_VALID, PropertiesMap.OUTCOME];

		return properties;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ButtonControl = __webpack_require__(337),
		    InputTextControl = __webpack_require__(34),
		    TextAreaControl = __webpack_require__(339),
		    SelectControl = __webpack_require__(150),
		    ChecklistControl = __webpack_require__(351),
		    CheckboxControl = __webpack_require__(352),
		    RadioButtonControl = __webpack_require__(353),
		    NumberControl = __webpack_require__(354),
		    DateControl = __webpack_require__(355),
		    TimeControl = __webpack_require__(356),
		    LinkControl = __webpack_require__(357),
		    DateTimeControl = __webpack_require__(359),
		    EmailControl = __webpack_require__(360),
		    UrlControl = __webpack_require__(361),
		    MessageControl = __webpack_require__(362),
		    MoneyControl = __webpack_require__(363),
		    PhoneControl = __webpack_require__(364),
		    ImageControl = __webpack_require__(365),
		    VideoControl = __webpack_require__(366),
		    ControlTypeId = __webpack_require__(4),
		    IdentityControl = __webpack_require__(367),
		    Row = __webpack_require__(369),
		    PanelControl = __webpack_require__(371),
		    SectionControl = __webpack_require__(373),
		    StringRepeatableSectionControl = __webpack_require__(374),
		    TabControl = __webpack_require__(377),
		    TabContainerControl = __webpack_require__(378),
		    RepeatableSectionControl = __webpack_require__(157),
		    TableControl = __webpack_require__(381),
		    FormsLogger = __webpack_require__(20),
		    TableColumnControl = __webpack_require__(382),
		    FormReferenceControl = __webpack_require__(383),
		    CustomControl = __webpack_require__(384),
		    EnumSelectControl = __webpack_require__(385);

		//endregion

		var CREATE = 'CREATE_';

		var ControlFactory = Class.subClass({

			/* jshint maxparams: 6 */
			createControl: function createControl(id, name, typeId, data, context, parent) {
				var createFunction = ControlFactory[CREATE + typeId];
				if (CustomControl.isCustomControl(typeId)) {
					createFunction = ControlFactory.CREATE_CUSTOM_CONTROL;
				}
				if (createFunction) {
					var control = createFunction(id, name, data, context, parent, typeId);
					context.addControlDecorators(control);
					ControlFactory._log(typeId, control);
					return control;
				} else {
					throw new Error('Unsupported operation exception');
				}
			},
			CREATE_CUSTOM_CONTROL: function CREATE_CUSTOM_CONTROL(id, name, data, context, parent, typeId) {
				return new CustomControl(id, name, typeId, data.properties || {}, context, parent);
			},
			CREATE_INPUT_TEXT: function CREATE_INPUT_TEXT(id, name, data, context, parent) {
				return new InputTextControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_TEXT_AREA: function CREATE_TEXT_AREA(id, name, data, context, parent) {
				return new TextAreaControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_BUTTON: function CREATE_BUTTON(id, name, data, context, parent) {
				return new ButtonControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_SELECT: function CREATE_SELECT(id, name, data, context, parent) {
				return new SelectControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_CHECKLIST: function CREATE_CHECKLIST(id, name, data, context, parent) {
				return new ChecklistControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_CHECKBOX: function CREATE_CHECKBOX(id, name, data, context, parent) {
				return new CheckboxControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_RADIO_BUTTON: function CREATE_RADIO_BUTTON(id, name, data, context, parent) {
				return new RadioButtonControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_NUMBER: function CREATE_NUMBER(id, name, data, context, parent) {
				return new NumberControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_DATE: function CREATE_DATE(id, name, data, context, parent) {
				return new DateControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_TIME: function CREATE_TIME(id, name, data, context, parent) {
				return new TimeControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_DATE_TIME: function CREATE_DATE_TIME(id, name, data, context, parent) {
				return new DateTimeControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_EMAIL: function CREATE_EMAIL(id, name, data, context, parent) {
				return new EmailControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_URL: function CREATE_URL(id, name, data, context, parent) {
				return new UrlControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_MESSAGE: function CREATE_MESSAGE(id, name, data, context, parent) {
				return new MessageControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_LINK: function CREATE_LINK(id, name, data, context, parent) {
				return new LinkControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_MONEY: function CREATE_MONEY(id, name, data, context, parent) {
				return new MoneyControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_PHONE: function CREATE_PHONE(id, name, data, context, parent) {
				return new PhoneControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_IMAGE: function CREATE_IMAGE(id, name, data, context, parent) {
				return new ImageControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_VIDEO: function CREATE_VIDEO(id, name, data, context, parent) {
				return new VideoControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_IDENTITY_BROWSER: function CREATE_IDENTITY_BROWSER(id, name, data, context, parent) {
				return new IdentityControl(id, name, data.properties || {}, context, parent);
			},
			CREATE_ROW: function CREATE_ROW(id, name, data, context, parent) {
				return new Row(id, data, context, ControlFactory, parent);
			},
			CREATE_PANEL: function CREATE_PANEL(id, name, data, context, parent) {
				return new PanelControl(id, name, data, context, ControlFactory, parent);
			},
			CREATE_SECTION: function CREATE_SECTION(id, name, data, context, parent) {
				return new SectionControl(id, name, data, context, ControlFactory, parent);
			},
			CREATE_FORM_REFERENCE: function CREATE_FORM_REFERENCE(id, name, data, context, parent) {
				return new FormReferenceControl(id, name, data, context, parent);
			},
			CREATE_TAB: function CREATE_TAB(id, name, data, context, parent) {
				return new TabControl(id, name, data, context, ControlFactory, parent);
			},
			CREATE_TAB_CONTAINER: function CREATE_TAB_CONTAINER(id, name, data, context, parent) {
				return new TabContainerControl(id, name, data, context, ControlFactory, parent);
			},
			CREATE_REPEATABLE_SECTION: function CREATE_REPEATABLE_SECTION(id, name, data, context, parent) {
				return new RepeatableSectionControl(id, name, data, context, ControlFactory, parent);
			},
			CREATE_STRING_REPEATABLE_SECTION: function CREATE_STRING_REPEATABLE_SECTION(id, name, data, context, parent, typeId) {
				return new StringRepeatableSectionControl(id, name, data, context, ControlFactory, parent, typeId);
			},
			CREATE_NUMBER_REPEATABLE_SECTION: function CREATE_NUMBER_REPEATABLE_SECTION(id, name, data, context, parent, typeId) {
				return new StringRepeatableSectionControl(id, name, data, context, ControlFactory, parent, typeId);
			},
			CREATE_BOOLEAN_REPEATABLE_SECTION: function CREATE_BOOLEAN_REPEATABLE_SECTION(id, name, data, context, parent, typeId) {
				return new StringRepeatableSectionControl(id, name, data, context, ControlFactory, parent, typeId);
			},
			CREATE_DATE_REPEATABLE_SECTION: function CREATE_DATE_REPEATABLE_SECTION(id, name, data, context, parent, typeId) {
				return new StringRepeatableSectionControl(id, name, data, context, ControlFactory, parent, typeId);
			},
			CREATE_TIME_REPEATABLE_SECTION: function CREATE_TIME_REPEATABLE_SECTION(id, name, data, context, parent, typeId) {
				return new StringRepeatableSectionControl(id, name, data, context, ControlFactory, parent, typeId);
			},
			CREATE_DATE_TIME_REPEATABLE_SECTION: function CREATE_DATE_TIME_REPEATABLE_SECTION(id, name, data, context, parent, typeId) {
				return new StringRepeatableSectionControl(id, name, data, context, ControlFactory, parent, typeId);
			},
			CREATE_TABLE: function CREATE_TABLE(id, name, data, context, parent) {
				return new TableControl(id, name, data, context, ControlFactory, parent);
			},
			CREATE_TABLE_COLUMN: function CREATE_TABLE_COLUMN(id, name, data, context, parent) {
				return new TableColumnControl(id, name, data, context, ControlFactory, parent);
			},
			CREATE_BUSINESS_TYPE: function CREATE_BUSINESS_TYPE(id, name, data, context, parent) {
				return new SectionControl(id, name, data, context, ControlFactory, parent);
			},
			CREATE_ENUM_SELECT: function CREATE_ENUM_SELECT(id, name, data, context, parent) {
				return new EnumSelectControl(id, name, data.properties || {}, context, parent);
			},
			_log: function _log(typeId, control) {
				var logger = FormsLogger.getLogger();
				if (logger.debug && typeId !== ControlTypeId.ROW) {
					logger.count('[COUNT] [CONTROL]' + typeId);
					control.registerRenderListener(function () {
						logger.count('[COUNT] [RENDERED]' + typeId);
						return true;
					});
				}
			}

		}, {});
		return ControlFactory;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    OptionsType = __webpack_require__(41);
		//endregion

		return Class.subClass({}, {
			init: function init(typeId, context, properties, controlId, filter) {
				typeId = typeId ? typeId : OptionsType.STATIC.value;
				this.type = ko.observable(OptionsType[typeId]);
				this.optionsResolver = ko.observable(context.optionsResolverFactory.createResolver(typeId, context, properties, controlId, filter));

				this.availableTypes = [OptionsType.STATIC, OptionsType.DYNAMIC, OptionsType.CONNECTOR];

				this.template = ko.pureComputed(function () {
					return this.type().value.toLowerCase() + 'OptionsTemplate';
				}, this);

				this.properties = this.optionsResolver().properties;
			},
			observables: function observables() {
				return {
					type: this.type,
					properties: this.properties
				};
			},
			toJS: function toJS() {
				return {
					type: this.type().value,
					properties: this.optionsResolver().properties().toJS()
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    ko = __webpack_require__(1),
		    StyleTypeId = __webpack_require__(47),
		    _ = __webpack_require__(0);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'TOGGLE_CLASS',
			STYLE: StyleTypeId.CLASS_NAME
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);

				this.value = ko.observable(model.value || '');
			},

			template: function template() {
				return 'styleValueEventTemplate';
			},

			style: function style() {
				return this._class.STYLE;
			},

			execute: function execute(control) {
				var style = _.find(control.styles(), function (s) {
					return s.type.name === this.style().name;
				}, this);
				var classes = style.value().split(' ');

				if (_.contains(classes, this.value())) {
					style.value(_.without(classes, this.value()).join(' '));
				} else {
					style.value(classes.concat([this.value()]).join(' '));
				}
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					value: this.value()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {
		'use strict';

		var $ = __webpack_require__(2);

		return {
			$: $,
			fadeIn: function fadeIn(condition) {
				var $spinner = this.$('.spinnerContainer');
				if ((arguments.length === 0 || !!condition) && !$spinner.is(':visible')) {
					$spinner.stop().fadeIn();
				}
			},
			fadeOut: function fadeOut() {
				this.$('.spinnerContainer').stop().fadeOut();
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(166), __webpack_require__(6), __webpack_require__(169)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_regenerator, _promise, _asyncToGenerator2) {
	'use strict';

	var _regenerator2 = _interopRequireDefault(_regenerator);

	var _promise2 = _interopRequireDefault(_promise);

	var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {
		'use strict';

		//region dependencies

		var RendererContext = __webpack_require__(193),
		    msg = __webpack_require__(5),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2),
		    Form = __webpack_require__(143),
		    EventsId = __webpack_require__(14),
		    DefaultTranslationsHandler = __webpack_require__(82),
		    RendererLoadPreProcessor = __webpack_require__(334),
		    RendererForm = __webpack_require__(335),
		    DependenciesExtension = __webpack_require__(390),
		    FormsLogger = __webpack_require__(20),
		    FormValidator = __webpack_require__(137),
		    BusinessControlFactory = __webpack_require__(391),
		    RendererId = __webpack_require__(78);
		__webpack_require__(399);
		//endregion

		/* global Promise */

		return function (params) {
			var awaitTimeout = function () {
				var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {
					var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
					return _regenerator2.default.wrap(function _callee$(_context) {
						while (1) {
							switch (_context.prev = _context.next) {
								case 0:
									return _context.abrupt('return', new _promise2.default(function (resolve) {
										return setTimeout(resolve, time);
									}));

								case 1:
								case 'end':
									return _context.stop();
							}
						}
					}, _callee, this);
				}));

				return function awaitTimeout() {
					return _ref.apply(this, arguments);
				};
			}();

			var waitForLoadingAndResolve = function () {
				var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(outcomeType) {
					var payload, valid;
					return _regenerator2.default.wrap(function _callee2$(_context2) {
						while (1) {
							switch (_context2.prev = _context2.next) {
								case 0:
									_context2.next = 2;
									return Form.resolveOnLoaded(self.form());

								case 2:
									_context2.next = 4;
									return self.rendererContext.eventsQueue.resolveWhenEmpty();

								case 4:

									self.form().updateBindings();

									payload = {};

									if (!outcomeType) {
										_context2.next = 22;
										break;
									}

									self.form().outcomeType = outcomeType;
									self.form().canceledOutcome = false;
									_context2.next = 11;
									return self.form().executeEventOnAll(EventsId.ON_SUBMIT.value);

								case 11:
									_context2.next = 13;
									return self.rendererContext.eventsQueue.resolveWhenEmpty();

								case 13:

									self.form().updateBindings();
									//outcomeType is empty only when saving
									//The form is valid when the form is valid and has not been canceled
									_context2.next = 16;
									return awaitTimeout();

								case 16:
									valid = self.validateData() && !self.form().canceledOutcome;

									if (valid) {
										_context2.next = 19;
										break;
									}

									throw {
										externalMetadata: self.externalMetadata,
										id: self.form().canceledOutcome ? 'CANCELED' : 'INVALID',
										message: self.form().canceledOutcome ? msg.CANCELED_MESSAGE : msg.INVALID_FORM_MESSAGE
									};

								case 19:
									payload = self.form().payload.toJS();
									_context2.next = 23;
									break;

								case 22:
									payload = self.form().saveValue();

								case 23:
									return _context2.abrupt('return', {
										externalMetadata: self.externalMetadata,
										payload: payload
									});

								case 24:
								case 'end':
									return _context2.stop();
							}
						}
					}, _callee2, this);
				}));

				return function waitForLoadingAndResolve(_x2) {
					return _ref2.apply(this, arguments);
				};
			}();

			var self = this;
			//static forms only show the UI, no events are executed and no Data is passed to the controls.
			this.staticForm = ko.unwrap(params.staticForm);
			//We need to have the real form id, if this is a reference, to call the correct connector calls
			this.formId = ko.unwrap(params.formId) || ko.unwrap(params.value).form.id;
			this.presentationId = ko.unwrap(params.presentationId) || null;

			this.onValidStateChange = params.onValidStateChange || function () {};

			self.form = ko.observable();
			self.dependenciesExtension = new DependenciesExtension(self);

			self.load = function (modelData, loadedCallback) {
				modelData = modelData || {};
				self.externalMetadata = modelData.externalMetadata;
				FormsLogger.getLogger().time('[LOAD]');
				var rendererModel = RendererLoadPreProcessor.preProcess(modelData);

				self.rendererContext = new RendererContext(rendererModel, self, ko.unwrap(params.value).controlBindings, ko.unwrap(params.value).bindingContext);
				self.context = self.rendererContext;

				return self.loadForm(rendererModel, loadedCallback);
			};

			self.loadForm = function (rendererModel, loadedCallback) {
				FormsLogger.getLogger().time('[LOAD_FORM]');

				var allBundles = ko.unwrap(params.value).allBundles;
				if (!_.isEmpty(allBundles)) {
					// If the params have an allBundles property, then we are inside a form reference
					var currentLanguage = self.rendererContext.config().translationsHandler.currentLanguage;
					// We create a new translationsHandler for this reference, so the bundles are not conflicting
					self.rendererContext.config().translationsHandler = DefaultTranslationsHandler.create();
					// Set the same language than the parent, to avoid having the forms in different languages
					self.rendererContext.config().translationsHandler.currentLanguage = currentLanguage;
					// Set the bundles for the form
					rendererModel.form.allBundles = allBundles;
				}
				self.form(new RendererForm(rendererModel.form, self.rendererContext));

				if (!self.staticForm) {
					self.form().initPayloadAndRunEvents();
				}
				var loadedSubscription = self.form().loaded.subscribe(function () {
					loadedSubscription.dispose();
					if (loadedCallback) {
						loadedCallback();
					}
				});

				//Subscribe to the isValid of the form, which is a pureComputed, and trigger the callback
				self.form().isValid.subscribe(function (newValue) {
					self.onValidStateChange(newValue);
				});
				self.onValidStateChange(self.form().isValid());

				//Return a promise that resolves when the form finish loading
				//To get this promise, it is needed to trigger the event using:
				// $('form-renderer').triggerHandler('load', formData)
				return RendererForm.resolveOnLoaded(self.form());
			};

			self.generate = function (modelData, loadedCallback) {
				FormsLogger.getLogger().time('[GENERATE]');
				var rendererModel = RendererLoadPreProcessor.preProcess(modelData);
				self.rendererContext = new RendererContext(rendererModel, self, ko.unwrap(params.value).controlBindings, ko.unwrap(params.value).bindingContext);
				self.context = self.rendererContext;
				var parentOfAll = {
					id: 'ParentOfAll',
					isRepeatable: function isRepeatable() {
						return true;
					}
				};
				var businessControls = BusinessControlFactory.createRowControl(rendererModel.form.schema.$name, rendererModel.form.schema, self.context, parentOfAll);
				rendererModel.form.controls.push(businessControls.toJS());
				return self.loadForm(rendererModel, loadedCallback);
			};

			self.getValues = function () {
				self.form().updateBindings();
				self.form().executeEventOnAll(EventsId.ON_SUBMIT.value);
				return {
					payload: self.form().payload.toJS()
				};
			};

			//ToDo: Move this to common


			self.submit = function (event, outcome) {
				return waitForLoadingAndResolve(outcome || 'SUBMIT');
			};

			self.save = function () {
				return waitForLoadingAndResolve(null);
			};

			self.getCurrentGlobalScope = function () {
				return self.globalScope;
			};

			self.getBindings = function () {
				return self.form().getBindings();
			};

			//using always readOnlyFormValidator to avoid a OJET bug.
			//http://myforums.oracle.com/jive3/thread.jspa?threadID=2136163
			//when bug is fixed FormValidator should be used.
			self.formValidator = new FormValidator();

			self.validateData = function () {
				return self.formValidator.validate(self.form().getAllControls(true), self.rendererContext);
			};

			function getRendererTag(elements) {
				var $divs = $($(elements).find('div')[0]);
				return $divs.closest(RendererId.FORM_RENDERER);
			}

			self.changePresentation = function () {
				var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(presentationId) {
					var data;
					return _regenerator2.default.wrap(function _callee3$(_context3) {
						while (1) {
							switch (_context3.prev = _context3.next) {
								case 0:
									_context3.next = 2;
									return this.context.config().screenflowHandler.getPresentationData(this.formId, presentationId);

								case 2:
									data = _context3.sent;

									//Use th current bindings as payload, so no information is lost
									data.form.payload = this.getBindings();
									//re use the current config
									data.config = this.context.config();
									//trigger the load of the form using the new data
									this.load(data);

								case 6:
								case 'end':
									return _context3.stop();
							}
						}
					}, _callee3, this);
				}));

				return function (_x3) {
					return _ref3.apply(this, arguments);
				};
			}();

			self.registerCustomEvents = function (elements) {
				var formRendererTag = getRendererTag(elements);
				//registering getValues
				$(formRendererTag).on('getValues', self.getValues);
				$(formRendererTag).on('submit', self.submit);
				$(formRendererTag).on('save', self.save);

				//registering getBindings
				$(formRendererTag).on('getBindings', self.getBindings);

				//registering changePresentation
				// This will be used by the formReferenceControl to trigger the change from an action outside the form
				$(formRendererTag).on('changePresentation', function (e, presentationId) {
					return self.changePresentation(presentationId);
				});

				//registering validateData
				$(formRendererTag).on('validateData', self.validateData);

				//registering load
				$(formRendererTag).on('load', function (event, data) {
					return self.load(data);
				});

				//registering generate
				$(formRendererTag).on('generate', function (event, data) {
					return self.generate(data);
				});
			};

			/* istanbul ignore next */
			self.detachCustomListeners = function (elements) {
				var formRendererTag = getRendererTag(elements);
				//removing getValues listener
				var $formRenderer = $(formRendererTag);
				$formRenderer.off('getValues');
				$formRenderer.off('submit');
				$formRenderer.off('save');
				//removing getBindings listener
				$formRenderer.off('getBindings');
				$formRenderer.off('changePresentation');
				//removing validateData listener
				$formRenderer.off('validateData');
				//removing load listener
				$formRenderer.off('load');

				//cleaning everything to avoid a memory leak.
				$formRenderer.find('*').each(function () {
					$(this).unbind();
				});
			};

			//loading the model with the parameters.
			self.load(params.value, params.loadedCallback);
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 93 */
/***/ (function(module, exports) {



/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {



var $at = __webpack_require__(171)(true);

// 21.1.3.27 String.prototype[@@iterator]()
__webpack_require__(95)(String, 'String', function (iterated) {
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var index = this._i;
  var point;
  if (index >= O.length) return { value: undefined, done: true };
  point = $at(O, index);
  this._i += point.length;
  return { value: point, done: false };
});


/***/ }),
/* 95 */
/***/ (function(module, exports, __webpack_require__) {



var LIBRARY = __webpack_require__(51);
var $export = __webpack_require__(36);
var redefine = __webpack_require__(97);
var hide = __webpack_require__(27);
var has = __webpack_require__(31);
var Iterators = __webpack_require__(45);
var $iterCreate = __webpack_require__(172);
var setToStringTag = __webpack_require__(56);
var getPrototypeOf = __webpack_require__(102);
var ITERATOR = __webpack_require__(12)('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = (!BUGGY && $native) || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};


/***/ }),
/* 96 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = !__webpack_require__(30) && !__webpack_require__(44)(function () {
  return Object.defineProperty(__webpack_require__(67)('div'), 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),
/* 97 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(27);


/***/ }),
/* 98 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = __webpack_require__(22);
var dPs = __webpack_require__(173);
var enumBugKeys = __webpack_require__(72);
var IE_PROTO = __webpack_require__(70)('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = __webpack_require__(67)('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  __webpack_require__(101).appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};


/***/ }),
/* 99 */
/***/ (function(module, exports, __webpack_require__) {

var has = __webpack_require__(31);
var toIObject = __webpack_require__(37);
var arrayIndexOf = __webpack_require__(175)(false);
var IE_PROTO = __webpack_require__(70)('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};


/***/ }),
/* 100 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.15 ToLength
var toInteger = __webpack_require__(65);
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};


/***/ }),
/* 101 */
/***/ (function(module, exports, __webpack_require__) {

var document = __webpack_require__(11).document;
module.exports = document && document.documentElement;


/***/ }),
/* 102 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = __webpack_require__(31);
var toObject = __webpack_require__(103);
var IE_PROTO = __webpack_require__(70)('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};


/***/ }),
/* 103 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.13 ToObject(argument)
var defined = __webpack_require__(66);
module.exports = function (it) {
  return Object(defined(it));
};


/***/ }),
/* 104 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(177);
var global = __webpack_require__(11);
var hide = __webpack_require__(27);
var Iterators = __webpack_require__(45);
var TO_STRING_TAG = __webpack_require__(12)('toStringTag');

var DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +
  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +
  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +
  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +
  'TextTrackList,TouchList').split(',');

for (var i = 0; i < DOMIterables.length; i++) {
  var NAME = DOMIterables[i];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
  Iterators[NAME] = Iterators.Array;
}


/***/ }),
/* 105 */
/***/ (function(module, exports, __webpack_require__) {

// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = __webpack_require__(46);
var TAG = __webpack_require__(12)('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};


/***/ }),
/* 106 */
/***/ (function(module, exports, __webpack_require__) {

// 7.3.20 SpeciesConstructor(O, defaultConstructor)
var anObject = __webpack_require__(22);
var aFunction = __webpack_require__(53);
var SPECIES = __webpack_require__(12)('species');
module.exports = function (O, D) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
};


/***/ }),
/* 107 */
/***/ (function(module, exports, __webpack_require__) {

var ctx = __webpack_require__(52);
var invoke = __webpack_require__(186);
var html = __webpack_require__(101);
var cel = __webpack_require__(67);
var global = __webpack_require__(11);
var process = global.process;
var setTask = global.setImmediate;
var clearTask = global.clearImmediate;
var MessageChannel = global.MessageChannel;
var Dispatch = global.Dispatch;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var defer, channel, port;
var run = function () {
  var id = +this;
  // eslint-disable-next-line no-prototype-builtins
  if (queue.hasOwnProperty(id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listener = function (event) {
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!setTask || !clearTask) {
  setTask = function setImmediate(fn) {
    var args = [];
    var i = 1;
    while (arguments.length > i) args.push(arguments[i++]);
    queue[++counter] = function () {
      // eslint-disable-next-line no-new-func
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (__webpack_require__(46)(process) == 'process') {
    defer = function (id) {
      process.nextTick(ctx(run, id, 1));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if (MessageChannel) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = listener;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {
    defer = function (id) {
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in cel('script')) {
    defer = function (id) {
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set: setTask,
  clear: clearTask
};


/***/ }),
/* 108 */
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return { e: false, v: exec() };
  } catch (e) {
    return { e: true, v: e };
  }
};


/***/ }),
/* 109 */
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__(22);
var isObject = __webpack_require__(29);
var newPromiseCapability = __webpack_require__(73);

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};


/***/ }),
/* 110 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDefinition = __webpack_require__(74),
		    _ = __webpack_require__(0);

		//endregion
		return ControlDefinition.subClass({}, {

			init: function init(id, dataType, controlTemplate) {
				this._super(id, controlTemplate);
				this.dataType = dataType;
			},
			properties: function properties() {
				return _.extend(this._super(), {
					dataType: this.dataType
				});
			},
			isBindable: function isBindable() {
				return true;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 111 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SimpleType = __webpack_require__(38),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return SimpleType.subClass({}, {
			init: function init(name) {
				this._super(name, 'String', '', 'string', 'string');
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.STRING;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 112 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {
		'use strict';

		var _ = __webpack_require__(0),
		    Class = __webpack_require__(3);

		/**
   * @enum java like enum
   */
		return Class.subClass({

			valueOf: function valueOf(property) {
				var key = _.find(_.keys(this), function (key) {
					return key === property;
				});
				return this[key];
			}

		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 113 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var DataType = __webpack_require__(39),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    TypeDescription = __webpack_require__(13),
		    NameGenerator = __webpack_require__(57),
		    ObjectAttribute = __webpack_require__(114),
		    StringUtils = __webpack_require__(32);
		//endregion

		return DataType.subClass({}, {
			init: function init(qname, name, attributes) {
				this._super(qname, name, name, '', {
					$schema: 'http://json-schema.org/draft-04/schema#',
					$id: qname,
					$name: name,
					type: 'object',
					properties: {}
				});
				this.attributes = ko.observableArray(attributes);
			},
			isCompatible: function isCompatible(data) {
				return data.isObject();
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.OBJECT;
			},
			addAttribute: function addAttribute(name, dataType) {
				name = NameGenerator.generateName(StringUtils.decap(name), _.keys(this.schema().properties));
				this.attributes.push(new ObjectAttribute(name, dataType));
				this.schema().properties[name] = dataType.toJS();
				return name;
			},
			getAttribute: function getAttribute(attributeName) {
				return _.find(this.attributes(), function (a) {
					return a.name() === attributeName;
				});
			},
			removeAttribute: function removeAttribute(attributeName) {
				this.attributes.remove(this.getAttribute(attributeName));
				delete this.schema().properties[attributeName];
			},

			/** @override */
			toJS: function toJS() {
				return {
					$ref: this.schema().$id
				};
			},
			schema: function schema() {
				var properties = {};
				_.each(this.attributes(), function (attribute) {
					properties[attribute.name()] = attribute.toJS();
				}, this);
				var schema = this._super();
				schema.properties = properties;
				return schema;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 114 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1);
		//endregion

		return Class.subClass({}, {
			init: function init(name, dataType) {
				this.name = ko.observable(name);
				this.dataType = ko.observable(dataType);
			},
			toJS: function toJS() {
				return this.dataType().toJS();
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 115 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var DataType = __webpack_require__(39),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return DataType.subClass({}, {
			init: function init(ref, name) {
				this._super(ref, name, name, '', {
					$ref: ref
				});
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.OBJECT_REF;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 116 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ParseStrategy = __webpack_require__(117);
		//endregion

		return ParseStrategy.subClass({}, {
			init: function init() {},
			/** @override */
			resolveReference: function resolveReference($ref, parser) {
				return parser.getObjectTypesRefs()[$ref];
			},
			/** @override */
			getObjectType: function getObjectType(schema, parser) {
				return parser.getObjectTypes()[schema.$id];
			},
			/** @override */
			createObjectType: function createObjectType(schema, objectName, parser) {
				return parser._createObjectType(schema, objectName, this);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 117 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);
		//endregion

		return Class.subClass({}, {
			init: function init() {},
			/** @abstract */
			resolveReference: function resolveReference($ref, parser) {
				throw new Error('This function must be overridden');
			},
			/** @abstract */
			getObjectType: function getObjectType(schema, parser) {
				throw new Error('This function must be overridden');
			},
			/** @abstract */
			createObjectType: function createObjectType(schema, objectName, parser) {
				throw new Error('This function must be overridden');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 118 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_118__;

/***/ }),
/* 119 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    ControlReferenceMap = __webpack_require__(120),
		    _ = __webpack_require__(0);

		//endregion
		var ControlResolver = Class.subClass({}, {

			id: null,
			reference: null,
			childControl: null,

			init: function init(model, viewModel, scope) {
				var defaults = _.extend({
					id: '',
					reference: ControlReferenceMap.SELF.value,
					childControl: {}
				}, model);
				this.id = ko.observable(defaults.id);
				this.reference = ko.observable(defaults.reference);
				var childControl = model.childControl ? new ControlResolver(defaults.childControl, viewModel, scope) : null;
				this.childControl = ko.observable(childControl);
				this.scope = scope;
				this.viewModel = viewModel;
				this.value = ko.observable(null);

				if (model.value) {
					this.createValueObject(model.value);
				}
				var self = this;
				this.reference.subscribe(function (newReference) {
					if (newReference === ControlReferenceMap.INDEX.value) {
						self.createValueObject();
					} else {
						self.value(null);
					}
				});
			},

			createValueObject: function createValueObject(model) {
				var Value = __webpack_require__(15);
				this.value(new Value(model || {}, this.viewModel, this.scope));
			},

			toJS: function toJS() {
				var data = {
					id: this.id(),
					reference: this.reference(),
					childControl: this.childControl() ? this.childControl().toJS() : null
				};
				if (this.value()) {
					data.value = this.value().toJS();
				}
				return data;
			},

			/**
    * Returns the current control that this resolver points, to without resolving any further
    * @param context
    * @returns {*}
    */
			getControl: function getControl(context) {
				var ctxt = ko.unwrap(context);
				if (ctxt.findControl) {
					return ctxt.findControl(this.id());
				}
			},

			/**
    * Resolves the child context, not recursivly
    */
			resolveChildContext: function resolveChildContext(context, eventControl) {
				var control;
				if (this.id() === '__SELF__') {
					control = context;
				} else if (_.isArray(context)) {
					//If this is an array, return an array with the final controls
					//in some cases, we may end up with arrays inside arrays (ie. forEach inside forEach)
					// so, it's safer to flatten it before continuing
					return _.map(_.flatten(context), function (ctxt) {
						control = this.getControl(ctxt);
						return ControlReferenceMap[this.reference()].resolve(control, this.childControl(), eventControl, this);
					}, this);
				} else {
					control = this.getControl(context);
				}
				return ControlReferenceMap[this.reference()].resolve(control, eventControl, this);
			},

			/**
    * resolves the whole controlResolver, recursivly until SELF is found
    */
			resolve: function resolve(context, eventControl) {
				var control = this.resolveChildContext(context, eventControl);
				if (this.childControl()) {
					if (control) {
						return this.childControl().resolve(control, eventControl);
					} else {
						return null;
					}
				} else {
					return control;
				}
			},

			/**
    * returns an array of the ids which have a particular reference, as we need those in order to
    * do some extra stuff, ie:
    *      For SELECTED and FOR_EACH, we need to know that we can display the CURRENT_ITERATION
    */
			getControlsWithRef: function getControlsWithRef(ref) {
				var array = [];
				if (this.reference() === ref) {
					array = [this.id()];
				}
				if (this.childControl()) {
					array = _.union(array, this.childControl().getControlsWithRef(ref));
				}
				return array;
			},

			/**
    * Checks that a control is iterable in the current control resolver
    * A control is iterable if it was selected with FOR_EACH, or if it has multiple Selection and is selected with SELECTED
    */
			isIterableControl: function isIterableControl(control) {
				var selectedControls = this.getControlsWithRef(ControlReferenceMap.SELECTED.value),
				    forEachControls = this.getControlsWithRef(ControlReferenceMap.FOR_EACH.value);
				var isForEach = _.contains(forEachControls, control.id),
				    isMultipleSelected = _.contains(selectedControls, control.id) && ko.unwrap(control.properties.multipleSelection);

				return isForEach || isMultipleSelected;
			}

		});

		return ControlResolver;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 120 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5);
		//endregion

		function isRepeatable(control) {
			return !!control && control.isRepeatable();
		}

		function findRepeatableRow(repeatable, eventControl) {
			if (!eventControl.getParent) {
				//We went all the way to the form! Is not inside repeatable
				return;
			}
			if (eventControl.getParent() === repeatable) {
				//We found our index!
				return eventControl;
			}
			return findRepeatableRow(repeatable, eventControl.getParent());
		}

		var ControlReferenceMap = {
			'SELF': {
				value: 'SELF',
				label: msg.SELF,
				resolve: function resolve(control) {
					return control;
				}
			},
			'FIRST': {
				value: 'FIRST',
				label: msg.FIRST,
				resolve: function resolve(control, eventControl) {
					if (!isRepeatable(control)) {
						return;
					}
					return control.getRows()[0];
				}
			},
			'LAST': {
				value: 'LAST',
				label: msg.LAST,
				resolve: function resolve(control, eventControl) {
					if (!isRepeatable(control)) {
						return;
					}
					return control.getRows()[control.getRows().length - 1];
				}
			},
			'SELECTED': {
				value: 'SELECTED',
				//We need to change the label of this according to context
				labelFunction: function labelFunction(controlAccessor) {
					if (controlAccessor.controlResolver.getControl(controlAccessor.context).properties.multipleSelection()) {
						if (controlAccessor.isActionControl) {
							return msg.FOR_EACH_SELECTED;
						} else {
							return msg.ALL_SELECTED;
						}
					}
					return msg.SELECTED_ROW;
				},
				resolve: function resolve(control) {
					if (!isRepeatable(control)) {
						return;
					}
					return control.getSelectedRows();
				}
			},
			'FOR_EACH': {
				value: 'FOR_EACH',
				label: msg.FOR_EACH,
				resolve: function resolve(control) {
					if (!isRepeatable(control)) {
						return;
					}
					return control.getAllRows();
				}
			},
			'INDEX': {
				value: 'INDEX',
				label: msg.INDEX,
				template: 'controlIndexTemplate',
				resolve: function resolve(control, eventControl, resolver) {
					if (!isRepeatable(control)) {
						return;
					}
					if (!eventControl) {
						//We need a default row for builder
						return ControlReferenceMap.FIRST.resolve(control);
					}
					var index = resolver.value().resolve(resolver.viewModel);
					return control.getRows()[index];
				}
			},
			'CURRENT': {
				value: 'CURRENT',
				label: msg.CURRENT,
				resolve: function resolve(control, eventControl) {
					if (!isRepeatable(control)) {
						return;
					}
					if (!eventControl) {
						//We need a default row for builder
						return ControlReferenceMap.FIRST.resolve(control);
					}
					return findRepeatableRow(control, eventControl);
				}
			},
			'CURRENT_ITERATION': {
				value: 'CURRENT_ITERATION',
				label: msg.CURRENT_ITERATION_ROW,
				resolve: function resolve(control, eventControl, resolver) {
					if (!isRepeatable(control)) {
						return;
					}
					if (!eventControl) {
						//We need a default row for builder
						return ControlReferenceMap.FIRST.resolve(control);
					}
					return findRepeatableRow(control, resolver.scope.currentRowControl);
				}
			}
		};

		return ControlReferenceMap;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 121 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'HIDE_COLUMN'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
				this.selectedColumnName = ko.observable(model.selectedColumnName || '');
				this.hideBoolean = true;
			},

			template: function template() {
				return 'selectColumnTemplate';
			},

			execute: function execute(table, blockId) {
				var _this = this;

				var self = this;
				var columns = table.controls();
				var columnIndex;
				var selected = self.selectedColumnName()[0];
				for (var i = 0; i < columns.length; i++) {
					if (columns[i].name() === selected) {
						columns[i].properties.hide(this.hideBoolean);
						columnIndex = i;
						break;
					}
				}
				table.getRows().forEach(function (row) {
					var tr = row.controls()[columnIndex];
					tr.properties.hide(_this.hideBoolean);
				});
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					selectedColumnName: this.selectedColumnName()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 122 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */

		//region dependencies

		var ContextualHandler = __webpack_require__(33),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2);
		//endregion

		var DefaultFormHandler = ContextualHandler.subClass({}, {
			init: function init(id) {
				this._super(id);
				this._references = [];
				this._forms = [];
			},

			/** @override */
			listControls: function listControls(start, end) {
				end = end ? end + 1 : this._references.length;
				return _promise2.default.resolve(this._references.slice(start, end));
			},

			/** @override */
			getControl: function getControl(id) {
				return _promise2.default.resolve($.extend(true, {}, _.find(this._forms, function (form) {
					return form.id === id;
				}, this)));
			},

			_findForm: function _findForm(formId, presentationId) {
				return _.find(this._forms, function (form) {
					var sameId = form.id === formId;
					var samePresentation = !presentationId || !form.viewId || form.viewId === presentationId;
					return sameId && samePresentation;
				});
			},

			/** @override */
			getResolvedControl: function getResolvedControl(formId, presentationId) {
				return $.extend(true, {}, this._findForm(formId, presentationId));
			},

			/** @override */
			addOrUpdateControl: function addOrUpdateControl(control) {
				var originalForm = this._findForm(control.id, control.presentationId);

				if (originalForm) {
					var index = this._forms.indexOf(originalForm);
					this._forms.splice(index, 1, control);
				} else {
					this._forms.push(control);
				}
			},

			/** @override */
			addResolvedControl: function addResolvedControl(control) {
				this.addOrUpdateControl(control);
			},

			/** @override */
			removeControl: function removeControl(id) {
				throw new Error('Unsupported operation');
			},

			/** @override */
			search: function search(text) {
				return _promise2.default.resolve(_.filter(this._references, function (reference) {
					return reference.formName.toLowerCase().indexOf(text.toLowerCase()) > -1;
				}, this));
			}
		});

		return {
			create: function create() {
				return new DefaultFormHandler('DefaultFormHandler');
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 123 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */

		//region dependencies

		var ContextualHandler = __webpack_require__(33),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2);
		//endregion

		var DefaultCssHandler = ContextualHandler.subClass({}, {
			init: function init(id) {
				this._super(id);
				this._references = [];
				this._stylesheets = [];
			},

			/** @override */
			listControls: function listControls(start, end) {
				end = end ? end + 1 : this._references.length;
				return _promise2.default.resolve(this._references.slice(start, end));
			},

			/** @override */
			getControl: function getControl(id) {
				return _promise2.default.resolve($.extend(true, {}, _.find(this._stylesheets, function (stylesheet) {
					return stylesheet.id === id;
				}, this)));
			},

			/** @override */
			getResolvedControl: function getResolvedControl(id) {
				var stylesheet = _.find(this._stylesheets, function (stylesheet) {
					return stylesheet.id === id;
				}, this);
				// if stylesheet exists in cache, return it as promise else fetch it from server.
				if (stylesheet) {
					return _promise2.default.resolve($.extend(true, {}, stylesheet, this));
				}
				return this.getControl(id);
			},

			/** @override */
			addOrUpdateControl: function addOrUpdateControl(stylesheet) {
				var originalStylesheet = _.find(this._stylesheets, function (ss) {
					return ss.id === stylesheet.id;
				}, this),
				    index;

				if (originalStylesheet) {
					index = this._stylesheets.indexOf(originalStylesheet);
					this._stylesheets.splice(index, 1, stylesheet);
				} else {
					this._stylesheets.push(stylesheet);
				}

				var originalStylesheetRef = _.find(this._references, function (ss) {
					return ss.id === stylesheet.id;
				}, this);

				if (originalStylesheetRef) {
					index = this._references.indexOf(originalStylesheetRef);
					this._references.splice(index, 1, {
						id: stylesheet.id
					});
				} else {
					this._references.push({
						id: stylesheet.id
					});
				}
			},

			/** @override */
			addResolvedControl: function addResolvedControl(stylesheet) {
				this.addOrUpdateControl(stylesheet);
			},

			/** @override */
			removeControl: function removeControl(id) {
				for (var i = this._stylesheets.length - 1; i >= 0; i--) {
					if (this._stylesheets[i].id === id) {
						this._stylesheets.splice(i, 1);
						this._references.splice(i, 1);
					}
				}
			}
		});

		return {
			create: function create() {
				return new DefaultCssHandler('DefaultCssHandler');
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 124 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */

		//region dependencies

		var ContextualHandler = __webpack_require__(33),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2);
		//endregion

		var DefaultTypeHandler = ContextualHandler.subClass({}, {
			init: function init(id) {
				this._super(id);
				this._references = [];
				this._types = [];
			},

			/** @override */
			listControls: function listControls(start, end) {
				end = end ? end + 1 : this._references.length;
				return _promise2.default.resolve(this._references.slice(start, end));
			},

			/** @override */
			getControl: function getControl(id) {
				return _promise2.default.resolve($.extend(true, {}, _.find(this._types, function (type) {
					return type.$id === id;
				}, this)));
			},

			/** @override */
			getResolvedControl: function getResolvedControl(id) {
				return $.extend(true, {}, _.find(this._types, function (type) {
					return type.$id === id;
				}, this));
			},

			/** @override */
			addOrUpdateControl: function addOrUpdateControl(control) {
				var originalType = _.find(this._types, function (type) {
					return type.$id === control.$id;
				}, this);

				if (originalType) {
					var index = this._types.indexOf(originalType);
					this._types.splice(index, 1, control);
				} else {
					this._types.push(control);
				}
			},

			/** @override */
			addResolvedControl: function addResolvedControl(control) {
				this.addOrUpdateControl(control);
			},

			/** @override */
			removeControl: function removeControl(id) {
				throw new Error('Unsupported operation');
			},

			/** @override */
			search: function search(text) {
				return _promise2.default.resolve(_.filter(this._references, function (reference) {
					return reference.name.toLowerCase().indexOf(text.toLowerCase()) > -1;
				}, this));
			}
		});

		return {
			create: function create() {
				return new DefaultTypeHandler('DefaultTypeHandler');
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 125 */
/***/ (function(module, exports) {

exports.f = Object.getOwnPropertySymbols;


/***/ }),
/* 126 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = __webpack_require__(99);
var hiddenKeys = __webpack_require__(72).concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};


/***/ }),
/* 127 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ContextualHandler = __webpack_require__(33);
		//endregion

		var DefaultOutcomeHandler = ContextualHandler.subClass({}, {
			init: function init(id) {
				this._super(id);
			},
			triggerOutcome: /* istanbul ignore next */function triggerOutcome(outcome) {
				// Do Nothing by default
				// The handler should do something like:
				// $('form-renderer').triggerHandler('submit', outcome).then(...);
			}
		});

		return {
			create: function create() {
				return new DefaultOutcomeHandler('DefaultOutcomeHandler');
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 128 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var OptionsProperties = __webpack_require__(83),
		    ResponseMapping = __webpack_require__(129),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return OptionsProperties.subClass({}, {
			init: function init(properties) {
				properties = properties || {};
				_.defaults(properties, {
					defaultValue: [],
					simple: true,
					autoFocus: false
				});

				this.response = ko.observable(new ResponseMapping(properties.response || {}));
				this.defaultValue = ko.observableArray(properties.defaultValue);
				this.simple = ko.observable(properties.simple);
				this.autoFocus = ko.observable(properties.autoFocus);
			},
			observables: function observables() {
				return {
					defaultValue: this.defaultValue,
					simple: this.simple(),
					response: this.response,
					autoFocus: this.autoFocus
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 129 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    _ = __webpack_require__(0),
		    koToJSUtil = __webpack_require__(21),
		    ko = __webpack_require__(1);

		//rendregion

		return Class.subClass({}, {

			init: function init(jsonModel) {
				jsonModel = jsonModel || {};
				_.defaults(jsonModel, {
					optionsListBinding: '',
					valueBinding: '',
					labelBinding: ''
				});

				this.optionsListBinding = ko.observable(jsonModel.optionsListBinding);
				this.valueBinding = ko.observable(jsonModel.valueBinding);
				this.labelBinding = ko.observable(jsonModel.labelBinding);
			},
			observables: function observables() {
				return {
					optionsListBinding: this.optionsListBinding,
					valueBinding: this.valueBinding,
					labelBinding: this.labelBinding
				};
			},
			toJS: function toJS() {
				return koToJSUtil.toJS(this.observables());
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 130 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    DynamicOptionType = __webpack_require__(131);

		//end region

		var AutoFocus = function AutoFocus(resolver) {
			this.read = function () {
				var autoFocus = [];
				var typeId = resolver.properties().autoFocus()[0];
				if (typeId) {
					var autoFocusType = DynamicOptionType[typeId];
					autoFocus = autoFocusType.getValue(resolver.getOptions());
				}
				return autoFocus;
			};
		};

		return {
			create: function create(resolver) {
				return ko.pureComputed(new AutoFocus(resolver));
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 131 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var OjSelectItem = __webpack_require__(42),
		    msg = __webpack_require__(5),
		    _ = __webpack_require__(0);

		//endregion

		return {
			FIRST: _.extend(OjSelectItem.create('FIRST', msg.FIRST_LABEL), {
				getValue: function getValue(options) {
					var first = options[0];
					return first ? [first.value] : [];
				}
			}),
			LAST: _.extend(OjSelectItem.create('LAST', msg.LAST_LABEL), {
				getValue: function getValue(options) {
					var last = options[options.length - 1];
					return last ? [last.value] : [];
				}
			})
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 132 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ConnectorResolver = __webpack_require__(133),
		    ko = __webpack_require__(1);

		//endregion

		return ConnectorResolver.subClass({}, {
			init: function init(typeId, context, properties, controlId, filter) {
				this._super(typeId, context, properties, controlId, filter);

				var self = this;
				var loadedSubs;

				function executeConnectorForm(form) {
					self.loading(true);
					if (form.loaded()) {
						self.loadAndSetConnector(form);
					} else if (!loadedSubs) {
						loadedSubs = form.loaded.subscribe(function () {
							loadedSubs.dispose();
							self.loadAndSetConnector(form);
						});
					}
				}
				if (!ko.unwrap(ko.unwrap(this.properties).skipDuringLoad)) {
					context.viewModel.form.subscribe(executeConnectorForm);
					if (context.viewModel.form()) {
						setTimeout(function () {
							executeConnectorForm(context.viewModel.form());
						});
					}
				}
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 133 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var OptionsResolver = __webpack_require__(63),
		    DynamicDefaultValue = __webpack_require__(84),
		    DotExpressionResolver = __webpack_require__(23),
		    ko = __webpack_require__(1),
		    oj = __webpack_require__(7),
		    FormsLogger = __webpack_require__(20),
		    msg = __webpack_require__(5),
		    $ = __webpack_require__(2),
		    DynamicAutoFocus = __webpack_require__(130);

		//endregion

		return OptionsResolver.subClass({}, {
			init: function init(typeId, context, properties, controlId, filter) {
				this.controlId = controlId;
				this.requiredFormValues = [];
				this.formId = context.viewModel.formId;
				this.presentationId = context.viewModel.presentationId;
				properties = this._fetchProperties(context, properties);
				this._super(typeId, context, properties);

				this._filter = filter;

				this.autoFocus = DynamicAutoFocus.create(this);
				this.getDefaultValue = DynamicDefaultValue.create(this);

				this._options = ko.observableArray(null);

				this.getOptions = ko.pureComputed(function () {
					return this._options();
				}.bind(this));

				this._callConnector = function (callPayload) {
					FormsLogger.getLogger().count('[COUNT] [CONNECTOR]');
					return context.config().connectorHandler.execute(callPayload);
				};
			},

			loadAndSetConnector: function loadAndSetConnector(form) {
				this.loading(true);
				var self = this;
				self.control = form.findControl && form.findControl(self.controlId);
				this.loadConnector(form).then(function (response) {
					if (this.control) {
						this.control._datasource = response;
					}
					_promise2.default.resolve(this._buildOptions(response)).then(function (builtResponse) {
						self._options(builtResponse);
						self.loading(false);
						self.customValidationMessages([]);
					});
				}.bind(this)).catch(function (error) {
					//ToDo 16.4.5 This should come parsed from the handler
					error = JSON.parse(error);
					this.customValidationMessages([new oj.Message(msg.FAILED_TO_FETCH_CONNECTOR, error.defaultMessage)]);
					this.loading(false);
				}.bind(this));
			},

			reApplyFilter: function reApplyFilter() {
				var datasource = this.control._datasource,
				    self = this;
				this.loading(true);
				_promise2.default.resolve(this._buildOptions(datasource)).then(function (builtResponse) {
					self._options(builtResponse);
					self.loading(false);
				});
			},

			loadConnector: function loadConnector(form) {
				this._findControl = form.findControlInsideRepeatable.bind(form);
				return this._fetchOptions();
			},

			_fetchOptions: function _fetchOptions() {
				var formValues = this._buildArguments();
				var callPayload = {
					id: this.properties().id,
					listBinding: this.properties().response().optionsListBinding().replace('response.', ''),
					formValues: formValues,
					formId: this.formId,
					presentationId: this.presentationId
				};
				return this._callConnector(callPayload);
			},
			_buildArguments: function _buildArguments() {
				var formValues = {};
				var self = this;
				$.each(this.requiredFormValues, function () {
					//debugger;
					var foundNode = self._findControl(self.controlId);
					if (foundNode) {
						var realControl = foundNode.findClosest(this);
						formValues[this] = realControl ? realControl.getControlValue() : null;
					}
				});
				return formValues;
			},
			_buildOptions: function _buildOptions(response) {
				response = response || {};
				var optionsListBinding = this.properties().response().optionsListBinding(),
				    list = DotExpressionResolver.getPCSCompatibleValue(response, optionsListBinding) || [],
				    executePromise = this._filter ? this._filter.execute(list) : _promise2.default.resolve(list);

				return executePromise;
			},
			_fetchProperties: function _fetchProperties(context, properties) {
				var callDefinition = context.findCallDefinition(properties.id);
				if (callDefinition) {
					this.requiredFormValues = callDefinition.formValues || [];
					properties.response = callDefinition.response().toJS();
				}
				return properties;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 134 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValidationDecorator = __webpack_require__(85);

		//endregion

		return ValidationDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_decorate: function _decorate(control) {
				this._super(control);
				control.afterOjComponentInit = this._addValidationOptionChange.bind(this, control);
			},
			_componentValidation: function _componentValidation(ojComponentWidgetRef) {
				return ojComponentWidgetRef('validate');
			},
			_validateComponent: function _validateComponent(control) {
				var ojComponentWidgetRef = control.getOjComponent();

				//If the control is not loaded it has been rendered but oj is still unavailable (it may be during REST calls, ie)
				//We should validate silently
				if (ojComponentWidgetRef.isNotLoaded) {
					return this._validateSilently(control);
				}

				//Save the custom errors before validation, otherwise the custom errors would be cleared
				//The custom errors are only cleared when the control's value changes
				var customMsgs = ojComponentWidgetRef('option', 'messagesCustom');
				//Make sure control is not disabled and read only
				var wasDisabled = false,
				    wasReadOnly = false;
				if (ojComponentWidgetRef('option', 'disabled')) {
					ojComponentWidgetRef('option', 'disabled', false);
					wasDisabled = true;
				}
				if (ojComponentWidgetRef('option', 'readOnly')) {
					ojComponentWidgetRef('option', 'readOnly', false);
					wasReadOnly = true;
				}
				//Do the real validation
				var isValid = this._componentValidation(ojComponentWidgetRef);
				//Set readonly and disabled again
				if (wasReadOnly) {
					ojComponentWidgetRef('option', 'readOnly', true);
				}
				if (wasDisabled) {
					ojComponentWidgetRef('option', 'disabled', true);
				}
				//Set the custom errors again
				ojComponentWidgetRef('option', 'messagesCustom', customMsgs);
				//return if isvalid and there are not custom errors
				return isValid && customMsgs.length === 0;
			},
			_addValidationOptionChange: function _addValidationOptionChange(control) {
				//If the component doesnt have messagesShown, then it wont have validation,
				// so we can avoid the unnecesary/possible (definitely) broken call
				// We ignore the else, as this shouldn't happen, but it's better to have the prevention
				/* istanbul ignore else */
				if (control.getOjComponent()('option', 'messagesShown')) {
					control.getOjComponent()({
						optionChange: function optionChange(event, properties) {
							//When there's a change in the messages Shown, recheck the validation and update the observable
							//Skip the validation if there's a validation already happening, as the validation calls messagesShown
							//and we want to avoid an infinite loop
							if (!control._isValidating && properties.option === 'messagesShown') {
								control._isValidating = true;
								//Defer the validation until so the control is updated (sometimes valuechange is called after messagesShown)
								setTimeout(function () {
									control.isValid(control.validate());
									//Defer the clear of _isValidating because 'messagesShown' are async, so we need to wait for those to be sent
									setTimeout(function () {
										delete control._isValidating;
									});
								});
							}
						}
					});
				}
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 135 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    MinLengthValidator = __webpack_require__(291),
		    MaxLengthValidator = __webpack_require__(292),
		    RequiredValidator = __webpack_require__(293),
		    OptionsFeedValidator = __webpack_require__(294),
		    PatternValidator = __webpack_require__(295);

		//endregion

		var CREATE = 'CREATE_';

		var ValidatorFactory = Class.subClass({

			createValidator: function createValidator(typeId, properties) {
				var createFunction = ValidatorFactory[CREATE + typeId];
				if (createFunction) {
					return createFunction(properties);
				} else {
					throw new Error('Unsupported operation exception');
				}
			},
			CREATE_MIN_LENGTH: function CREATE_MIN_LENGTH(properties) {
				return new MinLengthValidator(properties);
			},
			CREATE_MAX_LENGTH: function CREATE_MAX_LENGTH(properties) {
				return new MaxLengthValidator(properties);
			},
			CREATE_PATTERN: function CREATE_PATTERN(properties) {
				return new PatternValidator(properties);
			},
			CREATE_OPTIONS_FEED: function CREATE_OPTIONS_FEED(properties) {
				return new OptionsFeedValidator(properties);
			},
			CREATE_REQUIRED: function CREATE_REQUIRED(properties) {
				return new RequiredValidator(properties);
			}
		}, {});
		return ValidatorFactory;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 136 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {

		'use strict';

		return {
			'MIN_LENGTH': 'MIN_LENGTH',
			'MAX_LENGTH': 'MAX_LENGTH',
			'PATTERN': 'PATTERN',
			'OPTIONS_FEED': 'OPTIONS_FEED',
			'REQUIRED': 'REQUIRED'
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 137 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1);

		//endregion

		return Class.subClass({}, {

			init: function init() {},
			validate: function validate(controls, rendererContext) {
				var validData = true;

				// Validate all the controls that have properties
				var controlsList = this._filterControls(controls);

				var self = this;
				// Go through all the controls and run the custom validations.
				_.each(controlsList, function (control) {
					validData = self._validateControl(validData, rendererContext, control);
				});

				return this._checkTracker(rendererContext, validData);
			},
			validateControl: function validateControl(control, rendererContext) {
				return this.validate([control], rendererContext);
			},
			_filterControls: function _filterControls(controls) {
				return _.filter(controls, function (control) {
					return control.properties && control.validate;
				});
			},
			_validateControl: function _validateControl(validData, rendererContext, control) {
				//order is important because we want to always validate all the controls.
				return control.validate() && validData;
			},
			_checkTracker: function _checkTracker(rendererContext, validData) {
				var invalidTracker = ko.utils.unwrapObservable(rendererContext.tracker);
				if (invalidTracker) {
					// Explicitly show the validation messages.
					invalidTracker.showMessages();
				}
				// Focus on the first invalid control, if any.
				return validData;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 138 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		//end region

		return {
			load: function load(formModel) {
				var RendererViewModel = __webpack_require__(92);
				var wholeModel = {
					value: formModel
				};
				var rendererViewModel = new RendererViewModel(wholeModel);
				rendererViewModel.form().initPayloadAndRunEvents();

				return rendererViewModel;
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 139 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var _ = __webpack_require__(0),
		    $ = __webpack_require__(2),
		    ko = __webpack_require__(1),
		    JSONConverter = __webpack_require__(315),
		    TreeUtil = __webpack_require__(40),
		    ControlTypeId = __webpack_require__(4),
		    Class = __webpack_require__(3);
		//endregion

		var jsonConverter = new JSONConverter();

		return Class.subClass({}, {
			convertJSON: false,
			payloadContext: {},

			init: function init(json, context) {
				this._schema = json.payload || {};
				if (context) {
					this.convertJSON = context.config().convertJSON;
					if (this.convertJSON) {
						this._schema = jsonConverter.toKeyValue(this._schema);
					}
					this.payloadContext = context.payloadContext;
				}
			},

			/**
    * Fetches all the controls recursively and updates the payload schema using the provided list of controls
    * @param controlsAccessor ObservableArray with all the Controls
    */
			updateBindings: function updateBindings(controlsAccessor) {
				//getting all the controls, except rows
				var controls = _.filter(TreeUtil.treeToList(controlsAccessor(), 'getControls'), function (control) {
					return control.properties && control.properties.isBindable();
				});

				this.doUpdateBindings(controls);
			},

			/**
    * Updates the payload schema using the provided list of controls
    * @param controls {Array} with all the controls
    */
			doUpdateBindings: function doUpdateBindings(controls) {
				// Go through all the bindings and assign them with the associated control's values.
				_.each(controls, function (control) {
					var binding = ko.utils.unwrapObservable(control.properties.binding);
					if (binding && binding.trim() !== '') {
						if (control.type === ControlTypeId.FORM_REFERENCE && control.isValidReference()) {
							var formBindings = control.getBindings();
							_.each(_.keys(formBindings), function (key) {
								this.setBindingValue([binding + '.' + key], formBindings[key]);
							}, this);
						} else {
							// Assign the value by first checking for 'value' then 'default value' then check for the value in the existing payload.
							var value = control.getControlValue();
							this.setBindingValue(binding, value);
						}
					}
				}, this);
			},

			getBindings: function getBindings() {
				return $.extend(true, {}, this._schema);
			},

			getBindingValue: function getBindingValue(binding) {
				return this._schema && this._schema[binding];
			},

			setBindingValue: function setBindingValue(binding, value) {
				this._schema[binding] = value;
			},

			toJS: function toJS() {
				var schema = this._schema;
				if (this.convertJSON) {
					schema = jsonConverter.toJSON(schema);
				}
				return schema;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 140 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    ControlTypeId = __webpack_require__(4),
		    StringUtils = __webpack_require__(32);

		//endregion

		var PayloadUtil = Class.subClass({

			/**
    * Initializes the value of the control from the value in the payload
    * @param control. The control
    * @param payload. {Object} The payload containing all the values
    */
			initValueFromPayload: function initValueFromPayload(control, payload) {
				var initValue = PayloadUtil.getControlValueFromPayload(control, payload);

				/* istanbul ignore else */
				if (control.hasOwnProperty('value')) {
					control.initValue(ko.unwrap(initValue));
				}
			},

			/**
    * Gets the value of the control from the provided payload
    * @param control. The control
    * @param payload. {Object} The payload containing all the values
    * @returns value || null
    */
			getControlValueFromPayload: function getControlValueFromPayload(control, payload) {
				var value;
				if (control.properties.isBindable() && !_.isEmpty(control.properties.binding())) {
					if (control.type === ControlTypeId.FORM_REFERENCE) {
						value = {};
						var context = control.properties.binding() + '.';
						_.each(_.keys(payload), function (binding) {
							if (StringUtils.startsWith(binding, context)) {
								var innerBinding = binding.substring(context.length);
								value[innerBinding] = payload[binding];
							}
						}, this);
					} else if (control.type === ControlTypeId.LINK) {
						value = {};
						value['value'] = payload[control.properties.binding()];
						/* istanbul ignore else*/
						if (control.properties.isLabelBindable() === 'true') {
							value['label'] = payload[control.properties.labelBinding()];
						}
					} else {
						value = payload[control.properties.binding()];
					}
				}

				return _.isUndefined(value) ? null : value;
			}

		}, {});
		return PayloadUtil;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 141 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValueDecorator = __webpack_require__(19),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return ValueDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_doDecorate: function _doDecorate(control) {
				this._super(control);
				/**
               * We need different observables for the oj element,
              * because the select only works with arrays, and we don't want an array if it's single
              */
				control._ojValue = ko.pureComputed({
					read: function read() {
						var value = control.value();
						return !!value && !_.isArray(value) ? [value] : value;
					},
					write: function write(newValue) {
						if (!ko.unwrap(control.properties.multiple) && _.isArray(newValue)) {
							control.value(newValue[0]);
						} else {
							control.value(newValue);
						}
					}
				});

				//@override setValue, but keep reference
				var __superSetValue = control.setValue;
				control.setValue = function (value) {
					if (!ko.unwrap(control.properties.multiple) && _.isArray(value)) {
						__superSetValue.call(control, value[0] || null);
					} else {
						__superSetValue.call(control, value);
					}
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 142 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('TRANSLATIONS_DECORATOR', dependencies);
			},
			_decorate: function _decorate(control, context) {

				var translateProperties = function translateProperties(control) {
					var handler = context.config().translationsHandler;
					var controlProperties = control.getTranslatableProperties();

					_.each(controlProperties, function (property) {
						var value = handler.getKeyProperty(control.id, property);
						if (value) {
							control.properties[property](value);
						}
					});
					return true;
				};

				control.translated = ko.observable(translateProperties(control));
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('translated');
			}

		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 143 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies
		/* globals Promise */

		var ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    FormsLogger = __webpack_require__(20),
		    RendererCallDefinition = __webpack_require__(332),
		    Class = __webpack_require__(3);

		//endregion

		return Class.subClass({
			resolveOnLoaded: function resolveOnLoaded(form) {
				//Return a promise that resolves when the form finish loading
				return new _promise2.default(function (resolve, reject) {
					/**
      * this else code IS tested, but in builder, so it doesn't show as covered
      */
					/* istanbul ignore else */
					if (!form.loaded()) {
						var sub = form.loaded.subscribe(function () {
							FormsLogger.getLogger().timeEnd('[LOAD]');
							sub.dispose();
							resolve();
						});
					} else {
						FormsLogger.getLogger().timeEnd('[LOAD]');
						resolve();
					}
				});
			}
		}, {
			init: function init(json) {
				this.id = json.id;

				this.properties = {
					name: ko.observable(json.name),
					description: ko.observable(json.description)
				};

				this.calls = ko.observableArray(this._buildCalls(json.calls || []));
			},
			/** abstract */
			getAllControls: function getAllControls() {
				throw new Error('This function must be overridden');
			},
			/** abstract */
			findControl: function findControl(controlId) {
				throw new Error('This function must be overridden');
			},
			_createCallDefinition: function _createCallDefinition(call) {
				return new RendererCallDefinition(call);
			},
			_buildCalls: function _buildCalls(calls) {
				var callList = [];
				var self = this;
				$.each(calls, function (i, call) {
					callList.push(self._createCallDefinition(call));
				});
				return callList;
			},
			_callsToJS: function _callsToJS() {
				var calls = [];
				_.each(this.calls(), function (call) {
					calls.push(call.toJS());
				});
				return calls;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 144 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var StyleTypeId = __webpack_require__(47),
		    $ = __webpack_require__(2);

		//endregion
		var CONTROL_STYLES = [StyleTypeId.CONTROL_ALIGN],
		    LABEL_STYLES = [StyleTypeId.LABEL_SIZE, StyleTypeId.LABEL_COLOR],
		    INPUT_STYLES = LABEL_STYLES.concat([StyleTypeId.BACKGROUND_COLOR, StyleTypeId.COLOR, StyleTypeId.WIDTH, StyleTypeId.HEIGHT, StyleTypeId.SIZE, StyleTypeId.TEXT_ALIGN, StyleTypeId.BORDER_COLOR, StyleTypeId.BORDER_WIDTH, StyleTypeId.BORDER_STYLE, StyleTypeId.BORDER_RADIUS]);

		// Call to this function returns Style object with 'Important' property, so that the style will be applied with ' !important'
		var addImportant = function addImportant(style) {
			var styleClone = $.extend(true, {}, style);
			styleClone.important = true;
			return styleClone;
		};

		return {
			'INPUT_TEXT': CONTROL_STYLES.concat(INPUT_STYLES, StyleTypeId.CLASS_NAME),
			'TEXT_AREA': CONTROL_STYLES.concat(INPUT_STYLES, StyleTypeId.CLASS_NAME),
			'BUTTON': CONTROL_STYLES.concat([StyleTypeId.BACKGROUND_COLOR, StyleTypeId.COLOR, StyleTypeId.WIDTH, StyleTypeId.HEIGHT, StyleTypeId.SIZE, StyleTypeId.TEXT_ALIGN, StyleTypeId.BORDER_WIDTH, StyleTypeId.BORDER_STYLE, StyleTypeId.BORDER_COLOR, StyleTypeId.BORDER_RADIUS], StyleTypeId.CLASS_NAME),
			'SELECT': CONTROL_STYLES.concat(INPUT_STYLES, StyleTypeId.CLASS_NAME),
			'IDENTITY_BROWSER': CONTROL_STYLES.concat(INPUT_STYLES, StyleTypeId.CLASS_NAME),
			'CHECKLIST': CONTROL_STYLES.concat(LABEL_STYLES, [StyleTypeId.BACKGROUND_COLOR, StyleTypeId.COLOR, StyleTypeId.SIZE], StyleTypeId.CLASS_NAME),
			'CHECKBOX': CONTROL_STYLES.concat(LABEL_STYLES, [StyleTypeId.BACKGROUND_COLOR, StyleTypeId.COLOR, StyleTypeId.SIZE], StyleTypeId.CLASS_NAME),
			'RADIO_BUTTON': CONTROL_STYLES.concat(LABEL_STYLES, [StyleTypeId.BACKGROUND_COLOR, StyleTypeId.COLOR, StyleTypeId.SIZE], StyleTypeId.CLASS_NAME),
			'NUMBER': CONTROL_STYLES.concat(LABEL_STYLES, [StyleTypeId.BACKGROUND_COLOR, StyleTypeId.COLOR, StyleTypeId.WIDTH, StyleTypeId.HEIGHT, StyleTypeId.SIZE, StyleTypeId.TEXT_ALIGN, StyleTypeId.BORDER_COLOR, StyleTypeId.BORDER_WIDTH, StyleTypeId.BORDER_STYLE], StyleTypeId.CLASS_NAME),
			'DATE': CONTROL_STYLES.concat(INPUT_STYLES, StyleTypeId.CLASS_NAME),
			'TIME': CONTROL_STYLES.concat(INPUT_STYLES, StyleTypeId.CLASS_NAME),
			'DATE_TIME': CONTROL_STYLES.concat(INPUT_STYLES, StyleTypeId.CLASS_NAME),
			'EMAIL': CONTROL_STYLES.concat(INPUT_STYLES, StyleTypeId.CLASS_NAME),
			'URL': CONTROL_STYLES.concat(INPUT_STYLES, StyleTypeId.CLASS_NAME),
			'MESSAGE': CONTROL_STYLES.concat([StyleTypeId.BACKGROUND_COLOR, StyleTypeId.COLOR, StyleTypeId.SIZE], StyleTypeId.CLASS_NAME),
			'LINK': CONTROL_STYLES.concat([StyleTypeId.BACKGROUND_COLOR, addImportant(StyleTypeId.COLOR), StyleTypeId.SIZE, StyleTypeId.TEXT_ALIGN], StyleTypeId.CLASS_NAME),
			'MONEY': CONTROL_STYLES.concat(LABEL_STYLES, [StyleTypeId.BACKGROUND_COLOR, StyleTypeId.COLOR, StyleTypeId.WIDTH, StyleTypeId.HEIGHT, StyleTypeId.SIZE, StyleTypeId.TEXT_ALIGN, StyleTypeId.BORDER_COLOR, StyleTypeId.BORDER_WIDTH, StyleTypeId.BORDER_STYLE], StyleTypeId.CLASS_NAME),
			'PHONE': CONTROL_STYLES.concat(INPUT_STYLES, StyleTypeId.CLASS_NAME),
			'IMAGE': CONTROL_STYLES.concat(LABEL_STYLES, [StyleTypeId.BACKGROUND_COLOR, StyleTypeId.WIDTH, StyleTypeId.HEIGHT], StyleTypeId.CLASS_NAME),
			'VIDEO': CONTROL_STYLES.concat(LABEL_STYLES, [StyleTypeId.BACKGROUND_COLOR], StyleTypeId.CLASS_NAME),
			'PANEL': LABEL_STYLES.concat([StyleTypeId.BACKGROUND_COLOR, StyleTypeId.BORDER_COLOR, StyleTypeId.BORDER_WIDTH, StyleTypeId.BORDER_STYLE, StyleTypeId.BORDER_RADIUS], StyleTypeId.CLASS_NAME),
			'SECTION': [StyleTypeId.BACKGROUND_COLOR, StyleTypeId.COLOR, StyleTypeId.BORDER_COLOR, StyleTypeId.BORDER_WIDTH, StyleTypeId.BORDER_STYLE, StyleTypeId.BORDER_RADIUS, StyleTypeId.CLASS_NAME],
			'REPEATABLE_SECTION': LABEL_STYLES,
			'TABLE': LABEL_STYLES.concat([StyleTypeId.TABLE_WIDTH]),
			'TABLE_COLUMN': [StyleTypeId.TABLE_COLUMN_WIDTH],
			'FORM_REFERENCE': LABEL_STYLES,

			//ToDo Nico We need a small refactor of the Presentation to be compatible with this Events
			'FORM_PRESENTATION': [] //StyleTypeId.BORDER_WIDTH, StyleTypeId.BORDER_STYLE, StyleTypeId.BORDER_COLOR,StyleTypeId.BACKGROUND_COLOR]
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 145 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4);

		//endregion
		//Any property added here needs to also be translated into TranslatableProperty in the builder!

		var properties = {};
		properties[ControlTypeId.INPUT_TEXT] = ['label', 'defaultValue', 'placeHolder', 'hint', 'help'];
		properties[ControlTypeId.TEXT_AREA] = ['label', 'defaultValue', 'placeHolder', 'hint', 'help'];
		properties[ControlTypeId.BUTTON] = ['label'];
		properties[ControlTypeId.SELECT] = ['label', 'placeHolder', 'hint', 'help'];
		properties[ControlTypeId.CHECKLIST] = ['label', 'help'];
		properties[ControlTypeId.CHECKBOX] = ['label', 'help'];
		properties[ControlTypeId.RADIO_BUTTON] = ['label', 'help'];
		properties[ControlTypeId.NUMBER] = ['label', 'hint', 'help'];
		properties[ControlTypeId.DATE] = ['label', 'placeHolder', 'help'];
		properties[ControlTypeId.TIME] = ['label', 'placeHolder', 'help'];
		properties[ControlTypeId.DATE_TIME] = ['label', 'placeHolder', 'help'];
		properties[ControlTypeId.EMAIL] = ['label', 'defaultValue', 'placeHolder', 'hint', 'help'];
		properties[ControlTypeId.URL] = ['label', 'defaultValue', 'placeHolder', 'hint', 'help'];
		properties[ControlTypeId.MESSAGE] = ['defaultValue'];
		properties[ControlTypeId.LINK] = ['defaultLabel'];
		properties[ControlTypeId.MONEY] = ['label', 'hint', 'help'];
		properties[ControlTypeId.PHONE] = ['label', 'defaultValue', 'placeHolder', 'hint', 'help'];
		properties[ControlTypeId.IMAGE] = ['label', 'alt'];
		properties[ControlTypeId.VIDEO] = ['label'];
		properties[ControlTypeId.IDENTITY_BROWSER] = ['label', 'placeholder', 'hint', 'help'];
		properties[ControlTypeId.PANEL] = ['label'];
		properties[ControlTypeId.SECTION] = ['label'];
		properties[ControlTypeId.TABLE] = ['label'];
		properties[ControlTypeId.TABLE_COLUMN] = ['label'];
		properties[ControlTypeId.TAB] = ['label'];
		properties[ControlTypeId.FORM_REFERENCE] = ['label'];
		return properties;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 146 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);

		//endregion

		return Class.subClass({}, {
			init: function init(id, viewModel) {
				this.id = id;
				this.viewModel = viewModel;
				this._event = null;
			},

			event: function event() {
				//Cache to not repeat the same search over and over
				if (!this._event) {
					this._event = this.viewModel.form().extensions.findEvent(this.id);
				}
				return this._event;
			},

			execute: function execute(control) {
				return this.event().execute(control);
			},

			toJS: function toJS() {
				return {
					id: this.id
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 147 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var MediaQueryType = __webpack_require__(148),
		    $ = __webpack_require__(2);

		//endregion
		var _getStyleClass = function _getStyleClass(mediaQueryType, colSpan, full) {
			var supportedMedias = full ? mediaQueryType.supportedMedias : [mediaQueryType.mediaValue];
			var styleClass = '';
			$.each(supportedMedias, function () {
				styleClass += this + '-' + colSpan + ' ';
			});
			return styleClass;
		};

		return {
			SMALL: {
				propertyName: 'smColSpan',
				getStyleClass: function getStyleClass(colSpan, full) {
					return _getStyleClass(MediaQueryType.SMALL, colSpan, full);
				}
			},
			MEDIUM: {
				propertyName: 'mdColSpan',
				getStyleClass: function getStyleClass(colSpan, full) {
					return _getStyleClass(MediaQueryType.MEDIUM, colSpan, full);
				}
			},
			LARGE: {
				propertyName: 'lgColSpan',
				getStyleClass: function getStyleClass(colSpan, full) {
					return _getStyleClass(MediaQueryType.LARGE, colSpan, full);
				}
			},
			EXTRA_LARGE: {
				propertyName: 'xlColSpan',
				getStyleClass: function getStyleClass(colSpan, full) {
					return _getStyleClass(MediaQueryType.EXTRA_LARGE, colSpan, full);
				}
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 148 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var $ = __webpack_require__(2);

		//endregion

		var ONLY_APPEND = '-only';

		var sm = 'oj-sm'; //max-width: 767px
		var md = 'oj-md'; //min-width: 768px
		var lg = 'oj-lg'; //min-width: 1024px
		var xl = 'oj-xl'; //min-width: 1280px
		var print = 'print';

		var _accept = function _accept(mediaQuery) {
			var accepted = false;
			if (mediaQuery.indexOf(ONLY_APPEND) > 0) {
				accepted = mediaQuery === this.mediaValue + ONLY_APPEND;
			} else {
				accepted = $.inArray(mediaQuery, this.supportedMedias) >= 0;
			}
			return accepted;
		};

		return {
			PRINT: {
				mediaValue: print,
				supportedMedias: [print],
				query: 'print',
				accept: function accept(mediaQuery) {
					return _accept.call(this, mediaQuery);
				}
			},
			SMALL: {
				mediaValue: sm,
				supportedMedias: [sm],
				query: '(max-width: 767px)',
				accept: function accept(mediaQuery) {
					return _accept.call(this, mediaQuery);
				}
			},
			MEDIUM: {
				mediaValue: md,
				query: '(min-width: 768px)',
				supportedMedias: [sm, md],
				accept: function accept(mediaQuery) {
					return _accept.call(this, mediaQuery);
				}
			},
			LARGE: {
				mediaValue: lg,
				supportedMedias: [sm, md, lg],
				query: '(min-width: 1024px)',
				accept: function accept(mediaQuery) {
					return _accept.call(this, mediaQuery);
				}
			},
			EXTRA_LARGE: {
				mediaValue: xl,
				query: '(min-width: 1280px)',
				supportedMedias: [sm, md, lg, xl],
				accept: function accept(mediaQuery) {
					return _accept.call(this, mediaQuery);
				}
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 149 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		// jshint maxstatements: 40

		//region dependencies

		var EventsId = __webpack_require__(14),
		    ControlTypeId = __webpack_require__(4);
		//endregion

		var textEvents = [EventsId.ON_LOAD, EventsId.ON_CHANGE, EventsId.ON_FOCUS, EventsId.ON_BLUR, EventsId.ON_SUBMIT];

		var properties = {};
		properties[ControlTypeId.INPUT_TEXT] = textEvents;
		properties[ControlTypeId.TEXT_AREA] = textEvents;
		properties[ControlTypeId.BUTTON] = [EventsId.ON_LOAD, EventsId.ON_CLICK, EventsId.ON_SUBMIT];
		properties[ControlTypeId.SELECT] = [EventsId.ON_LOAD, EventsId.ON_CHANGE, EventsId.ON_SUBMIT];
		properties[ControlTypeId.CHECKLIST] = [EventsId.ON_LOAD, EventsId.ON_CHANGE, EventsId.ON_SUBMIT];
		properties[ControlTypeId.CHECKBOX] = [EventsId.ON_LOAD, EventsId.ON_CHANGE, EventsId.ON_SUBMIT];
		properties[ControlTypeId.RADIO_BUTTON] = [EventsId.ON_LOAD, EventsId.ON_CHANGE, EventsId.ON_SUBMIT];
		properties[ControlTypeId.NUMBER] = textEvents;
		properties[ControlTypeId.DATE] = textEvents;
		properties[ControlTypeId.TIME] = textEvents;
		properties[ControlTypeId.DATE_TIME] = textEvents;
		properties[ControlTypeId.EMAIL] = textEvents;
		properties[ControlTypeId.URL] = textEvents;
		properties[ControlTypeId.MESSAGE] = [EventsId.ON_LOAD];
		properties[ControlTypeId.LINK] = [EventsId.ON_LOAD, EventsId.ON_CLICK];
		properties[ControlTypeId.MONEY] = textEvents;
		properties[ControlTypeId.PHONE] = textEvents;
		properties[ControlTypeId.IMAGE] = [EventsId.ON_LOAD];
		properties[ControlTypeId.VIDEO] = [EventsId.ON_LOAD];
		properties[ControlTypeId.PANEL] = [EventsId.ON_LOAD];
		properties[ControlTypeId.BUSINESS_TYPE] = [EventsId.ON_LOAD];
		properties[ControlTypeId.SECTION] = [EventsId.ON_LOAD, EventsId.ON_EXPAND, EventsId.ON_COLLAPSE, EventsId.ON_EXPAND_TOGGLE];
		properties[ControlTypeId.FORM_REFERENCE] = [EventsId.ON_LOAD, EventsId.ON_SUBMIT];
		properties[ControlTypeId.TAB_CONTAINER] = [EventsId.ON_LOAD];
		properties[ControlTypeId.TAB] = [EventsId.ON_LOAD, EventsId.ON_SELECTED, EventsId.ON_UNSELECTED];
		properties.PRESENTATION = [EventsId.ON_LOAD, EventsId.ON_SUBMIT];
		properties.TABLE = [EventsId.ON_LOAD, EventsId.ON_SELECTION_CHANGE, EventsId.ON_ADD_ROW, EventsId.ON_REMOVE_ROW];
		properties.REPEATABLE_SECTION = [EventsId.ON_LOAD, EventsId.ON_SELECTION_CHANGE, EventsId.ON_ADD_ROW, EventsId.ON_REMOVE_ROW];
		properties.STRING_REPEATABLE_SECTION = properties.REPEATABLE_SECTION;
		properties.NUMBER_REPEATABLE_SECTION = properties.REPEATABLE_SECTION;
		properties.BOOLEAN_REPEATABLE_SECTION = properties.REPEATABLE_SECTION;
		properties.DATE_REPEATABLE_SECTION = properties.REPEATABLE_SECTION;
		properties.TIME_REPEATABLE_SECTION = properties.REPEATABLE_SECTION;
		properties.DATE_TIME_REPEATABLE_SECTION = properties.REPEATABLE_SECTION;
		properties[ControlTypeId.IDENTITY_BROWSER] = [EventsId.ON_LOAD, EventsId.ON_CHANGE, EventsId.ON_SUBMIT];
		properties[ControlTypeId.ENUM_SELECT] = [EventsId.ON_LOAD, EventsId.ON_CHANGE, EventsId.ON_SUBMIT];

		return properties;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 150 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var LOVControl = __webpack_require__(64),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    TypeCatalog = __webpack_require__(24),
		    ControlTypeId = __webpack_require__(4),
		    ko = __webpack_require__(1);

		//endregion

		return LOVControl.subClass({}, {
			/* jshint maxparams: 6 */
			init: function init(id, name, properties, context, parent, controlType) {
				this._super(id, name, controlType || context.getControlDefinitionByType(ControlTypeId.SELECT), properties, context, parent);

				_.defaults(properties, {
					placeHolder: '',
					help: '',
					hint: '',
					readonly: false
				});

				this.properties.help = ko.observable(properties.help);
				this.properties.hint = ko.observable(properties.hint);
				this.properties.placeHolder = ko.observable(properties.placeHolder);
				this.properties.readonly = ko.observable(properties.readonly); // when dropped inside Parents (Repeatable or table), they have a Inheritable property 'readonly'

				// Setting styling options after component creation has no effect. At that time, the root element already exists,
				// and can be accessed directly via the widget method. Hence, adding the styling by using manual subscription to the style and hide properties.
				this.properties.parsedStyle.subscribe(function (newVal) {
					this._setStyle(id, context, newVal);
				}, this);

				this.properties.autoFocus.subscribe(function (newVal) {
					this._setAutoFocus(id, context, newVal);
				}, this);

				this.properties.multiple.subscribe(this._checkType.bind(this, context));

				var self = this;

				this.afterRenderSelect = function () {
					// Apply style
					setTimeout(function () {
						self._setStyle(id, context);
						self._setAutoFocus(id, context);
					}, 0);
				};

				this._checkType(context, this.properties.multiple());
			},
			_checkType: function _checkType(context, newVal) {
				if (newVal) {
					this.dataType = TypeCatalog.getArrayTypeDefinition(TypeCatalog.getSimpleTypesDefinitions().STRING);
				} else {
					this.dataType = TypeCatalog.getSimpleTypesDefinitions().STRING;
				}
				// Need to reapply the style. The style should be set only after it has finished rendering the multiple select box, hence setTimeout.
				var that = this;
				setTimeout(function () {
					that._setStyle(that.id, context);
				}, 0);
			},
			_setStyle: function _setStyle(id, context, value) {
				var widget = $(context.getScope() + ' #' + context.config().domIdPrefix + id).ojSelect('widget'),
				    formattedStyle = this.properties.formattedStyle();
				widget.attr('style', value || this.properties.parsedStyle());
				widget.find('.oj-select-choice, .oj-select-choices').css('background-color', formattedStyle.backgroundColor || '');
				widget.find('.oj-select-choice, .oj-select-selected-choice-label').css('color', formattedStyle.color || '');
				var self = this;

				$('#' + id).ojSelect({
					'beforeExpand': function beforeExpand(event) {
						var formattedStyle = self.properties.formattedStyle();
						$(context.getScope() + ' #oj-listbox-results-' + id + ', .oj-listbox-drop').css('background-color', formattedStyle.backgroundColor || '');
						$(context.getScope() + ' #oj-listbox-results-' + id + ', .oj-listbox-drop').css('color', formattedStyle.color || '');
					}
				});
			},
			_setAutoFocus: function _setAutoFocus(id, context, value) {
				var autofocus = value || this.properties.optionsFeed().properties().autoFocus(),
				    widget = this.getOjComponent()('widget');
				if (widget && !_.isArray(widget)) {
					if (autofocus) {
						widget.attr('autofocus', 'autofocus');
					} else {
						widget.removeAttr('autofocus');
					}
					// If it is the first element with autofocus set, we need to focus on the oj-select div manually.
					if ($(context.getScope() + ' [autofocus]').first().is('.oj-select')) {
						context.focusControl(widget.find('.oj-select-choice'));
					}
				}
			},
			toJS: function toJS() {
				var toJs = this._super();
				toJs.properties.multiple = this.properties.multiple();
				return toJs;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 151 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    BlockFactory = __webpack_require__(43),
		    BlockTypes = __webpack_require__(25),
		    _ = __webpack_require__(0);

		//endregion

		return Class.subClass({}, {
			init: function init(controlId, blocks, viewModel, enabled) {
				this.controlId = controlId;

				this.scope = new viewModel.context.scopeFactory.Scope(viewModel.getCurrentGlobalScope());
				this.scope.controlId = controlId;
				this.viewModel = viewModel;
				var blocksArray = [];
				_.each(blocks, function (block) {
					blocksArray.push(BlockFactory.createBlock(viewModel, block, this.scope));
				}, this);
				this.blocks = ko.observableArray(blocksArray);
				this._propertyEnabled = enabled;
				this.enabled = ko.pureComputed(function () {
					return this._propertyEnabled();
				}, this);
			},

			execute: function execute(list) {
				var blocks = this.blocks(),
				    values = [],
				    promises = [];

				if (!this.enabled()) {
					return _promise2.default.resolve(list);
				}
				_.each(blocks, function (block) {
					promises.push(_promise2.default.resolve(block.execute(list)).then(function (value) {
						values.push(value);
					}));
				});
				return _promise2.default.all(promises).then(function () {
					return blocks.length ? _.unique(_.flatten(values)) : list;
				});
			},

			getAllConditionalValues: function getAllConditionalValues() {
				var values = [];
				_.each(this.blocks(), function (block) {
					if (block._class.TYPE === BlockTypes.FILTER_IF_BLOCK) {
						block.conditions().forEach(function (condition) {
							values.push(condition.value);
						});
					}
					if (block._class.TYPE === BlockTypes.FILTER_BLOCK) {
						// Only adding second operand since the first operand is not a dependant value.
						values.push(block.condition.value2);
					}
				});
				return values;
			},

			toJS: function toJS() {
				var blocks = [];
				_.each(this.blocks(), function (block) {
					blocks.push(block.toJS());
				});
				return {
					blocks: blocks
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 152 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		/* globals Promise */

		var EventBlock = __webpack_require__(50),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    BlockTypes = __webpack_require__(25),
		    ControlResolver = __webpack_require__(119),
		    Value = __webpack_require__(15),
		    FormsLogger = __webpack_require__(20),
		    ActionFactory = __webpack_require__(340);

		//endregion

		return EventBlock.subClass({
			TYPE: BlockTypes.ACTION_BLOCK,
			TEMPLATE_NAME: 'event-block'
		}, {
			init: function init(model, viewModel, scope) {
				this._super(model, viewModel, scope);

				this.controlResolver = new ControlResolver(model.controlResolver, viewModel, scope);

				this.action = ko.observable(ActionFactory.createAction(viewModel, this.scope, model.action, this.control(), model.action.type));
			},

			control: function control() {
				var form = this.viewModel.form();
				if (form) {
					return this.controlResolver.resolve(form.presentation(), this.scope.eventControl);
				}
			},

			execute: function execute() {
				var self = this;
				var controls = this.control();
				if (!_.isArray(controls)) {
					controls = [controls];
				}
				var promise = _promise2.default.resolve();
				//Execute for each control, to allow iteration
				_.each(_.flatten(controls), function (control) {
					var eventControl = self.scope.eventControl;
					promise = promise.then(function () {
						try {
							//Set the value of the control in the scope, to allow for CURRENT_ITERATION resolver
							self.scope.currentRowControl = control;
							//Set the eventControl, as it may have been lost due to asynchronicity
							self.scope.eventControl = eventControl;
							return ko.unwrap(self.action).execute(control) || _promise2.default.resolve();
						} catch (e) {
							FormsLogger.getLogger().error('User Events Error: Error executing action."');
						}
					});
				}, this);
				return promise;
			},

			getBundle: function getBundle() {
				var bundle = {};
				var blockId = this.id;
				var action = this.action();
				if (action && action.value && ko.utils.unwrapObservable(action.value) instanceof Value) {
					var bundleArr = action.value._getBundle();
					if (bundleArr.length > 0) {
						bundle[blockId] = bundleArr;
					}
				}
				return bundle;
			},

			decorate: function decorate() {
				var blockId = this.id;
				var action = this.action();
				if (action && action.value && ko.utils.unwrapObservable(action.value) instanceof Value) {
					action.value.decorate(this.viewModel, blockId);
				}
				return true;
			},

			toJS: function toJS() {
				return _.extend(this._super(), {
					action: this.action().toJS(),
					controlResolver: this.controlResolver.toJS()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 153 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		/* global Promise */

		//region dependencies

		var EventBlock = __webpack_require__(50);
		var ko = __webpack_require__(1);
		var _ = __webpack_require__(0);
		var BlockTypes = __webpack_require__(25);
		var EventCondition = __webpack_require__(154);

		//endregion

		return EventBlock.subClass({
			TYPE: BlockTypes.IF_BLOCK,
			TEMPLATE_NAME: 'event-if-block',
			ELSE_ACTIONS: 'elseActions',
			THEN_ACTIONS: 'thenActions'
		}, {
			init: function init(model, viewModel, scope) {
				var BlockFactory = __webpack_require__(43);
				this._super(model, viewModel, scope);

				var conditions = [];
				var self = this;
				_.each(model.conditions, function (condition) {
					conditions.push(new EventCondition(condition, viewModel, scope, self.id));
				});
				if (conditions.length === 0) {
					conditions.push(new EventCondition({}, viewModel, scope, this.id));
				}
				this.conditions = ko.observableArray(conditions);

				var thenActions = [];
				_.each(model.thenActions, function (block) {
					thenActions.push(BlockFactory.createBlock(viewModel, block, scope));
				});
				this.thenActions = ko.observableArray(thenActions);

				var elseActions = [];
				_.each(model.elseActions, function (block) {
					elseActions.push(BlockFactory.createBlock(viewModel, block, scope));
				});
				this.elseActions = ko.observableArray(elseActions);
			},

			isTrue: function isTrue() {
				var unionStrings = {
					'AND': ' && ',
					'OR': ' || '
				};
				var booleanString = 'true';
				_.each(this.conditions(), function (condition) {
					var union = unionStrings[condition.union()];
					booleanString = booleanString + union + (!!condition.isTrue()).toString();
				});
				/**
     * We are calling eval to evaluate the logical string that we just made
     * It won't allow the execution of harmful code, because the string is created in the previous function,
     * and it can only be logical connectors (|| and &&) or logical statements (true and false)
     * It is created using the string concatenation of this values
     * Regardless of what condition.isTrue return, the double negation (!!) converts that to a boolean value, then converted to a string ('true' or 'false')
     * if condition.union() is not 'AND' or 'OR', then the union will be 'undefined', which will throw an error, but won't allow code to run.
     */
				return eval(booleanString); // jshint ignore:line
			},

			execute: function execute(list) {

				var actions = this.isTrue() ? this.thenActions() : this.elseActions();
				var eventControl = this.scope.eventControl;
				var self = this;

				var p = _promise2.default.resolve();
				_.each(ko.unwrap(actions), function (block) {
					p = p.then(function () {
						//Make sure we have not lost the control
						self.scope.eventControl = eventControl;
						return block.execute(list) || _promise2.default.resolve();
					});
				});
				return p;
			},
			getElseActionsJS: function getElseActionsJS() {
				var elseActions = [];
				_.each(this.elseActions(), function (block) {
					elseActions.push(block.toJS());
				});
				return elseActions;
			},

			getBundle: function getBundle() {
				var bundle = {};
				_.each(this.conditions(), function (block) {
					_.extend(bundle, block.getBundle());
				});
				_.each(this.thenActions(), function (block) {
					_.extend(bundle, block.getBundle());
				});
				_.each(this.elseActions(), function (block) {
					_.extend(bundle, block.getBundle());
				});

				return bundle;
			},

			decorate: function decorate() {
				_.each(this.conditions(), function (block) {
					block.decorate();
				});
				_.each(this.thenActions(), function (block) {
					block.decorate();
				});
				_.each(this.elseActions(), function (block) {
					block.decorate();
				});

				return true;
			},

			toJS: function toJS() {
				var conditions = [];
				_.each(this.conditions(), function (condition) {
					conditions.push(condition.toJS());
				});

				var thenActions = [];
				_.each(this.thenActions(), function (block) {
					thenActions.push(block.toJS());
				});

				return _.extend(this._super(), {
					conditions: conditions,
					thenActions: thenActions,
					elseActions: this.getElseActionsJS()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 154 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(62)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_typeof2) {
	'use strict';

	var _typeof3 = _interopRequireDefault(_typeof2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);
		var Value = __webpack_require__(15);
		var ko = __webpack_require__(1);
		var ValueTypes = __webpack_require__(61);
		var DotExpressionResolver = __webpack_require__(23);
		var _ = __webpack_require__(0);
		var ComparatorMap = __webpack_require__(345);

		//endregion

		return Class.subClass({}, {
			init: function init(model, viewModel, scope, ifBlockId) {
				this.viewModel = viewModel;
				this.scope = scope;
				var defaultValue = _.extend({
					type: ValueTypes.CONTROL.value
				}, model.value);

				this.value = new Value(defaultValue, viewModel, scope);
				this.comparator = ko.observable(model.comparator || ComparatorMap.EQUALS.value);
				this.value2 = new Value(model.value2, viewModel, scope);
				this.union = ko.observable(model.union || 'AND');
				this.ifBlockId = ifBlockId;
			},

			isTrue: function isTrue(value) {
				return ComparatorMap[this.comparator()].isTrue(this._evaluateOperand(value), this.value2.resolve(this.viewModel));
			},

			_evaluateOperand: function _evaluateOperand(value) {
				// If a value is supplied, then resolve the value based on if its an object or a primitive value.
				// Otherwise resolve the property value/operand.
				if (value) {
					return (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object' ? DotExpressionResolver.getValue(value, this.value.expression()) : value;
				}
				return this.value.resolve(this.viewModel);
			},

			getBundle: function getBundle() {
				var bundle = {};
				var conditionBundle = _.union(this.value._getBundle(), this.value2._getBundle());
				/* istanbul ignore else */
				if (conditionBundle.length) {
					bundle[this.ifBlockId] = conditionBundle;
				}
				return bundle;
			},

			decorate: function decorate() {
				this.value.decorate(this.viewModel, this.ifBlockId, this.value);
				this.value2.decorate(this.viewModel, this.ifBlockId, this.value);
				return true;
			},

			toJS: function toJS() {
				return {
					value: this.value.toJS(),
					comparator: this.comparator(),
					value2: this.value2.toJS(),
					union: this.union()
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 155 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5);

		//endregion

		var HeadingType = {
			PARAGRAPH: {
				value: 'MessageTypeParagraph',
				label: msg.MESSAGE_TYPE_PARAGRAPH
			},
			H1: {
				value: 'MessageTypeHeading1',
				label: msg.MESSAGE_TYPE_HEADING1
			},
			H2: {
				value: 'MessageTypeHeading2',
				label: msg.MESSAGE_TYPE_HEADING2
			},
			H3: {
				value: 'MessageTypeHeading3',
				label: msg.MESSAGE_TYPE_HEADING3
			},
			H4: {
				value: 'MessageTypeHeading4',
				label: msg.MESSAGE_TYPE_HEADING4
			},
			H5: {
				value: 'MessageTypeHeading5',
				label: msg.MESSAGE_TYPE_HEADING5
			},
			H6: {
				value: 'MessageTypeHeading6',
				label: msg.MESSAGE_TYPE_HEADING6
			},
			values: function values() {
				return [HeadingType.PARAGRAPH, HeadingType.H1, HeadingType.H2, HeadingType.H3, HeadingType.H4, HeadingType.H5, HeadingType.H6];
			}
		};
		return HeadingType;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 156 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_156__;

/***/ }),
/* 157 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    RepeatableControl = __webpack_require__(158);

		//endregion

		return RepeatableControl.subClass({}, {
			/* jshint maxparams: 7 */
			init: function init(id, name, data, context, controlFactory, parent, typeId) {
				this._triggerBindableReeval = ko.observable(false);
				var self = this;
				self._super(id, name, data, context, controlFactory, typeId || ControlTypeId.REPEATABLE_SECTION, parent);

				_.defaults(data.properties, {
					labelBinding: '',
					labelMapping: ''
				});
				this.properties.labelBinding = ko.observable(data.properties.labelBinding);
				this.properties.labelMapping = ko.observable(data.properties.labelMapping);
				this._triggerBindableReeval(!this._triggerBindableReeval());
				context.LoVMappingAutoComplete.initialize(this, context);
			},
			_getAllBindableControls: function _getAllBindableControls() {
				this._triggerBindableReeval();
				var controls = this._super();
				return [{
					id: this.id,
					name: this.msg.LABEL_LABEL,
					properties: {
						connectorMapping: this.properties.labelMapping,
						binding: this.properties.labelBinding
					}
				}].concat(controls);
			},
			colStyle: function colStyle() {
				return 'pcs-forms-row';
			},
			_initRow: function _initRow(row, value) {
				this._super(row, value);
				row.properties.label = ko.observable(ko.unwrap(value[this.properties.labelBinding()]));
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 158 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		/* globals Promise */

		//region dependencies

		var _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    ControlContainer = __webpack_require__(26),
		    RepeatableRowControl = __webpack_require__(375),
		    EventsId = __webpack_require__(14),
		    Filter = __webpack_require__(151),
		    UUID = __webpack_require__(17),
		    OptionsFeed = __webpack_require__(89),
		    OptionsType = __webpack_require__(41),
		    InheritableProperty = __webpack_require__(376),
		    Control = __webpack_require__(9);

		//endregion

		return Control.subClass({}, {
			// jshint maxparams:7
			init: function init(id, name, data, context, controlFactory, controlType, parent) {
				// jshint maxstatements: 31

				var self = this;
				self.data = data;
				self.context = context;
				self.controlFactory = controlFactory;
				self._super(id, name, context.getControlDefinitionByType(controlType), data.properties, context, parent);

				self.container = new ControlContainer(data, context, controlFactory, this);
				//Some Controls (i.e. Rows) inherit directly from ControlContainer
				//Here we need to add the important functions to this, because we inherit from Control
				self.controls = self.container.controls;
				self.getAllControls = self.container.getAllControls.bind(self.container);
				self.findControl = self.container.findControl.bind(self.container);
				//Wrapping the private method as an observable, otherwise it was not possible to override the method
				self.getAllBindableControls = ko.computed(function () {
					return self._getAllBindableControls();
				});
				/**
     * @override
     * getControls is used to populate the events controls, and we need to stop
     * the list at the repeatable, as it has its own properties
     */
				self.getControls = function () {
					return [];
				};

				_.defaults(data.properties, {
					canAddDelete: false,
					multipleSelection: false,
					fromConnector: false,
					maxRows: 200,
					minRows: 0,
					invalidRepeatableClass: '',
					optionsFeed: {
						type: OptionsType.STATIC.value,
						properties: {}
					},
					filter: {
						blocks: []
					}
				});
				this.properties.canAddDelete = ko.observable(data.properties.canAddDelete);
				this.properties.multipleSelection = ko.observable(data.properties.multipleSelection);
				this.properties.maxRows = ko.observable(data.properties.maxRows);
				this.properties._minRows = ko.observable(data.properties.minRows);
				this.properties.minRows = ko.pureComputed({
					read: function read() {
						var value = this.properties._minRows();
						if (value > this.properties.maxRows()) {
							this.properties._minRows(this.properties.maxRows()); //Set min row so that it will retain its value in future
							return this.properties.maxRows();
						}

						return value;
					},
					write: function write(value) {
						this.properties._minRows(value);
					},
					owner: this
				});
				this.properties.invalidRepeatableClass = ko.observable(data.properties.invalidRepeatableClass);
				this.properties.fromConnector = ko.observable();
				this.properties.optionsFeed = ko.observable();
				this.properties.errorMsg = ko.observableArray([]);
				this.properties.filter = ko.observable(new Filter(id, data.properties.filter.blocks, context.viewModel, this.properties.filterEnabled));
				this.properties.fromConnector.subscribe(function (newValue) {
					if (newValue) {
						self.properties.optionsFeed(new OptionsFeed(OptionsType.LIST_CONNECTOR.value, context, data.properties.optionsFeed.properties, self.id, self.properties.filter()));
					} else {
						self.properties.optionsFeed(new OptionsFeed(OptionsType.STATIC.value, context, {}));
					}
				});
				this.properties.fromConnector(data.properties.fromConnector);

				context.LoVMappingAutoComplete.createAutoCompletes(this, context);

				self.createRow = function (value) {
					var row = new RepeatableRowControl(UUID.createUuid(), self.controls, self.context, self.controlFactory, self, value);
					self.context.addControlDecorators(row);
					self._initRow(row, value || {});
					if (value && context.viewModel.form() && context.viewModel.form().loadEventsExecuted()) {
						//We need to defer the execution of the events until the controls are added to the table, which is executed
						// all at once after this point
						// a setTimeout of time 0 makes this code execute immediately after the adding row code is run
						setTimeout(function () {
							$.each(row.getAllControls(true), function (i, control) {
								control.executeEvent(EventsId.ON_LOAD.value);
							});
						});
					}
					return row;
				};

				self.canAddRows = ko.pureComputed(function () {
					return self.dataSource().length < self.properties.maxRows();
				});

				/**
     * Selection
     */
				self.selectedRows = ko.observableArray([]);

				//Special table properties
				self.properties._disabled = ko.observable(self.properties.disabled());
				self.properties.disabled = InheritableProperty.createInheritableProperty(self, self.properties._disabled, 'disabled');
				self.properties._readonly = ko.observable(data.properties.readonly);
				self.properties.readonly = InheritableProperty.createInheritableProperty(self, ko.pureComputed({
					//When the form is readOnly, the whole table MUST be read only
					read: function read() {
						return ko.unwrap(self.readOnly) || ko.unwrap(self.properties._readonly);
					},
					write: function write(newValue) {
						return self.properties._readonly(newValue);
					}
				}), 'readonly');

				//Subscribe to selection changes
				self.selectedRows.subscribe(function () {
					self.eventsQueue.execute(self, EventsId.ON_SELECTION_CHANGE);
				});
				self.inValidRepeatableClassName = 'invalid-repeatable';
			},
			hasValueProperty: function hasValueProperty() {
				return false;
			},
			refreshConnector: function refreshConnector() {
				if (this.properties.fromConnector()) {
					this.properties.optionsFeed().optionsResolver().loadAndSetConnector(this.viewModel.form());
				}
			},
			reApplyFilter: function reApplyFilter() {
				this.properties.optionsFeed().optionsResolver().reApplyFilter();
			},

			findControlInsideRepeatable: function findControlInsideRepeatable(controlId) {
				var control = null;
				_.any(this.getRows(), function (row) {
					control = row.findControlInsideRepeatable(controlId);
					return !!control;
				});
				return control;
			},
			getConnectorCall: function getConnectorCall() {
				return this.properties.optionsFeed().optionsResolver().getConnectorCall(this.viewModel.form());
			},

			/**
    * Used for events
    */
			isRepeatable: function isRepeatable() {
				return true;
			},

			/**
    * Gets the list of all controls that have a binding, used for REST mapping
    */
			_getAllBindableControls: function _getAllBindableControls() {
				return _.filter(this.getAllControls(true), function (control) {
					return !!control.properties.binding();
				});
			},
			executeEventOnAll: function executeEventOnAll(trigger) {
				var events = [this.executeEvent(trigger)];
				_.each(this.getRows(), function (row) {
					_.each(row.getAllControls(true), function (control) {
						events = events.concat(control.executeEventOnAll(trigger));
					});
				});
				return _promise2.default.all(events);
			},

			_initRow: function _initRow() {},

			toJS: function toJS() {
				var controls = [];
				_.each(this.controls(), function (column) {
					controls.push(column.toJS());
				});
				var toJs = _.extend(this._super(), {
					controls: controls,
					readonly: this.properties.readonly()
				});
				toJs.properties.optionsFeed = this.properties.optionsFeed().toJS();
				toJs.properties.filter = this.properties.filter().toJS();
				return toJs;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 159 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4);
		//endregion

		return {
			'string': ControlTypeId.INPUT_TEXT,
			'date': ControlTypeId.DATE,
			'time': ControlTypeId.TIME,
			'date-time': ControlTypeId.DATE_TIME,
			'number': ControlTypeId.NUMBER,
			'base64Binary': ControlTypeId.INPUT_TEXT
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 160 */
/***/ (function(module, exports) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function(useSourceMap) {
	var list = [];

	// return the list of modules as css string
	list.toString = function toString() {
		return this.map(function (item) {
			var content = cssWithMappingToString(item, useSourceMap);
			if(item[2]) {
				return "@media " + item[2] + "{" + content + "}";
			} else {
				return content;
			}
		}).join("");
	};

	// import a list of modules into the list
	list.i = function(modules, mediaQuery) {
		if(typeof modules === "string")
			modules = [[null, modules, ""]];
		var alreadyImportedModules = {};
		for(var i = 0; i < this.length; i++) {
			var id = this[i][0];
			if(typeof id === "number")
				alreadyImportedModules[id] = true;
		}
		for(i = 0; i < modules.length; i++) {
			var item = modules[i];
			// skip already imported module
			// this implementation is not 100% perfect for weird media query combinations
			//  when a module is imported multiple times with different media queries.
			//  I hope this will never occur (Hey this way we have smaller bundles)
			if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
				if(mediaQuery && !item[2]) {
					item[2] = mediaQuery;
				} else if(mediaQuery) {
					item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
				}
				list.push(item);
			}
		}
	};
	return list;
};

function cssWithMappingToString(item, useSourceMap) {
	var content = item[1] || '';
	var cssMapping = item[3];
	if (!cssMapping) {
		return content;
	}

	if (useSourceMap && typeof btoa === 'function') {
		var sourceMapping = toComment(cssMapping);
		var sourceURLs = cssMapping.sources.map(function (source) {
			return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'
		});

		return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
	}

	return [content].join('\n');
}

// Adapted from convert-source-map (MIT)
function toComment(sourceMap) {
	// eslint-disable-next-line no-undef
	var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
	var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;

	return '/*# ' + data + ' */';
}


/***/ }),
/* 161 */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getElement = (function (fn) {
	var memo = {};

	return function(selector) {
		if (typeof memo[selector] === "undefined") {
			var styleTarget = fn.call(this, selector);
			// Special case to return head of iframe instead of iframe itself
			if (styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[selector] = styleTarget;
		}
		return memo[selector]
	};
})(function (target) {
	return document.querySelector(target)
});

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(404);

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
	if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertInto + " " + options.insertAt.before);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	options.attrs.type = "text/css";

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	options.attrs.type = "text/css";
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = options.transform(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),
/* 162 */
/***/ (function(module, exports) {

module.exports = "<img alt=\"\" class=\"icon\" data-bind=\"attr:{src: icon.getDataValue(), alt: alt}, css: styleClass\"/>\n<img alt=\"\" class=\"icon-hover\" data-bind=\"attr:{src: icon.getDataHover(), alt: alt}, css: styleClass + '-hover'\"/>\n<img alt=\"\" class=\"icon-active\" data-bind=\"attr:{src: icon.getDataActive(), alt: alt}, css: styleClass + '-active'\"/>";

/***/ }),
/* 163 */
/***/ (function(module, exports) {

module.exports = "<div class=\"pcs-forms-row form-container\" id=\"form-renderer-container\" data-bind=\"subscribe:{afterRender: registerCustomEvents, beforeRemove: detachCustomListeners}, clean: rendererContext.getScope()\">\n    <div class=\"oj-sm-12 oj-md-12 pcs-forms-col\">\n        <form id=\"rForm\" class=\"form-horizontal\" role=\"form\">\n            <div class=\"canvas-container\">\n                <div class=\"canvas\" data-bind=\"with: form()\">\n                    <div id=\"creatorLoading\" class=\"spinnerContainer\" style=\"display: none\">\n                        <div id=\"spinner\" class=\"spinner\">\n                            <div id=\"bounce1\" class=\"spinner__bounce spinner-object spinner-object-1\"></div>\n                            <div id=\"bounce2\" class=\"spinner__bounce spinner-object spinner-object-2\"></div>\n                            <div id=\"bounce3\" class=\"spinner__bounce spinner-object spinner-object-3\"></div>\n                        </div>\n                    </div>\n                    <div class=\"canvas__header\"></div>\n                    <div class=\"canvas__content oj-panel js-renderer-container\"\n                         data-bind=\"style: {'border-color' : properties.borderColor ? properties.borderColor() : 'null',\n                                                                                         'border-width': properties.borderWidth ? properties.borderWidth() : 'null',\n                                                                                         'border-style' : properties.borderStyle? properties.borderStyle() : 'null',\n                                                                                         'background-color' : properties.backgroundColor? properties.backgroundColor() : 'null'}\">\n                        <!--  if: shouldRender -->\n                        <div data-bind=\"asyncTemplate:{name: 'rendererControl', foreach: controls(), afterLazyRenderAll: afterRenderingRowControls.bind($data), pageSize: 1, hideLoading: true}\"></div>\n                        <!-- / -->\n                    </div>\n                    <div class=\"canvas__footer\"></div>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>";

/***/ }),
/* 164 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {
		'use strict';
		/* global FORMS_RENDERER_VERSION */

		var $ = __webpack_require__(2);
		var ko = __webpack_require__(1);

		return {
			init: /* istanbul ignore next */function init(publicPath) {
				window.FORMS_RENDERER_VERSION = "1.7.0-next.70";
				// if consumed in another place (like composer), the consumer needs to specify
				// where the imgs (and any other resource that is loaded dynamically) will be
				// it no public path is specified, the default will be used (defined in our
				// front-end-config.js publicPath property.
				if (publicPath) __webpack_require__.p = publicPath;
				//Initialize Components
				var RendererComponent = __webpack_require__(165);

				RendererComponent();
			},

			applyBindings: /* istanbul ignore next */function applyBindings(viewModel, div) {
				// This apply binding is needed for the standalone forms editor
				//We store this is global variables so we can debug in the standalone app
				window._$ = $;
				window._ko = ko;
				ko.applyBindings(viewModel, div);
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 165 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var RendererViewModel = __webpack_require__(92),
		    IconComponent = __webpack_require__(400),
		    rendererCss = __webpack_require__(401),
		    ojMigrationCss = __webpack_require__(405),
		    ko = __webpack_require__(1);

		var RendererTemplateLoader = __webpack_require__(407);
		var mediaBindingHandler = __webpack_require__(458);
		var HandleEventsBinding = __webpack_require__(460);
		var knockoutExtensions = __webpack_require__(464);
		var formKnockoutExtensions = __webpack_require__(465);

		//endregion

		return function () {
			RendererTemplateLoader();
			mediaBindingHandler();
			HandleEventsBinding();
			knockoutExtensions();
			formKnockoutExtensions();

			if (!ko.components.isRegistered('form-renderer')) {
				rendererCss.use();
				ojMigrationCss.use();
				//cannot use just icon due to a bug in ko 3.4 - https://github.com/knockout/knockout/issues/1935
				ko.components.register('actionable-icon', {
					viewModel: IconComponent,
					template: __webpack_require__(162)
				});

				ko.components.register('form-renderer', {
					viewModel: RendererViewModel,
					template: __webpack_require__(163)
				});
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 166 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(167);


/***/ }),
/* 167 */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

// This method of obtaining a reference to the global object needs to be
// kept identical to the way it is obtained in runtime.js
var g = (function() { return this })() || Function("return this")();

// Use `getOwnPropertyNames` because not all browsers support calling
// `hasOwnProperty` on the global `self` object in a worker. See #183.
var hadRuntime = g.regeneratorRuntime &&
  Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime") >= 0;

// Save the old regeneratorRuntime in case it needs to be restored later.
var oldRuntime = hadRuntime && g.regeneratorRuntime;

// Force reevalutation of runtime.js.
g.regeneratorRuntime = undefined;

module.exports = __webpack_require__(168);

if (hadRuntime) {
  // Restore the original runtime.
  g.regeneratorRuntime = oldRuntime;
} else {
  // Remove the global property added by runtime.js.
  try {
    delete g.regeneratorRuntime;
  } catch(e) {
    g.regeneratorRuntime = undefined;
  }
}


/***/ }),
/* 168 */
/***/ (function(module, exports) {

/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

!(function(global) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  runtime.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  runtime.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return Promise.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return Promise.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration. If the Promise is rejected, however, the
          // result for this iteration will be rejected with the same
          // reason. Note that rejections of yielded Promises are not
          // thrown back into the generator function, as is the case
          // when an awaited Promise is rejected. This difference in
          // behavior between yield and await is important, because it
          // allows the consumer to decide what to do with the yielded
          // rejection (swallow it and continue, manually .throw it back
          // into the generator, abandon iteration, whatever). With
          // await, by contrast, there is no opportunity to examine the
          // rejection reason outside the generator function, so the
          // only option is to throw it from the await expression, and
          // let the generator function handle the exception.
          result.value = unwrapped;
          resolve(result);
        }, reject);
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new Promise(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  runtime.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function(innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList)
    );

    return runtime.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        if (delegate.iterator.return) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };
})(
  // In sloppy mode, unbound `this` refers to the global object, fallback to
  // Function constructor if we're in global strict mode. That is sadly a form
  // of indirect eval which violates Content Security Policy.
  (function() { return this })() || Function("return this")()
);


/***/ }),
/* 169 */
/***/ (function(module, exports, __webpack_require__) {




exports.__esModule = true;

var _promise = __webpack_require__(6);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (fn) {
  return function () {
    var gen = fn.apply(this, arguments);
    return new _promise2.default(function (resolve, reject) {
      function step(key, arg) {
        try {
          var info = gen[key](arg);
          var value = info.value;
        } catch (error) {
          reject(error);
          return;
        }

        if (info.done) {
          resolve(value);
        } else {
          return _promise2.default.resolve(value).then(function (value) {
            step("next", value);
          }, function (err) {
            step("throw", err);
          });
        }
      }

      return step("next");
    });
  };
};

/***/ }),
/* 170 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(93);
__webpack_require__(94);
__webpack_require__(104);
__webpack_require__(180);
__webpack_require__(191);
__webpack_require__(192);
module.exports = __webpack_require__(18).Promise;


/***/ }),
/* 171 */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(65);
var defined = __webpack_require__(66);
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};


/***/ }),
/* 172 */
/***/ (function(module, exports, __webpack_require__) {



var create = __webpack_require__(98);
var descriptor = __webpack_require__(54);
var setToStringTag = __webpack_require__(56);
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
__webpack_require__(27)(IteratorPrototype, __webpack_require__(12)('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};


/***/ }),
/* 173 */
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__(28);
var anObject = __webpack_require__(22);
var getKeys = __webpack_require__(69);

module.exports = __webpack_require__(30) ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};


/***/ }),
/* 174 */
/***/ (function(module, exports, __webpack_require__) {

// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = __webpack_require__(46);
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};


/***/ }),
/* 175 */
/***/ (function(module, exports, __webpack_require__) {

// false -> Array#indexOf
// true  -> Array#includes
var toIObject = __webpack_require__(37);
var toLength = __webpack_require__(100);
var toAbsoluteIndex = __webpack_require__(176);
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};


/***/ }),
/* 176 */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(65);
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};


/***/ }),
/* 177 */
/***/ (function(module, exports, __webpack_require__) {



var addToUnscopables = __webpack_require__(178);
var step = __webpack_require__(179);
var Iterators = __webpack_require__(45);
var toIObject = __webpack_require__(37);

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = __webpack_require__(95)(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');


/***/ }),
/* 178 */
/***/ (function(module, exports) {

module.exports = function () { /* empty */ };


/***/ }),
/* 179 */
/***/ (function(module, exports) {

module.exports = function (done, value) {
  return { value: value, done: !!done };
};


/***/ }),
/* 180 */
/***/ (function(module, exports, __webpack_require__) {



var LIBRARY = __webpack_require__(51);
var global = __webpack_require__(11);
var ctx = __webpack_require__(52);
var classof = __webpack_require__(105);
var $export = __webpack_require__(36);
var isObject = __webpack_require__(29);
var aFunction = __webpack_require__(53);
var anInstance = __webpack_require__(181);
var forOf = __webpack_require__(182);
var speciesConstructor = __webpack_require__(106);
var task = __webpack_require__(107).set;
var microtask = __webpack_require__(187)();
var newPromiseCapabilityModule = __webpack_require__(73);
var perform = __webpack_require__(108);
var promiseResolve = __webpack_require__(109);
var PROMISE = 'Promise';
var TypeError = global.TypeError;
var process = global.process;
var $Promise = global[PROMISE];
var isNode = classof(process) == 'process';
var empty = function () { /* empty */ };
var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
var newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;

var USE_NATIVE = !!function () {
  try {
    // correct subclassing with @@species support
    var promise = $Promise.resolve(1);
    var FakePromise = (promise.constructor = {})[__webpack_require__(12)('species')] = function (exec) {
      exec(empty, empty);
    };
    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;
  } catch (e) { /* empty */ }
}();

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function (promise, isReject) {
  if (promise._n) return;
  promise._n = true;
  var chain = promise._c;
  microtask(function () {
    var value = promise._v;
    var ok = promise._s == 1;
    var i = 0;
    var run = function (reaction) {
      var handler = ok ? reaction.ok : reaction.fail;
      var resolve = reaction.resolve;
      var reject = reaction.reject;
      var domain = reaction.domain;
      var result, then;
      try {
        if (handler) {
          if (!ok) {
            if (promise._h == 2) onHandleUnhandled(promise);
            promise._h = 1;
          }
          if (handler === true) result = value;
          else {
            if (domain) domain.enter();
            result = handler(value);
            if (domain) domain.exit();
          }
          if (result === reaction.promise) {
            reject(TypeError('Promise-chain cycle'));
          } else if (then = isThenable(result)) {
            then.call(result, resolve, reject);
          } else resolve(result);
        } else reject(value);
      } catch (e) {
        reject(e);
      }
    };
    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach
    promise._c = [];
    promise._n = false;
    if (isReject && !promise._h) onUnhandled(promise);
  });
};
var onUnhandled = function (promise) {
  task.call(global, function () {
    var value = promise._v;
    var unhandled = isUnhandled(promise);
    var result, handler, console;
    if (unhandled) {
      result = perform(function () {
        if (isNode) {
          process.emit('unhandledRejection', value, promise);
        } else if (handler = global.onunhandledrejection) {
          handler({ promise: promise, reason: value });
        } else if ((console = global.console) && console.error) {
          console.error('Unhandled promise rejection', value);
        }
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
    } promise._a = undefined;
    if (unhandled && result.e) throw result.v;
  });
};
var isUnhandled = function (promise) {
  return promise._h !== 1 && (promise._a || promise._c).length === 0;
};
var onHandleUnhandled = function (promise) {
  task.call(global, function () {
    var handler;
    if (isNode) {
      process.emit('rejectionHandled', promise);
    } else if (handler = global.onrejectionhandled) {
      handler({ promise: promise, reason: promise._v });
    }
  });
};
var $reject = function (value) {
  var promise = this;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  promise._v = value;
  promise._s = 2;
  if (!promise._a) promise._a = promise._c.slice();
  notify(promise, true);
};
var $resolve = function (value) {
  var promise = this;
  var then;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  try {
    if (promise === value) throw TypeError("Promise can't be resolved itself");
    if (then = isThenable(value)) {
      microtask(function () {
        var wrapper = { _w: promise, _d: false }; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch (e) {
          $reject.call(wrapper, e);
        }
      });
    } else {
      promise._v = value;
      promise._s = 1;
      notify(promise, false);
    }
  } catch (e) {
    $reject.call({ _w: promise, _d: false }, e); // wrap
  }
};

// constructor polyfill
if (!USE_NATIVE) {
  // 25.4.3.1 Promise(executor)
  $Promise = function Promise(executor) {
    anInstance(this, $Promise, PROMISE, '_h');
    aFunction(executor);
    Internal.call(this);
    try {
      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
    } catch (err) {
      $reject.call(this, err);
    }
  };
  // eslint-disable-next-line no-unused-vars
  Internal = function Promise(executor) {
    this._c = [];             // <- awaiting reactions
    this._a = undefined;      // <- checked in isUnhandled reactions
    this._s = 0;              // <- state
    this._d = false;          // <- done
    this._v = undefined;      // <- value
    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
    this._n = false;          // <- notify
  };
  Internal.prototype = __webpack_require__(188)($Promise.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected) {
      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
      reaction.fail = typeof onRejected == 'function' && onRejected;
      reaction.domain = isNode ? process.domain : undefined;
      this._c.push(reaction);
      if (this._a) this._a.push(reaction);
      if (this._s) notify(this, false);
      return reaction.promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function (onRejected) {
      return this.then(undefined, onRejected);
    }
  });
  OwnPromiseCapability = function () {
    var promise = new Internal();
    this.promise = promise;
    this.resolve = ctx($resolve, promise, 1);
    this.reject = ctx($reject, promise, 1);
  };
  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === $Promise || C === Wrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });
__webpack_require__(56)($Promise, PROMISE);
__webpack_require__(189)(PROMISE);
Wrapper = __webpack_require__(18)[PROMISE];

// statics
$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r) {
    var capability = newPromiseCapability(this);
    var $$reject = capability.reject;
    $$reject(r);
    return capability.promise;
  }
});
$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x) {
    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);
  }
});
$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(190)(function (iter) {
  $Promise.all(iter)['catch'](empty);
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var values = [];
      var index = 0;
      var remaining = 1;
      forOf(iterable, false, function (promise) {
        var $index = index++;
        var alreadyCalled = false;
        values.push(undefined);
        remaining++;
        C.resolve(promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[$index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.e) reject(result.v);
    return capability.promise;
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var reject = capability.reject;
    var result = perform(function () {
      forOf(iterable, false, function (promise) {
        C.resolve(promise).then(capability.resolve, reject);
      });
    });
    if (result.e) reject(result.v);
    return capability.promise;
  }
});


/***/ }),
/* 181 */
/***/ (function(module, exports) {

module.exports = function (it, Constructor, name, forbiddenField) {
  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
    throw TypeError(name + ': incorrect invocation!');
  } return it;
};


/***/ }),
/* 182 */
/***/ (function(module, exports, __webpack_require__) {

var ctx = __webpack_require__(52);
var call = __webpack_require__(183);
var isArrayIter = __webpack_require__(184);
var anObject = __webpack_require__(22);
var toLength = __webpack_require__(100);
var getIterFn = __webpack_require__(185);
var BREAK = {};
var RETURN = {};
var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);
  var f = ctx(fn, that, entries ? 2 : 1);
  var index = 0;
  var length, step, iterator, result;
  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {
    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
    if (result === BREAK || result === RETURN) return result;
  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
    result = call(iterator, f, step.value, entries);
    if (result === BREAK || result === RETURN) return result;
  }
};
exports.BREAK = BREAK;
exports.RETURN = RETURN;


/***/ }),
/* 183 */
/***/ (function(module, exports, __webpack_require__) {

// call something on iterator step with safe closing on error
var anObject = __webpack_require__(22);
module.exports = function (iterator, fn, value, entries) {
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (e) {
    var ret = iterator['return'];
    if (ret !== undefined) anObject(ret.call(iterator));
    throw e;
  }
};


/***/ }),
/* 184 */
/***/ (function(module, exports, __webpack_require__) {

// check on default Array iterator
var Iterators = __webpack_require__(45);
var ITERATOR = __webpack_require__(12)('iterator');
var ArrayProto = Array.prototype;

module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};


/***/ }),
/* 185 */
/***/ (function(module, exports, __webpack_require__) {

var classof = __webpack_require__(105);
var ITERATOR = __webpack_require__(12)('iterator');
var Iterators = __webpack_require__(45);
module.exports = __webpack_require__(18).getIteratorMethod = function (it) {
  if (it != undefined) return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};


/***/ }),
/* 186 */
/***/ (function(module, exports) {

// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function (fn, args, that) {
  var un = that === undefined;
  switch (args.length) {
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return fn.apply(that, args);
};


/***/ }),
/* 187 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(11);
var macrotask = __webpack_require__(107).set;
var Observer = global.MutationObserver || global.WebKitMutationObserver;
var process = global.process;
var Promise = global.Promise;
var isNode = __webpack_require__(46)(process) == 'process';

module.exports = function () {
  var head, last, notify;

  var flush = function () {
    var parent, fn;
    if (isNode && (parent = process.domain)) parent.exit();
    while (head) {
      fn = head.fn;
      head = head.next;
      try {
        fn();
      } catch (e) {
        if (head) notify();
        else last = undefined;
        throw e;
      }
    } last = undefined;
    if (parent) parent.enter();
  };

  // Node.js
  if (isNode) {
    notify = function () {
      process.nextTick(flush);
    };
  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
  } else if (Observer && !(global.navigator && global.navigator.standalone)) {
    var toggle = true;
    var node = document.createTextNode('');
    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (Promise && Promise.resolve) {
    var promise = Promise.resolve();
    notify = function () {
      promise.then(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessag
  // - onreadystatechange
  // - setTimeout
  } else {
    notify = function () {
      // strange IE + webpack dev server bug - use .call(global)
      macrotask.call(global, flush);
    };
  }

  return function (fn) {
    var task = { fn: fn, next: undefined };
    if (last) last.next = task;
    if (!head) {
      head = task;
      notify();
    } last = task;
  };
};


/***/ }),
/* 188 */
/***/ (function(module, exports, __webpack_require__) {

var hide = __webpack_require__(27);
module.exports = function (target, src, safe) {
  for (var key in src) {
    if (safe && target[key]) target[key] = src[key];
    else hide(target, key, src[key]);
  } return target;
};


/***/ }),
/* 189 */
/***/ (function(module, exports, __webpack_require__) {



var global = __webpack_require__(11);
var core = __webpack_require__(18);
var dP = __webpack_require__(28);
var DESCRIPTORS = __webpack_require__(30);
var SPECIES = __webpack_require__(12)('species');

module.exports = function (KEY) {
  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];
  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {
    configurable: true,
    get: function () { return this; }
  });
};


/***/ }),
/* 190 */
/***/ (function(module, exports, __webpack_require__) {

var ITERATOR = __webpack_require__(12)('iterator');
var SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function () { SAFE_CLOSING = true; };
  // eslint-disable-next-line no-throw-literal
  Array.from(riter, function () { throw 2; });
} catch (e) { /* empty */ }

module.exports = function (exec, skipClosing) {
  if (!skipClosing && !SAFE_CLOSING) return false;
  var safe = false;
  try {
    var arr = [7];
    var iter = arr[ITERATOR]();
    iter.next = function () { return { done: safe = true }; };
    arr[ITERATOR] = function () { return iter; };
    exec(arr);
  } catch (e) { /* empty */ }
  return safe;
};


/***/ }),
/* 191 */
/***/ (function(module, exports, __webpack_require__) {


// https://github.com/tc39/proposal-promise-finally

var $export = __webpack_require__(36);
var core = __webpack_require__(18);
var global = __webpack_require__(11);
var speciesConstructor = __webpack_require__(106);
var promiseResolve = __webpack_require__(109);

$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {
  var C = speciesConstructor(this, core.Promise || global.Promise);
  var isFunction = typeof onFinally == 'function';
  return this.then(
    isFunction ? function (x) {
      return promiseResolve(C, onFinally()).then(function () { return x; });
    } : onFinally,
    isFunction ? function (e) {
      return promiseResolve(C, onFinally()).then(function () { throw e; });
    } : onFinally
  );
} });


/***/ }),
/* 192 */
/***/ (function(module, exports, __webpack_require__) {



// https://github.com/tc39/proposal-promise-try
var $export = __webpack_require__(36);
var newPromiseCapability = __webpack_require__(73);
var perform = __webpack_require__(108);

$export($export.S, 'Promise', { 'try': function (callbackfn) {
  var promiseCapability = newPromiseCapability.f(this);
  var result = perform(callbackfn);
  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);
  return promiseCapability.promise;
} });


/***/ }),
/* 193 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var FormContext = __webpack_require__(194),
		    RendererControlType = __webpack_require__(203),
		    RendererId = __webpack_require__(78),
		    msg = __webpack_require__(5),
		    ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    Icon = __webpack_require__(253),
		    EventsId = __webpack_require__(14),
		    Configuration = __webpack_require__(254),
		    OptionsResolverFactory = __webpack_require__(271),
		    LoVMappingAutoComplete = __webpack_require__(282),
		    EventsQueue = __webpack_require__(283),
		    ObservablePayloadContext = __webpack_require__(284),
		    FormReferenceFactory = __webpack_require__(285),
		    RendererDecoratorsCatalog = __webpack_require__(288);

		var REMOVE_COLUMN_BLUE = __webpack_require__(330),
		    ADD_COLUMN_BLUE = __webpack_require__(331);

		//endregion

		return FormContext.subClass({}, {
			controlBindings: {},
			init: function init(rendererModel, viewModel, controlBindings, bindingContext) {
				this._super(new Configuration(rendererModel.config), rendererModel.dependencies, viewModel);
				this.tracker = ko.observable();

				this.optionsResolverFactory = new OptionsResolverFactory();
				this.LoVMappingAutoComplete = LoVMappingAutoComplete;
				this.eventsQueue = new EventsQueue();
				this.decoratorsCatalog = new RendererDecoratorsCatalog();
				this.payloadContext = new ObservablePayloadContext(controlBindings, bindingContext);

				//list of running async Templates (this list will be empty when everything is rendered)
				this.runningAsyncTemplates = ko.observable(-1);
			},
			getScope: function getScope() {
				return RendererId.FORM_RENDERER;
			},
			getControlDefinitionByType: function getControlDefinitionByType(controlTypeId) {
				return RendererControlType[controlTypeId];
			},
			getFormReferenceControlDefinition: function getFormReferenceControlDefinition(reference, handler) {
				return RendererControlType.FORM_REFERENCE(FormReferenceFactory.create(reference), handler);
			},
			addControlDecorators: function addControlDecorators(control) {
				this.decoratorsCatalog.addToControl(control, this);
			},
			focusControl: function focusControl($control) {
				if ($control.length > 0) {
					$control.first().focus();
					ko.contextFor($control[0]).control.executeEvent(EventsId.ON_FOCUS.value);
				}
			},
			registerAsyncTemplate: function registerAsyncTemplate(context, foreachList) {
				var list = ko.unwrap(foreachList);
				var callback;
				if (list.length > 0) {
					//if no controls to render we don't register it.
					if (this.runningAsyncTemplates() === -1) {
						this.runningAsyncTemplates(1); //registering first asyncTemplate;
					} else {
						//registering asyncTemplate
						this.runningAsyncTemplates(this.runningAsyncTemplates() + 1);
					}
					//callback when asyncTemplate finishes.
					callback = function () {
						this.runningAsyncTemplates(this.runningAsyncTemplates() - 1);
					}.bind(this);
				}
				return callback;
			},
			properties: function properties() {
				var _readOnly = this.config().readOnly; // Similar to BuilderContext, readOnly parameter should come in config
				return _.extend({}, this._super(), {
					config: this.config(),
					msg: msg,
					removeColumnIcon: function removeColumnIcon() {
						return new Icon(REMOVE_COLUMN_BLUE, REMOVE_COLUMN_BLUE, REMOVE_COLUMN_BLUE);
					},
					addColumnIcon: function addColumnIcon() {
						return new Icon(ADD_COLUMN_BLUE, ADD_COLUMN_BLUE, ADD_COLUMN_BLUE);
					},
					tracker: $.proxy(function () {
						return this.tracker;
					}, this),
					readOnly: function readOnly() {
						return _readOnly;
					}
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 194 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    ColumnSpanTypeId = __webpack_require__(199),
		    ValueScope = __webpack_require__(200),
		    _StringUtils = __webpack_require__(32),
		    StyleHandler = __webpack_require__(201),
		    ControlTypeId = __webpack_require__(4);

		//endregion

		/* istanbul ignore next */
		return Class.subClass({}, {
			init: function init(config, dependencies, viewModel) {
				this.viewModel = viewModel;
				this.config = ko.observable(config);
				this.payload = ko.observable();
				this.config().resolveDependencies(dependencies || []);
				this.styleHandler = new StyleHandler();

				var selectedMedia;
				if (config && config.selectedMedia && ColumnSpanTypeId[config.selectedMedia]) {
					selectedMedia = ColumnSpanTypeId[config.selectedMedia];
				} else {
					selectedMedia = this._getDefaultSelectedMedia();
				}
				this.selectedMedia = ko.observable(selectedMedia);

				this.scopeFactory = {
					Scope: ValueScope,
					ErrorScope: ValueScope
				};
			},
			getControlDefinition: function getControlDefinition(control) {
				if (control.type === ControlTypeId.FORM_REFERENCE) {
					var formReference = control.properties.reference;
					var reference = ko.isObservable(formReference) ? formReference().get() : formReference;
					return this.getFormReferenceControlDefinition(reference, this.config().formHandler);
				} else {
					return this.getControlDefinitionByType(control.type);
				}
			},
			getControlDefinitionByType: function getControlDefinitionByType(controlTypeId) {
				throw new Error('Unsupported operation');
			},
			getFormReferenceControlDefinition: function getFormReferenceControlDefinition(reference, handler) {
				throw new Error('Unsupported operation');
			},
			properties: function properties() {
				return {
					eventsQueue: this.eventsQueue,
					domIdPrefix: this.config().domIdPrefix,
					styleHandler: this.styleHandler,
					viewModel: this.viewModel,
					selectedMedia: function () {
						return this.selectedMedia;
					}.bind(this),
					StringUtils: function StringUtils() {
						//Have to create a function, otherwise StringUtils is tried to be initialized
						return _StringUtils;
					},
					helpDefinition: function helpDefinition() {
						return function (help) {
							return ko.pureComputed(function () {
								var helpMsg = ko.unwrap(help);
								return {
									definition: _.isEmpty(helpMsg) ? null : helpMsg
								};
							});
						};
					}
				};
			},
			addControlDecorators: function addControlDecorators(control) {
				throw new Error('Unsupported operation');
			},
			_getDefaultSelectedMedia: function _getDefaultSelectedMedia() {
				return ColumnSpanTypeId.ALL;
			},
			findCallDefinition: function findCallDefinition(id) {
				return _.find(this.calls(), function (callDef) {
					return callDef.id === id;
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 195 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(196), __esModule: true };

/***/ }),
/* 196 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(197);
module.exports = __webpack_require__(18).Object.getPrototypeOf;


/***/ }),
/* 197 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 Object.getPrototypeOf(O)
var toObject = __webpack_require__(103);
var $getPrototypeOf = __webpack_require__(102);

__webpack_require__(198)('getPrototypeOf', function () {
  return function getPrototypeOf(it) {
    return $getPrototypeOf(toObject(it));
  };
});


/***/ }),
/* 198 */
/***/ (function(module, exports, __webpack_require__) {

// most Object methods by ES6 should accept primitives
var $export = __webpack_require__(36);
var core = __webpack_require__(18);
var fails = __webpack_require__(44);
module.exports = function (KEY, exec) {
  var fn = (core.Object || {})[KEY] || Object[KEY];
  var exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);
};


/***/ }),
/* 199 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5);
		//endregion

		return {
			SMALL: {
				value: 'SMALL',
				cssStyle: 'media__icon media__small-icon',
				label: msg.MEDIA_SMALL
			},
			MEDIUM: {
				value: 'MEDIUM',
				cssStyle: 'media__icon media__medium-icon',
				label: msg.MEDIA_MEDIUM
			},
			LARGE: {
				value: 'LARGE',
				cssStyle: 'media__icon media__large-icon',
				label: msg.MEDIA_LARGE
			},
			EXTRA_LARGE: {
				value: 'EXTRA_LARGE',
				cssStyle: 'media__icon media__extra-large-icon',
				label: msg.MEDIA_EXTRA_LARGE
			},
			ALL: {
				value: 'ALL',
				cssStyle: 'media__icon media__all-icon',
				label: msg.MEDIA_ALL
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 200 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    _ = __webpack_require__(0),
		    DotExpressionResolver = __webpack_require__(23);

		//endregion

		return Class.subClass({}, {
			eventControl: null,
			init: function init(globalScope) {
				this.scopes = globalScope ? [globalScope] : [];
				this.values = {};
			},

			clearValues: function clearValues() {
				this.values = {};
			},
			setValue: function setValue(name, value) {
				this.values[name] = value;
			},

			getAttributes: function getAttributes() {
				return [];
			},

			getFilterAttributes: function getFilterAttributes() {
				return [];
			},

			getValue: function getValue(name) {
				var value = DotExpressionResolver.getPCSCompatibleValue(this.values, name);
				_.each(this.scopes, function (scope) {
					if (_.isUndefined(value)) {
						value = scope.getValue(name);
					}
				});
				return value;
			},

			getRootType: function getRootType() {
				return this.rootType;
			},

			getFilterRootType: function getFilterRootType() {
				return this.filterRootType;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 201 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    Class = __webpack_require__(3),
		    Style = __webpack_require__(202),
		    StyleImportant = ' !important';

		//endregion

		return Class.subClass({}, {

			init: function init() {},
			getAllStyles: function getAllStyles(container, properties) {
				var styles = [];
				var styleMap = container.getStyleMapper();
				// Check if the control type is present in the mapper.
				/* istanbul ignore else*/
				if (styleMap) {
					var groupStyles = _.groupBy(styleMap, 'group');

					_.each(groupStyles, function (groupStyle, group) {
						_.each(groupStyle, function (styleType) {
							var colCount = group === 'undefined' ? 12 : Math.ceil(12 / groupStyle.length),
							    preloadedValue;
							if (properties.formattedStyle) {
								preloadedValue = properties.formattedStyle[styleType.name];
							}
							styleType.computedClass = 'pcs-forms-col oj-sm-' + colCount;
							styles.push(new Style(container.id, styleType, preloadedValue));
						}, this);
					}, this);
				}
				return ko.observableArray(styles);
			},
			getParsedStyle: function getParsedStyle(control) {
				return ko.computed(function () {
					var styles = ko.utils.unwrapObservable(control.styles),
					    parsedStyle = '';

					styles.forEach(function (style) {
						var value = ko.utils.unwrapObservable(style.rawValue);
						value = value instanceof Array ? value[0] : value;
						if (style.type.styleType === 'inline' && !_.isUndefined(value) && !_.isNull(value) && value !== '' && value !== style.type.default) {
							if (!_.isUndefined(style.type.important) && style.type.important) {
								parsedStyle += style.type.attrName + ':' + value + StyleImportant + ';';
							} else {
								parsedStyle += style.type.attrName + ':' + value + ';';
							}
						}
					});
					return parsedStyle;
				}, control);
			},
			getFormattedStyle: function getFormattedStyle(control) {
				return ko.computed(function () {
					var styles = ko.utils.unwrapObservable(control.styles),
					    formattedStyle = {};

					styles.forEach(function (style) {
						var value = ko.utils.unwrapObservable(style.rawValue);
						value = value instanceof Array ? value[0] : value;

						if (!_.isEmpty(value) && (style.type.useIfDefault || value !== style.type.default)) {
							formattedStyle[style.type.name] = value;
						}
					});
					return formattedStyle;
				}, control);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 202 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1);

		//endregion

		return Class.subClass({}, {
			init: function init(id, type, value) {
				this.type = type;
				this.domId = id + type.name;

				// Value that is assigned from the property inspector.
				this.rawValue = ko.observable(value || '');

				// Value that is used to display on the property inspector (need to display default value, if present).
				this.value = ko.computed({
					read: function read() {
						// return the default value (if present), if actualValue is not present.
						return this.rawValue() || type.default;
					},
					write: function write(value) {
						if (value !== null && value !== undefined) {
							this.rawValue(value);
						}
					},
					owner: this
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 203 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var InputControlDefinition = __webpack_require__(110),
		    RegisterCustomControls = __webpack_require__(204),
		    ControlDefinition = __webpack_require__(74),
		    ControlTypeId = __webpack_require__(4),
		    TypeCatalog = __webpack_require__(24),
		    FormControlDefinition = __webpack_require__(252);
		//end region

		var Controls = {
			'INPUT_TEXT': new InputControlDefinition(ControlTypeId.INPUT_TEXT, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererTextControl'),
			'TEXT_AREA': new InputControlDefinition(ControlTypeId.TEXT_AREA, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererTextAreaControl'),
			'BUTTON': new ControlDefinition(ControlTypeId.BUTTON, 'rendererButtonControl'),
			'SELECT': new InputControlDefinition(ControlTypeId.SELECT, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererSelectControl'),
			'CHECKLIST': new InputControlDefinition(ControlTypeId.CHECKLIST, TypeCatalog.getArrayType(TypeCatalog.getSimpleTypesDefinitions().STRING), 'rendererChecklistControl'),
			'CHECKBOX': new InputControlDefinition(ControlTypeId.CHECKBOX, TypeCatalog.getSimpleTypesDefinitions().BOOLEAN, 'rendererCheckboxControl'),
			'RADIO_BUTTON': new InputControlDefinition(ControlTypeId.RADIO_BUTTON, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererRadioButtonControl'),
			'NUMBER': new InputControlDefinition(ControlTypeId.NUMBER, TypeCatalog.getSimpleTypesDefinitions().NUMBER, 'rendererNumberControl'),
			'DATE': new InputControlDefinition(ControlTypeId.DATE, TypeCatalog.getSimpleTypesDefinitions().DATE, 'rendererDateControl'),
			'TIME': new InputControlDefinition(ControlTypeId.TIME, TypeCatalog.getSimpleTypesDefinitions().TIME, 'rendererTimeControl'),
			'DATE_TIME': new InputControlDefinition(ControlTypeId.DATE_TIME, TypeCatalog.getSimpleTypesDefinitions().DATE_TIME, 'rendererDateTimeControl'),
			'EMAIL': new InputControlDefinition(ControlTypeId.EMAIL, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererEmailControl'),
			'URL': new InputControlDefinition(ControlTypeId.URL, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererUrlControl'),
			'MESSAGE': new InputControlDefinition(ControlTypeId.MESSAGE, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererMessageControl'),
			'LINK': new InputControlDefinition(ControlTypeId.LINK, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererLinkControl'),
			'MONEY': new InputControlDefinition(ControlTypeId.MONEY, TypeCatalog.getSimpleTypesDefinitions().NUMBER, 'rendererMoneyControl'),
			'PHONE': new InputControlDefinition(ControlTypeId.PHONE, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererPhoneControl'),
			'IMAGE': new InputControlDefinition(ControlTypeId.IMAGE, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererImageControl'),
			'VIDEO': new InputControlDefinition(ControlTypeId.VIDEO, TypeCatalog.getSimpleTypesDefinitions().STRING, 'rendererVideoControl'),
			'IDENTITY_BROWSER': new InputControlDefinition(ControlTypeId.IDENTITY_BROWSER, TypeCatalog.getArrayType(TypeCatalog.getSimpleTypesDefinitions().STRING), 'rendererIdentityControl'),
			'PANEL': new ControlDefinition(ControlTypeId.PANEL, 'rendererPanelControl'),
			'SECTION': new ControlDefinition(ControlTypeId.SECTION, 'rendererSectionControl'),
			'TAB': new ControlDefinition(ControlTypeId.TAB, 'rendererTabControl'),
			'TAB_CONTAINER': new ControlDefinition(ControlTypeId.TAB_CONTAINER, 'rendererTabContainerControl'),
			'REPEATABLE_SECTION': new InputControlDefinition(ControlTypeId.REPEATABLE_SECTION, TypeCatalog.getArrayTypeDefinition(TypeCatalog.getSimpleTypesDefinitions().STRING), 'rendererRepeatableSectionControl'),
			'STRING_REPEATABLE_SECTION': new InputControlDefinition(ControlTypeId.REPEATABLE_SECTION, TypeCatalog.getArrayTypeDefinition(TypeCatalog.getSimpleTypesDefinitions().STRING), 'rendererRepeatableSectionControl'),
			'NUMBER_REPEATABLE_SECTION': new InputControlDefinition(ControlTypeId.REPEATABLE_SECTION, TypeCatalog.getArrayTypeDefinition(TypeCatalog.getSimpleTypesDefinitions().NUMBER), 'rendererRepeatableSectionControl'),
			'BOOLEAN_REPEATABLE_SECTION': new InputControlDefinition(ControlTypeId.REPEATABLE_SECTION, TypeCatalog.getArrayTypeDefinition(TypeCatalog.getSimpleTypesDefinitions().BOOLEAN), 'rendererRepeatableSectionControl'),
			'DATE_REPEATABLE_SECTION': new InputControlDefinition(ControlTypeId.REPEATABLE_SECTION, TypeCatalog.getArrayTypeDefinition(TypeCatalog.getSimpleTypesDefinitions().DATE), 'rendererRepeatableSectionControl'),
			'TIME_REPEATABLE_SECTION': new InputControlDefinition(ControlTypeId.REPEATABLE_SECTION, TypeCatalog.getArrayTypeDefinition(TypeCatalog.getSimpleTypesDefinitions().TIME), 'rendererRepeatableSectionControl'),
			'DATE_TIME_REPEATABLE_SECTION': new InputControlDefinition(ControlTypeId.REPEATABLE_SECTION, TypeCatalog.getArrayTypeDefinition(TypeCatalog.getSimpleTypesDefinitions().DATE_TIME), 'rendererRepeatableSectionControl'),
			'TABLE': new InputControlDefinition(ControlTypeId.TABLE, TypeCatalog.getArrayTypeDefinition(TypeCatalog.getSimpleTypesDefinitions().STRING), 'rendererTableControl'),
			'TABLE_COLUMN': new ControlDefinition(ControlTypeId.TABLE_COLUMN, ''),
			/**
    * @param reference {Object} instance of Reference.js
    * @param handler {Object} instance of Handler.js
    * @returns {FormControlDefinition}
    */
			'FORM_REFERENCE': function FORM_REFERENCE(reference, handler) {
				return new FormControlDefinition(ControlTypeId.FORM_REFERENCE, reference, handler, 'rendererFormReferenceControl');
			},
			'ENUM_SELECT': new InputControlDefinition(ControlTypeId.ENUM_SELECT, TypeCatalog.getSimpleTypesDefinitions().NUMBER, 'rendererSelectControl')
		};

		RegisterCustomControls.init(Controls);

		return Controls;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 204 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var CustomControlDefinition = __webpack_require__(205),
		    CustomControlList = __webpack_require__(75);

		//endregion

		return {
			init: function init(controlList) {
				controlList[CustomControlList.RICH_TEXT_EDITOR.id] = new CustomControlDefinition(CustomControlList.RICH_TEXT_EDITOR);
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 205 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDefinition = __webpack_require__(74),
		    TypeCatalog = __webpack_require__(24),
		    _ = __webpack_require__(0),
		    oj = __webpack_require__(7),
		    ko = __webpack_require__(1);
		//endregion
		__webpack_require__(118);

		oj.koStringTemplateEngine.install();
		return ControlDefinition.subClass({}, {

			/*jshint maxparams: 6 */
			init: function init(customControlEntry) {
				this._super(customControlEntry.id, customControlEntry.templateName);
				this.customControlEntry = customControlEntry;
				if (customControlEntry.dataType) {
					this.dataType = TypeCatalog.getSimpleTypesDefinitions()[customControlEntry.dataType];
				}

				ko.templates[customControlEntry.templateName] = customControlEntry.template;
			},
			properties: function properties() {
				return _.extend(this._super(), {
					dataType: this.dataType
				});
			},
			isBindable: function isBindable() {
				return !!this.dataType;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 206 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    StringType = __webpack_require__(111),
		    NumberType = __webpack_require__(207),
		    BooleanType = __webpack_require__(208),
		    DateType = __webpack_require__(209),
		    TimeType = __webpack_require__(210),
		    DateTimeType = __webpack_require__(211),
		    ArrayType = __webpack_require__(212),
		    EnumType = __webpack_require__(213),
		    ObjectType = __webpack_require__(113),
		    ObjectTypeRef = __webpack_require__(115),
		    UnknownType = __webpack_require__(214);
		//endregion

		return Class.subClass({

			createStringType: function createStringType(name) {
				return new StringType(name);
			},

			createNumberType: function createNumberType(name) {
				return new NumberType(name);
			},

			createBooleanType: function createBooleanType(name) {
				return new BooleanType(name);
			},

			createDateType: function createDateType(name) {
				return new DateType(name);
			},

			createTimeType: function createTimeType(name) {
				return new TimeType(name);
			},

			createDateTimeType: function createDateTimeType(name) {
				return new DateTimeType(name);
			},

			createArrayType: function createArrayType(name, itemType, items) {
				return new ArrayType(name, itemType, items);
			},

			createEnumType: function createEnumType(name, items) {
				return new EnumType(name, items);
			},

			createObjectType: function createObjectType(qname, name, attributes) {
				return new ObjectType(qname, name, attributes);
			},

			createObjectTypeRef: function createObjectTypeRef(ref, name) {
				return new ObjectTypeRef(ref, name);
			},

			createUnknownType: function createUnknownType(schema) {
				return new UnknownType(schema);
			}

		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 207 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SimpleType = __webpack_require__(38),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return SimpleType.subClass({}, {
			init: function init(name) {
				this._super(name, 'Number', '', 'number', '');
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.NUMBER;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 208 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SimpleType = __webpack_require__(38),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return SimpleType.subClass({}, {
			init: function init(name) {
				this._super(name, 'Boolean', '', 'boolean', '');
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.BOOLEAN;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 209 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SimpleType = __webpack_require__(38),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return SimpleType.subClass({}, {
			init: function init(name) {
				this._super(name, 'Date', '', 'string', 'date');
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.DATE;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 210 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SimpleType = __webpack_require__(38),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return SimpleType.subClass({}, {
			init: function init(name) {
				this._super(name, 'Time', '', 'string', 'time');
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.TIME;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 211 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SimpleType = __webpack_require__(38),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return SimpleType.subClass({}, {
			init: function init(name) {
				this._super(name, 'Date Time', '', 'string', 'date-time');
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.DATE_TIME;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 212 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var DataType = __webpack_require__(39),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    ControlTypeId = __webpack_require__(4),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return DataType.subClass({}, {
			init: function init(name, itemType, items) {
				this._super(this.getTypeName() + '#' + itemType.id(), name, itemType.label() + ' [ ]', '', {
					type: 'array',
					items: items || itemType.schema()
				});

				this.itemType = ko.observable(itemType);

				if (this.itemType().isObject()) {
					this.attributes = ko.pureComputed(function () {
						return this.itemType().attributes();
					}.bind(this));
				}
			},
			isCompatible: function isCompatible(data) {
				return data.isArray() && this.itemType().isCompatible(data.itemType());
			},
			isArray: function isArray() {
				return true;
			},
			isObject: function isObject() {
				return this.itemType().isObject();
			},
			isContainer: function isContainer() {
				return true;
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.ARRAY;
			},
			/* jshint maxcomplexity: 8 */
			getDefaultControl: function getDefaultControl() {
				if (this.itemType().isObject()) {
					return ControlTypeId.REPEATABLE_SECTION;
				} else {
					var typeId = ControlTypeId.REPEATABLE_SECTION;
					switch (this.itemType().id()) {
						case 'STRING':
							typeId = ControlTypeId.STRING_REPEATABLE_SECTION;
							break;
						case 'NUMBER':
							typeId = ControlTypeId.NUMBER_REPEATABLE_SECTION;
							break;
						case 'BOOLEAN':
							typeId = ControlTypeId.BOOLEAN_REPEATABLE_SECTION;
							break;
						case 'DATE':
							typeId = ControlTypeId.DATE_REPEATABLE_SECTION;
							break;
						case 'TIME':
							typeId = ControlTypeId.TIME_REPEATABLE_SECTION;
							break;
						case 'DATE_TIME':
							typeId = ControlTypeId.DATE_TIME_REPEATABLE_SECTION;
							break;
						default:
							typeId = ControlTypeId.REPEATABLE_SECTION;
					}
					return typeId;
				}
			},
			//        getDefaultControl: function() {
			//            return TypeDescription.getControlForArray(this.itemType().getTypeDescription());
			//        },
			removeAttribute: function removeAttribute(attributeName) {
				this.itemType(undefined);
			},
			schema: function schema() {
				var schema = this._super();

				if (this.itemType().isObject()) {
					var properties = {};
					_.each(this.attributes(), function (attribute) {
						properties[attribute.name()] = attribute.toJS();
					}, this);
					schema.items.properties = properties;
				}
				return schema;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 213 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var DataType = __webpack_require__(39),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return DataType.subClass({}, {
			init: function init(name, items, dataType) {
				var id = this.getTypeName();
				this._super(id, name, 'Enum', '', {
					enum: items
				});
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.ENUM;
			},
			isCompatible: function isCompatible(data) {
				return data.isEnum();
			},
			isEnum: function isEnum() {
				return true;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 214 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var DataType = __webpack_require__(39),
		    ko = __webpack_require__(1),
		    TypeDescription = __webpack_require__(13);
		//endregion

		return DataType.subClass({}, {
			init: function init(schema) {
				this._super(this.getTypeName(), 'Unknown', 'Unknown', '', schema);
				this.attributes = ko.observable([]);
			},
			getTypeDescription: function getTypeDescription() {
				return TypeDescription.UNKNOWN;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 215 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ParseStrategy = __webpack_require__(117),
		    DoNotResolveRefStrategy = __webpack_require__(116);
		//endregion

		var DEFAULT_DEPTH = 2;

		return ParseStrategy.subClass({}, {
			init: function init(depth) {
				this.depth = depth || DEFAULT_DEPTH;
				this.objectsCache = {};
			},
			/** @override */
			resolveReference: function resolveReference($ref, parser) {
				return parser._doResolveReference(parser.getObjectTypesRefs()[$ref], this);
			},
			/** @override */
			getObjectType: function getObjectType(schema, parser) {
				return this.createObjectType(schema, parser.getObjectTypes()[schema.$id].name(), parser);
			},
			/** @override */
			createObjectType: function createObjectType(schema, objectName, parser) {
				this.cacheObject(schema.$id);
				if (this.depth >= this.objectsCache[schema.$id]) {
					return parser._createObjectType(schema, objectName, this);
				} else {
					return parser._createObjectType(schema, objectName, new DoNotResolveRefStrategy());
				}
			},
			cacheObject: function cacheObject($id) {
				if (this.objectsCache[$id]) {
					this.objectsCache[$id]++;
				} else {
					this.objectsCache[$id] = 1;
				}
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 216 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		var StringType = __webpack_require__(111),
		    ObjectType = __webpack_require__(113);

		var identityObject = new ObjectType('IdentityBrowser', 'IdentityBrowser', []);
		var identityProperties = {
			id: new StringType(),
			title: new StringType(),
			firstName: new StringType(),
			lastName: new StringType(),
			type: new StringType(),
			email: new StringType(),
			mobile: new StringType()
		};

		for (var key in identityProperties) {
			/* istanbul ignore else */
			if (identityProperties.hasOwnProperty(key)) {
				identityObject.addAttribute(key, identityProperties[key]);
			}
		}

		return identityObject;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 217 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n<help-icon data-bind=\"visible: help().length > 0\" params=\"msg: help\"></help-icon>\n<textarea data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, style: parsedStyle},\n                    ckEditor: {\n                        value: $parent.getValueObservable(),\n                        readOnly: $parent.readOnly() || readonly(),\n                        disableUndo: $parent.isInBuilder,\n                        required: required,\n                        control: $parent\n                    }, handleEvents: $parent\"></textarea>\n<!-- /ko -->";

/***/ }),
/* 218 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    assert = __webpack_require__(59),
		    Value = __webpack_require__(15),
		    _ = __webpack_require__(0);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: '',
			ACCESSOR: '',
			createPropertyAction: function createPropertyAction(actionName, accessor) {
				return this.subClass({
					ACTION_NAME: actionName,
					ACCESSOR: accessor
				}, {
					init: function init(model, viewModel, scope, control) {
						this._super(model, viewModel, scope, control);
					}
				});
			}
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
				assert(this._class.ACCESSOR.length > 0, 'SetPropertyAction class is abstract');

				var defaultValue = control ? control.properties[this._class.ACCESSOR]() : null;

				this.value = new Value(model.value || {
					expression: defaultValue,
					controlResolver: {}
				}, viewModel, this.scope);
			},

			template: function template() {
				return 'valueAccessorEventTemplate';
			},

			execute: function execute(control) {
				control.properties[this._class.ACCESSOR](this.value.resolve(this.viewModel));
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					value: this.value.toJS()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 219 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlProperty = __webpack_require__(16),
		    msg = __webpack_require__(5);

		//endregion

		return ControlProperty.subClass({}, {
			value: 'IDENTITY_VALUE',
			label: msg.IDENTITY_VALUE,
			init: function init() {},
			getValue: function getValue(control) {
				return control.getIdentityValue();
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 220 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlProperty = __webpack_require__(16);
		var msg = __webpack_require__(5);
		var StyleTypeId = __webpack_require__(47);
		var _ = __webpack_require__(0);

		//endregion

		return ControlProperty.subClass({}, {
			value: 'HAS_CLASS',
			label: msg.HAS_CLASS,
			init: function init() {},
			template: function template() {
				return 'classValueAccessorTemplate';
			},
			params: 1,
			getValue: function getValue(control, className) {
				var style = _.find(control.styles(), function (s) {
					return s.type.name === StyleTypeId.CLASS_NAME.name;
				}, this);
				var classes = style.value().split(' ');
				return _.contains(classes, className);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 221 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlProperty = __webpack_require__(16);
		var msg = __webpack_require__(5);

		//endregion

		return ControlProperty.subClass({}, {
			value: 'IS_VALID',
			label: msg.IS_VALID,
			init: function init() {},
			getValue: function getValue(control) {
				control.viewModel.validateData();
				return control.isValid();
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 222 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlProperty = __webpack_require__(16);
		var msg = __webpack_require__(5);

		//endregion

		return ControlProperty.subClass({}, {
			value: 'SELECTED',
			label: msg.SELECTED,
			init: function init() {},
			getValue: function getValue(control) {
				var parent = control.viewModel.form().findControlAndParent(control.id).parent;
				var index = parent.controls().indexOf(control);
				return parent.properties.selectedPosition() === index;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 223 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlValueProperty = __webpack_require__(60);
		var msg = __webpack_require__(5);

		//endregion

		return ControlValueProperty.subClass({}, {
			value: 'VIDEO_SRC',
			label: msg.LABEL_SOURCE_URL,
			init: function init() {}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 224 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlValueProperty = __webpack_require__(60);
		var msg = __webpack_require__(5);

		//endregion

		return ControlValueProperty.subClass({}, {
			value: 'IMAGE_URL',
			label: msg.IMAGE_URL,
			init: function init() {}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 225 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlProperty = __webpack_require__(16),
		    msg = __webpack_require__(5);

		//endregion

		return ControlProperty.subClass({}, {
			value: 'OPTIONS',
			label: msg.OPTIONS,
			init: function init() {},
			getValue: function getValue(control) {
				return control.properties.computedOptions();
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 226 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlProperty = __webpack_require__(16),
		    _ = __webpack_require__(0),
		    msg = __webpack_require__(5);

		//endregion

		return ControlProperty.subClass({}, {
			value: 'INDEX',
			label: msg.INDEX,
			init: function init() {},
			getValue: function getValue(control) {
				return _.isUndefined(control.indexBeforeRemove) ? control.getParent().dataSource().indexOf(control) : control.indexBeforeRemove;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 227 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlProperty = __webpack_require__(16),
		    msg = __webpack_require__(5);

		//endregion

		return ControlProperty.subClass({}, {
			value: 'ROW_COUNT',
			label: msg.ROW_COUNT,
			init: function init() {},
			getValue: function getValue(control) {
				return control.getRows().length;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 228 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlProperty = __webpack_require__(16),
		    _ = __webpack_require__(0),
		    msg = __webpack_require__(5);

		//endregion

		return ControlProperty.subClass({}, {
			value: 'SELECTED_LABEL',
			label: msg.SELECTED_LABEL,
			init: function init() {},
			_findLabel: function _findLabel(control, value) {
				var selectedOption = _.find(control.properties.computedOptions(), function (option) {
					return option.value === value;
				});
				return selectedOption ? selectedOption.label : '';
			},
			getValue: function getValue(control) {
				var value = control.getControlValue();
				if (_.isArray(value)) {
					return _.map(value, function (val) {
						return this._findLabel(control, val);
					}, this);
				} else {
					return this._findLabel(control, value);
				}
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 229 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlProperty = __webpack_require__(16),
		    EventsId = __webpack_require__(14),
		    msg = __webpack_require__(5);

		//endregion

		return ControlProperty.subClass({}, {
			value: 'OUTCOME',
			label: msg.OUTCOME,
			eventTriggers: [EventsId.ON_SUBMIT.value],
			init: function init() {},
			getValue: function getValue(form) {
				return form.outcomeType;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 230 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlValueProperty = __webpack_require__(60);
		var msg = __webpack_require__(5);

		//endregion

		return ControlValueProperty.subClass({}, {
			value: 'MESSAGE',
			label: msg.MESSAGE,
			init: function init() {}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 231 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5),
		    UUID = __webpack_require__(17),
		    StringUtils = __webpack_require__(32),
		    _ = __webpack_require__(0);
		//endregion

		var tzoffset = new Date().getTimezoneOffset() * 60000; //offset in milliseconds
		function getISOString() {
			//Correct the time by the timezone offset, as the ISO String, that oj uses, is in UTC+0
			return new Date(Date.now() - tzoffset).toISOString();
		}

		function currentTime() {
			return getISOString().slice(10, 19);
		}

		function currentDate() {
			return getISOString().slice(0, 10);
		}

		var timeParseRegex = /(\d{4}-\d{2}-\d{2})?(T?\d{2}:\d{2}:\d{2})?/;

		function parseTime(timeString) {
			var matches = StringUtils._makeString(timeString).match(timeParseRegex);
			var time = {
				date: matches[1] || currentDate(),
				time: matches[2] || currentTime()
			};
			return new Date('' + time.date + time.time);
		}

		function applyToArray(array, applyFunction) {
			_.each(array, function (number) {
				if (_.isArray(number)) {
					applyToArray(number, applyFunction);
				} else {
					applyFunction(number);
				}
			});
		}

		function fixedNumber(number) {
			return parseFloat(number.toFixed(10));
		}

		var FunctionsMap = {
			'CREATE_UUID': {
				value: 'CREATE_UUID',
				label: msg.CREATE_UUID,
				resolve: function resolve() {
					return UUID.createUuid();
				},
				params: [],
				category: 'FUNCTIONS_OTHER'
			},
			'CURRENT_DATE': {
				value: 'CURRENT_DATE',
				label: msg.CURRENT_DATE,
				resolve: function resolve() {
					return currentDate();
				},
				params: [],
				category: 'FUNCTIONS_DATE'
			},
			'CURRENT_TIME': {
				value: 'CURRENT_TIME',
				label: msg.CURRENT_TIME,
				resolve: function resolve() {
					return currentTime();
				},
				params: [],
				category: 'FUNCTIONS_DATE'
			},
			'CURRENT_DATE_TIME': {
				value: 'CURRENT_DATE_TIME',
				label: msg.CURRENT_DATE_TIME,
				resolve: function resolve() {
					return getISOString().slice(0, 19);
				},
				params: [],
				category: 'FUNCTIONS_DATE'
			},
			'NOT': {
				value: 'NOT',
				label: msg.NOT,
				resolve: function resolve(booleanValue) {
					return !booleanValue;
				},
				params: [{
					type: 'BOOL'
				}],
				category: 'FUNCTIONS_LOGIC'
			},
			'TERNARY': {
				value: 'TERNARY',
				label: msg.INLINE_IF,
				resolve: function resolve(condition, ifValue, elseValue) {
					return condition ? ifValue : elseValue;
				},
				params: [{
					type: 'BOOL'
				}, {
					type: 'ANY'
				}, {
					type: 'ANY'
				}],
				category: 'FUNCTIONS_LOGIC'
			},
			'SIMPLE_SUM': {
				value: 'SIMPLE_SUM',
				label: msg.SUM,
				resolve: function resolve(a, b) {
					var valueA = parseFloat(a),
					    valueB = parseFloat(b);
					return fixedNumber(valueA + valueB);
				},
				params: [{
					type: 'NUMBER'
				}, {
					type: 'NUMBER'
				}],
				category: 'FUNCTIONS_MATH'
			},
			'SUM': {
				value: 'SUM',
				label: msg.SUMMATION,
				resolve: function resolve() {
					var sum = 0;
					applyToArray(arguments, function (number) {
						sum = fixedNumber(sum + parseFloat(number));
					});
					return sum;
				},
				multipleParams: true,
				params: [{
					type: 'NUMBER'
				}],
				category: 'FUNCTIONS_MATH'
			},
			'SUB': {
				value: 'SUB',
				label: msg.SUB,
				resolve: function resolve(a, b) {
					var valueA = parseFloat(a),
					    valueB = parseFloat(b);
					return fixedNumber(valueA - valueB);
				},
				params: [{
					type: 'NUMBER'
				}, {
					type: 'NUMBER'
				}],
				category: 'FUNCTIONS_MATH'
			},
			'MULTIPLY': {
				value: 'MULTIPLY',
				label: msg.MULTIPLY,
				resolve: function resolve() {
					var val = 1;
					applyToArray(arguments, function (number) {
						var value = parseFloat(number);
						val = fixedNumber(val * value);
					});
					return val;
				},
				multipleParams: true,
				params: [{
					type: 'NUMBER'
				}],
				category: 'FUNCTIONS_MATH'
			},
			'DIVISION': {
				value: 'DIVISION',
				label: msg.DIVISION,
				resolve: function resolve(a, b) {
					var valueA = parseFloat(a),
					    valueB = parseFloat(b);
					return fixedNumber(valueA / valueB);
				},
				params: [{
					type: 'NUMBER'
				}, {
					type: 'NUMBER'
				}],
				category: 'FUNCTIONS_MATH'
			},
			'INTEGER_DIVISION': {
				value: 'INTEGER_DIVISION',
				label: msg.INTEGER_DIVISION,
				resolve: function resolve(a, b) {
					var val = FunctionsMap.DIVISION.resolve(a, b);
					if (val < 0) {
						return Math.ceil(val);
					}
					return Math.floor(val);
				},
				params: [{
					type: 'NUMBER'
				}, {
					type: 'NUMBER'
				}],
				category: 'FUNCTIONS_MATH'
			},
			'MOD': {
				value: 'MOD',
				label: msg.MODULO,
				resolve: function resolve(a, b) {
					var valueA = parseFloat(a),
					    valueB = parseFloat(b);
					return fixedNumber(valueA % valueB);
				},
				params: [{
					type: 'NUMBER'
				}, {
					type: 'NUMBER'
				}],
				category: 'FUNCTIONS_MATH'
			},
			'MIN': {
				value: 'MIN',
				label: msg.MIN,
				resolve: function resolve() {
					var min = Number.MAX_VALUE;
					applyToArray(arguments, function (number) {
						min = Math.min(min, number);
					});
					return min;
				},
				multipleParams: true,
				params: [{
					type: 'NUMBER'
				}],
				category: 'FUNCTIONS_ARRAY'
			},
			'MAX': {
				value: 'MAX',
				label: msg.MAX,
				resolve: function resolve() {
					var max = Number.MIN_VALUE;
					applyToArray(arguments, function (number) {
						max = Math.max(max, number);
					});
					return max;
				},
				multipleParams: true,
				params: [{
					type: 'NUMBER'
				}],
				category: 'FUNCTIONS_ARRAY'
			},
			'COUNT': {
				value: 'COUNT',
				label: msg.COUNT,
				resolve: function resolve() {
					var count = 0;
					applyToArray(arguments, function () {
						count++;
					});
					return count;
				},
				multipleParams: true,
				allowComplex: true,
				params: [{
					type: 'ANY'
				}],
				category: 'FUNCTIONS_ARRAY'
			},
			'AVERAGE': {
				value: 'AVERAGE',
				label: msg.AVERAGE,
				resolve: function resolve() {
					var sum = 0,
					    count = 0;
					applyToArray(arguments, function (number) {
						var value = parseFloat(number);
						sum = fixedNumber(sum + value);
						count++;
					});
					if (count > 0) {
						return fixedNumber(sum / count);
					}
					return 0;
				},
				multipleParams: true,
				params: [{
					type: 'NUMBER'
				}],
				category: 'FUNCTIONS_ARRAY'
			},
			'CONCAT': {
				value: 'CONCAT',
				label: msg.CONCAT,
				resolve: function resolve() {
					var text = '';
					applyToArray(arguments, function (moreText) {
						text += moreText;
					});
					return text;
				},
				multipleParams: true,
				params: [{
					type: 'STRING'
				}],
				category: 'FUNCTIONS_TEXT'
			},
			'SPLIT': {
				value: 'SPLIT',
				label: msg.SPLIT,
				resolve: function resolve(text, splitter) {
					return StringUtils._makeString(text).split(StringUtils._makeString(splitter));
				},
				params: [{
					type: 'STRING'
				}, {
					type: 'STRING'
				}],
				category: 'FUNCTIONS_TEXT'
			},
			'JOIN': {
				value: 'JOIN',
				label: msg.JOIN,
				resolve: function resolve(array, joint) {
					if (!_.isArray(array)) {
						array = [array];
					}
					return array.join(StringUtils._makeString(joint));
				},
				params: [{
					type: 'STRING'
				}, {
					type: 'STRING'
				}],
				category: 'FUNCTIONS_TEXT'
			},
			'TO_LOWERCASE': {
				value: 'TO_LOWERCASE',
				label: msg.TO_LOWERCASE,
				resolve: function resolve(a) {
					return StringUtils._makeString(a).toLowerCase();
				},
				params: [{
					type: 'STRING'
				}],
				category: 'FUNCTIONS_TEXT'
			},
			'TO_UPPERCASE': {
				value: 'TO_UPPERCASE',
				label: msg.TO_UPPERCASE,
				resolve: function resolve(a) {
					return StringUtils._makeString(a).toUpperCase();
				},
				params: [{
					type: 'STRING'
				}],
				category: 'FUNCTIONS_TEXT'
			},
			'LENGTH': {
				value: 'LENGTH',
				label: msg.LENGTH,
				resolve: function resolve(a) {
					return _.size(StringUtils._makeString(a));
				},
				params: [{
					type: 'STRING'
				}],
				category: 'FUNCTIONS_TEXT'
			},
			'TRIM': {
				value: 'TRIM',
				label: msg.TRIM,
				resolve: function resolve(a) {
					return StringUtils.trim(a);
				},
				params: [{
					type: 'STRING'
				}],
				category: 'FUNCTIONS_TEXT'
			},
			'CONTAINS': {
				value: 'CONTAINS',
				label: msg.CONTAINS,
				resolve: function resolve(a, b) {
					if (!a || !a.indexOf) {
						a = StringUtils._makeString(a);
					}
					return a.indexOf(b) > -1;
				},
				params: [{
					type: 'STRING'
				}, {
					type: 'STRING'
				}],
				category: 'FUNCTIONS_TEXT'
			},
			'REPLACE': {
				value: 'REPLACE',
				label: msg.REPLACE,
				resolve: function resolve(str, search, replacement) {
					str = (str || '').toString();
					search = new RegExp((search || '').toString(), 'g');
					replacement = (replacement || '').toString();
					return str.replace(search, replacement);
				},
				params: [{
					type: 'STRING'
				}, {
					type: 'STRING'
				}, {
					type: 'STRING'
				}],
				category: 'FUNCTIONS_TEXT'
			},
			'DURATION_MINUTES': {
				value: 'DURATION_MINUTES',
				label: msg.DURATION_MINUTES,
				resolve: function resolve(a, b) {
					var date1 = parseTime(a);
					var date2 = parseTime(b);
					var timeDiff = Math.abs(date2.getTime() - date1.getTime());
					return Math.ceil(timeDiff / (1000 * 60)); //It makes more sense to return as a number, so it can be used in computations
				},
				params: [{
					type: 'DATETIME'
				}, {
					type: 'DATETIME'
				}],
				category: 'FUNCTIONS_INTERVAL'
			},
			'DURATION_HOURS': {
				value: 'DURATION_HOURS',
				label: msg.DURATION_HOURS,
				resolve: function resolve(a, b) {
					var date1 = parseTime(a);
					var date2 = parseTime(b);
					var timeDiff = Math.abs(date2.getTime() - date1.getTime());
					return Math.ceil(timeDiff / (1000 * 3600)); //It makes more sense to return as a number, so it can be used in computations
				},
				params: [{
					type: 'DATETIME'
				}, {
					type: 'DATETIME'
				}],
				category: 'FUNCTIONS_INTERVAL'
			},
			'DURATION_DAYS': {
				value: 'DURATION_DAYS',
				label: msg.DURATION_DAYS,
				resolve: function resolve(a, b) {
					var date1 = new Date(a);
					var date2 = new Date(b);
					var timeDiff = Math.abs(date2.getTime() - date1.getTime());
					return Math.ceil(timeDiff / (1000 * 3600 * 24)); //It makes more sense to return as a number, so it can be used in computations
				},
				params: [{
					type: 'DATETIME'
				}, {
					type: 'DATETIME'
				}],
				category: 'FUNCTIONS_INTERVAL'
			},
			'DURATION_MONTHS': {
				value: 'DURATION_MONTHS',
				label: msg.DURATION_MONTHS,
				resolve: function resolve(a, b) {
					var date1 = new Date(a);
					var date2 = new Date(b);
					var d1Y = date1.getFullYear();
					var d2Y = date2.getFullYear();
					var d1M = date1.getMonth();
					var d2M = date2.getMonth();
					return Math.abs(d2M + 12 * d2Y - (d1M + 12 * d1Y)); //It makes more sense to return as a number, so it can be used in computations
				},
				params: [{
					type: 'DATETIME'
				}, {
					type: 'DATETIME'
				}],
				category: 'FUNCTIONS_INTERVAL'
			},
			'DURATION_YEARS': {
				value: 'DURATION_YEARS',
				label: msg.DURATION_YEARS,
				resolve: function resolve(a, b) {
					var date1 = new Date(a);
					var date2 = new Date(b);
					return Math.abs(date2.getFullYear() - date1.getFullYear()); //It makes more sense to return as a number, so it can be used in computations
				},
				params: [{
					type: 'DATETIME'
				}, {
					type: 'DATETIME'
				}],
				category: 'FUNCTIONS_INTERVAL'
			}
		};

		return FunctionsMap;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 232 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    assert = __webpack_require__(59);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: '',
			ACCESSOR: '',
			VALUE: false,
			createStateAction: function createStateAction(actionName, accessor, value) {
				return this.subClass({
					ACTION_NAME: actionName,
					ACCESSOR: accessor,
					VALUE: value
				}, {
					init: function init(model, viewModel, scope, control) {
						this._super(model, viewModel, scope, control);
					}
				});
			}
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
				assert(this._class.ACCESSOR.length > 0, 'SetPropertyAction class is abstract');
			},

			execute: function execute(control) {
				control.properties[this._class.ACCESSOR](this._class.VALUE);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 233 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Value = __webpack_require__(15),
		    SetValueAction = __webpack_require__(48),
		    ko = __webpack_require__(1);

		//endregion

		return SetValueAction.subClass({
			ACTION_NAME: 'LABEL_BINDING'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);

				var defaultLabel = control ? ko.utils.unwrapObservable(control.properties.defaultLabel) : null;
				var controlId = control ? control.id : null;

				this.value = new Value(model.value || {
					expression: defaultLabel,
					controlResolver: {},
					controlId: controlId
				}, viewModel, this.scope);
			},

			execute: function execute(control) {
				control.setLabelVal(this.value.resolve(this.viewModel));
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 234 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SetValueAction = __webpack_require__(48);

		//endregion

		return SetValueAction.subClass({
			ACTION_NAME: 'IMAGE_URL'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 235 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SetValueAction = __webpack_require__(48);

		//endregion

		return SetValueAction.subClass({
			ACTION_NAME: 'VIDEO_SRC'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 236 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'SELECT'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			},

			execute: function execute(control) {
				var parent = this.viewModel.form().findControlAndParent(control.id).parent;
				var newIndex = parent.controls().indexOf(control);
				parent.properties.selectedPosition(newIndex);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 237 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'REFRESH_GLOBAL_CONNECTOR'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
				this.value = ko.observable(model.value || '');
			},

			template: function template() {
				return 'globalConnectorSelectTemplate';
			},

			execute: function execute(control) {
				var self = this;
				var id = this.value()[0];
				var connector = _.find(control.globalConnectors(), function (c) {
					return c.id === id;
				});
				return connector.execute().then(function () {
					self.viewModel.dependenciesExtension.reEvaluateOnScope(id);
				});
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					value: this.value()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 238 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SetValueAction = __webpack_require__(48);

		//endregion

		return SetValueAction.subClass({
			ACTION_NAME: 'MESSAGE'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 239 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'REFRESH_CONNECTOR'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			},

			execute: function execute(control) {
				control.refreshConnector();
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 240 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'ADD_ROW'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			},

			execute: function execute(control) {
				control.addRow();
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 241 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    Value = __webpack_require__(15),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'REPEATABLE_VALUE'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);

				var controlId = control ? control.id : null;

				this.value = new Value(model.value || {
					expression: '',
					controlResolver: {},
					controlId: controlId
				}, viewModel, this.scope);

				this.mapping = ko.observable(model.mapping || {});
			},

			component: function component() {
				return 'repeatable-value-mapping';
			},

			execute: function execute(control) {

				//Resolve the value
				var value = this.value.resolve(this.viewModel);

				/**
     * mapping is [controlId]:newValuePropertyName
     * valueMapper is [controlBinding]:newValuePropertyName
     * We need to do it this way, to provide multiple bindings to different controls
     */
				var bindings = {};
				_.each(this.mapping(), function (mapped, key) {
					if (key === control.id) {
						bindings[control.properties.labelBinding()] = mapped;
					} else {
						var childControl = control.findControl(key);
						if (childControl) {
							bindings[childControl.properties.binding()] = mapped;
						}
					}
				});

				/**
     * value is [newValuePropertyName]:value
     * mappedValue is [controlBinding]:value
     */
				var mappedValue = [];
				_.each(value, function (entry) {
					var mappedEntry = {};
					//For each property in the entry, get the mapped binding
					_.each(entry, function (v, key) {
						_.each(bindings, function (mapped, binding) {
							if (mapped === key) {
								mappedEntry[binding] = v;
							}
						});
					});
					mappedValue.push(mappedEntry);
				});

				control.setValue(mappedValue);
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					value: this.value.toJS(),
					mapping: this.mapping()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 242 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'SET_INVALID'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
				this.summary = ko.observable(model.summary || '');
				this.detail = ko.observable(model.detail || '');
			},

			template: function template() {
				return 'errorValueEventTemplate';
			},

			execute: function execute(control) {
				control.setError(this.summary(), this.detail());
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					summary: this.summary(),
					detail: this.detail()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 243 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'CLEAR_VALUE'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			},

			execute: function execute(control) {
				control.setValue('');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 244 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    Value = __webpack_require__(15),
		    ko = __webpack_require__(1),
		    OptionsType = __webpack_require__(41),
		    _ = __webpack_require__(0);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'OPTIONS'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);

				var controlId = control ? control.id : null;

				this.value = new Value(model.value || {
					expression: '',
					controlResolver: {},
					controlId: controlId
				}, viewModel, this.scope);

				this.mappingLabel = ko.observable(model.mappingLabel || '');
				this.mappingValue = ko.observable(model.mappingValue || '');
			},

			component: function component() {
				return 'repeatable-value-mapping';
			},

			execute: function execute(control) {
				//Resolve the value
				var value = this.value.resolve(this.viewModel);
				var properties = {
					optionsNames: '',
					optionsValues: '',
					defaultValue: control.properties.optionsFeed().properties.defaultValue
				};

				_.each(value, function (entry, i) {
					var label = entry,
					    value = entry;
					if (_.isObject(entry)) {
						label = entry[this.mappingLabel()] || entry.label;
						value = entry[this.mappingValue()] || entry.value;
					}
					if (i === 0) {
						properties.optionsNames = label;
						properties.optionsValues = value;
					} else {
						properties.optionsNames += '\n' + label;
						properties.optionsValues += '\n' + value;
					}
				}, this);

				var context = this.viewModel.context;
				var newOptionsResolver = context.optionsResolverFactory.createResolver(OptionsType.STATIC.value, context, properties);
				control.properties.optionsFeed().optionsResolver(newOptionsResolver);
				control.properties.optionsFeed().properties = newOptionsResolver.properties;
				control.properties.optionsFeed().type(OptionsType.STATIC);
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					value: this.value.toJS(),
					mappingLabel: this.mappingLabel(),
					mappingValue: this.mappingValue()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 245 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    Value = __webpack_require__(15),
		    ValueTypes = __webpack_require__(61),
		    _ = __webpack_require__(0);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'SET_DATA'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);

				this.dataAccessor = new Value({
					expression: model.dataAccessor || '',
					type: ValueTypes.DATA.value,
					controlResolver: {},
					controlId: null
				}, viewModel, this.scope);

				this.value = new Value(model.value || {
					expression: '',
					controlResolver: {},
					controlId: null
				}, viewModel, this.scope);
			},

			template: function template() {
				return 'setDataEventTemplate';
			},

			execute: function execute(control) {
				var dataName = this.dataAccessor.expression(),
				    newValue = this.value.resolve(this.viewModel);

				this.viewModel.context.payload().setBindingValue(dataName, newValue);
				this.viewModel.context.payloadContext.setValue(dataName, newValue);
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					dataAccessor: this.dataAccessor.expression(),
					value: this.value.toJS()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 246 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'PREVENT_SUBMIT'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			},

			execute: function execute(form) {
				form.canceledOutcome = true;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 247 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'TRIGGER_OUTCOME'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);

				this.outcome = ko.observable(model.outcome || '');
			},

			template: function template() {
				return 'outcomeValueEventTemplate';
			},

			execute: function execute(control) {
				this.viewModel.context.config().outcomeHandler.triggerOutcome(this.outcome());
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					outcome: this.outcome()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 248 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var HideColumnEventAction = __webpack_require__(121);

		//endregion

		return HideColumnEventAction.subClass({
			ACTION_NAME: 'SHOW_COLUMN'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
				this.hideBoolean = false;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 249 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(8), __webpack_require__(1), __webpack_require__(0)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (exports, _EventAction, _knockout, _underscore) {
	'use strict';

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _EventAction2 = _interopRequireDefault(_EventAction);

	var _knockout2 = _interopRequireDefault(_knockout);

	var _underscore2 = _interopRequireDefault(_underscore);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	var ChangePresentationAction = _EventAction2.default.subClass({
		ACTION_NAME: 'CHANGE_PRESENTATION'
	}, {
		init: function init(model, viewModel, scope, control) {
			this._super(model, viewModel, scope, control);
			this.presentation = _knockout2.default.observable(model.presentation || '');
		},
		template: function template() {
			return 'presentationSelectTemplate';
		},
		execute: function execute(control) {
			//This will work for both the FormReferenceControl and the Presentation
			return control.changePresentation(this.presentation()[0]);
		},
		toJS: function toJS() {
			return _underscore2.default.extend({}, this._super(), {
				presentation: this.presentation()
			});
		}
	});

	exports.default = ChangePresentationAction;
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 250 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: 'REMOVE_ROW'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			},

			execute: function execute(control) {
				control.getParent().removeRow(control);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 251 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    FormsLogger = __webpack_require__(20),
		    _ = __webpack_require__(0);
		//endregion

		function addValueBinding(editor, valueObservable, control) {
			//make sure that the valueObservable is an observable...
			if (!ko.isObservable(valueObservable)) {
				valueObservable = ko.observable(valueObservable);
			}
			//set the starting data
			editor.setData('' + valueObservable());

			//This are needed to avoid triggering changes with every keypress, which was resetting the cursor and wreaking havoc
			var hasFocus = false;
			var isDirty = false;
			editor.on('focus', function () {
				hasFocus = true;
				//Trigger ON_FOCUS?
			});
			editor.on('blur', function () {
				hasFocus = false;
				if (isDirty) {
					// if the editor changed while focused, save the changes at the end
					control.context.eventsQueue.clearDirtyControl(control);
					valueObservable(editor.getData());
					isDirty = false;
				}
				//Trigger ON_BLUR?
			});
			editor.on('change', function () {
				if (!hasFocus) {
					//if the editor is not focus, we can safely change the data
					valueObservable(editor.getData());
				} else {
					//otherwise, set as dirty so we save all together after the fact
					isDirty = true;
					control.context.eventsQueue.setDirtyControl(control);
				}
			});
			//Update the editor whenever the data changes
			editor.subscriptions.push(valueObservable.subscribe(function (newValue) {
				editor.setData('' + newValue);
			}));
		}

		function addReadOnlyBinding(editor, readOnly) {
			//make sure that the valueObservable is an observable...
			if (!ko.isObservable(readOnly)) {
				readOnly = ko.observable(readOnly);
			}
			setTimeout(function () {
				if (editor.editable()) {
					editor.setReadOnly(readOnly());
				}
			});

			editor.subscriptions.push(readOnly.subscribe(function (newValue) {
				editor.setReadOnly(newValue);
			}));
		}

		function initCkEditor(ckEditor) {
			if (ckEditor) {
				ckEditor.config.removePlugins = 'about,maximize';
				return true;
			}
		}

		return function () {
			ko.bindingHandlers.ckEditor = {
				init: function init(element, updatedObservable, allBindings) {
					//Delay the initialization of ckEditor until the rich text editor is needed
					// this makes it possible to delay the loading of ckeditor.js
					if (initCkEditor(window['CKEDITOR'])) {
						var editor = window['CKEDITOR'].replace(element);
						if (updatedObservable().disableUndo) {
							editor.config.removePlugins += ',undo';
						}
						var control = updatedObservable().control;
						editor.subscriptions = [];
						addValueBinding(editor, updatedObservable().value, control);
						addReadOnlyBinding(editor, updatedObservable().readOnly);

						ko.utils.domNodeDisposal.addDisposeCallback(element, function () {
							_.each(editor.subscriptions, function (sub) {
								sub.dispose();
							});
							editor.removeAllListeners();
							editor.destroy();
						});
					} else {
						FormsLogger.getLogger().error('Attempted to use RichTextEditor without loading');
					}
				}
			};
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 252 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var InputControlDefinition = __webpack_require__(110),
		    ko = __webpack_require__(1),
		    TypeCatalog = __webpack_require__(24);
		//endregion

		return InputControlDefinition.subClass({}, {

			init: function init(id, reference, formHandler, controlTemplate) {
				this._super(id, null, controlTemplate);
				this.reference = reference;
				this.formHandler = formHandler;
				var referenceProperties = this.reference.get();
				this.form = this.formHandler.getResolvedControl(referenceProperties.formId, referenceProperties.presentationId);
				this.dataType = TypeCatalog.parseTypePartially('definition', this.form.definition);
			},
			properties: function properties() {
				return ko.utils.extend(this._super(), {
					reference: this.reference,
					form: this.form,
					dataType: this.dataType
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 253 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);

		//endregion

		return Class.subClass({}, {
			init: function init(icon, hoverIcon, activeIcon) {
				this.value = icon;
				this.hover = hoverIcon;
				this.active = activeIcon;
			},
			getDataValue: function getDataValue() {
				return this.value;
			},
			getDataHover: function getDataHover() {
				return this.hover;
			},
			getDataActive: function getDataActive() {
				return this.active;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 254 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    DefaultFormHandler = __webpack_require__(122),
		    DefaultCssHandler = __webpack_require__(123),
		    DefaultTypeHandler = __webpack_require__(124),
		    DefaultRestHandler = __webpack_require__(256),
		    DefaultOutcomeHandler = __webpack_require__(127),
		    DependencyType = __webpack_require__(269),
		    TypeCatalog = __webpack_require__(24),
		    DefaultConnectorHandler = __webpack_require__(270),
		    DefaultTranslationsHandler = __webpack_require__(82),
		    _ = __webpack_require__(0);
		//endregion

		return Class.subClass({}, {
			init: function init(config) {
				config = config || {};
				var unwrappedReadOnly = ko.utils.unwrapObservable(config.readOnly); // If config.readOnly is itself a function then it should be unwrap, otherwise it keeps on wrapping in observable.
				this._initHandlers(config);
				this.selectedMedia = config.selectedMedia;
				this.convertJSON = config.convertJSON;
				this.readOnly = ko.observable(unwrappedReadOnly);
				this.domIdPrefix = config.domIdPrefix || '';
			},

			_initHandlers: function _initHandlers(config) {
				this.formHandler = this.isUndefined(config.formHandler);
				this.cssHandler = this.isUndefined(config.cssHandler);
				this.typeHandler = this.isUndefined(config.typeHandler);
				this.outcomeHandler = this.isUndefined(config.outcomeHandler);
				this.connectorHandler = this.isUndefined(config.connectorHandler);
				this.screenflowHandler = this.isUndefined(config.screenflowHandler);
				this.restHandler = this.isUndefined(config.restHandler);
				this.translationsHandler = this.isUndefined(config.translationsHandler);

				_.defaults(this.formHandler, DefaultFormHandler.create());
				_.defaults(this.cssHandler, DefaultCssHandler.create());
				_.defaults(this.typeHandler, DefaultTypeHandler.create());
				_.defaults(this.connectorHandler, DefaultConnectorHandler.create());
				_.defaults(this.restHandler, DefaultRestHandler.create());
				_.defaults(this.outcomeHandler, DefaultOutcomeHandler.create());
				_.defaults(this.translationsHandler, DefaultTranslationsHandler.create());

				this.formHandler.setContext(this);
				this.cssHandler.setContext(this);
				this.typeHandler.setContext(this);
				TypeCatalog.initTypes();
				TypeCatalog.typeHandler = this.typeHandler;

				this.connectorHandler.setContext(this);
				this.restHandler.setContext(this);
				this.translationsHandler.setContext(this);
			},

			isUndefined: function isUndefined(handler) {
				if (!handler) {
					return {};
				}
				return handler;
			},
			resolveDependencies: function resolveDependencies(dependencies) {
				_.each(dependencies, function (dependency) {
					var type = DependencyType.fromType(dependency.type);
					this[type.handler].addResolvedControl(dependency.object);
				}, this);
			},
			toJS: function toJS() {
				return {
					formHandler: this.formHandler.toJS(),
					cssHandler: this.cssHandler.toJS(),
					typeHandler: this.typeHandler.toJS(),
					translationsHandler: this.translationsHandler.toJS(),
					selectedMedia: this.selectedMedia
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 255 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);
		//endregion

		/** @interface
   * Subclass Handler.js and implement every abstract operation in your particular Handler
   * */
		return Class.subClass({}, {
			init: function init(id) {
				this._id = id;
			},

			/** @abstract
    * @param {int} start: The start index
    * @param {int} end: The end index
    * @return Promise (the list of controls from start to end).
    * This list should contain a preview of the controls with only this basic information: id, name, icon;
    * */
			listControls: function listControls(start, end) {
				throw new Error('This function must be overridden');
			},

			/** @abstract
    * @param {string} id: The id of the control
    * @return Promise (The full model of the control with the provided id).
    *         Promise.then doesn't return undefined. If the form is not there, it returns an empty Object {}
    * */
			getControl: function getControl(id) {
				throw new Error('This function must be overridden');
			},

			/** @abstract
    * @param {string} id: The id of the control
    * @return The full model of the control with the provided id. It doesn't return a Promise object. 
    *         It doesn't return undefined. If the form is not there, it returns an empty Object {}
    * */
			getResolvedControl: function getResolvedControl(id) {
				throw new Error('This function must be overridden');
			},

			/** @abstract
    * @param {string} control: The full model of the control. It goes to the server if necessary.
    * */
			addOrUpdateControl: function addOrUpdateControl(control) {
				throw new Error('This function must be overridden');
			},

			/** @abstract
    * @param {string} control: The full model of the control. It does it immediately without going to the server
    * */
			addResolvedControl: function addResolvedControl(control) {
				throw new Error('This function must be overridden');
			},

			/** @abstract
    * @param {string} id: The id of the control to remove
    * */
			removeControl: function removeControl(id) {
				throw new Error('This function must be overridden');
			},

			/** @abstract
    * @param {string} text: The text to search across all controls
    * @return Promise (the list of controls which name attribute contains the provided text)
    * */
			search: function search(text) {
				throw new Error('This function must be overridden');
			},

			toJS: function toJS() {
				return this._id;
			}

		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 256 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(62), __webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_typeof2, _promise) {
	'use strict';

	var _typeof3 = _interopRequireDefault(_typeof2);

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise, window */

		//region dependencies

		var ContextualHandler = __webpack_require__(33),
		    msg = __webpack_require__(5),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2);
		//endregion

		var url = function () {
			/* istanbul ignore if */
			if (!window.location.origin) {
				window.location.origin = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : '');
			}
			return window.location.origin;
		}();

		var getJWTCookie = function getJWTCookie() {
			var matchStr = '(?:^|; )' + encodeURIComponent('jwt') + '=([^;]*)';
			var jwtCookie = new RegExp(matchStr).exec(document.cookie);

			return jwtCookie ? jwtCookie[1] : null;
		};

		var DefaultRestHandler = ContextualHandler.subClass({}, {
			init: function init(id) {
				this._super(id);
				this.restBaseUrl = url + '/bpm/api/4.0/';
			},
			getAuthInfo: function getAuthInfo() {
				var jwtCookie = getJWTCookie();

				if (jwtCookie) {
					return 'Bearer ' + jwtCookie;
				} else {
					return null;
				}
			},
			execute: function execute(rest, params) {
				var url = this.restBaseUrl + rest.name;
				var authInfo = this.getAuthInfo();

				_.defaults(rest, {
					type: 'GET'
				});

				/* istanbul ignore next */
				return new _promise2.default(function (resolve, reject) {
					$.ajax({
						url: url,
						type: rest.type,
						dataType: 'json',
						data: params,
						traditional: true,
						beforeSend: function beforeSend(xhr) {
							xhr.setRequestHeader('content-type', 'application/json; charset=utf-8');

							/* istanbul ignore else */
							if (authInfo) {
								xhr.setRequestHeader('Authorization', authInfo);
							}
						},
						xhrFields: {
							withCredentials: true
						},
						success: function success(response) {
							resolve(response[rest.optionsListBinding]);
						},
						error: function error(response) {
							if ((typeof response === 'undefined' ? 'undefined' : (0, _typeof3.default)(response)) === 'object' && response.title) {
								reject(response.title, response.detail);
							} else {
								reject(msg.FAILED_TO_FETCH_REST);
							}
						}
					});
				});
			}
		});

		return {
			create: function create() {
				return new DefaultRestHandler('DefaultRestHandler');
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 257 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(258), __esModule: true };

/***/ }),
/* 258 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(94);
__webpack_require__(104);
module.exports = __webpack_require__(79).f('iterator');


/***/ }),
/* 259 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(260), __esModule: true };

/***/ }),
/* 260 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(261);
__webpack_require__(93);
__webpack_require__(267);
__webpack_require__(268);
module.exports = __webpack_require__(18).Symbol;


/***/ }),
/* 261 */
/***/ (function(module, exports, __webpack_require__) {



// ECMAScript 6 symbols shim
var global = __webpack_require__(11);
var has = __webpack_require__(31);
var DESCRIPTORS = __webpack_require__(30);
var $export = __webpack_require__(36);
var redefine = __webpack_require__(97);
var META = __webpack_require__(262).KEY;
var $fails = __webpack_require__(44);
var shared = __webpack_require__(71);
var setToStringTag = __webpack_require__(56);
var uid = __webpack_require__(55);
var wks = __webpack_require__(12);
var wksExt = __webpack_require__(79);
var wksDefine = __webpack_require__(80);
var enumKeys = __webpack_require__(263);
var isArray = __webpack_require__(264);
var anObject = __webpack_require__(22);
var isObject = __webpack_require__(29);
var toIObject = __webpack_require__(37);
var toPrimitive = __webpack_require__(68);
var createDesc = __webpack_require__(54);
var _create = __webpack_require__(98);
var gOPNExt = __webpack_require__(265);
var $GOPD = __webpack_require__(266);
var $DP = __webpack_require__(28);
var $keys = __webpack_require__(69);
var gOPD = $GOPD.f;
var dP = $DP.f;
var gOPN = gOPNExt.f;
var $Symbol = global.Symbol;
var $JSON = global.JSON;
var _stringify = $JSON && $JSON.stringify;
var PROTOTYPE = 'prototype';
var HIDDEN = wks('_hidden');
var TO_PRIMITIVE = wks('toPrimitive');
var isEnum = {}.propertyIsEnumerable;
var SymbolRegistry = shared('symbol-registry');
var AllSymbols = shared('symbols');
var OPSymbols = shared('op-symbols');
var ObjectProto = Object[PROTOTYPE];
var USE_NATIVE = typeof $Symbol == 'function';
var QObject = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function () {
  return _create(dP({}, 'a', {
    get: function () { return dP(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (it, key, D) {
  var protoDesc = gOPD(ObjectProto, key);
  if (protoDesc) delete ObjectProto[key];
  dP(it, key, D);
  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function (tag) {
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D) {
  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if (has(AllSymbols, key)) {
    if (!D.enumerable) {
      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
      D = _create(D, { enumerable: createDesc(0, false) });
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P) {
  anObject(it);
  var keys = enumKeys(P = toIObject(P));
  var i = 0;
  var l = keys.length;
  var key;
  while (l > i) $defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P) {
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key) {
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
  it = toIObject(it);
  key = toPrimitive(key, true);
  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
  var D = gOPD(it, key);
  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it) {
  var names = gOPN(toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
  var IS_OP = it === ObjectProto;
  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if (!USE_NATIVE) {
  $Symbol = function Symbol() {
    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function (value) {
      if (this === ObjectProto) $set.call(OPSymbols, value);
      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString() {
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f = $defineProperty;
  __webpack_require__(126).f = gOPNExt.f = $getOwnPropertyNames;
  __webpack_require__(81).f = $propertyIsEnumerable;
  __webpack_require__(125).f = $getOwnPropertySymbols;

  if (DESCRIPTORS && !__webpack_require__(51)) {
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function (name) {
    return wrap(wks(name));
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });

for (var es6Symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);

for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function (key) {
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');
    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;
  },
  useSetter: function () { setter = true; },
  useSimple: function () { setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it) {
    var args = [it];
    var i = 1;
    var replacer, $replacer;
    while (arguments.length > i) args.push(arguments[i++]);
    $replacer = replacer = args[1];
    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
    if (!isArray(replacer)) replacer = function (key, value) {
      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
      if (!isSymbol(value)) return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(27)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);


/***/ }),
/* 262 */
/***/ (function(module, exports, __webpack_require__) {

var META = __webpack_require__(55)('meta');
var isObject = __webpack_require__(29);
var has = __webpack_require__(31);
var setDesc = __webpack_require__(28).f;
var id = 0;
var isExtensible = Object.isExtensible || function () {
  return true;
};
var FREEZE = !__webpack_require__(44)(function () {
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function (it) {
  setDesc(it, META, { value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  } });
};
var fastKey = function (it, create) {
  // return primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function (it, create) {
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY: META,
  NEED: false,
  fastKey: fastKey,
  getWeak: getWeak,
  onFreeze: onFreeze
};


/***/ }),
/* 263 */
/***/ (function(module, exports, __webpack_require__) {

// all enumerable object keys, includes symbols
var getKeys = __webpack_require__(69);
var gOPS = __webpack_require__(125);
var pIE = __webpack_require__(81);
module.exports = function (it) {
  var result = getKeys(it);
  var getSymbols = gOPS.f;
  if (getSymbols) {
    var symbols = getSymbols(it);
    var isEnum = pIE.f;
    var i = 0;
    var key;
    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);
  } return result;
};


/***/ }),
/* 264 */
/***/ (function(module, exports, __webpack_require__) {

// 7.2.2 IsArray(argument)
var cof = __webpack_require__(46);
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};


/***/ }),
/* 265 */
/***/ (function(module, exports, __webpack_require__) {

// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = __webpack_require__(37);
var gOPN = __webpack_require__(126).f;
var toString = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return gOPN(it);
  } catch (e) {
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};


/***/ }),
/* 266 */
/***/ (function(module, exports, __webpack_require__) {

var pIE = __webpack_require__(81);
var createDesc = __webpack_require__(54);
var toIObject = __webpack_require__(37);
var toPrimitive = __webpack_require__(68);
var has = __webpack_require__(31);
var IE8_DOM_DEFINE = __webpack_require__(96);
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = __webpack_require__(30) ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};


/***/ }),
/* 267 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(80)('asyncIterator');


/***/ }),
/* 268 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(80)('observable');


/***/ }),
/* 269 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Enum = __webpack_require__(112),
		    _ = __webpack_require__(0);
		//endregion

		return Enum.subClass({
			FORM: {
				type: 'FORM',
				handler: 'formHandler'
			},
			STYLESHEET: {
				type: 'STYLESHEET',
				handler: 'cssHandler'
			},
			BUSINESS_TYPE: {
				type: 'BUSINESS_TYPE',
				handler: 'typeHandler'
			},

			fromType: function fromType(type) {
				var key = _.find(_.keys(this), function (key) {
					return key === type;
				});
				return this[key];
			}
		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 270 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */

		//region dependencies

		var ContextualHandler = __webpack_require__(33),
		    $ = __webpack_require__(2);
		//endregion

		var DefaultConnectorHandler = ContextualHandler.subClass({}, {
			init: function init(id) {
				this._super(id);
				this._connectors = [];
				this._resources = [];
				this._operations = [];
				this._operationDefinitions = [];
			},
			listConnectors: function listConnectors() {
				return _promise2.default.resolve(this._connectors);
			},
			listResources: function listResources(connectorId) {
				var resources = [];
				$.each(this._resources, function (i, resource) {
					if (resource.connectorId === connectorId) {
						resources.push(resource);
					}
				});
				return _promise2.default.resolve(resources);
			},
			listOperations: function listOperations(connectorId, resourceId) {
				var ops = [];
				$.each(this._operations, function (i, operation) {
					if (operation.connectorId === connectorId && operation.resourceId === resourceId) {
						ops.push(operation);
					}
				});
				return _promise2.default.resolve(ops);
			},
			getOperationDefinition: function getOperationDefinition(connectorId, resourcedId, operationId) {
				var definition = null;
				$.each(this._operationDefinitions, function (i, def) {
					if (def.connectorId === connectorId && def.id === operationId) {
						definition = def;
						return false;
					}
				});
				return _promise2.default.resolve(definition);
			},
			execute: function execute(callPayload) {
				return _promise2.default.resolve({});
			}
		});

		return {
			create: function create() {
				return new DefaultConnectorHandler('DefaultConnectorHandler');
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 271 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    DynamicOptionsResolver = __webpack_require__(272),
		    ConnectorOptionsResolver = __webpack_require__(278),
		    ConnectorResolver = __webpack_require__(133),
		    ListConnectorResolver = __webpack_require__(132),
		    RestOptionsResolver = __webpack_require__(279),
		    StaticOptionsResolver = __webpack_require__(281);

		//endregion

		return Class.subClass({}, {

			createResolver: function createResolver(typeId, context, properties, controlId, filter) {
				var createFunction = this[typeId];
				return createFunction(typeId, context, properties, controlId, filter);
			},
			STATIC: function STATIC(typeId, context, properties) {
				return new StaticOptionsResolver(typeId, context, properties);
			},
			REST: function REST(typeId, context, properties, controlId) {
				return new RestOptionsResolver(typeId, context, properties, controlId);
			},
			DYNAMIC: function DYNAMIC(typeId, context, properties, controlId, filter) {
				return new DynamicOptionsResolver(typeId, context, properties, filter);
			},
			CONNECTOR: function CONNECTOR(typeId, context, properties, controlId, filter) {
				return new ConnectorOptionsResolver(typeId, context, properties, controlId, filter);
			},
			LIST_CONNECTOR: function LIST_CONNECTOR(typeId, context, properties, controlId, filter) {
				return new ListConnectorResolver(typeId, context, properties, controlId, filter);
			},
			EVENT_CONNECTOR: function EVENT_CONNECTOR(typeId, context, properties, controlId) {
				return new ConnectorResolver(typeId, context, properties, controlId);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 272 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var OptionsResolver = __webpack_require__(63),
		    OjSelectItem = __webpack_require__(42),
		    DynamicAutoFocus = __webpack_require__(130),
		    DotExpressionResolver = __webpack_require__(23),
		    DynamicDefaultValue = __webpack_require__(84),
		    $ = __webpack_require__(2),
		    ko = __webpack_require__(1);

		//endregion

		return OptionsResolver.subClass({}, {
			init: function init(typeId, context, properties, filter) {
				this._super(typeId, context, properties);
				this.context = context;
				this.filter = filter;
				this._options = ko.observableArray(null);
				this.autoFocus = DynamicAutoFocus.create(this);
				this.getDefaultValue = DynamicDefaultValue.create(this);
				this.getOptions = ko.pureComputed(function () {
					return this._options();
				}.bind(this));

				ko.computed(function () {
					this._applyFilter();
				}, this);
			},
			_applyFilter: function _applyFilter() {
				var options = [],
				    list = this._getPayloadList(this.properties().response().optionsListBinding()),
				    self = this;
				return this.filter.execute(list).then(function (filteredList) {
					var simple = self.properties().simple();
					var valueBinding = self.properties().response().valueBinding();
					var labelBinding = self.properties().response().labelBinding();
					$.each(filteredList, function () {
						if (simple) {
							options.push(OjSelectItem.create(this, this));
						} else {
							var value = DotExpressionResolver.getValue(this, valueBinding);
							var label = DotExpressionResolver.getValue(this, labelBinding);
							options.push(OjSelectItem.create(value, label));
						}
					});
					self._options(options);
				});
			},
			_getPayloadList: function _getPayloadList(binding) {
				return this.context.payload() ? this.context.payload().getBindingValue(binding) || [] : [];
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 273 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    StaticProperties = __webpack_require__(274),
		    RestProperties = __webpack_require__(275),
		    ConnectorProperties = __webpack_require__(276),
		    DynamicProperties = __webpack_require__(128);

		//endregion

		return Class.subClass({
			createProperties: function createProperties(typeId, properties) {
				var createFunction = this[typeId];
				return createFunction(properties);
			},
			STATIC: function STATIC(properties) {
				return new StaticProperties(properties);
			},
			REST: function REST(properties) {
				return new RestProperties(properties);
			},
			DYNAMIC: function DYNAMIC(properties) {
				return new DynamicProperties(properties);
			},
			CONNECTOR: function CONNECTOR(properties) {
				return new ConnectorProperties(properties);
			},
			LIST_CONNECTOR: function LIST_CONNECTOR(properties) {
				return new ConnectorProperties(properties);
			},
			EVENT_CONNECTOR: function EVENT_CONNECTOR(properties) {
				return new ConnectorProperties(properties);
			}
		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 274 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var OptionsProperties = __webpack_require__(83),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return OptionsProperties.subClass({}, {
			init: function init(properties) {

				properties = properties || {};
				_.defaults(properties, {
					optionsNames: 'option 1\noption 2',
					optionsValues: 'option1\noption2',
					defaultValue: [],
					autoFocus: false
				});

				this.optionsNames = ko.observable(properties.optionsNames);
				this.optionsValues = ko.observable(properties.optionsValues);
				this.defaultValue = ko.observableArray(properties.defaultValue);
				this.autoFocus = ko.observable(properties.autoFocus);
			},
			observables: function observables() {
				return {
					optionsNames: this.optionsNames,
					optionsValues: this.optionsValues,
					defaultValue: this.defaultValue,
					autoFocus: this.autoFocus
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 275 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var OptionsProperties = __webpack_require__(83),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return OptionsProperties.subClass({}, {
			init: function init(properties) {

				properties = properties || {};
				_.defaults(properties, {
					defaultValue: [],
					autoFocus: false
				});

				this.defaultValue = ko.observableArray(properties.defaultValue);
				this.autoFocus = ko.observable(properties.autoFocus);
			},
			observables: function observables() {
				return {
					defaultValue: this.defaultValue,
					autoFocus: this.autoFocus
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 276 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var DynamicProperties = __webpack_require__(128),
		    _ = __webpack_require__(0),
		    UUID = __webpack_require__(17),
		    ko = __webpack_require__(1);

		//endregion

		return DynamicProperties.subClass({}, {
			init: function init(properties) {
				this._super(properties);

				properties = properties || {};
				_.defaults(properties, {
					id: UUID.createUuid(),
					connectorId: '_NONE_',
					resource: '_NONE_',
					operationId: '_NONE_',
					headerParams: [],
					templateParams: [],
					queryParams: [],
					skipDuringLoad: false
				});

				this.id = properties.id;
				this.connectorId = ko.observable(properties.connectorId);
				this.resource = ko.observable(properties.resource);
				this.operationId = ko.observable(properties.operationId);
				this.skipDuringLoad = ko.observable(properties.skipDuringLoad);
				this.queryParams = ko.observableArray(properties.queryParams);
				this.headerParams = ko.observableArray(properties.headerParams);
				this.templateParams = ko.observableArray(properties.templateParams);
			},
			clone: function clone() {
				return {
					id: this.id,
					queryParams: this.queryParams(),
					headerParams: this.headerParams(),
					templateParams: this.templateParams(),
					skipDuringLoad: this.skipDuringLoad(),
					connector: {
						name: this.connectorId(),
						resource: this.resource(),
						method: this.operationId()
					},
					response: this.response().toJS()
				};
			},
			observables: function observables() {
				var observables = this._super();
				return _.extend(observables, {
					skipDuringLoad: this.skipDuringLoad
				});
			},
			toJS: function toJS() {
				return {
					id: this.id,
					skipDuringLoad: ko.unwrap(this.skipDuringLoad),
					defaultValue: ko.unwrap(this.defaultValue),
					autoFocus: ko.unwrap(this.autoFocus)
				};
			},
			toFullJS: function toFullJS() {
				var templateParams = _.map(this.templateParams(), function (param) {
					return param.toJS();
				});
				var headerParams = _.map(this.headerParams(), function (param) {
					return param.toJS();
				});
				var queryParams = _.map(this.queryParams(), function (param) {
					return param.toJS();
				});
				return _.extend({}, this.toJS(), {
					connectorId: ko.unwrap(this.connectorId),
					resource: ko.unwrap(this.resource),
					operationId: ko.unwrap(this.operationId),

					templateParams: ko.unwrap(templateParams),
					queryParams: ko.unwrap(queryParams),
					headerParams: ko.unwrap(headerParams)
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 277 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_277__;

/***/ }),
/* 278 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(62), __webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_typeof2, _promise) {
	'use strict';

	var _typeof3 = _interopRequireDefault(_typeof2);

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ListConnectorResolver = __webpack_require__(132),
		    DotExpressionResolver = __webpack_require__(23),
		    OjSelectItem = __webpack_require__(42),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2);

		//endregion

		return ListConnectorResolver.subClass({}, {
			init: function init(typeId, context, properties, controlId, filter) {
				this._super(typeId, context, properties, controlId, filter);
			},
			_buildOptions: function _buildOptions(response) {
				var options = [];
				var optionsListBinding = this.properties().response().optionsListBinding();
				var valueBinding = this.properties().response().valueBinding();
				var labelBinding = this.properties().response().labelBinding();
				/* istanbul ignore next */
				response = response || {};

				var list = DotExpressionResolver.getPCSCompatibleValue(response, optionsListBinding) || [];

				var executePromise = this._filter ? this._filter.execute(list) : /*istanbul ignore next*/_promise2.default.resolve(list),
				    simple = _.every(list, function (e) {
					return (typeof e === 'undefined' ? 'undefined' : (0, _typeof3.default)(e)) !== 'object';
				});

				return executePromise.then(function (filteredList) {
					$.each(filteredList, function (i, item) {
						if (simple) {
							options.push(OjSelectItem.create(item, item));
						} else {
							var value = DotExpressionResolver.getPCSCompatibleValue(item, valueBinding);
							var label = DotExpressionResolver.getPCSCompatibleValue(item, labelBinding);
							/* istanbul ignore else */
							if (value !== undefined && label !== undefined) {
								options.push(OjSelectItem.create(value, label));
							}
						}
					});

					return options;
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 279 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var RestResolver = __webpack_require__(280);

		//endregion

		return RestResolver.subClass({}, {
			init: function init(typeId, context, properties, controlId) {
				this._super(typeId, context, properties, controlId);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 280 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var OptionsResolver = __webpack_require__(63),
		    DynamicDefaultValue = __webpack_require__(84),
		    ko = __webpack_require__(1),
		    oj = __webpack_require__(7);

		//endregion

		return OptionsResolver.subClass({}, {
			init: function init(typeId, context, properties, controlId) {
				this._super(typeId, context, properties);
				this.controlId = controlId;

				this.autoFocus = ko.pureComputed({
					read: function read() {
						return this.properties().autoFocus();
					},
					owner: this
				});

				this.getDefaultValue = DynamicDefaultValue.create(this);

				this._options = ko.observableArray(null);

				this.getOptions = ko.pureComputed(function () {
					return this._options();
				}.bind(this));

				this._callRest = function (rest, params) {
					return context.config().restHandler.execute(rest, params);
				};
			},

			loadAndSetRest: function loadAndSetRest(rest, params) {
				this.callRest(rest, params).then(function (response) {
					this._options(response[rest.optionsListBinding]);
					this.customValidationMessages([]);
				}.bind(this)).catch(function (error) {
					this.customValidationMessages([new oj.Message(error)]);
				}.bind(this));
			},

			callRest: function callRest(rest, params) {
				return this._callRest(rest, params);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 281 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var OptionsResolver = __webpack_require__(63),
		    OjSelectItem = __webpack_require__(42),
		    koToJSUtil = __webpack_require__(21),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1);

		//endregion
		var OPTION_PROPERTY = 'option__';

		return OptionsResolver.subClass({}, {
			init: function init(typeId, context, properties) {
				this._super(typeId, context, properties);

				this.autoFocus = ko.pureComputed({
					read: function read() {
						return this.properties().autoFocus();
					},
					write: function write(value) {
						this.properties().autoFocus(value);
					},
					owner: this
				});
			},
			getOptions: function getOptions() {
				var properties = koToJSUtil.toJS(this.properties());
				// Split this into an array of names/value pairs wrt to enter key to fill the dropdown.
				var names = properties.optionsNames.split('\n'),
				    values = properties.optionsValues.split('\n'),
				    options = [];
				for (var i = 0; i < names.length; i++) {
					options.push(OjSelectItem.create(values[i], names[i]));
				}
				return options;
			},
			getDefaultValue: function getDefaultValue() {
				return this.properties().defaultValue();
			},
			getDefaultValueOptions: function getDefaultValueOptions() {
				return this.getOptions();
			},
			getTranslationBundle: function getTranslationBundle(control, formBundle) {
				var optionsNames = this.properties().optionsNames().split('\n');
				formBundle[control.id] = formBundle[control.id] || {};
				_.each(optionsNames, function (optionName, i) {
					formBundle[control.id][OPTION_PROPERTY + i] = optionName;
				});
			},
			translate: function translate(control, context) {
				var handler = context.config().translationsHandler;
				var optionsNames = this.properties().optionsNames().split('\n');
				_.each(optionsNames, function (optionName, i) {
					var value = handler.getKeyProperty(control.id, OPTION_PROPERTY + i);
					if (value) {
						optionsNames[i] = value;
					}
				});
				this.properties().optionsNames(optionsNames.join('\n'));
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 282 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);
		//endregion

		return Class.subClass({
			createAutoCompletes: function createAutoCompletes(control, context) {
				//Do nothing in renderer!
			},
			initialize: function initialize(control, context) {
				//Do nothing in renderer!
			}
		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 283 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    _ = __webpack_require__(0),
		    FormsLogger = __webpack_require__(20),
		    ko = __webpack_require__(1);
		//endregion
		/* global Promise */

		/* istanbul ignore next */
		return Class.subClass({}, {
			eventDepthCount: 0,
			currentPromise: false,
			MAX_RECURSIVE_EVENTS: 1000,

			init: function init() {
				this.dirtyControls = ko.observableArray([]);
				this.eventDepthCount = 0;
				this.resolvedPromises = 0;
				this.isExecuting = ko.observable(false);
				var self = this;

				self.execute = function (control, event) {
					if (!control.viewModel.form() || !control.viewModel.form().loadEventsExecuted()) {
						return;
					}

					if (self.eventDepthCount > self.MAX_RECURSIVE_EVENTS) {
						FormsLogger.getLogger().error('User Events Error: Too many recursive events. Aborting.');
						return;
					}

					self.eventDepthCount++;
					self.isExecuting(true);

					//Make sure we run the events after jet events (i.e. for selected rows)
					setTimeout(function () {
						FormsLogger.getLogger().count('[COUNT] [EVENT]');
						var promise = control.executeEvent(event.value);

						if (self.eventDepthCount === 1) {
							//This is the first event, it cant be resolved until all events created by this are resolved
							self.resolvedPromises = 0;
						}

						promise.then(function () {
							self.resolvedPromises++;
							if (self.resolvedPromises === self.eventDepthCount) {
								//All events are resolved, we are not waiting for any other, so no recursive loop can happen

								self.eventDepthCount = 0;
								self.resolvedPromises = 0;
								self.isExecuting(false);
							}
						});
					});

					return true;
				};
			},

			setDirtyControl: function setDirtyControl(control) {
				this.dirtyControls(_.unique(this.dirtyControls().concat(control)));
			},
			clearDirtyControl: function clearDirtyControl(control) {
				this.dirtyControls(_.without(this.dirtyControls(), control));
			},
			_resolveDirtyControls: function _resolveDirtyControls() {
				var _this = this;

				return new _promise2.default(function (resolve) {
					if (_this.dirtyControls().length > 0) {
						var sub = _this.dirtyControls.subscribe(function () {
							if (_this.dirtyControls().length === 0) {
								sub.dispose();
								resolve();
							}
						});
					} else {
						resolve();
					}
				});
			},

			resolveWhenEmpty: function resolveWhenEmpty() {
				var _this2 = this;

				var self = this;
				//Return a promise that resolves when the events queue is empty
				return new _promise2.default(function (resolve, reject) {
					_this2._resolveDirtyControls().then(function () {
						if (self.isExecuting()) {
							var sub = self.isExecuting.subscribe(function () {
								sub.dispose();
								resolve();
							});
						} else {
							resolve();
						}
					});
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 284 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(62)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_typeof2) {
	'use strict';

	var _typeof3 = _interopRequireDefault(_typeof2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    ControlTypeId = __webpack_require__(4),
		    _ = __webpack_require__(0);

		//endregion

		return Class.subClass({}, {
			controlBindings: {},
			init: function init(controlBindings, bindingContext) {

				this.controlBindings = controlBindings || {};
				this.bindingContext = ko.unwrap(bindingContext) || '';
			},
			_hasEmptyBinding: function _hasEmptyBinding(binding) {
				return _.isEmpty(binding) || _.any(binding.split('.'), function (partialBinding) {
					return _.isEmpty(partialBinding);
				});
			},

			_getParentWithBinding: function _getParentWithBinding(control) {
				var parent = control.getParent();
				while (parent.type !== ControlTypeId.FORM_PRESENTATION && !parent.isRepeatable() && !parent._bindingValue) {
					parent = parent.getParent();
				}
				return parent;
			},
			getBindingControlFor: function getBindingControlFor(control) {
				//Find a parent that has a bindingValue (repeatable row)
				var parent = this._getParentWithBinding(control);

				//But if there's a row, we use that context
				if (parent._bindingValue) {
					return parent._bindingValue;
				} else {
					//By default (not inside a repeatable, we add the observable to the global bindings
					return ko.unwrap(this.controlBindings);
				}
			},
			getFullBindingContextFor: function getFullBindingContextFor(control) {
				var bindingValue = this.getBindingControlFor(control);
				var parent = this._getParentWithBinding(control);
				var bindingContext = this.bindingContext;

				if (parent.isRepeatable() || _.isArray(ko.unwrap(bindingValue[bindingContext]))) {
					//If the parent were a row of the repeatable, it would have exited before
					//This only happens for the elements that describe rows, but have no data
					return '';
				}

				if (parent.type === ControlTypeId.FORM_PRESENTATION) {
					if (bindingContext.length > 0) {
						bindingContext = bindingContext + '.';
					}
					return bindingContext + control.getFullBinding();
				} else {
					return control.properties.binding();
				}
			},

			_getObservable: function _getObservable(control, creator, defaultValue) {
				var bindingValue = this.getBindingControlFor(control);

				if ((0, _typeof3.default)(ko.unwrap(bindingValue)) === 'object') {
					bindingValue = ko.unwrap(bindingValue);
					var binding = this.getFullBindingContextFor(control);
					if (this._hasEmptyBinding(binding)) {
						//Creator can be either observable or observableArray
						//This is dynamic to avoid the code repetition
						return ko[creator](defaultValue);
					} else {

						//If there's no binding, we create one (dynamically observable or observableArray)
						if (_.isUndefined(bindingValue[binding])) {
							bindingValue[binding] = ko[creator](defaultValue);
						} else if (!ko.isObservable(bindingValue[binding])) {
							//If there's a value, but not an observable (ie. it came from the payload),
							//we create an observable with that value
							bindingValue[binding] = ko[creator](ko.unwrap(bindingValue[binding]));
						}
						//return the observable
						return bindingValue[binding];
					}
				} else if (ko.isObservable(bindingValue)) {
					//If the bindingValue is an observable, reuse that directly, and ignore the binding
					// This will be the case inside of repeatables of String[] (or other simple type)
					return bindingValue;
				} else {
					//In case of Business object of array type, binding for control is not needed
					return ko[creator](bindingValue);
				}
			},
			getObservableForBinding: function getObservableForBinding(control) {
				return this._getObservable(control, 'observable');
			},
			getObservableArrayForBinding: function getObservableArrayForBinding(control) {
				return this._getObservable(control, 'observableArray', []);
			},
			getObservableValue: function getObservableValue(binding, shouldCreate) {
				if (!this.isObservableDefined(binding) && shouldCreate) {
					this.controlBindings[binding] = ko.observable(this.controlBindings[binding]);
				}
				return this.controlBindings[binding];
			},
			isObservableDefined: function isObservableDefined(key) {
				return ko.isObservable(this.controlBindings[key]);
			},
			setValue: function setValue(key, value) {
				if (this.isObservableDefined(key)) {
					this.controlBindings[key](value);
				} else {
					this.controlBindings[key] = value;
				}
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 285 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    StaticFormReference = __webpack_require__(286);
		//endregion

		var CREATE = 'CREATE_';

		var FormReferenceFactory = Class.subClass({

			create: function create(reference) {
				var type = reference.type || 'STATIC';
				var createFunction = FormReferenceFactory[CREATE + type];
				if (createFunction) {
					return createFunction(reference);
				} else {
					throw new Error('Unsupported reference type exception');
				}
			},
			CREATE_STATIC: function CREATE_STATIC(reference) {
				return new StaticFormReference(reference);
			}

		}, {});
		return FormReferenceFactory;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 286 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Reference = __webpack_require__(287),
		    ko = __webpack_require__(1);
		//endregion

		return Reference.subClass({}, {
			init: function init(reference) {
				this._super(reference);
				this.formId = ko.observable(reference.formId);
				this.formName = ko.observable(reference.formName);
				this.presentationId = ko.observable(reference.presentationId);
				this.icon = ko.observable(reference.icon);
			},
			/** @override */
			get: function get() {
				return {
					formId: this.formId(),
					formName: this.formName(),
					presentationId: this.presentationId(),
					icon: this.icon()
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 287 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3);
		//endregion

		/** @abstract */
		return Class.subClass({}, {
			init: function init(reference) {
				this._reference = reference;
			},
			get: function get() {
				throw new Error('This function must be overridden');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 288 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		// jshint maxstatements:155

		//region dependencies

		var DecoratorsCatalog = __webpack_require__(289),
		    JetValidationDecorator = __webpack_require__(134),
		    RepeatableValidationDecorator = __webpack_require__(302),
		    FormReferenceValidationDecorator = __webpack_require__(303),
		    LazyRenderingDecorator = __webpack_require__(304),
		    TabRenderingDecorator = __webpack_require__(305),
		    TabContainerRenderingDecorator = __webpack_require__(306),
		    SectionRenderingDecorator = __webpack_require__(307),
		    SectionAsyncRenderCallbackDecorator = __webpack_require__(308),
		    ControlTypeId = __webpack_require__(4),
		    TimeValidationDecorator = __webpack_require__(309),
		    RawDataDecorator = __webpack_require__(310),
		    VideoValueDecorator = __webpack_require__(311),
		    IdentityValueDecorator = __webpack_require__(312),
		    CheckboxValueDecorator = __webpack_require__(313),
		    RepeatableRowValueDecorator = __webpack_require__(314),
		    FormReferenceValueDecorator = __webpack_require__(316),
		    ValueDecorator = __webpack_require__(19),
		    SelectValueDecorator = __webpack_require__(141),
		    RadioButtonValueDecorator = __webpack_require__(317),
		    LinkValueDecorator = __webpack_require__(318),
		    DateValueDecorator = __webpack_require__(319),
		    TimeValueDecorator = __webpack_require__(320),
		    NumberValueDecorator = __webpack_require__(321),
		    RepeatableValueDecorator = __webpack_require__(322),
		    BuildFormReferenceDecorator = __webpack_require__(323),
		    ReferenceLazyRenderingDecorator = __webpack_require__(324),
		    ReferencePresentationDecorator = __webpack_require__(325).default,
		    TranslationsDecorator = __webpack_require__(142),
		    TranslationsLoVDecorator = __webpack_require__(326),
		    ComputedValueDecorator = __webpack_require__(327),
		    GetOJComponentDecorator = __webpack_require__(328),
		    CustomControlList = __webpack_require__(75),
		    EnumSelectValueDecorator = __webpack_require__(329);

		//end region

		return DecoratorsCatalog.subClass({}, {

			init: function init() {

				// jshint maxstatements:158
				this._super();
				this.valueDecorator = new ValueDecorator();
				this.numberValueDecorator = new NumberValueDecorator();
				this.dateValueDecorator = new DateValueDecorator();
				this.repeatableValueDecorator = new RepeatableValueDecorator();
				this.lazyRenderingDecorator = new LazyRenderingDecorator();
				this.getOJComponentDecorator = new GetOJComponentDecorator();
				this.jetValidationDecorator = new JetValidationDecorator([this.valueDecorator, this.lazyRenderingDecorator, this.getOJComponentDecorator]);
				this.repeatableValidationDecorator = new RepeatableValidationDecorator([this.lazyRenderingDecorator, this.getOJComponentDecorator]);
				this.formReferenceValidationDecorator = new FormReferenceValidationDecorator([this.lazyRenderingDecorator, this.getOJComponentDecorator]);
				this.tabRenderingDecorator = new TabRenderingDecorator([this.lazyRenderingDecorator]);
				this.sectionRenderingDecorator = new SectionRenderingDecorator();
				this.sectionAsyncRenderCallbackDecorator = new SectionAsyncRenderCallbackDecorator();
				this.tabContainerRenderingDecorator = new TabContainerRenderingDecorator([this.lazyRenderingDecorator]);
				this.rawDataDecorator = new RawDataDecorator([this.lazyRenderingDecorator]);
				this.referenceLazyRenderingDecorator = new ReferenceLazyRenderingDecorator([this.lazyRenderingDecorator]);

				this.translationsDecorator = new TranslationsDecorator([this.lazyRenderingDecorator]);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.INPUT_TEXT);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.TEXT_AREA);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.BUTTON);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.CHECKBOX);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.NUMBER);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.DATE);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.TIME);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.DATE_TIME);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.EMAIL);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.URL);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.MESSAGE);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.LINK);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.MONEY);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.PHONE);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.IMAGE);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.VIDEO);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.IDENTITY_BROWSER);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.PANEL);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.SECTION);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.TABLE);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.TABLE_COLUMN);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.TAB);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.ENUM_SELECT);
				this.registerDecorator(this.translationsDecorator, ControlTypeId.FORM_REFERENCE);
				this.translationsLoVDecorator = new TranslationsLoVDecorator([this.lazyRenderingDecorator]);
				this.registerDecorator(this.translationsLoVDecorator, ControlTypeId.SELECT);
				this.registerDecorator(this.translationsLoVDecorator, ControlTypeId.CHECKLIST);
				this.registerDecorator(this.translationsLoVDecorator, ControlTypeId.RADIO_BUTTON);

				this.registerDecorator(this.lazyRenderingDecorator);
				this.registerDecorator(this.getOJComponentDecorator);

				this.registerDecorator(this.referenceLazyRenderingDecorator, ControlTypeId.FORM_REFERENCE);
				this.registerDecorator(new ReferencePresentationDecorator(), ControlTypeId.FORM_REFERENCE);

				this.registerDecorator(this.valueDecorator, ControlTypeId.INPUT_TEXT);
				this.registerDecorator(this.valueDecorator, ControlTypeId.TEXT_AREA);
				this.registerDecorator(this.valueDecorator, ControlTypeId.CHECKLIST);
				this.registerDecorator(this.valueDecorator, ControlTypeId.RADIO_BUTTON);
				this.registerDecorator(this.valueDecorator, ControlTypeId.EMAIL);
				this.registerDecorator(this.valueDecorator, ControlTypeId.URL);
				this.registerDecorator(this.valueDecorator, ControlTypeId.MESSAGE);
				this.registerDecorator(this.valueDecorator, ControlTypeId.PHONE);
				this.registerDecorator(this.valueDecorator, ControlTypeId.IMAGE);
				this.registerDecorator(this.valueDecorator, ControlTypeId.VIDEO);
				this.registerDecorator(this.numberValueDecorator, ControlTypeId.NUMBER);
				this.registerDecorator(this.numberValueDecorator, ControlTypeId.MONEY);
				this.registerDecorator(this.dateValueDecorator, ControlTypeId.DATE);
				this.registerDecorator(this.dateValueDecorator, ControlTypeId.DATE_TIME);
				this.registerDecorator(new TimeValueDecorator([]), ControlTypeId.TIME);
				this.registerDecorator(new FormReferenceValueDecorator([]), ControlTypeId.FORM_REFERENCE);
				this.registerDecorator(new CheckboxValueDecorator([]), ControlTypeId.CHECKBOX);
				this.registerDecorator(new IdentityValueDecorator([]), ControlTypeId.IDENTITY_BROWSER);
				this.registerDecorator(new SelectValueDecorator([]), ControlTypeId.SELECT);
				this.registerDecorator(new RadioButtonValueDecorator([]), ControlTypeId.RADIO_BUTTON);
				this.registerDecorator(new EnumSelectValueDecorator([]), ControlTypeId.ENUM_SELECT);
				this.registerDecorator(new LinkValueDecorator([]), ControlTypeId.LINK);

				this.registerDecorator(new RepeatableRowValueDecorator([]), ControlTypeId.TABLE_ROW);
				this.registerDecorator(new RepeatableRowValueDecorator([]), ControlTypeId.REPEATABLE_SECTION_ROW);

				this.registerDecorator(this.repeatableValueDecorator, ControlTypeId.REPEATABLE_SECTION);
				this.registerDecorator(this.repeatableValueDecorator, ControlTypeId.TABLE);

				this.registerDecorator(new VideoValueDecorator([this.valueDecorator]), ControlTypeId.VIDEO);
				this.registerDecorator(new BuildFormReferenceDecorator([this.valueDecorator]), ControlTypeId.FORM_REFERENCE);

				this.registerDecorator(this.rawDataDecorator, ControlTypeId.INPUT_TEXT);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.TEXT_AREA);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.SELECT);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.CHECKLIST);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.CHECKBOX);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.RADIO_BUTTON);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.NUMBER);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.DATE);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.TIME);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.DATE_TIME);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.EMAIL);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.URL);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.MESSAGE);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.LINK);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.MONEY);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.PHONE);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.IMAGE);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.VIDEO);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.REPEATABLE_SECTION);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.TABLE);
				this.registerDecorator(this.rawDataDecorator, ControlTypeId.ENUM_SELECT);

				this.computedValueDecorator = new ComputedValueDecorator([this.lazyRenderingDecorator]);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.INPUT_TEXT);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.TEXT_AREA);
				//            this.registerDecorator(this.computedValueDecorator, ControlTypeId.BUTTON);   do not have computed Value
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.SELECT);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.CHECKLIST);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.CHECKBOX);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.RADIO_BUTTON);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.NUMBER);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.DATE);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.TIME);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.DATE_TIME);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.EMAIL);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.URL);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.MESSAGE);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.LINK);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.MONEY);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.PHONE);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.IMAGE);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.VIDEO);
				this.registerDecorator(this.computedValueDecorator, ControlTypeId.ENUM_SELECT);

				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.IDENTITY_BROWSER);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.INPUT_TEXT);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.TEXT_AREA);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.SELECT);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.CHECKLIST);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.CHECKBOX);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.RADIO_BUTTON);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.NUMBER);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.DATE);
				//ToDo Jet 2.3.0 Remove this validator and use the common
				var timeValidationDecorator = new TimeValidationDecorator([this.lazyRenderingDecorator, this.getOJComponentDecorator]);
				this.registerDecorator(timeValidationDecorator, ControlTypeId.TIME);
				this.registerDecorator(timeValidationDecorator, ControlTypeId.DATE_TIME);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.EMAIL);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.URL);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.MONEY);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.PHONE);
				this.registerDecorator(this.jetValidationDecorator, ControlTypeId.ENUM_SELECT);

				this.registerDecorator(this.repeatableValidationDecorator, ControlTypeId.REPEATABLE_SECTION);
				this.registerDecorator(this.repeatableValidationDecorator, ControlTypeId.TABLE);

				this.registerDecorator(this.formReferenceValidationDecorator, ControlTypeId.FORM_REFERENCE);

				this.registerDecorator(this.tabContainerRenderingDecorator, ControlTypeId.TAB_CONTAINER);
				this.registerDecorator(this.tabRenderingDecorator, ControlTypeId.TAB);
				this.registerDecorator(this.sectionRenderingDecorator, ControlTypeId.SECTION);
				this.registerDecorator(this.sectionAsyncRenderCallbackDecorator, ControlTypeId.SECTION);

				//This should be dynamic
				this.registerDecorator(this.translationsDecorator, CustomControlList.RICH_TEXT_EDITOR.id);
				this.registerDecorator(this.valueDecorator, CustomControlList.RICH_TEXT_EDITOR.id);
				this.registerDecorator(this.computedValueDecorator, CustomControlList.RICH_TEXT_EDITOR.id);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 289 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    _ = __webpack_require__(0);

		//end region
		return Class.subClass({}, {

			init: function init() {
				this._decorators = {};
			},
			addToControl: function addToControl(control, context) {
				var decorators = this.getDecorators(control);

				_.each(decorators, function (decorator) {
					decorator.decorate(control, context);
				});
			},
			registerDecorator: function registerDecorator(decorator, controlType) {
				if (!controlType) {
					//registering a decorator for all the controls.
					controlType = 'all';
				}
				var defaultList = {};
				defaultList[controlType] = [];
				_.defaults(this._decorators, defaultList);

				var decorators = this._decorators[controlType];

				decorators.push(decorator);
			},
			getDecorators: function getDecorators(control) {
				var decorators = this._decorators[control.type];
				return _.union([], this._decorators.all, decorators);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 290 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    koToJSUtil = __webpack_require__(21),
		    _ = __webpack_require__(0),
		    StringUtils = __webpack_require__(32),
		    ValidatorFactory = __webpack_require__(135),
		    TypeValidatorFactory = __webpack_require__(296),
		    ValidatorTypeId = __webpack_require__(136);

		//endregion

		return Class.subClass({

			getValidators: function getValidators(properties, toIgnore) {
				var controlValidators = [],
				    propertiesJson = koToJSUtil.toJS(properties);
				//add generalised set of validators depending upon properties.
				_.each(propertiesJson, function (value, key) {
					// Capitalize and convert to underscore case from camel.
					key = StringUtils.underscored(key).toUpperCase();
					var isValueForValidatorDefined = !_.isEmpty(value) || value > 0; //we should not add validators if properties are not set.
					if (ValidatorTypeId.hasOwnProperty(key) && isValueForValidatorDefined && toIgnore.indexOf(key) < 0) {
						controlValidators.push(ValidatorFactory.createValidator(ValidatorTypeId[key], properties));
					}
				}, this);

				return controlValidators;
			},
			getValidatorsForType: function getValidatorsForType(type, properties) {
				return TypeValidatorFactory.createValidators(type, properties);
			}
		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 291 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var oj = __webpack_require__(7),
		    msg = __webpack_require__(5);

		//endregion

		var MinLengthValidator = function MinLengthValidator(properties) {
			this.validate = function (value) {
				var min = properties.minLength();
				//If the value is empty, we don't check for minimum, it depends if it's required or not
				if (value.length < min && value.length > 0) {
					throw new oj.ValidatorError(msg.MIN_LENGTH_VALIDATION_MESSAGE_SUMMARY, msg.MIN_LENGTH_VALIDATION_MESSAGE_DETAIL + min);
				}
				return true;
			};
		};

		//Need to be a subclass of oj.Validator.
		oj.Object.createSubclass(MinLengthValidator, oj.Validator, 'MinLengthValidator');

		return MinLengthValidator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 292 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var oj = __webpack_require__(7),
		    msg = __webpack_require__(5);

		//endregion

		var MaxLengthValidator = function MaxLengthValidator(properties) {
			this.validate = function (value) {
				var max = properties.maxLength();
				if (value.length > max) {
					throw new oj.ValidatorError(msg.MAX_LENGTH_VALIDATION_MESSAGE_SUMMARY, msg.MAX_LENGTH_VALIDATION_MESSAGE_DETAIL + max);
				}
				return true;
			};
		};

		//Need to be a subclass of oj.Validator.
		oj.Object.createSubclass(MaxLengthValidator, oj.Validator, 'MaxLengthValidator');

		return MaxLengthValidator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 293 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var oj = __webpack_require__(7);

		//endregion

		var RequiredValidator = function RequiredValidator(properties) {
			this.validate = function (value) {
				if (properties.required()) {
					var requiredValidator = oj.Validation.validatorFactory(oj.ValidatorFactory.VALIDATOR_TYPE_REQUIRED).createValidator();
					requiredValidator.validate(value);
				}
			};
		};

		//Need to be a subclass of oj.Validator.
		oj.Object.createSubclass(RequiredValidator, oj.Validator, 'RequiredValidator');

		return RequiredValidator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 294 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var oj = __webpack_require__(7);

		//endregion

		var OptionsFeedValidator = function OptionsFeedValidator(properties) {
			this.validate = function () {
				var customMessages = properties.optionsFeed().optionsResolver().customValidationMessages();
				if (customMessages.length > 0) {
					var validationMessage = customMessages[0];
					throw new oj.ValidatorError(validationMessage.summary, validationMessage.detail);
				}
				return true;
			};
		};

		//Need to be a subclass of oj.Validator.
		oj.Object.createSubclass(OptionsFeedValidator, oj.Validator, 'OptionsFeedValidator');

		return OptionsFeedValidator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 295 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var oj = __webpack_require__(7),
		    $ = __webpack_require__(2),
		    msg = __webpack_require__(5);

		//endregion

		var PatternValidator = function PatternValidator(properties) {
			this.validate = function (value) {
				var pattern = properties.pattern(),
				    regEx = new RegExp(pattern);
				if ($.trim(value) && !regEx.test(value)) {
					var patternMessage = properties.patternMessage() || msg.PATTERN_VALIDATION_MESSAGE_DETAIL + pattern;
					throw new oj.ValidatorError(msg.PATTERN_VALIDATION_MESSAGE_SUMMARY, patternMessage);
				}
				return true;
			};
		};

		//Need to be a subclass of oj.Validator.
		oj.Object.createSubclass(PatternValidator, oj.Validator, 'PatternValidator');

		return PatternValidator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 296 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    NumberValidator = __webpack_require__(297),
		    DateValidator = __webpack_require__(298),
		    MoneyValidator = __webpack_require__(299),
		    DateRangeValidator = __webpack_require__(300),
		    NumberRangeValidator = __webpack_require__(301);

		//endregion

		var CREATE = 'CREATE_';

		var ValidatorFactory = Class.subClass({

			createValidators: function createValidators(typeId, properties) {
				var validators = [];
				var createFunction = ValidatorFactory[CREATE + typeId];
				if (createFunction) {
					validators = createFunction(properties);
				}
				return validators;
			},
			CREATE_DATE: function CREATE_DATE(properties) {
				return [new DateValidator(properties), new DateRangeValidator(properties)];
			},
			CREATE_DATE_TIME: function CREATE_DATE_TIME(properties) {
				return ValidatorFactory.CREATE_DATE(properties);
			},
			CREATE_TIME: function CREATE_TIME(properties) {
				return ValidatorFactory.CREATE_DATE(properties);
			},
			CREATE_NUMBER: function CREATE_NUMBER(properties) {
				return [new NumberValidator(properties), new NumberRangeValidator(properties)];
			},
			CREATE_MONEY: function CREATE_MONEY(properties) {
				return [new MoneyValidator(properties), new NumberRangeValidator(properties)];
			}
		}, {});
		return ValidatorFactory;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 297 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var oj = __webpack_require__(7);

		//endregion

		var NumberValidator = function NumberValidator() {
			this.validate = function (value) {
				var converter = oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_NUMBER).createConverter();
				converter.parse(value);
			};
		};

		//Need to be a subclass of oj.Validator.
		oj.Object.createSubclass(NumberValidator, oj.Validator, 'NumberValidator');

		return NumberValidator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 298 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var oj = __webpack_require__(7);

		//endregion

		var DateValidator = function DateValidator(properties) {
			this.validate = function (value) {
				var converter = properties.dateConverter();
				converter.parse(value);
			};
		};

		//Need to be a subclass of oj.Validator.
		oj.Object.createSubclass(DateValidator, oj.Validator, 'DateValidator');

		return DateValidator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 299 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var oj = __webpack_require__(7);

		//endregion

		var DateValidator = function DateValidator(properties) {
			this.validate = function (value) {
				var converter = oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_NUMBER).createConverter(properties.converterOptions());
				converter.parse(value);
			};
		};

		//Need to be a subclass of oj.Validator.
		oj.Object.createSubclass(DateValidator, oj.Validator, 'DateValidator');

		return DateValidator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 300 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var oj = __webpack_require__(7);

		//endregion

		var DateValidator = function DateValidator(properties) {
			this.validate = function (value) {
				var dateConverter = properties.dateConverter();
				var dateTimeRangeValidator = oj.Validation.validatorFactory(oj.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE).createValidator({
					min: properties.minValue(),
					max: properties.maxValue(),
					converter: dateConverter
				});
				dateTimeRangeValidator.validate(value);
			};
		};

		//Need to be a subclass of oj.Validator.
		oj.Object.createSubclass(DateValidator, oj.Validator, 'DateValidator');

		return DateValidator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 301 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var oj = __webpack_require__(7);

		//endregion

		var DateValidator = function DateValidator(properties) {
			this.validate = function (value) {
				var min = properties.minValue();
				var max = properties.maxValue();
				var options = {};
				if (min) {
					options.min = min;
				}
				if (max) {
					options.max = max;
				}
				var rangeValidator = oj.Validation.validatorFactory(oj.ValidatorFactory.VALIDATOR_TYPE_NUMBERRANGE).createValidator(options);
				rangeValidator.validate(value);
			};
		};

		//Need to be a subclass of oj.Validator.
		oj.Object.createSubclass(DateValidator, oj.Validator, 'DateValidator');

		return DateValidator;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 302 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValidationDecorator = __webpack_require__(85),
		    _ = __webpack_require__(0),
		    oj = __webpack_require__(7),
		    FormValidator = __webpack_require__(137),
		    msg = __webpack_require__(5),
		    TreeUtil = __webpack_require__(40);

		//endregion

		return ValidationDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_validateComponent: function _validateComponent(control) {
				var dataSource = TreeUtil.treeToList(control.dataSource(), 'getControls');
				var valid = true;
				var formValidator = new FormValidator();

				_.each(dataSource, function (childControl) {
					valid = formValidator.validateControl(childControl, childControl.context) && valid;
				});

				valid = valid && this._validateRepeatableRows(control);
				return valid;
			},
			_validateSilently: function _validateSilently(control) {
				var valid = true;
				var dataSource = TreeUtil.treeToList(control.dataSource(), 'getControls');
				dataSource = _.filter(dataSource, function (control) {
					return control.validate;
				});
				var validate = this._super.bind(this);
				_.each(dataSource, function (childControl) {
					valid = validate(childControl) && valid;
				});
				return valid;
			},
			_validateRepeatableRows: function _validateRepeatableRows(control) {
				//Validate that repeatable should have minimum rows.
				var valid = true,
				    errorMsg = [],
				    invalidRepeatableClass = '';
				if (control.dataSource().length < control.properties.minRows()) {
					errorMsg.push({
						summary: msg.NEED_MORE_ROWS,
						severity: oj.Message.SEVERITY_TYPE['ERROR']
					});
					invalidRepeatableClass = control.inValidRepeatableClassName;
					valid = false;
				}
				control.properties.errorMsg(errorMsg);
				control.properties.invalidRepeatableClass(invalidRepeatableClass);
				return valid;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 303 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValidationDecorator = __webpack_require__(85),
		    SilentLoader = __webpack_require__(138),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2);

		//endregion

		return ValidationDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_decorate: function _decorate(control) {
				this._super(control);
				control._silentForm = _.extend({}, _.clone(control.selectedPresentation()));
			},
			_validateComponent: function _validateComponent(control) {
				var $control = $('#' + control.domIdPrefix + control.id);
				return $control.triggerHandler('validateData');
			},
			_validateSilently: function _validateSilently(control) {
				control._silentForm.payload = control.getControlValue();
				control._silentModel = SilentLoader.load({
					form: control._silentForm,
					config: _.clone(control.getConfig())
				});
				return !control._silentModel || control._silentModel.validateData();
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 304 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init() {
				this._super('LAZY_RENDERING');
			},
			_decorate: function _decorate(control, context) {
				control.renderListeners = [];
				control.rendered = ko.observable(false);
				control.registerRenderListener = function (listener) {
					control.renderListeners.push(listener);
				};
				control.detachRenderListener = function (listener) {
					control.renderListeners.splice(this.renderListeners.indexOf(listener), 1);
				};

				control.afterRender = function () {
					control.rendered(true);

					var toDetach = [];
					_.each(control.renderListeners, function (listener) {
						if (listener(control, context)) {
							toDetach.push(listener);
						}
					});
					_.each(toDetach, function (listener) {
						control.detachRenderListener(listener);
					});
				};
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('rendered');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 305 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    ko = __webpack_require__(1);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('LAZY_RENDERING', dependencies);
			},
			_decorate: function _decorate(tab) {
				//is lazyLoading option is selected the the tab should not be rendered until it is selected.
				tab.rendered = ko.observable(!tab.properties.lazyLoading());
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('rendered');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 306 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('LAZY_RENDERING', dependencies);
			},
			_decorate: function _decorate(tabContainer) {
				var renderedTabsCount = 0;

				tabContainer._renderSelectedTab = function (selectedTabPosition) {
					var tab = tabContainer.controls()[selectedTabPosition];
					if (tab && tab.rendered && !tab.rendered()) {
						tab.rendered(true);
						renderedTabsCount += 1;
					}
				};

				var selectedTabSubscription = tabContainer.properties.selectedPosition.subscribe(function (newValue) {
					tabContainer._renderSelectedTab(newValue);
					if (renderedTabsCount === tabContainer.controls().length) {
						//all the tabs have been rendered, no need to keep listening.
						selectedTabSubscription.dispose();
					}
				});
				var notifySelectedTabToRender = function notifySelectedTabToRender() {
					tabContainer._renderSelectedTab(tabContainer.properties.selectedPosition());
					return true;
				};
				tabContainer.registerRenderListener(notifySelectedTabToRender);
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('_renderSelectedTab');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 307 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    ko = __webpack_require__(1);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init() {
				this._super('LAZY_RENDERING');
			},
			_decorate: function _decorate(section) {
				var lazyLoading = section.properties.lazyLoading();
				section.renderContent = ko.observable(!lazyLoading);
				if (lazyLoading) {
					section.properties.expanded(false);
					var expandSubscription = section.properties.expanded.subscribe(function () {
						section.renderContent(true);
						expandSubscription.dispose();
					});
				}
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('renderContent');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 308 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init() {
				this._super('ASYNC_RENDER_CALLBACK');
			},
			_decorate: function _decorate(section) {
				section.registerAsyncTemplate = function (context, controls) {
					var callback = context.registerAsyncTemplate(context, controls);

					return function () {
						section._refresh();
						callback();
					};
				};
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('registerAsyncTemplate');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 309 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var JetValidationDecorator = __webpack_require__(134);

		//endregion

		//ToDo Jet 2.3.0 Remove this Decorator
		return JetValidationDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_decorate: function _decorate(control) {
				this._super(control);
			},
			_componentValidation: function _componentValidation(ojComponentWidgetRef) {
				//Execute the validation
				//Time and Datetime don't return values in validate, so we check for isValid after triggering it
				ojComponentWidgetRef('validate');
				return ojComponentWidgetRef('isValid');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 310 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('INPUT_DECORATOR', dependencies);
			},
			_decorate: function _decorate(control) {

				var afterRender = function afterRender(control) {
					if (control._rawValue) {
						control.setValue(control._rawValue);
						delete control._rawValue;
					}
					return true;
				};

				control.registerRenderListener(afterRender);
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('rendered');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 311 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    ko = __webpack_require__(1);

		//endregion

		var getVimeoCode = /vimeo\.com\/(video\/)?(.*)/,
		    getYouTubeCode = /(youtu\.be\/|youtube\.com\/watch\?v=|youtube.com\/embed\/)(.*)/;

		function parseVideoLink(link, loop, showControls, autoPlay) {
			var parsedLink = '',
			    vidCode,
			    matches;

			matches = getVimeoCode.exec(link);
			if (matches) {
				vidCode = matches[2];
				parsedLink = 'https://player.vimeo.com/video/' + vidCode;
			}
			matches = getYouTubeCode.exec(link);
			if (matches) {
				vidCode = matches[2];
				parsedLink = 'https://www.youtube.com/embed/' + vidCode;
			}

			if (parsedLink) {
				parsedLink = parsedLink + '?loop=' + Number(loop) + '&controls=' + Number(showControls);
				if (loop) {
					// The loop parameter only works in the AS3 player when used in conjunction with the playlist parameter.
					// playlist parameter for a single video should have the video code as its value.
					parsedLink += '&playlist=' + vidCode;
				}
				// Append autoplay attribute only in case of renderer.
				parsedLink += '&autoplay=' + Number(autoPlay);
			}
			return parsedLink;
		}

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('VIDEO_VALUE', dependencies);
			},
			_parseVideoLink: parseVideoLink,
			_decorate: function _decorate(control) {
				var self = this;

				control.properties.parsedVideoSrcLink = ko.pureComputed(function () {
					return self._parseVideoLink(this.getControlValue(), this.properties.loop(), this.properties.showControls(), this.properties.autoPlay());
				}, control);
			},
			isApplied: function isApplied(control) {
				return control.properties.hasOwnProperty('parsedVideoSrcLink');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 312 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValueDecorator = __webpack_require__(19);

		//endregion

		return ValueDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_doDecorate: function _doDecorate(control) {
				this._super(control);

				//@override setValue, but keep reference
				var __superSetValue = control.setValue;
				control.setValue = function (value) {
					if (typeof value === 'string') {
						value = []; //set empty array as string cannot be supported
					}
					__superSetValue.call(control, value);
				};

				control.ojIdentityObj.value = control.value;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 313 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValueDecorator = __webpack_require__(19),
		    _ = __webpack_require__(0);

		//endregion

		return ValueDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_doDecorate: function _doDecorate(control) {
				this._super(control);

				control.setValue = function (value) {
					if (_.isArray(value)) {
						value = value[0] === 'true';
					}
					control.value(!!value);
					var ojComponent = control.getOjComponent();
					ojComponent('option', 'value', [!!value + '']);
				};
				control.value.subscribe(function (newValue) {
					control.setValue(newValue);
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 314 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    Payload = __webpack_require__(139),
		    ko = __webpack_require__(1),
		    PayloadUtil = __webpack_require__(140),
		    _ = __webpack_require__(0);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('VALUE', dependencies);
			},
			_decorate: function _decorate(control) {

				control.setValue = function (value) {
					//We want to skip controls inside repeatables, as they are initialized by its parent directly
					_.each(control.getAllControls(true), function (innerControl) {
						PayloadUtil.initValueFromPayload(innerControl, value);
					});
				};
				control.initRow = function (value, repeatableControl) {
					if (repeatableControl.properties.fromConnector()) {
						control.setValue(value);
					} else {
						//init when receiving from payload.
						//This keeps the payload as _payload to get it in getControlValue
						control.initValue(value);
					}
				};
				control.initValue = function (value) {
					control._payload = new Payload({
						payload: value
					});
					control.setValue(value);
				};
				control.getControlValue = function () {
					var rowPayload = control._payload || new Payload({});
					rowPayload.doUpdateBindings(control.getAllControls(true));
					return rowPayload.getBindings();
				};

				control.isRowSelected = ko.pureComputed({
					read: function read() {
						return _.contains(control._parent.selectedRows(), control);
					},
					write: function write(value) {
						var isSelected = control.isRowSelected();
						if (value && !isSelected) {
							if (control._parent.properties.multipleSelection()) {
								control._parent.selectedRows.push(control);
							} else {
								//If this is selected, but we don't have multiple selection, set the value to override the previous value
								control._parent.selectedRows([control]);
							}
						} else if (!value && isSelected) {
							control._parent.selectedRows.remove(control);
						}
					}
				});
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('getControlValue');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 315 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    _ = __webpack_require__(0);

		//endregion

		function escapeKey(key) {
			return key.replace(/\./g, '\\.');
		}

		function unescapeKey(key) {
			return key.replace(/\\\./g, '.');
		}

		/**
   * this regex will match any key except the dots used for separating json levels
   * Here is a more detailed explanation:
   * https://regex101.com/r/urk7iV/1
   */
		var splitRegex = /((?:\\\.|[^.])+)/g;

		function splitKeys(keys) {
			var splittedKeys = keys.match(splitRegex);

			return {
				first: unescapeKey(splittedKeys[0]),
				rest: splittedKeys.slice(1).join('.')
			};
		}

		return Class.subClass({}, {
			init: function init() {},
			toKeyValue: function toKeyValue(json) {
				var keyValue;

				if (_.isArray(json)) {
					keyValue = [];
					_.each(json, function (row) {
						keyValue.push(this.toKeyValue(row));
					}, this);
				} else if (_.isObject(json)) {
					keyValue = {};
					_.each(_.keys(json), function (key) {
						this._setKeyValue(keyValue, escapeKey(key), json[key]);
					}, this);
				} else {
					keyValue = json;
				}

				return keyValue;
			},
			toJSON: function toJSON(keyValue) {
				var json;
				if (_.isArray(keyValue)) {
					json = [];
					_.each(keyValue, function (row) {
						json.push(this.toJSON(row));
					}, this);
				} else if (_.isObject(keyValue)) {
					json = {};
					_.each(_.keys(keyValue), function (key) {
						var keys = splitKeys(key);
						this._setJSON(json, keys.first, keys.rest, keyValue[key]);
					}, this);
				} else {
					json = keyValue;
				}

				return json;
			},

			_setKeyValue: function _setKeyValue(keyValue, key, value) {
				if (_.isArray(value)) {
					keyValue[key] = this.toKeyValue(value);
				} else if (_.isObject(value)) {
					if (_.size(value) > 0) {
						_.each(_.keys(value), function (innerKey) {
							var newKey = key + '.' + escapeKey(innerKey);
							this._setKeyValue(keyValue, newKey, value[innerKey]);
						}, this);
					} else {
						keyValue[key] = {};
					}
				} else {
					keyValue[key] = value;
				}
			},

			_setJSON: function _setJSON(json, firstKey, otherKeys, value) {

				if (_.isEmpty(otherKeys)) {
					if (_.isArray(value)) {
						json[firstKey] = [];
						_.each(value, function (row) {
							json[firstKey].push(this.toJSON(row));
						}, this);
					} else {
						json[firstKey] = value;
					}
				} else {
					json[firstKey] = json[firstKey] || {};
					var keys = splitKeys(otherKeys);
					this._setJSON(json[firstKey], keys.first, keys.rest, value);
				}
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 316 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValueDecorator = __webpack_require__(19);

		//endregion

		return ValueDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_decorate: function _decorate(control) {
				this._super(control);

				control.getControlValue = function () {
					return control.value();
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 317 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValueDecorator = __webpack_require__(19),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return ValueDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_doDecorate: function _doDecorate(control) {
				this._super(control);

				//@override setValue, but keep reference
				var __superSetValue = control.setValue;
				control.setValue = function (value) {
					if (!ko.unwrap(control.properties.multiple) && _.isArray(value)) {
						__superSetValue.call(control, value[0]);
					} else {
						__superSetValue.call(control, value);
					}
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 318 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValueDecorator = __webpack_require__(19),
		    ko = __webpack_require__(1);

		//endregion

		return ValueDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_doDecorate: function _doDecorate(control) {
				this._super(control);
				control.initValue = function (value) {
					var defaultLinkValue = this.properties.anchor() ? this.resolvePreviewId(ko.utils.unwrapObservable(this.properties.defaultOption)[0]) : ko.utils.unwrapObservable(this.properties.defaultValue);
					var valBinding = !this._isNullEmptyOrUndefined(value) && !this._isNullEmptyOrUndefined(value.value) ? value.value : defaultLinkValue;
					this.setValue(valBinding);
					var labelBindVal = !this._isNullEmptyOrUndefined(value) && !this._isNullEmptyOrUndefined(value.label) ? value.label : ko.utils.unwrapObservable(this.properties.defaultLabel);
					this.setLabelVal(labelBindVal);
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 319 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValueDecorator = __webpack_require__(19),
		    ValueHelper = __webpack_require__(49);

		//endregion

		return ValueDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_doDecorate: function _doDecorate(control) {
				this._super(control);

				control.setValue = function (value) {
					ValueHelper.setDate(control, 'ojInputDate', control.properties.dateConverter(), value);
				};
				control._getRawValue = function () {
					return ValueHelper.getRawValue(control);
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 320 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValueDecorator = __webpack_require__(19),
		    ValueHelper = __webpack_require__(49);

		//endregion

		return ValueDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_doDecorate: function _doDecorate(control) {
				this._super(control);

				control.setValue = function (value) {
					ValueHelper.setRawValue(control, 'ojInputTime', value);
				};

				control._getRawValue = function () {
					return ValueHelper.getRawValue(control);
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 321 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ValueDecorator = __webpack_require__(19),
		    ValueHelper = __webpack_require__(49);

		//endregion

		return ValueDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_doDecorate: function _doDecorate(control) {
				this._super(control);

				control.setValue = function (value) {
					ValueHelper.setNumber(control, value);
				};
				control._getRawValue = function () {
					return ValueHelper.getRawValue(control);
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 322 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    ko = __webpack_require__(1),
		    koToJSUtil = __webpack_require__(21),
		    DotExpressionResolver = __webpack_require__(23),
		    EventsId = __webpack_require__(14),
		    _ = __webpack_require__(0);

		//endregion

		function doAddRow(control, row) {
			var newRow = control.createRow(row);
			control.eventsQueue.execute(newRow, EventsId.ON_ADD_ROW);
			control.dataSource.push(newRow);
		}

		function doRemoveRow(control, index) {
			var removedRow = control.dataSource()[index];
			removedRow.indexBeforeRemove = index;
			control.eventsQueue.execute(removedRow, EventsId.ON_REMOVE_ROW);
			control.dataSource.remove(removedRow);
			control.selectedRows([]);
		}

		function _initValueFromRest(repeatableControl) {
			var array = [];
			_.each(repeatableControl.properties.optionsFeed().optionsResolver()._options(), function (value) {
				var mapped = {};
				_.each(repeatableControl._getAllBindableControls(), function (control) {
					mapped[control.properties.binding()] = DotExpressionResolver.getPCSCompatibleValue(value, control.properties.connectorMapping());
				});
				array.push(mapped);
			});
			repeatableControl.setValue(array);
			repeatableControl.executeEvent(EventsId.ON_CHANGE.value);
		}

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('VALUE', dependencies);
			},
			_decorate: function _decorate(control) {

				control.dataSource = ko.observableArray([]);
				control.dataSourcePage = ko.pureComputed(function () {
					return control.dataSource();
				});
				control.getRows = function () {
					return control.dataSource();
				};
				control.getAllRows = control.getRows;

				control.value = control.context.payloadContext.getObservableArrayForBinding(control);
				//Create a new row
				control.addRow = function () {
					var v = {};
					if (control.properties.hideBindings && control.properties.hideBindings()) {
						//When the array is of type String[] (or other simple type),
						// we don't want to have an object, but the observable directly
						v = ko.observable();
					}
					control.value.push(v);
				};
				control.removeRow = function (row) {
					var index = control.dataSource().indexOf(row);
					control.value.remove(control.value()[index]);
				};
				control.removeSelectedRow = function () {
					var value = control.value();
					_.each(control.selectedRows(), function (row) {
						var index = control.dataSource().indexOf(row);
						value = _.without(value, control.value()[index]);
					});
					control.value(value);
				};

				control.getControlValue = function () {
					return koToJSUtil.toJS(control.value());
				};

				control.getSelectedRows = function () {
					var selection = control.selectedRows();
					if (control.properties.multipleSelection()) {
						//If multiple selection, returned it ordered
						return _.sortBy(selection, function (row) {
							return control.dataSource.indexOf(row);
						});
					} else if (selection.length > 0) {
						//If single selection and something is selected, return it as an element, not an array
						return selection[0];
					}
					//Default value should be empty, to avoid breaking events
					return [];
				};

				control.setValue = function (array) {
					var valueArray = [];
					_.each(_.first(array, control.properties.maxRows()), function (value) {
						var v = value || {};
						if (control.properties.hideBindings && control.properties.hideBindings() && !ko.isObservable(value)) {
							//When the array is of type String[] (or other simple type),
							// we don't want to have an object, but the observable directly
							v = ko.observable(value);
						}
						valueArray.push(v);
					}, this);
					control.value(valueArray);
				};

				control.initValue = function (array) {
					if (!control.properties.fromConnector()) {
						control.setValue(array);
					}
				};

				//If the repeatable has to hideBindings, make sure that the value is valid,
				// setValue has some processing that corrects any issue
				if (control.properties.hideBindings && control.properties.hideBindings()) {
					control.setValue(control.value());
				}

				//Subsribing to array change allows us to avoid extra processing when the values are set
				// to the same old value
				control.value.subscribe(function (changes) {
					//Remove rows in reverse order
					_.each(_.sortBy(changes, function (change) {
						return -change.index;
					}), function (change) {
						if (change.status === 'deleted') {
							doRemoveRow(control, change.index);
						}
					});

					//Add rows in regular order
					_.each(changes, function (change) {
						if (change.status === 'added') {
							doAddRow(control, change.value);
						}
					});
				}, control, 'arrayChange');

				//Initialize the value to create the controls
				_.each(control.value(), function (row) {
					doAddRow(control, row);
				});

				control.getContextForChildren = function (child) {
					var index = this.getRows().indexOf(child);
					if (index > -1) {
						return this.getBindingContext() + this.properties.binding() + '[' + index + '].';
					}
					return this.getBindingContext() + this.properties.binding() + '.';
				};

				if (control.properties.fromConnector() && !control._restSubscription) {
					control._restSubscription = control.properties.optionsFeed().optionsResolver()._options.subscribe(_initValueFromRest.bind(this, control));
				}

				control.saveValue = function (saveData) {
					var binding = control.context.payloadContext.getFullBindingContextFor(control);
					if (!_.isEmpty(binding)) {
						saveData[binding] = saveData[binding] || [];
						_.each(control.getRows(), function (row, i) {
							saveData[binding][i] = saveData[binding][i] || {};
							_.each(row.getAllControls(), function (childControl) {
								if (control.properties.hideBindings && control.properties.hideBindings()) {
									saveData[binding][i] = childControl.getControlValue();
								} else {
									childControl.saveValue(saveData[binding][i]);
								}
							});
						});
					}
				};
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('value');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 323 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    _ = __webpack_require__(0);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_decorate: function _decorate(control) {

				control._buildForm = function (form, presentation) {
					return _.extend(presentation, {
						eventActions: form.eventActions,
						calls: form.calls,
						payload: control.getControlValue()
					});
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 324 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    SilentLoader = __webpack_require__(138),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('REFERENCE_LAZY_DECORATOR', dependencies);
			},
			_decorate: function _decorate(control) {

				var _getBindings = control.getBindings;
				control.getBindings = function () {
					if (control.rendered()) {
						return _getBindings.call(control);
					} else {
						control._silentModel = SilentLoader.load({
							form: _.extend({}, control.selectedPresentation(), {
								payload: control.value()
							}),
							config: _.clone(control.getConfig())
						});
						return control._silentModel.getBindings();
					}
				};

				var _rendered = control.rendered;

				control.rendered = ko.pureComputed({
					read: function read() {
						return _rendered() && control.controlsLoaded();
					},
					write: function write(value) {
						_rendered(value);
					}
				});
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('getBindings');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 325 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(10)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (exports, _ControlDecorator) {
	'use strict';

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _ControlDecorator2 = _interopRequireDefault(_ControlDecorator);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	exports.default = _ControlDecorator2.default.subClass({}, {
		init: function init(dependencies) {
			this._super('REFERENCE_PRESENTATION_DECORATOR', dependencies);
		},
		_decorate: function _decorate(control) {
			control.selectedPresentation = function () {
				return control.form;
			};
			control._getPresentation = function (id) {
				return this.form;
			};
		},
		isApplied: function isApplied(control) {
			return control.hasOwnProperty('selectedPresentation');
		}
	});
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 326 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var TranslationsDecorator = __webpack_require__(142);

		//endregion

		return TranslationsDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_decorate: function _decorate(control, context) {
				this._super(control, context);

				control.properties.optionsFeed().optionsResolver().translate(control, context);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 327 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super('COMPUTED_VALUE_DECORATOR', dependencies);
				this.computedSuffix = '_computed';
			},
			_decorate: function _decorate(control, context) {
				var self = this;
				var afterInitValue = function afterInitValue(control) {

					if (control.properties.computed && control.properties.computed() && control.properties.computedValue) {
						var key = control.id + self.computedSuffix;
						control.properties.computedValue.decorate(context.viewModel, key);
					}
					return true;
				};

				afterInitValue(control);
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('value');
			}

		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 328 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlDecorator = __webpack_require__(10),
		    oj = __webpack_require__(7),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1);

		//endregion

		return ControlDecorator.subClass({}, {
			init: function init() {
				this._super('GET_OJ_COMPONENT');
			},
			_decorate: function _decorate(control) {
				control._deferredOjComponentCalls = [];
				var defaultOjComponent = function defaultOjComponent() {
					control._deferredOjComponentCalls.push(arguments);
					return control._deferredOjComponentCalls;
				};
				//TODO add domIdPrefix as a decorator and as a dependency on this one.
				control.getOjComponent = function () {
					var ojComponentWidgetRef = oj.Components.getWidgetConstructor($('#' + this.domIdPrefix + ko.utils.unwrapObservable(this.id))[0]);
					if (ojComponentWidgetRef && ojComponentWidgetRef()) {
						return ojComponentWidgetRef;
					}
					return defaultOjComponent;
				};

				var afterRender = function afterRender(control) {
					defaultOjComponent = function defaultOjComponent() {};
					//If the default oj component is returned after the control is renderered, it means that the control is loading or somehow invalid.
					//The validation checks for this and validates silently if not loaded
					defaultOjComponent.isNotLoaded = true;

					var ojComponent = control.getOjComponent();
					_.each(control._deferredOjComponentCalls, function (callArguments) {
						ojComponent.apply(ojComponent, callArguments);
					});
					control._deferredOjComponentCalls = [];
					if (control.afterOjComponentInit) {
						control.afterOjComponentInit();
					}
					return true; //returning true so the listener is detached.
				};

				control.registerRenderListener(afterRender);
			},
			isApplied: function isApplied(control) {
				return control.hasOwnProperty('getOjComponent');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 329 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SelectValueDecorator = __webpack_require__(141),
		    _ = __webpack_require__(0);

		//endregion

		return SelectValueDecorator.subClass({}, {
			init: function init(dependencies) {
				this._super(dependencies);
			},
			_decorate: function _decorate(control) {
				this._super(control);

				//@override setValue, but keep reference
				var __superSetValue = control.setValue;
				control.setValue = function (value) {
					if (_.isArray(value)) {
						value = _.map(value, function (v) {
							return v.toString();
						});
					} else {
						value = value.toString();
					}
					__superSetValue.call(control, value);
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 330 */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zOmV2PSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL3htbC1ldmVudHMiDQoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMzJweCIgaGVpZ2h0PSIzMnB4Ig0KCSB2aWV3Qm94PSItNi41IC0zLjUgMzIgMzIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTYuNSAtMy41IDMyIDMyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiMwNTcyQ0UiIGQ9Ik0wLjk4Myw3Ljk3NFY1Ljk4N2MwLTEuMTA0LDAuODY0LTIsMS45NjktMkg0Ljk5VjIuMDQ2YzAtMS4xMDUsMC43MTktMiwxLjYwNi0yaDYuNzg4DQoJYzAuODg4LDAsMS42MDYsMC44OTUsMS42MDYsMnYxLjk0MWgyLjAxMWMxLjEwNCwwLDEuOTcsMC44OTYsMS45NywydjIuMDA1TDAuOTgzLDcuOTc0eiBNMTEuMDYyLDEuOTI1SDguOTgyDQoJQzguMTczLDEuOTA5LDguMDM4LDIuMjA2LDcuOTksMi44NzVDNy45NTIsMy4zOTksNy45OTIsNC4wNTgsNy45OTIsNC4wNThoMy45OTJjMCwwLDAuMDI5LTAuNjU4LDAuMDI5LTEuMTgzDQoJUzEyLjAxNiwxLjg3NiwxMS4wNjIsMS45MjV6IE0xNy4wMTgsMjMuMDE4YzAsMC41NTMtMC40NzksMS0xLjAzMSwxSDQuMDU2Yy0wLjU1MSwwLTEuMDMtMC40NDctMS4wMy0xVjkuMDQxaDEzLjk5MlYyMy4wMTh6Ii8+DQo8L3N2Zz4NCg=="

/***/ }),
/* 331 */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zOmV2PSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL3htbC1ldmVudHMiDQoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMzJweCIgaGVpZ2h0PSIzMnB4Ig0KCSB2aWV3Qm94PSItMy41IC0zLjUgMzIgMzIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTMuNSAtMy41IDMyIDMyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiMwNTcyQ0UiIGQ9Ik0yMy44OTYsMTQuOTAyaC04Ljk5NHY4Ljk4OGMwLDAuNTUzLTAuNDQ3LDEtMSwxaC0xLjk2Yy0wLjU1MiwwLTEtMC40NDctMS0xdi04Ljk4OEgxLjk1Mw0KCWMtMC41NTMsMC0xLTAuNDQ3LTEtMXYtMS45NmMwLTAuNTUyLDAuNDQ3LTEsMS0xaDguOTg5VjEuOTQ4YzAtMC41NTIsMC40NDgtMSwxLTFoMS45NmMwLjU1MywwLDEsMC40NDgsMSwxdjguOTk0aDguOTk0DQoJYzAuNTUyLDAsMSwwLjQ0OCwxLDF2MS45NkMyNC44OTYsMTQuNDU1LDI0LjQ0OCwxNC45MDIsMjMuODk2LDE0LjkwMnoiLz4NCjwvc3ZnPg0K"

/***/ }),
/* 332 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var AbstractCallDefinition = __webpack_require__(333),
		    _ = __webpack_require__(0);

		//endregion

		return AbstractCallDefinition.subClass({}, {

			init: function init(jsonModel) {
				this._super(jsonModel);
				this.formValues = jsonModel.formValues;
			},
			toJS: function toJS() {
				return _.extend(this._super(), {
					formValues: this.formValues
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 333 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    ResponseMapping = __webpack_require__(129);

		//endregion

		return Class.subClass({}, {

			init: function init(jsonModel) {
				this.id = jsonModel.id;
				this.response = ko.observable(new ResponseMapping(jsonModel.response));
			},
			toJS: function toJS() {
				return {
					id: this.id,
					response: this.response().toJS()
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 334 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    UUID = __webpack_require__(17),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    DefaultFormHandler = __webpack_require__(122),
		    DefaultCssHandler = __webpack_require__(123),
		    DefaultOutcomeHandler = __webpack_require__(127),
		    DefaultTranslationsHandler = __webpack_require__(82),
		    DefaultTypeHandler = __webpack_require__(124);

		//endregion

		return Class.subClass({
			preProcess: function preProcess(json) {
				json = ko.utils.unwrapObservable(json);
				json.form = json.form || {};
				json.config = json.config || {};

				var id = UUID.createUuid();
				_.defaults(json.form, {
					id: id,
					name: id,
					description: '',
					controls: [],
					calls: [],
					allBundles: []
				});
				_.defaults(json.config, {
					formHandler: DefaultFormHandler.create(),
					cssHandler: DefaultCssHandler.create(),
					typeHandler: DefaultTypeHandler.create(),
					outcomeHandler: DefaultOutcomeHandler.create(),
					translationsHandler: DefaultTranslationsHandler.create(),
					readOnly: false,
					domIdPrefix: ''
				});
				_.defaults(json, {
					dependencies: []
				});
				return json;
			}
		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 335 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var _ = __webpack_require__(0),
		    $ = __webpack_require__(2),
		    Presentation = __webpack_require__(336),
		    EventsId = __webpack_require__(14),
		    LoadingSpinner = __webpack_require__(91),
		    EventsTranslator = __webpack_require__(386),
		    ko = __webpack_require__(1),
		    Payload = __webpack_require__(139),
		    FormExtensions = __webpack_require__(387),
		    PayloadUtil = __webpack_require__(140);

		//endregion

		return Presentation.subClass({}, {
			init: function init(json, context) {
				context.config().translationsHandler.setAllBundles(json.allBundles);
				context.config().translationsHandler.fetchCurrentLanguage();
				this._super(json, context);

				this.extensions = new FormExtensions(json, context);
				this.payload = new Payload(json, context);
				//adding payload to the context, used to get options dynamically.
				context.payload(this.payload);

				this.controlsLoaded = ko.observable(this.controls().length === 0);
				this.loadEventsExecuted = ko.observable(!!this.viewModel.staticForm);

				var self = this;
				this.loaded = ko.pureComputed({
					read: function read() {
						return self.controlsLoaded() && self.loadEventsExecuted();
					}
				});
			},
			initPayloadAndRunEvents: function initPayloadAndRunEvents() {
				var self = this;
				self.populateValues();

				EventsTranslator.translate(self.extensions.eventActions());
				//Finally run the onLoad event
				setTimeout(function () {
					self.executeOnLoadEvents();
				});
			},
			populateValues: function populateValues() {

				var payloadBindings = this.payload.getBindings();
				if (_.size(payloadBindings) > 0) {
					//Skip the controls inside repeatables, as they are set by its parent
					_.each(this.getAllControls(true), function (control) {
						PayloadUtil.initValueFromPayload(control, payloadBindings);
					}, this);

					//set the values in the payload Context
					_.each(payloadBindings, function (value, key) {
						//Only set values that are not observables,
						// as values that are observables are already set by controls
						// and each control may have a custom setValue (ie. DateValueDecorator)
						// overriding that can create issues
						if (!this.payload.payloadContext.isObservableDefined(key)) {
							this.payload.payloadContext.setValue(key, value);
						}
					}, this);
				}
			},
			updateBindings: function updateBindings() {
				this.payload.updateBindings(this.controls);
			},
			saveValue: function saveValue() {
				var saveDataPayload = this.payload.toJS();
				var saveData = {};

				_.each(this.getAllControls(), function (control) {
					control.saveValue(saveData);
				});
				return _.extend({}, saveDataPayload, saveData);
			},
			getBindings: function getBindings() {
				this.updateBindings();
				return this.payload.getBindings();
			},
			changePresentation: function changePresentation(presentationId) {
				this.viewModel.changePresentation(presentationId);
			},
			executeOnLoadEvents: function executeOnLoadEvents() {
				var self = this;

				return this.executeGlobalConnectors().then(function () {
					return self.executeEventOnAll(EventsId.ON_LOAD.value).then(function () {
						self.loadEventsExecuted(true);
						LoadingSpinner.fadeOut();
					});
				}).catch( /*istanbul ignore next*/function () {
					LoadingSpinner.fadeOut();
				});
			},
			afterRenderingRowControls: function afterRenderingRowControls(dom) {
				var self = this;
				var subscribe = self.viewModel.context.runningAsyncTemplates.subscribe(function (val) {
					if (val === 0) {
						subscribe.dispose();
						self.viewModel.context.focusControl($(dom).parents('form-renderer').find('[autofocus]'));
						self.controlsLoaded(true);
					}
				});
			},
			toJS: function toJS() {
				return _.extend(this._super(), this.extensions.toJS(), {
					payload: this.payload.toJS(),
					calls: this._callsToJS()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 336 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		/* globals Promise */

		//region dependencies

		var ko = __webpack_require__(1),
		    Form = __webpack_require__(143),
		    ControlTypeId = __webpack_require__(4),
		    _ = __webpack_require__(0),
		    EventActionsMap = __webpack_require__(86),
		    ControlPropertiesMap = __webpack_require__(87),
		    ControlFactory = __webpack_require__(88),
		    BlockFactory = __webpack_require__(43),
		    EventReference = __webpack_require__(146),
		    TreeUtil = __webpack_require__(40),
		    $ = __webpack_require__(2),
		    ControlEventsMap = __webpack_require__(149),
		    UUID = __webpack_require__(17);

		//endregion

		var DEFAULT_BORDER_COLOR = '#d6dfe6',
		    DEFAULT_BACKGROUND_COLOR = '#ffffff';

		return Form.subClass({}, {
			type: ControlTypeId.FORM_PRESENTATION,
			init: function init(json, context) {
				this._super(json);
				this.viewModel = context.viewModel;
				context.calls = this.calls;

				_.defaults(json, {
					borderColor: DEFAULT_BORDER_COLOR,
					borderStyle: null,
					borderWidth: null,
					backgroundColor: DEFAULT_BACKGROUND_COLOR,
					properties: {}
				});

				_.extend(this.properties, {
					borderColor: ko.observable(json.borderColor),
					borderStyle: ko.observable(json.borderStyle),
					borderWidth: ko.observable(json.borderWidth),
					backgroundColor: ko.observable(json.backgroundColor)
				});
				this.name = this.properties.name;

				this.globalConnectors = ko.observableArray();
				this.globalScope = new context.scopeFactory.Scope(null, this.globalConnectors);
				this.globalScope.eventControl = this;
				this.viewModel.globalScope = this.globalScope;
				var globalConnectors = [];
				_.each(ko.unwrap(json.properties.globalConnectors), function (connector) {
					globalConnectors.push(BlockFactory.createBlock(context.viewModel, connector, this.viewModel.globalScope));
				}, this);
				this.globalConnectors(globalConnectors);

				var controls = [];
				_.each(json.controls, function (controlData) {
					var row = ControlFactory.createControl(controlData.id, controlData.name, controlData.type, controlData, context, this);
					controls.push(row);
				}, this);

				this.controls = ko.observableArray(controls);

				this.isValid = ko.pureComputed(function () {
					return _.every(this.controls(), function (control) {
						return control.isValid();
					});
				}.bind(this));

				var events = [];
				_.each(ko.unwrap(json.properties.events), function (event) {
					events.push(new EventReference(event.id, context.viewModel));
				}, this);
				this.events = ko.observableArray(events);

				this.computedPresentations = ko.pureComputed(function () {
					return _.map(ko.unwrap(context.viewModel.form().presentations), function (presentation) {
						return {
							value: presentation.id,
							label: ko.unwrap(presentation.name)
						};
					});
				});
			},

			executeGlobalConnectors: function executeGlobalConnectors() {
				var connectorPromise = [];

				_.each(this.globalConnectors(), function (con) {
					if (!con.connectorFeed.properties().skipDuringLoad()) {
						connectorPromise.push(con.execute());
					}
				});

				return _promise2.default.all(connectorPromise);
			},
			/**
    * Return the current presentation
    * This allows to do form.presentation() in both builder (in which form is a form that has presentations) and renderer (in which form is the presentation)
    * @returns Presentation
    */
			presentation: function presentation() {
				return this;
			},

			executeEvent: function executeEvent(trigger) {
				var events = [];
				_.each(this.events(), function (eventRef) {
					var eventTrigger = eventRef.event().trigger;
					if (trigger === eventTrigger()) {
						events.push(eventRef.execute(this));
					}
				}, this);
				return _promise2.default.all(events);
			},
			executeEventOnAll: function executeEventOnAll(trigger) {
				var events = [this.executeEvent(trigger)];
				var self = this;
				$.each(self.getAllControls(true), function (i, control) {
					events = events.concat(control.executeEventOnAll(trigger));
				});
				return _promise2.default.all(events);
			},
			getValidEvents: function getValidEvents() {
				return ControlEventsMap.PRESENTATION;
			},
			/** override */
			getAllControls: function getAllControls(skipControlsInsideRepeatables) {
				//getControls calls a function, in which repeatables skip the children
				//controls calls directly the observable
				return TreeUtil.treeToList(this.controls(), skipControlsInsideRepeatables ? 'getControls' : 'controls');
			},
			/** override */
			findControl: function findControl(controlId) {
				if (controlId === this.id) {
					return this;
				}
				var control = this.findControlAndParent(controlId);
				return control !== null ? control.node : null;
			},
			findClosest: function findClosest(id) {
				return this.findControl(id);
			},
			findControlInsideRepeatable: function findControlInsideRepeatable(controlId) {
				var control = this.findControl(controlId);
				if (!control) {
					_.any(this.getAllControls(true), function (childControl) {
						if (childControl.isRepeatable()) {
							control = childControl.findControlInsideRepeatable(controlId);
							return !!control;
						}
					});
				}
				return control;
			},
			/** override */
			getAllPresentationControls: function getAllPresentationControls() {
				return _.union([this], this.getAllControls());
			},
			findControlAndParent: function findControlAndParent(controlId) {
				return TreeUtil.find(this, 'controls', 'id', controlId);
			},
			getContextForChildren: function getContextForChildren(child) {
				return '';
			},
			getStyleMapper: function getStyleMapper() {
				return [];
			},
			getControlActions: function getControlActions() {
				return EventActionsMap[ControlTypeId.FORM_PRESENTATION];
			},
			getControlEventProperties: function getControlEventProperties() {
				return ControlPropertiesMap[ControlTypeId.FORM_PRESENTATION];
			},
			makeCopy: function makeCopy() {
				var copy = this.toJS();
				copy.id = UUID.createUuid();
				var controls = [];
				_.each(this.controls(), function (control) {
					controls.push(control.makeCopy());
				});
				copy.controls = controls;
				return copy;
			},
			isRepeatable: function isRepeatable() {
				return false;
			},
			toJS: function toJS() {
				var controls = [];
				_.each(this.controls(), function (control) {
					controls.push(control.toJS());
				});
				var events = [];
				_.each(this.events(), function (event) {
					events.push(event.toJS());
				});
				var globalConnectors = [];
				_.each(this.globalConnectors(), function (connector) {
					globalConnectors.push(connector.toJS());
				});

				return {
					id: this.id,
					name: this.properties.name(),
					description: this.properties.description(),
					borderColor: this.properties.borderColor(),
					borderWidth: this.properties.borderWidth(),
					borderStyle: this.properties.borderStyle(),
					backgroundColor: this.properties.backgroundColor(),
					controls: controls,
					properties: {
						events: events,
						globalConnectors: globalConnectors
					}
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 337 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    ControlTypeId = __webpack_require__(4);

		//endregion

		return Control.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				this._super(id, name, context.getControlDefinitionByType(ControlTypeId.BUTTON), properties, context, parent);
				_.defaults(properties, {
					readonly: false
				});

				this.properties.readonly = ko.observable(properties.readonly); // when dropped inside Parents (Repeatable or table), they have a Inheritable property 'readonly'
			},
			hasValueProperty: function hasValueProperty() {
				return false;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 338 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_338__;

/***/ }),
/* 339 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var InputTextControl = __webpack_require__(34),
		    _ = __webpack_require__(0),
		    ControlTypeId = __webpack_require__(4),
		    ko = __webpack_require__(1);

		//endregion

		return InputTextControl.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				this._super(id, name, properties, context, parent, context.getControlDefinitionByType(ControlTypeId.TEXT_AREA));

				_.defaults(properties, {
					rows: null
				});

				this.properties.rows = ko.observable(properties.rows);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 340 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ActionsMap = __webpack_require__(58);
		var _ = __webpack_require__(0);
		var StyleActionsMap = __webpack_require__(341);

		//endregion

		return {
			createAction: function createAction(viewModel, scope, model, control, actionName) {
				var action = ActionsMap[actionName] || StyleActionsMap[actionName] || ActionsMap.DO_NOTHING;
				//If control is an array, we keep only the first, as we need it for a default value and type check only
				// the only case for this being an array is multiple selection, and all controls would be the same type
				control = _.isArray(control) ? control[0] : control;
				return new action.Action(model, viewModel, scope, control);
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 341 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5);
		var SetStyleAction = __webpack_require__(342);
		var StyleTypeId = __webpack_require__(47);
		var ToggleClassAction = __webpack_require__(90);
		var AddClassAction = __webpack_require__(343);
		var RemoveClassAction = __webpack_require__(344);
		//endregion

		return {
			'BACKGROUND_COLOR': {
				value: 'BACKGROUND_COLOR',
				label: StyleTypeId.BACKGROUND_COLOR.label,
				Action: SetStyleAction.createStyleAction('BACKGROUND_COLOR', StyleTypeId.BACKGROUND_COLOR)
			},
			'COLOR': {
				value: 'COLOR',
				label: StyleTypeId.COLOR.label,
				Action: SetStyleAction.createStyleAction('COLOR', StyleTypeId.COLOR)
			},
			'SIZE': {
				value: 'SIZE',
				label: StyleTypeId.SIZE.label,
				Action: SetStyleAction.createStyleAction('SIZE', StyleTypeId.SIZE)
			},
			'TEXT_ALIGN': {
				value: 'TEXT_ALIGN',
				label: StyleTypeId.TEXT_ALIGN.label,
				Action: SetStyleAction.createStyleAction('TEXT_ALIGN', StyleTypeId.TEXT_ALIGN)
			},
			'WIDTH': {
				value: 'WIDTH',
				label: StyleTypeId.WIDTH.label,
				Action: SetStyleAction.createStyleAction('WIDTH', StyleTypeId.WIDTH)
			},
			'HEIGHT': {
				value: 'HEIGHT',
				label: StyleTypeId.HEIGHT.label,
				Action: SetStyleAction.createStyleAction('HEIGHT', StyleTypeId.HEIGHT)
			},
			'BORDER_COLOR': {
				value: 'BORDER_COLOR',
				label: StyleTypeId.BORDER_COLOR.label,
				Action: SetStyleAction.createStyleAction('BORDER_COLOR', StyleTypeId.BORDER_COLOR)
			},
			'BORDER_STYLE': {
				value: 'BORDER_STYLE',
				label: StyleTypeId.BORDER_STYLE.label,
				Action: SetStyleAction.createStyleAction('BORDER_STYLE', StyleTypeId.BORDER_STYLE)
			},
			'BORDER_WIDTH': {
				value: 'BORDER_WIDTH',
				label: StyleTypeId.BORDER_WIDTH.label,
				Action: SetStyleAction.createStyleAction('BORDER_WIDTH', StyleTypeId.BORDER_WIDTH)
			},
			'BORDER_RADIUS': {
				value: 'BORDER_RADIUS',
				label: StyleTypeId.BORDER_RADIUS.label,
				Action: SetStyleAction.createStyleAction('BORDER_RADIUS', StyleTypeId.BORDER_RADIUS)
			},
			'CONTROL_ALIGN': {
				value: 'CONTROL_ALIGN',
				label: StyleTypeId.CONTROL_ALIGN.label,
				Action: SetStyleAction.createStyleAction('CONTROL_ALIGN', StyleTypeId.CONTROL_ALIGN)
			},
			'LABEL_COLOR': {
				value: 'LABEL_COLOR',
				label: StyleTypeId.LABEL_COLOR.label,
				Action: SetStyleAction.createStyleAction('LABEL_COLOR', StyleTypeId.LABEL_COLOR)
			},
			'LABEL_SIZE': {
				value: 'LABEL_SIZE',
				label: StyleTypeId.LABEL_SIZE.label,
				Action: SetStyleAction.createStyleAction('LABEL_SIZE', StyleTypeId.LABEL_SIZE)
			},

			'TOGGLE_CLASS': {
				value: 'TOGGLE_CLASS',
				label: msg.TOGGLE_CLASS,
				Action: ToggleClassAction
			},
			'ADD_CLASS': {
				value: 'ADD_CLASS',
				label: msg.ADD_CLASS,
				Action: AddClassAction
			},
			'REMOVE_CLASS': {
				value: 'REMOVE_CLASS',
				label: msg.REMOVE_CLASS,
				Action: RemoveClassAction
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 342 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventAction = __webpack_require__(8),
		    assert = __webpack_require__(59),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return EventAction.subClass({
			ACTION_NAME: '',
			STYLE: null,
			createStyleAction: function createStyleAction(actionName, styleType) {
				return this.subClass({
					ACTION_NAME: actionName,
					STYLE: styleType
				}, {
					init: function init(model, viewModel, scope, control) {
						this._super(model, viewModel, scope, control);
					}
				});
			}
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
				assert(!!this.style(), 'SetStyleAction class is abstract');

				var defaultValue = control ? ko.unwrap(control.properties.formattedStyle()[this.style().name]) : null;
				defaultValue = defaultValue || this.style().default;

				this.value = ko.observable(model.value || defaultValue);
			},

			template: function template() {
				return 'styleValueEventTemplate';
			},

			style: function style() {
				return this._class.STYLE;
			},

			execute: function execute(control) {
				var style = _.find(control.styles(), function (s) {
					return s.type.name === this.style().name;
				}, this);
				style.value(this.value());
			},

			toJS: function toJS() {
				return _.extend({}, this._super(), {
					value: this.value()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 343 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ToggleClassAction = __webpack_require__(90),
		    _ = __webpack_require__(0);

		//endregion

		return ToggleClassAction.subClass({
			ACTION_NAME: 'ADD_CLASS'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			},

			execute: function execute(control) {
				var style = _.find(control.styles(), function (s) {
					return s.type.name === this.style().name;
				}, this);
				var classes = style.value().split(' ');
				style.value(classes.concat([this.value()]).join(' '));
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 344 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ToggleClassAction = __webpack_require__(90),
		    _ = __webpack_require__(0);

		//endregion

		return ToggleClassAction.subClass({
			ACTION_NAME: 'REMOVE_CLASS'
		}, {
			init: function init(model, viewModel, scope, control) {
				this._super(model, viewModel, scope, control);
			},

			execute: function execute(control) {
				var style = _.find(control.styles(), function (s) {
					return s.type.name === this.style().name;
				}, this);
				var classes = style.value().split(' ');
				style.value(_.without(classes, this.value()).join(' '));
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 345 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5);
		//endregion

		var Comparators = {
			'IS_TRUE': {
				value: 'IS_TRUE',
				label: msg.IS_TRUE,
				isTrue: function isTrue(v1) {
					return !!v1;
				}
			},
			'IS_FALSE': {
				value: 'IS_FALSE',
				label: msg.IS_FALSE,
				isTrue: function isTrue(v1) {
					return !Comparators.IS_TRUE.isTrue(v1);
				}
			},
			'EQUALS': {
				value: 'EQUALS',
				label: msg.EQUALS,
				isTrue: function isTrue(v1, v2) {
					/* jshint eqeqeq: false */
					//We are intentionally using the == comparator
					//So the user can compare with numbers, as the constant value will always be a string
					return v1 == v2;
				}
			},
			'NOT_EQUALS': {
				value: 'NOT_EQUALS',
				label: msg.NOT_EQUALS,
				isTrue: function isTrue(v1, v2) {
					return !Comparators.EQUALS.isTrue(v1, v2);
				}
			},
			'IS_GREATER': {
				value: 'IS_GREATER',
				label: msg.IS_GREATER,
				isTrue: function isTrue(v1, v2) {
					return v1 > v2;
				}
			},
			'IS_NOT_GREATER': {
				value: 'IS_NOT_GREATER',
				label: msg.IS_NOT_GREATER,
				isTrue: function isTrue(v1, v2) {
					return !Comparators.IS_GREATER.isTrue(v1, v2);
				}
			},
			'IS_LESS': {
				value: 'IS_LESS',
				label: msg.IS_LESS,
				isTrue: function isTrue(v1, v2) {
					return v1 < v2;
				}
			},
			'IS_NOT_LESS': {
				value: 'IS_NOT_LESS',
				label: msg.IS_NOT_LESS,
				isTrue: function isTrue(v1, v2) {
					return !Comparators.IS_LESS.isTrue(v1, v2);
				}
			},
			'IS_EMPTY': {
				value: 'IS_EMPTY',
				label: msg.IS_EMPTY,
				isTrue: function isTrue(v1) {
					return v1 instanceof Array && v1.length === 0 || v1 !== 0 && !v1;
				}
			}
		};

		return Comparators;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 346 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */
		//region dependencies

		var EventBlock = __webpack_require__(50),
		    ko = __webpack_require__(1),
		    BlockTypes = __webpack_require__(25),
		    _ = __webpack_require__(0),
		    LoadingSpinner = __webpack_require__(91),
		    OptionsFeed = __webpack_require__(89),
		    NameGenerator = __webpack_require__(57),
		    OptionsType = __webpack_require__(41);

		//endregion

		return EventBlock.subClass({
			TYPE: BlockTypes.CONNECTOR_BLOCK,
			TEMPLATE_NAME: 'event-connector-block'
		}, {
			init: function init(model, viewModel, scope) {
				var BlockFactory = __webpack_require__(43);
				this._super(model, viewModel, scope);

				this.connectorFeed = new OptionsFeed(OptionsType.EVENT_CONNECTOR.value, viewModel.context, model.connectorFeedProperties, scope.controlId);

				this.preventLoadingSpinner = ko.observable(model.preventLoadingSpinner);
				this.responseName = ko.observable(model.responseName || NameGenerator.generateName('response', scope.getAttributes()));

				var errorBlocks = [];
				_.each(model.errorBlocks, function (block) {
					errorBlocks.push(BlockFactory.createBlock(viewModel, block, scope));
				});
				this.errorBlocks = ko.observableArray(errorBlocks);

				this.form = viewModel.form();
				viewModel.form.subscribe(function (newForm) {
					this.form = newForm;
				}, this);
			},

			execute: function execute() {

				var self = this;
				LoadingSpinner.fadeIn(!this.preventLoadingSpinner());

				return new _promise2.default(function (resolve, reject) {

					self.connectorFeed.optionsResolver().controlId = self.scope.eventControl.id;
					self.connectorFeed.optionsResolver().loadConnector(self.form).then(function (response) {
						var valueResponse = response ? response.response : null;

						self.scope.setValue(self.responseName(), valueResponse);

						resolve();
					}).catch(function (e) {

						//ToDo 16.4.5 This should come parsed from the handler
						var error = JSON.parse(e);

						_.each(self.errorBlocks(), function (errorBloq) {
							errorBloq.execute(error);
						});

						reject();
					});
				});
			},

			getBundle: function getBundle() {
				var bundle = {};
				_.each(this.errorBlocks(), function (block) {
					_.extend(bundle, block.getBundle());
				});

				return bundle;
			},

			decorate: function decorate() {
				_.each(this.errorBlocks(), function (block) {
					block.decorate();
				});

				return true;
			},

			toJS: function toJS() {
				var errorBlocks = [];
				_.each(this.errorBlocks(), function (block) {
					errorBlocks.push(block.toJS());
				});

				return _.extend(this._super(), {
					connectorFeedProperties: this.connectorFeed.properties().toFullJS(),
					errorBlocks: errorBlocks,
					preventLoadingSpinner: this.preventLoadingSpinner(),
					responseName: this.responseName()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 347 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */
		//region dependencies

		var EventBlock = __webpack_require__(50),
		    ko = __webpack_require__(1),
		    BlockTypes = __webpack_require__(25),
		    _ = __webpack_require__(0),
		    ValueTypes = __webpack_require__(61),
		    NameGenerator = __webpack_require__(57),
		    Value = __webpack_require__(15);

		//endregion

		return EventBlock.subClass({
			TYPE: BlockTypes.EVENT_FILTER_BLOCK,
			TEMPLATE_NAME: 'event-filter-block'
		}, {
			init: function init(model, viewModel, scope) {
				var BlockFactory = __webpack_require__(43);
				this._super(model, viewModel, scope);

				_.defaults(model, {
					isExecute: false,
					filterName: NameGenerator.generateName('filter', scope.getFilterAttributes())
				});
				var defaultValue = _.extend({
					type: ValueTypes.CONTROL.value
				}, model.source);

				this.source = new Value(defaultValue, viewModel, scope);

				this.valueType = ko.observable();
				this.rootType = ko.observable();
				this.isExecute = ko.observable(model.isExecute);
				this.filterName = ko.observable(model.filterName);

				var blocks = [];
				_.each(model.blocks, function (block) {
					blocks.push(BlockFactory.createBlock(viewModel, block, scope));
				});

				this.blocks = ko.observableArray(blocks);

				this.form = viewModel.form();
				viewModel.form.subscribe(function (newForm) {
					this.form = newForm;
				}, this);
			},

			execute: function execute() {
				var self = this;
				var sourceType = self.source.type(),
				    response = [],
				    values = [];
				switch (sourceType) {
					case ValueTypes.SCOPE:
					case ValueTypes.DATA:
						response = self.source.resolve(this.viewModel, this.scope);
						break;
					case ValueTypes.CONTROL:
					default:
						var control = self.source.controlResolver.resolve(self.form.presentation());
						response = control._datasource.response;
						break;
				}

				return new _promise2.default(function (resolve, reject) {
					var promises = [];
					_.each(ko.unwrap(self.blocks), function (block) {
						promises.push(_promise2.default.resolve(block.execute(response)).then(function (value) {
							values.push(value);
						}));
					});
					return _promise2.default.all(promises).then(function () {
						var filteredResponse = self.blocks().length ? _.unique(_.flatten(values)) : response;
						self.scope.setValue(self.filterName(), filteredResponse);
						resolve();
					});
				});
			},

			getBundle: function getBundle() {
				var bundle = {};
				_.each(this.blocks(), function (block) {
					_.extend(bundle, block.getBundle());
				});

				return bundle;
			},

			decorate: function decorate() {
				_.each(this.blocks(), function (block) {
					block.decorate();
				});

				return true;
			},

			toJS: function toJS() {
				var blocks = [];
				_.each(this.blocks(), function (block) {
					blocks.push(block.toJS());
				});

				return _.extend(this._super(), {
					source: this.source.toJS(),
					blocks: blocks,
					isExecute: this.isExecute(),
					filterName: this.filterName()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 348 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventActionBlock = __webpack_require__(152),
		    ko = __webpack_require__(1),
		    BlockTypes = __webpack_require__(25),
		    _ = __webpack_require__(0);

		//endregion

		return EventActionBlock.subClass({
			TYPE: BlockTypes.ERROR_BLOCK,
			TEMPLATE_NAME: 'event-error-block'
		}, {
			init: function init(model, viewModel, scope) {
				this._super(model, viewModel, new viewModel.context.scopeFactory.ErrorScope(viewModel.getCurrentGlobalScope()));
				this.errorCode = ko.observable(model.errorCode || 0);
			},

			execute: function execute(error) {
				/* jshint eqeqeq: false */
				//We are intentionally using the == comparator
				//Because the errorCode in the server is a string, but we store it as a number
				if (!this.errorCode() || this.errorCode() == error.errorCode) {
					this.scope.setValue('error', error);
					this._super();
				}
			},

			toJS: function toJS() {
				return _.extend(this._super(), {
					errorCode: this.errorCode()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 349 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		/* globals Promise */

		var EventBlock = __webpack_require__(50),
		    _ = __webpack_require__(0),
		    BlockTypes = __webpack_require__(25),
		    EventCondition = __webpack_require__(154);

		//endregion

		return EventBlock.subClass({
			TYPE: BlockTypes.FILTER_BLOCK,
			TEMPLATE_NAME: 'filter-block'
		}, {
			init: function init(model, viewModel, scope) {
				this._super(model, viewModel, scope);

				_.defaults(model, {
					condition: {}
				});
				this.condition = new EventCondition(model.condition, viewModel, scope);
			},

			execute: function execute(list) {
				var self = this;
				if (list) {
					return _.filter(list, function (item) {
						return self.condition.isTrue(item);
					});
				}
				return [];
			},

			getBundle: function getBundle() {
				return this.condition.getBundle();
			},

			decorate: function decorate() {
				this.condition.decorate();
			},

			toJS: function toJS() {
				return _.extend(this._super(), {
					condition: this.condition.toJS()
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 350 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		/* global Promise */

		//region dependencies

		var EventIfBlock = __webpack_require__(153);
		var BlockTypes = __webpack_require__(25);

		//endregion

		return EventIfBlock.subClass({
			TYPE: BlockTypes.FILTER_IF_BLOCK,
			TEMPLATE_NAME: 'filter-if-block'
		}, {
			init: function init(model, viewModel, scope) {
				this._super(model, viewModel, scope);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 351 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var LOVControl = __webpack_require__(64),
		    _ = __webpack_require__(0),
		    ControlTypeId = __webpack_require__(4),
		    ko = __webpack_require__(1);

		//endregion

		return LOVControl.subClass({}, {
			_autoFocusMustBeNull: true,
			init: function init(id, name, properties, context, parent) {
				_.defaults(properties, {
					help: '',
					inline: false,
					multiple: true,
					readonly: false
				});

				this._super(id, name, context.getControlDefinitionByType(ControlTypeId.CHECKLIST), properties, context, parent);

				this.properties.help = ko.observable(properties.help);
				this.properties.inline = ko.observable(properties.inline);
				this.properties.readonly = ko.observable(properties.readonly); // when dropped inside Parents (Repeatable or table), they have a Inheritable property 'readonly'
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 352 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    ControlTypeId = __webpack_require__(4),
		    koToJSUtil = __webpack_require__(21),
		    ko = __webpack_require__(1);

		//endregion

		return Control.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				_.defaults(properties, {
					help: '',
					hint: '',
					defaultValue: false,
					readonly: false
				});
				var self = this;
				self._super(id, name, context.getControlDefinitionByType(ControlTypeId.CHECKBOX), properties, context, parent);

				self.properties.help = ko.observable(properties.help);
				self.properties.hint = ko.observable(properties.hint);
				self.properties.defaultValue = ko.observableArray(self.getInitialValue(properties.defaultValue));
				self.properties.defaultValue.subscribe(function (value) {
					self.defaultValue(value[0] === 'true');
				});

				self.defaultValue = ko.observable(properties.defaultValue);
				self.checkboxValue = ko.observableArray(self.getInitialValue(properties.defaultValue));
				self.checkboxValue.subscribe(function (value) {
					self.setValue(value);
				});
				self.properties.readonly = ko.observable(properties.readonly); // when dropped inside Parents (Repeatable or table), they have a Inheritable property 'readonly'
			},
			getInitialValue: function getInitialValue(defaultValue) {
				return defaultValue ? ['true'] : ['false'];
			},
			getDataTemplate: function getDataTemplate() {
				return 'booleanValueTypeTemplate';
			},
			_propertiesToJS: function _propertiesToJS() {
				var properties = koToJSUtil.toJS(this.properties);
				properties.defaultValue = this.defaultValue();
				return properties;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 353 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var LOVControl = __webpack_require__(64),
		    ControlTypeId = __webpack_require__(4),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1);

		//endregion

		return LOVControl.subClass({}, {
			_autoFocusMustBeNull: true,
			init: function init(id, name, properties, context, parent) {
				this._super(id, name, context.getControlDefinitionByType(ControlTypeId.RADIO_BUTTON), properties, context, parent);

				_.defaults(properties, {
					help: '',
					inline: false,
					readonly: false
				});

				this.properties.help = ko.observable(properties.help);
				this.properties.inline = ko.observable(properties.inline);
				this.properties.readonly = ko.observable(properties.readonly); // when dropped inside Parents (Repeatable or table), they have a Inheritable property 'readonly'

				var defaultValue = this.properties.defaultValue;

				this.properties.defaultValue = ko.pureComputed({
					read: function read() {
						return defaultValue()[0];
					},
					owner: this
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 354 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var InputTextControl = __webpack_require__(34),
		    ControlTypeId = __webpack_require__(4),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1);

		//endregion

		return InputTextControl.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				var self = this;
				self._super(id, name, properties, context, parent, context.getControlDefinitionByType(ControlTypeId.NUMBER));

				_.defaults(properties, {
					step: 1,
					maxValue: null,
					minValue: null,
					showUpDownArrow: false
				});

				self.properties.step = ko.observable(properties.step);
				self.properties.maxValue = ko.observable(properties.maxValue);
				self.properties.minValue = ko.observable(properties.minValue);
				self.properties.showUpDownArrow = ko.observable(properties.showUpDownArrow);

				// Setting styling options after component creation has no effect. At that time, the root element already exists,
				// and can be accessed directly via the widget method. Hence, adding the styling by using manual subscription to the style and hide properties.
				self.properties.parsedStyle.subscribe(function (newVal) {
					self._applyStyle(newVal);
				}, self);

				self.afterRenderNumber = function () {
					self._applyStyle();
				};

				self.domId = context.getScope() + ' #' + context.config().domIdPrefix + id;
			},
			_applyStyle: function _applyStyle(value) {
				var widget = $(this.domId).ojInputNumber('widget'),
				    parsedStyle = value || this.properties.parsedStyle();

				widget.attr('style', parsedStyle);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 355 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    ControlTypeId = __webpack_require__(4),
		    $ = __webpack_require__(2),
		    ko = __webpack_require__(1),
		    oj = __webpack_require__(7);

		//endregion

		return Control.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				var self = this;
				self._super(id, name, context.getControlDefinitionByType(ControlTypeId.DATE), properties, context, parent);

				_.defaults(properties, {
					help: '',
					hint: '',
					readonly: false,
					placeHolder: '',
					defaultValue: '',
					minValue: null,
					maxValue: null,
					preventFreeInput: false,
					format: ['yy-MM-dd']
				});

				self.properties.help = ko.observable(properties.help);
				self.properties.hint = ko.observable(properties.hint);
				self.properties.placeHolder = ko.observable(properties.placeHolder);
				self.properties.minValue = ko.observable(properties.minValue);
				self.properties.maxValue = ko.observable(properties.maxValue);
				self.properties.readonly = ko.observable(properties.readonly);
				self.properties.defaultValue = ko.observable(properties.defaultValue);
				self.properties.preventFreeInput = ko.observable(properties.preventFreeInput);
				self.properties.format = ko.observableArray(properties.format);

				//TODO should self be part of the properties? Is Something that the user changes?
				self.properties.dateConverter = ko.observable(oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({
					pattern: self.properties.format()[0]
				}));

				//Note that ojCombobox's value is always encapsulated in an array
				self.properties.format.subscribe(function (newValue) {
					self.properties.dateConverter(oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({
						pattern: newValue[0]
					}));
				}, self);

				// Setting styling options after component creation has no effect. At that time, the root element already exists,
				// and can be accessed directly via the widget method. Hence, adding the styling by using manual subscription to the style and hide properties.
				self.properties.parsedStyle.subscribe(function (newVal) {
					self._applyStyle(id, newVal);
				}, self);

				self.afterRenderDate = function () {
					self._applyStyle(id);
				};
				self.domId = context.getScope() + ' #' + context.config().domIdPrefix + id;
			},
			_applyStyle: function _applyStyle(id, value) {
				var widget = $('#' + id).ojInputDate('widget'),
				    formattedStyle = this.properties.formattedStyle(),
				    parsedStyle = value || this.properties.parsedStyle(),
				    triggerInputElement = widget.find('.oj-inputdatetime-input-trigger');

				widget.attr('style', parsedStyle);

				if (formattedStyle.borderWidth) {
					triggerInputElement.css('border-width', formattedStyle.borderWidth);
				}
				if (formattedStyle.borderStyle) {
					triggerInputElement.css('border-style', formattedStyle.borderStyle);
				}
				if (formattedStyle.borderColor) {
					triggerInputElement.css('border-color', formattedStyle.borderColor);
				}
				if (formattedStyle.borderRadius) {
					triggerInputElement.css('border-top-right-radius', formattedStyle.borderRadius);
					triggerInputElement.css('border-bottom-right-radius', formattedStyle.borderRadius);
				}
			},
			_propertiesToJS: function _propertiesToJS() {
				var properties = this._super();
				delete properties.dateConverter;
				return properties;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 356 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    ControlTypeId = __webpack_require__(4),
		    ko = __webpack_require__(1),
		    oj = __webpack_require__(7);

		//endregion

		return Control.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				var self = this;
				self._super(id, name, context.getControlDefinitionByType(ControlTypeId.TIME), properties, context, parent);

				_.defaults(properties, {
					help: '',
					hint: '',
					readonly: false,
					placeHolder: '',
					defaultValue: '',
					minValue: null,
					maxValue: null,
					preventFreeInput: false,
					step: ['00:30:00:00']
				});

				self.properties.help = ko.observable(properties.help);
				self.properties.hint = ko.observable(properties.hint);
				self.properties.placeHolder = ko.observable(properties.placeHolder);
				self.properties.minValue = ko.observable(properties.minValue);
				self.properties.maxValue = ko.observable(properties.maxValue);
				self.properties.readonly = ko.observable(properties.readonly);
				self.properties.defaultValue = ko.observable(properties.defaultValue);
				self.properties.preventFreeInput = ko.observable(properties.preventFreeInput);
				self.properties.step = ko.observable(properties.step);

				self.properties.dateConverter = ko.observable(oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter());

				// Setting styling options after component creation has no effect. At that time, the root element already exists,
				// and can be accessed directly via the widget method. Hence, adding the styling by using manual subscription to the style and hide properties.
				self.properties.parsedStyle.subscribe(function (newVal) {
					self._applyStyle(id, newVal);
				}, self);

				self.afterRenderTime = function () {
					self._applyStyle(id);
				};

				this.domId = context.getScope() + ' #' + context.config().domIdPrefix + id;
			},
			_applyStyle: function _applyStyle(id, value) {
				var widget = $(this.domId).ojInputTime('widget'),
				    formattedStyle = this.properties.formattedStyle(),
				    parsedStyle = value || this.properties.parsedStyle(),
				    triggerInputElement = widget.find('.oj-inputdatetime-input-trigger');

				widget.attr('style', parsedStyle);

				if (formattedStyle.borderWidth) {
					triggerInputElement.css('border-width', formattedStyle.borderWidth);
				}
				if (formattedStyle.borderStyle) {
					triggerInputElement.css('border-style', formattedStyle.borderStyle);
				}
				if (formattedStyle.borderColor) {
					triggerInputElement.css('border-color', formattedStyle.borderColor);
				}
				if (formattedStyle.borderRadius) {
					triggerInputElement.css('border-top-right-radius', formattedStyle.borderRadius);
					triggerInputElement.css('border-bottom-right-radius', formattedStyle.borderRadius);
				}
			},
			_propertiesToJS: function _propertiesToJS() {
				var properties = this._super();
				delete properties.dateConverter;
				return properties;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 357 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */
		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    EventsId = __webpack_require__(14),
		    ControlTypeId = __webpack_require__(4),
		    TargetType = __webpack_require__(358);

		//endregion

		return Control.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				this._super(id, name, context.getControlDefinitionByType(ControlTypeId.LINK), properties, context, parent);

				_.defaults(properties, {
					target: [TargetType.NEWTAB.value],
					isLabelBindable: 'false',
					defaultLabel: name,
					labelVal: '',
					labelBinding: '',
					defaultValue: '',

					anchor: false,
					//                options: [],
					defaultOption: []
				});

				this.properties.target = ko.observable(properties.target);
				this.properties.defaultValue = ko.observable(properties.defaultValue);
				this.properties.labelVal = ko.observable(properties.labelVal);
				this.properties.defaultLabel = ko.observable(properties.defaultLabel);

				this.properties.isLabelBindable = ko.observable(properties.isLabelBindable);
				this.properties.labelBinding = ko.observable(properties.labelBinding);

				this.properties.anchor = ko.observable(properties.anchor);
				//            this.properties.options = ko.observable(properties.options);
				this.properties.defaultOption = ko.observableArray(properties.defaultOption);

				this.computedOptions = ko.pureComputed(function () {
					var self = this;
					var anchor = this.properties.anchor();
					var optionControls = [];
					/* istanbul ignore else */
					if (anchor) {
						var form = this.context.viewModel.form();
						/* istanbul ignore else */
						if (form) {
							var controls = form.getAllControls(true);
							_.each(controls, function (control) {
								var unSupportedControlType = [ControlTypeId.TABLE, ControlTypeId.REPEATABLE_SECTION, ControlTypeId.SECTION, ControlTypeId.TAB_CONTAINER, ControlTypeId.TAB, ControlTypeId.PANEL];
								var unSupportedControlParentType = [ControlTypeId.TABLE, ControlTypeId.REPEATABLE_SECTION, ControlTypeId.TAB_CONTAINER];
								/* istanbul ignore else*/
								if (!_.contains(unSupportedControlType, control.type) && !_.contains(unSupportedControlParentType, control._parent.type) && control.id !== self.id) {
									optionControls.push({
										label: control.name(),
										value: control.id
									});
								}
							});
						}
					}
					return optionControls;
				}.bind(this));
			},
			setLabelVal: function setLabelVal(value) {
				this.properties.labelVal(value);
			},
			resolvePreviewId: function resolvePreviewId(controlId) {
				var control = this.context.viewModel.form().findControlAndParent(controlId);
				var previewId = ''; // if user did not select anything i.e. control == null
				if (control) {
					switch (control.node.type) {
						case ControlTypeId.SELECT:
							previewId = '#oj-select-choice-' + control.node.domIdPrefix + control.node.id;
							break;
						//It can point to first element in checklist n  radio button using this code
						//To do : discuss should we need to do this or pointing to their div is fine. If yes, Please uncomment the already written test cases
						//                    case ControlTypeId.CHECKBOX:
						//                        previewId = '#' + control.node.id + '_checked';
						//                        break;
						//                    case ControlTypeId.CHECKLIST:
						//                        previewId = '#' + control.node.id + '_choice0';
						//                        break;
						//                    case ControlTypeId.RADIO_BUTTON:
						//                        previewId = '#' + control.node.id + '0';
						//                        break;
						default:
							previewId = '#' + control.node.domIdPrefix + control.node.id;
					}
				}
				return previewId;
			},
			executeEvent: function executeEvent(trigger) {
				if (trigger === EventsId.ON_CLICK.value && this.readOnly()) {
					return _promise2.default.all([]);
				}

				return this._super(trigger);
			},
			targetTypes: TargetType.values()
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 358 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5);

		//endregion

		var TargetType = {
			PARENT: {
				value: '_parent',
				label: msg.TARGET_TYPE_PARENT
			},
			NEWTAB: {
				value: '_blank',
				label: msg.TARGET_TYPE_NEWTAB
			},
			values: function values() {
				return [TargetType.NEWTAB, TargetType.PARENT];
			}
		};
		return TargetType;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 359 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    ControlTypeId = __webpack_require__(4),
		    $ = __webpack_require__(2),
		    ko = __webpack_require__(1),
		    oj = __webpack_require__(7);

		//endregion

		return Control.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				var self = this;
				self._super(id, name, context.getControlDefinitionByType(ControlTypeId.DATE_TIME), properties, context, parent);

				_.defaults(properties, {
					help: '',
					hint: '',
					readonly: false,
					placeHolder: '',
					defaultValue: '',
					minValue: null,
					maxValue: null,
					format: ['yy-MM-dd hh:mm:ss a'],
					preventFreeInput: false,
					step: ['00:30:00:00']
				});

				self.properties.help = ko.observable(properties.help);
				self.properties.hint = ko.observable(properties.hint);
				self.properties.placeHolder = ko.observable(properties.placeHolder);
				self.properties.minValue = ko.observable(properties.minValue);
				self.properties.maxValue = ko.observable(properties.maxValue);
				self.properties.readonly = ko.observable(properties.readonly);
				self.properties.defaultValue = ko.observable(properties.defaultValue);
				self.properties.format = ko.observableArray(properties.format);
				self.properties.preventFreeInput = ko.observable(properties.preventFreeInput);
				self.properties.step = ko.observable(properties.step);

				self.properties.dateConverter = ko.observable(oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({
					pattern: self.properties.format()[0]
				}));

				//Note that ojCombobox's value is always encapsulated in an array
				self.properties.format.subscribe(function (newValue) {
					self.properties.dateConverter(oj.Validation.converterFactory(oj.ConverterFactory.CONVERTER_TYPE_DATETIME).createConverter({
						pattern: newValue[0]
					}));
				}, self);

				// Setting styling options after component creation has no effect. At that time, the root element already exists,
				// and can be accessed directly via the widget method. Hence, adding the styling by using manual subscription to the style and hide properties.
				self.properties.parsedStyle.subscribe(function (newVal) {
					self._applyStyle(id, newVal);
				}, self);

				self.afterRenderTime = function () {
					self._applyStyle(id);
				};

				this.domId = context.getScope() + ' #' + context.config().domIdPrefix + id;
			},
			_applyStyle: function _applyStyle(id, value) {
				var widget = $(this.domId).ojInputDateTime('widget'),
				    formattedStyle = this.properties.formattedStyle(),
				    parsedStyle = value || this.properties.parsedStyle(),
				    triggerInputElement = widget.find('.oj-inputdatetime-input-trigger');

				widget.attr('style', parsedStyle);

				if (formattedStyle.borderWidth) {
					triggerInputElement.css('border-width', formattedStyle.borderWidth);
				}
				if (formattedStyle.borderStyle) {
					triggerInputElement.css('border-style', formattedStyle.borderStyle);
				}
				if (formattedStyle.borderColor) {
					triggerInputElement.css('border-color', formattedStyle.borderColor);
				}
				if (formattedStyle.borderRadius) {
					triggerInputElement.css('border-top-right-radius', formattedStyle.borderRadius);
					triggerInputElement.css('border-bottom-right-radius', formattedStyle.borderRadius);
				}
			},
			_propertiesToJS: function _propertiesToJS() {
				var properties = this._super();
				delete properties.dateConverter;
				return properties;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 360 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var InputTextControl = __webpack_require__(34),
		    msg = __webpack_require__(5),
		    ControlTypeId = __webpack_require__(4);

		//endregion

		return InputTextControl.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				this._super(id, name, properties, context, parent, context.getControlDefinitionByType(ControlTypeId.EMAIL));

				var emailPattern = '^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@' + '[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$';

				this.properties.pattern(emailPattern);
				this.properties.patternMessage(msg.MESSAGE_INVALID_EMAIL);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 361 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var InputTextControl = __webpack_require__(34),
		    msg = __webpack_require__(5),
		    ValidationHelper = __webpack_require__(76),
		    ControlTypeId = __webpack_require__(4);

		//endregion

		return InputTextControl.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				this._super(id, name, properties, context, parent, context.getControlDefinitionByType(ControlTypeId.URL));

				this.properties.pattern(ValidationHelper.urlPattern);
				this.properties.patternMessage(msg.MESSAGE_INVALID_URL);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 362 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    ControlTypeId = __webpack_require__(4),
		    HeadingType = __webpack_require__(155),
		    ko = __webpack_require__(1),
		    _ = __webpack_require__(0);

		//endregion

		return Control.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				this._super(id, name, context.getControlDefinitionByType(ControlTypeId.MESSAGE), properties, context, parent);

				_.defaults(properties, {
					type: [HeadingType.PARAGRAPH.value],
					defaultValue: name
				});

				this.properties.type = ko.observable(properties.type);
				this.properties.defaultValue = ko.observable(properties.defaultValue);
			},
			headingTypes: HeadingType.values()
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 363 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var InputTextControl = __webpack_require__(34),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2),
		    ko = __webpack_require__(1),
		    msg = __webpack_require__(5),
		    ControlTypeId = __webpack_require__(4);
		//endregion

		return InputTextControl.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				var self = this;
				self._super(id, name, properties, context, parent, context.getControlDefinitionByType(ControlTypeId.MONEY));

				_.defaults(properties, {
					currency: [msg.DEFAULT_CURRENCY],
					step: 1,
					defaultValue: null,
					maxValue: null,
					minValue: null,
					showUpDownArrow: false
				});

				self.properties.currency = ko.observable(properties.currency);
				self.properties.step = ko.observable(properties.step);
				self.properties.defaultValue = ko.observable(properties.defaultValue);
				self.properties.maxValue = ko.observable(properties.maxValue);
				self.properties.minValue = ko.observable(properties.minValue);
				self.properties.showUpDownArrow = ko.observable(properties.showUpDownArrow);

				// Setting styling options after component creation has no effect. At that time, the root element already exists,
				// and can be accessed directly via the widget method. Hence, adding the styling by using manual subscription to the style and hide properties.
				self.properties.parsedStyle.subscribe(function (newVal) {
					self._applyStyle(id, newVal);
				}, self);

				self.afterRenderMoney = function () {
					self._applyStyle(id);
				};

				self.domId = context.getScope() + ' #' + context.config().domIdPrefix + id;

				self.properties.converterOptions = ko.pureComputed(function () {
					return {
						type: 'number',
						options: {
							style: 'currency',
							currency: self.properties.currency()[0],
							currencyDisplay: 'symbol',
							pattern: msg.CURRENCY_PATTERN
						}
					};
				});
			},
			_applyStyle: function _applyStyle(id, value) {
				var widget = $('#' + id).ojInputNumber('widget'),
				    parsedStyle = value || this.properties.parsedStyle();

				widget.attr('style', parsedStyle);
			},
			_propertiesToJS: function _propertiesToJS() {
				var properties = this._super();
				delete properties.converterOptions;
				return properties;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 364 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var InputTextControl = __webpack_require__(34),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    msg = __webpack_require__(5),
		    ControlTypeId = __webpack_require__(4);

		//endregion

		return InputTextControl.subClass({}, {
			FORMAT_INTERNATIONAL: 'International',
			FORMAT_US: 'US',

			init: function init(id, name, properties, context, parent) {
				this._super(id, name, properties, context, parent, context.getControlDefinitionByType(ControlTypeId.PHONE));

				_.defaults(properties, {
					format: [this.FORMAT_US],
					defaultValue: ''
				});

				this.properties.format = ko.observable(properties.format);
				this.properties.defaultValue = ko.observable(properties.defaultValue);

				this._updateProperties(this.properties.format);

				this.properties.format.subscribe(function (newValue) {
					this._updateProperties(newValue);
				}, this);
			},
			_updateProperties: function _updateProperties(format) {
				var US_REGEX_PATTERN = '^((((([0-9]{3})-)|((([0-9]{3}))\\s))([0-9]{3})-([0-9]{4}))|(([0-9]{3})-([0-9]{4})))$',
				    INTERNATIONAL_REGEX_PATTERN = '^((\\+)?[1-9]{1,2})?([-\\s.])?((\\(\\d{1,4}\\))|\\d{1,4})(([-\\s.])?[0-9]{1,12}){1,2}$';

				switch (ko.utils.unwrapObservable(format)[0]) {
					case msg.PHONE_FORMAT_INTERNATIONAL:
						this.properties.pattern(INTERNATIONAL_REGEX_PATTERN);
						this.properties.patternMessage(msg.FORMAT_ERROR_MESSAGE_INTERNATIONAL);
						this.properties.placeHolder('');
						break;
					case msg.PHONE_FORMAT_US:
					default:
						this.properties.pattern(US_REGEX_PATTERN);
						this.properties.patternMessage(msg.FORMAT_ERROR_MESSAGE_US);
						this.properties.placeHolder('xxx-xxx-xxxx');
						break;
				}
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 365 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    msg = __webpack_require__(5),
		    ControlTypeId = __webpack_require__(4);

		//endregion

		return Control.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				this._super(id, name, context.getControlDefinitionByType(ControlTypeId.IMAGE), properties, context, parent);

				_.defaults(properties, {
					defaultValue: '',
					alt: msg.TEXT_NO_IMAGE
				});

				this.properties.defaultValue = ko.observable(properties.defaultValue);
				this.properties.alt = ko.observable(properties.alt);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 366 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    ControlTypeId = __webpack_require__(4);

		//endregion

		return Control.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				this._super(id, name, context.getControlDefinitionByType(ControlTypeId.VIDEO), properties, context, parent);

				_.defaults(properties, {
					showControls: true,
					loop: false,
					autoPlay: false,
					defaultValue: '',
					allowFullScreen: true
				});

				this.properties.showControls = ko.observable(properties.showControls);
				this.properties.loop = ko.observable(properties.loop);
				this.properties.autoPlay = ko.observable(properties.autoPlay);
				this.properties.defaultValue = ko.observable(properties.defaultValue);
				this.properties.allowFullScreen = ko.observable(properties.allowFullScreen);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 367 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var LOVControl = __webpack_require__(64),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    ControlTypeId = __webpack_require__(4),
		    TypeDescription = __webpack_require__(13),
		    ScopeType = __webpack_require__(368),
		    OptionsType = __webpack_require__(41),
		    ko = __webpack_require__(1);

		//endregion

		return LOVControl.subClass({}, {
			init: function init(id, name, properties, context, parent) {

				//setting default values. Will add new if not exists
				_.defaults(properties, {
					optionsFeed: {
						type: OptionsType.REST.value
					}, //needed to set default type REST for first time
					help: '',
					hint: '',
					allowSelectAll: true, //allow user to select multiple option. applicable only when multiple is true
					defaultScope: [ScopeType.USER.value], //default scope to search into
					showScopeFilter: false //hide the scope filter
				});

				this._super(id, name, context.getControlDefinitionByType(ControlTypeId.IDENTITY_BROWSER), properties, context, parent);

				var self = this;
				var optionsResolver = this.properties.optionsFeed().optionsResolver();

				//add required observable properties
				$.extend(true, this.properties, {
					help: ko.observable(properties.help),
					hint: ko.observable(properties.hint),
					placeholder: ko.observable(properties.placeholder),
					multiple: ko.observable(properties.multiple),
					allowSelectAll: ko.observable(properties.allowSelectAll),
					defaultScope: ko.observableArray(properties.defaultScope),
					options: optionsResolver.callRest.bind(optionsResolver, { //check DefaultRestHandler.js
						name: 'identities',
						optionsListBinding: 'items'
					}),
					showScopeFilter: ko.observable(properties.showScopeFilter)
				});

				// Setting styling options after component creation has no effect. At that time, the root element already exists,
				// and can be accessed directly via the widget method. Hence, adding the styling by using manual subscription to the style and hide properties.
				this.properties.parsedStyle.subscribe(function (newVal) {
					this._setStyle(id, context, newVal);
				}, this);

				//subscribe change for autoFocus
				this.properties.autoFocus.subscribe(function (newVal) {
					this._setAutoFocus(id, context, newVal);
				}, this);

				//subscribe change for multiple
				this.properties.multiple.subscribe(this._componentType.bind(this, context));

				//subscribe change for showScopeFilter
				this.properties.showScopeFilter.subscribe(function (newVal) {
					//set showScopeFilter and refresh the component
					self.setOptions({
						showScopeFilter: newVal
					});
				});

				//subscribe change for default scope
				//defaultScope is used by component to set the defaultScope while searching the identities
				this.properties.defaultScope.subscribe(function (newVal) {
					//set defaultScope and refresh the component
					self.setOptions({
						defaultScope: newVal
					});
				});

				//call this when knockout finishes the rendering and check for autoFocus and style
				this.afterRenderIdentity = function () {
					// Apply style
					setTimeout(function () {
						self._setStyle(id, context);
						self._setAutoFocus(id, context);
					}, 0);
				};

				//store the component reference id
				this._identityId = context.getScope() + ' #' + context.config().domIdPrefix + id;

				//init the component selection type single or multiple
				this._componentType(context, this.properties.multiple());

				//supported data element
				var IdentityType = ['id', 'title', 'firstName', 'lastName', 'type', 'email', 'mobile'];

				//overriding to check compatible dataType for identity component
				this.dataType.isCompatible = function (data) {
					var compatible = data.isArray() && data.hasOwnProperty('attributes');

					/* istanbul ignore else */
					if (compatible) {
						var attrLen = data.attributes().length;
						//check for id attribute
						for (var i = 0; i < attrLen; i++) {
							/* istanbul ignore else */
							if (data.attributes()[i] && data.attributes()[i].hasOwnProperty('name') && IdentityType.indexOf(data.attributes()[i].name()) === -1) {
								compatible = false;
								break;
							}
						}
					}

					return compatible && !TypeDescription.equals(data.getTypeDescription(), TypeDescription.UNKNOWN);
				};

				var help = this.properties.help;
				//used in ojComponent. see identityControl.tmpl.html & rendererIdentityControl.tmpl.html
				this.ojIdentityObj = {
					component: 'ojIdentity',
					disabled: this.readOnly() ? this.readOnly : this.properties.disabled,
					title: this.properties.hint,
					help: ko.pureComputed(function () {
						var helpMsg = ko.unwrap(help);
						return {
							definition: _.isEmpty(helpMsg) ? null : helpMsg
						};
					}),
					placeholder: this.properties.placeholder,
					required: this.properties.required,
					//value is set in the IdentityValueDecorator
					value: null,
					options: this.properties.options,
					multiple: this.properties.multiple,
					selectAll: this.properties.allowSelectAll,
					defaultScope: this.properties.defaultScope(),
					showScopeFilter: this.properties.showScopeFilter,
					scopesOptions: ScopeType.values(),
					selectLabel: this.msg.IDENTITY_SELECT_ALL,
					noMatchesFound: this.msg.IDENTITY_NO_MATCHES_FOUND,
					invalidComponentTracker: this.tracker,
					validators: this.validators
				};
			},
			//return the template for value accessor in event dialog for action's constant value
			getDataTemplate: function getDataTemplate() {
				return 'identityValueTypeTemplate';
			},
			//populate scope. see usage identityPropertyInspector.tmpl.html
			scopeValues: ScopeType.values(),
			//set the options for ojIdentity component
			setOptions: function setOptions(option) {
				//set the provided option
				$(this._identityId)['ojIdentity']('option', option);

				//refresh the component
				this._refresh();
			},
			//refresh the component
			_refresh: function _refresh() {
				setTimeout(function () {
					$(this._identityId)['ojIdentity']('refresh');
				}.bind(this), 0);
			},
			//set component type selection- single or multiple
			_componentType: function _componentType(context, newVal) {
				//set multiple option
				this.setOptions({
					multiple: newVal
				});

				// Need to reapply the style. The style should be set only after it has finished rendering the multiple select box, hence setTimeout.
				var that = this;
				setTimeout(function () {
					that._setStyle(that.id, context);
				}, 0);
			},
			//get identities using events. see ControlPropertiesMap.js -> PropertiesMap.js -> ControlIdentityValueProperty.js
			getIdentityValue: function getIdentityValue() {
				var value = this.getControlValue();
				var strValue = [];

				for (var i = 0; i < value.length; i++) {
					strValue.push(value[i].id);
				}

				return strValue.join();
			},
			//set style
			_setStyle: function _setStyle(id, context, value) {
				var widget = $(this._identityId)['ojIdentity']('widget'),
				    formattedStyle = this.properties.formattedStyle();
				widget.attr('style', value || this.properties.parsedStyle());
				widget.find('.oj-select-choice, .oj-select-choices').css('background-color', formattedStyle.backgroundColor || '');
				widget.find('.oj-select-choice, .oj-select-selected-choice-label').css('color', formattedStyle.color || '');
			},
			//set autoFocus
			_setAutoFocus: function _setAutoFocus(id, context, value) {
				var autofocus = value || this.properties.optionsFeed().properties().autoFocus(),
				    widget = $(this._identityId)['ojIdentity']('widget');
				if (autofocus) {
					widget.attr('autofocus', 'autofocus');
				} else {
					widget.removeAttr('autofocus');
				}
				// If it is the first element with autofocus set, we need to focus on the oj-select div manually.
				if ($(context.getScope() + ' [autofocus]').first().is('.oj-identity')) {
					widget.find('.oj-select-choice').focus();
				}
			},
			toJS: function toJS() {
				var toJs = this._super();
				toJs.properties.multiple = this.properties.multiple();
				return toJs;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 368 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {
		'use strict';

		//region dependencies

		var msg = __webpack_require__(5);

		//endregion

		var ScopeType = {
			USER: {
				label: msg.SCOPE_USER,
				value: 'user'
			},
			GROUP: {
				label: msg.SCOPE_GROUP,
				value: 'group'
			},
			ROLE: {
				label: msg.SCOPE_ROLE,
				value: 'role'
			},
			values: function values() {
				return [ScopeType.USER, ScopeType.GROUP, ScopeType.ROLE];
			}
		};

		return ScopeType;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 369 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    ControlTypeId = __webpack_require__(4),
		    $ = __webpack_require__(2),
		    ControlContainer = __webpack_require__(26),
		    _ = __webpack_require__(0),
		    UUID = __webpack_require__(17);

		//endregion

		return ControlContainer.subClass({}, {
			init: function init(id, data, context, controlFactory, parent) {
				var self = this;
				self.id = id || UUID.createUuid();
				self._parent = parent;
				self._super(data, context, controlFactory, this);

				self.context = context;

				self.type = ControlTypeId.ROW;

				self.hide = ko.pureComputed(function () {
					var hide = true;
					$.each(self.controls(), function () {
						hide = this.properties.hide();
						return hide; //break if there is there is one element shown.
					});
					return hide;
				});
			},
			makeCopy: function makeCopy() {
				var copy = this.toJS();
				copy.id = UUID.createUuid();
				var controls = [];
				_.each(this.controls(), function (control) {
					controls.push(control.makeCopy());
				});
				copy.controls = controls;
				return copy;
			},
			toJS: function toJS() {
				var controls = [];

				$.each(this.controls(), function (i, control) {
					controls.push(control.toJS());
				});
				return {
					id: this.id,
					type: this.type,
					controls: controls
				};
			},
			isRepeatable: function isRepeatable() {
				return false;
			},
			findClosest: function findClosest(id) {
				return this.getParent().findClosest(id);
			},
			onDrop: function onDrop(dropHandler, dropCoordinates) {
				dropHandler.moveRow(this, dropCoordinates);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 370 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    $ = __webpack_require__(2),
		    RendererId = __webpack_require__(78),
		    ColumnSpanType = __webpack_require__(147);

		//endregion

		return Class.subClass({}, {

			init: function init(controlsObservable, context) {
				this.controls = controlsObservable;
				this.context = context;
			},
			getStyle: function getStyle(control, columnSpanTypeId) {
				var style = '';
				if (control.properties.hide() && this.context.getScope() === RendererId.FORM_RENDERER) {
					return style;
				}
				if (columnSpanTypeId === 'ALL') {
					style = this._getAllStyles(control, false);
				} else {
					style = this._getStyle(control, columnSpanTypeId, true);
				}
				return style.trim();
			},
			_getAllStyles: function _getAllStyles(control, full) {
				var allStyles = '';
				for (var type in ColumnSpanType) {
					/* istanbul ignore else*/
					if (ColumnSpanType.hasOwnProperty(type)) {
						allStyles += this._getStyle(control, type, full);
					}
				}
				return allStyles;
			},
			_getStyle: function _getStyle(control, columnSpanTypeId, full) {
				var colSpan = 0;
				var columnSpanType = ColumnSpanType[columnSpanTypeId];
				if (control.properties.autoColSpan()) {
					colSpan = this._calculateColSpan(this.controls(), columnSpanType);
				} else {
					colSpan = control.properties[columnSpanType.propertyName]();
				}
				return columnSpanType.getStyleClass(colSpan, full);
			},
			_calculateColSpan: function _calculateColSpan(controls, columnSpanType) {
				var colSpan = 0;
				if (columnSpanType !== ColumnSpanType.SMALL) {
					var visibleControls = controls;
					/* istanbul ignore else */
					if (this.context.getScope() === RendererId.FORM_RENDERER) {
						visibleControls = this._getVisibleControls(controls);
					}

					var totalManualColSpan = 0;
					var controlsLength = 0;
					$.each(visibleControls, function () {
						if (!this.properties.autoColSpan()) {
							totalManualColSpan += this.properties[columnSpanType.propertyName]();
						} else {
							controlsLength++;
						}
					});
					colSpan = Math.floor((12 - totalManualColSpan) / controlsLength);
					if (colSpan <= 0) {
						colSpan = 1;
					}
				} else {
					colSpan = 12;
				}
				return colSpan;
			},
			_getVisibleControls: function _getVisibleControls(controls) {
				var visibleControls = [];
				$.each(controls, function () {
					if (!this.properties.hide()) {
						visibleControls.push(this);
					}
				});
				return visibleControls;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 371 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    koToJSUtil = __webpack_require__(21),
		    LayoutType = __webpack_require__(372),
		    ControlContainer = __webpack_require__(26),
		    Control = __webpack_require__(9);

		//endregion

		/**
   * Container that lets the use group controls vertically/horizontally.
   * Each control will be in a new row/col inside this panel.
   */
		return Control.subClass({}, {
			/* jshint maxparams: 6 */
			init: function init(id, name, data, context, controlFactory, parent) {

				var self = this;
				_.defaults(data.properties, {
					layout: [LayoutType.VERTICAL.value],
					label: ''
				});

				self._super(id, name, context.getControlDefinitionByType(ControlTypeId.PANEL), data.properties, context, parent);
				self.container = new ControlContainer(data, context, controlFactory, this);
				//Some Controls (i.e. Rows) inherit directly from ControlContainer
				//Here we need to add the important functions to this, because we inherit from Control
				self.controls = self.container.controls;
				self.getAllControls = self.container.getAllControls.bind(self.container);
				self.getControls = self.container.getControls.bind(self.container);
				self.findControl = self.container.findControl.bind(self.container);

				self.properties.layout = ko.observableArray(data.properties.layout);

				self.isVertical = ko.pureComputed(function () {
					return self.properties.layout()[0] === LayoutType.VERTICAL.value;
				});
			},
			hasValueProperty: function hasValueProperty() {
				return false;
			},
			toJS: function toJS() {

				var events = [];
				$.each(this.events(), function (i, event) {
					events.push(event.toJS());
				});
				var controls = [];
				$.each(this.controls(), function (i, control) {
					controls.push(control.toJS());
				});
				return {
					id: this.id,
					name: this.name(),
					type: this.type,
					properties: _.extend({}, koToJSUtil.toJS(this.properties), {
						events: events
					}),
					controls: controls
				};
			},
			layoutOptions: function layoutOptions() {
				return [LayoutType.VERTICAL, LayoutType.HORIZONTAL];
			},
			colStyle: function colStyle(control, columnSpanTypeId) {
				var layoutStyle = '';
				if (this.properties.layout()[0] === LayoutType.VERTICAL.value) {
					layoutStyle = 'pcs-forms-row pcs-col-padding';
				} else {
					layoutStyle = 'pcs-forms-col ' + this.container.columnSpan.getStyle(control, columnSpanTypeId);
				}
				return layoutStyle;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 372 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var msg = __webpack_require__(5);

		//endregion

		return {
			VERTICAL: {
				value: 'VERTICAL',
				label: msg.LAYOUT_VERTICAL
			},
			HORIZONTAL: {
				value: 'HORIZONTAL',
				label: msg.LAYOUT_HORIZONTAL
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 373 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    HeadingType = __webpack_require__(155),
		    koToJSUtil = __webpack_require__(21),
		    _ = __webpack_require__(0),
		    ControlContainer = __webpack_require__(26),
		    Control = __webpack_require__(9);
		__webpack_require__(156);

		//endregion

		/**
   * Container that lets the use group controls vertically/horizontally.
   * Each control will be in a new row/col inside this panel.
   */
		return Control.subClass({}, {
			/* jshint maxparams: 6 */
			init: function init(id, name, data, context, controlFactory, parent) {
				data.properties = data.properties || {};

				var self = this;
				_.defaults(data.properties, {
					label: name,
					expanded: true,
					headerType: [HeadingType.PARAGRAPH.value],
					lazyLoading: false
				});

				self._super(id, name, context.getControlDefinitionByType(ControlTypeId.SECTION), data.properties, context, parent);
				self.container = new ControlContainer(data, context, controlFactory, this);
				//Some Controls (i.e. Rows) inherit directly from ControlContainer
				//Here we need to add the important functions to this, because we inherit from Control
				self.controls = self.container.controls;
				self.getAllControls = self.container.getAllControls.bind(self.container);
				self.getControls = self.container.getControls.bind(self.container);
				self.findControl = self.container.findControl.bind(self.container);

				this.properties.expanded = ko.observable(data.properties.expanded);
				this.properties.headerType = ko.observableArray(data.properties.headerType);
				this.properties.lazyLoading = ko.observable(data.properties.lazyLoading);

				this.domId = context.getScope() + ' #' + context.config().domIdPrefix + id;

				self.properties.label.subscribe(function () {
					setTimeout(function () {
						self._refresh();
					}, 0);
				});
				self.properties.headerType.subscribe(function () {
					setTimeout(function () {
						self._refresh();
					}, 0);
				});
			},
			hasValueProperty: function hasValueProperty() {
				return false;
			},
			_refresh: function _refresh() {
				var self = this;
				$('#section-' + self.id).ojCollapsible('refresh');
			},
			toJS: function toJS() {
				var events = [];
				$.each(this.events(), function (i, event) {
					events.push(event.toJS());
				});

				var controls = [];
				$.each(this.controls(), function (i, control) {
					controls.push(control.toJS());
				});
				return {
					id: this.id,
					name: this.name(),
					type: this.type,
					properties: _.extend({}, koToJSUtil.toJS(this.properties), {
						events: events
					}),
					controls: controls
				};
			},
			headingTypes: HeadingType.values()
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 374 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var RepeatableSectionControl = __webpack_require__(157);

		//endregion

		return RepeatableSectionControl.subClass({}, {
			/* jshint maxparams: 7 */
			init: function init(id, name, data, context, controlFactory, parent, typeId) {
				var self = this;
				self._super(id, name, data, context, controlFactory, parent, typeId);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 375 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		/* globals Promise */

		//region dependencies

		var Class = __webpack_require__(3),
		    _ = __webpack_require__(0),
		    ControlContainer = __webpack_require__(26),
		    ControlTypeIds = __webpack_require__(4),
		    EventActionsMap = __webpack_require__(86),
		    TranslatablePropertiesMap = __webpack_require__(145),
		    ControlPropertiesMap = __webpack_require__(87),
		    StyleControlMapper = __webpack_require__(144),
		    ko = __webpack_require__(1);

		//endregion

		return Class.subClass({}, {
			// jshint maxparams:7
			type: null, //Will be set in constructor according to parent
			properties: {},
			init: function init(id, controlsAccessor, context, controlFactory, repeatableParent, value) {
				var self = this;
				this.viewModel = context.viewModel;
				this.context = context;

				self._bindingValue = value || {};
				self.id = id;
				this.properties.hide = ko.observable(false);
				self._parent = repeatableParent;

				if (this.getParent().type === ControlTypeIds.TABLE) {
					this.type = ControlTypeIds.TABLE_ROW;
				} else {
					this.type = ControlTypeIds.REPEATABLE_SECTION_ROW;
				}

				var data = {
					controls: []
				};
				if (value) {
					_.each(controlsAccessor(), function (control) {
						data.controls.push(control.makeCopy());
					});
				}
				self.container = new ControlContainer(data, context, controlFactory, this);
				if (!value) {
					self.container.controls = controlsAccessor;
				}
				//Some Controls (i.e. Rows) inherit directly from ControlContainer
				//Here we need to add the important functions to this, because we inherit from Control
				self.controls = self.container.controls;
				self.getAllControls = self.container.getAllControls.bind(self.container);
				self.getControls = self.container.getControls.bind(self.container);
				self.findControl = self.container.findControl.bind(self.container);

				self.executeEventOnAll = self.executeEvent.bind(self);
			},
			executeEvent: function executeEvent(trigger) {
				var events = [];
				_.each(this.getParent().events(), function (eventRef) {
					var eventTrigger = eventRef.event().trigger;
					if (trigger === eventTrigger()) {
						events.push(eventRef.execute(this));
					}
				}, this);
				this.context.viewModel.dependenciesExtension.reEvaluateOnControl(trigger, this);
				return _promise2.default.all(events);
			},
			getParent: function getParent() {
				return this._parent;
			},
			getBindingContext: function getBindingContext() {
				return this.getParent() ? this.getParent().getContextForChildren(this) : '';
			},
			getContextForChildren: function getContextForChildren(child) {
				return this.getBindingContext();
			},
			getStyleMapper: function getStyleMapper() {
				return StyleControlMapper[this.type];
			},
			getControlActions: function getControlActions() {
				return EventActionsMap[this.type];
			},
			getControlEventProperties: function getControlEventProperties() {
				return ControlPropertiesMap[this.type];
			},
			getTranslatableProperties: function getTranslatableProperties() {
				return TranslatablePropertiesMap[this.type];
			},
			findClosest: function findClosest(id) {
				var control = this.findControl(id);
				if (control) {
					return control;
				} else {
					return this.getParent().findClosest(id);
				}
			},
			findControlInsideRepeatable: function findControlInsideRepeatable(controlId) {
				var control = this.findControl(controlId);
				if (!control) {
					_.any(this.getAllControls(true), function (childControl) {
						if (childControl.isRepeatable()) {
							control = childControl.findControlInsideRepeatable(controlId);
							return !!control;
						}
					});
				}
				return control;
			},
			isRepeatable: function isRepeatable() {
				return false;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 376 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1);
		var _ = __webpack_require__(0);
		//endregion

		return {
			/**
    * Creates a computed property that, when changed, propagates the change to all its childs
    * @param repeatableControl: a repeatable that will have the property
    * @param property: the ko observable where the real value of the property is stored
    * @param accessor: the string to access the property in children
    * @returns {*}
    */
			createInheritableProperty: function createInheritableProperty(repeatableControl, property, accessor) {
				return ko.computed({
					read: function read() {
						var value = property();

						//Modify all controls, to save the changes in designtime
						_.each(repeatableControl.getAllControls(true), function (control) {
							if (control.properties[accessor]) {
								//Don't overwrite the property if it's already set
								control.properties[accessor](control.properties[accessor]() || value);
							}
						});

						//Modify all the rows, to apply the changes in runtime
						if (repeatableControl.getRows) {
							_.each(repeatableControl.getRows(), function (row) {
								_.each(row.getAllControls(true), function (control) {
									if (control.properties[accessor]) {
										//Don't overwrite the property if it's already set
										control.properties[accessor](control.properties[accessor]() || value);
									}
								});
							});
						}

						return value;
					},
					write: function write(value) {
						property(value);
					}
				});
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 377 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2),
		    ControlContainer = __webpack_require__(26),
		    ko = __webpack_require__(1),
		    Control = __webpack_require__(9);

		//endregion

		return Control.subClass({}, {
			/* jshint maxparams: 6 */
			init: function init(id, name, data, context, controlFactory, parent) {

				var self = this;

				self._super(id, name, context.getControlDefinitionByType(ControlTypeId.TAB), data.properties, context, parent);
				self.container = new ControlContainer(data, context, controlFactory, this);
				//Some Controls (i.e. Rows) inherit directly from ControlContainer
				//Here we need to add the important functions to this, because we inherit from Control
				self.controls = self.container.controls;
				self.getAllControls = self.container.getAllControls.bind(self.container);
				self.getControls = self.container.getControls.bind(self.container);
				self.findControl = self.container.findControl.bind(self.container);

				_.defaults(data.properties, {
					lazyLoading: false
				});

				self.properties.lazyLoading = ko.observable(data.properties.lazyLoading);
			},
			hasValueProperty: function hasValueProperty() {
				return false;
			},
			toJS: function toJS() {
				var controls = [];

				$.each(this.controls(), function (i, control) {
					controls.push(control.toJS());
				});
				return _.extend(this._super(), {
					controls: controls
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 378 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    ControlContainer = __webpack_require__(26),
		    Control = __webpack_require__(9);
		__webpack_require__(379);
		__webpack_require__(156);
		__webpack_require__(380);

		//endregion

		return Control.subClass({}, {
			/* jshint maxparams: 6 */
			init: function init(id, name, data, context, controlFactory, parent) {

				var self = this;

				self._super(id, name, context.getControlDefinitionByType(ControlTypeId.TAB_CONTAINER), data.properties, context, parent);
				self.container = new ControlContainer(data, context, controlFactory, this);
				//Some Controls (i.e. Rows) inherit directly from ControlContainer
				//Here we need to add the important functions to this, because we inherit from Control
				self.controls = self.container.controls;
				self.getAllControls = self.container.getAllControls.bind(self.container);
				self.getControls = self.container.getControls.bind(self.container);
				self.findControl = self.container.findControl.bind(self.container);

				_.defaults(data.properties, {
					selectedPosition: 0
				});

				self.properties.selectedPosition = ko.observable(data.properties.selectedPosition);

				self.properties.selectedPositionStringComputed = ko.pureComputed({
					read: function read() {
						return [String(self.properties.selectedPosition())];
					},
					write: function write(value) {
						self.properties.selectedPosition(Number(value[0]));
					}
				});
				self.properties.selectedPositionAsArrayComputed = ko.pureComputed({
					read: function read() {
						return [self.properties.selectedPosition()];
					},
					write: function write(value) {
						self.properties.selectedPosition(value[0]);
					}
				});

				self.disabledTabs = ko.pureComputed(function () {
					var disabledTabs = [];
					$.each(self.controls(), function (i, control) {
						if (control.properties.disabled() && !control.properties.hide()) {
							disabledTabs.push(i);
						}
					});
					return disabledTabs;
				});
			},
			hasValueProperty: function hasValueProperty() {
				return false;
			},
			hasStyle: function hasStyle() {
				return true;
			},
			toJS: function toJS() {
				var controls = [];

				$.each(this.controls(), function (i, control) {
					controls.push(control.toJS());
				});
				return _.extend(this._super(), {
					controls: controls
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 379 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_379__;

/***/ }),
/* 380 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_380__;

/***/ }),
/* 381 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    RepeatableControl = __webpack_require__(158),
		    ko = __webpack_require__(1),
		    msg = __webpack_require__(5),
		    _ = __webpack_require__(0);

		//endregion

		return RepeatableControl.subClass({}, {
			/* jshint maxparams: 6 */
			init: function init(id, name, data, context, controlFactory, parent) {

				var self = this;
				self._super(id, name, data, context, controlFactory, ControlTypeId.TABLE, parent);

				_.defaults(data.properties, {
					hideLabels: true,
					hideRowCheckbox: false
				});

				this.properties.hideLabels = ko.observable(data.properties.hideLabels);
				this.properties.hideRowCheckbox = ko.observable(data.properties.hideRowCheckbox);

				context.LoVMappingAutoComplete.initialize(this, context);

				_.each(self.styles(), function (style) {
					if (style.type.label === msg.LABEL_TABLE_WIDTH) {
						// This computed function is for change in column width (i.e. control Styles) from User Screen. Everytime we change the column width
						//it will calculate and change the TableWidth style so that Reset link will be enabled
						style.controlValue = ko.computed(function () {
							var val = [];
							_.each(self.controls(), function (control) {
								val.push(control.properties.formattedStyle().tableColumnWidth);
							});
							var listWithoutUndefined = _.without(val, undefined);
							/* istanbul ignore else */
							if (listWithoutUndefined.length === 0) {
								style.rawValue(listWithoutUndefined.toString());
								return listWithoutUndefined.toString();
							}
							style.rawValue(val.toString());
							return val.toString();
						}, this);
						// This computed function is for change in rawValue of TableWidth style in case of ResetStyle or Undo command. So everytime the
						//TableWidth changes, it will change the column width (i.e. control styles)
						style.newRawValue = ko.computed(function () {
							var rawValue = style.rawValue();
							if (rawValue === '') {
								_.each(self.controls(), function (control) {
									_.each(control.styles(), function (style) {
										/* istanbul ignore else */
										if (style.type.label === msg.LABEL_WIDTH) {
											style.rawValue('');
										}
									});
								});
							} else {
								var controls = self.controls();
								var rawValArray = rawValue.split(',');
								var arrayLength = controls.length;
								for (var i = 0; i < arrayLength; i++) {
									controls[i].styles()[0].rawValue(rawValArray[i]);
								}
							}
							return rawValue;
						}, this);
					}
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 382 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    _ = __webpack_require__(0),
		    ControlContainer = __webpack_require__(26),
		    Control = __webpack_require__(9);

		//endregion

		return Control.subClass({}, {
			/* jshint maxparams: 6 */
			init: function init(id, name, data, context, controlFactory, parent) {

				var self = this;
				self._super(id, name, context.getControlDefinitionByType(ControlTypeId.TABLE_COLUMN), data.properties, context, parent);

				self.container = new ControlContainer(data, context, controlFactory, this);
				//Some Controls (i.e. Rows) inherit directly from ControlContainer
				//Here we need to add the important functions to this, because we inherit from Control
				self.controls = self.container.controls;
				self.getAllControls = self.container.getAllControls.bind(self.container);
				self.getControls = self.container.getControls.bind(self.container);
				self.findControl = self.container.findControl.bind(self.container);
			},
			hasValueProperty: function hasValueProperty() {
				return false;
			},

			toJS: function toJS() {
				var controls = [];
				_.each(this.controls(), function (control) {
					controls.push(control.toJS());
				});
				return _.extend(this._super(), {
					controls: controls
				});
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 383 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    OjSelectItem = __webpack_require__(42),
		    TypeCatalog = __webpack_require__(24);

		//endregion

		return Control.subClass({}, {
			$: $,

			init: function init(id, name, data, context, parent) {
				var controlDefinition = context.getFormReferenceControlDefinition(data.properties.reference, context.config().formHandler);
				this._super(id, name, controlDefinition, data.properties, context, parent);
				var self = this;

				self.form = context.config().formHandler.getResolvedControl(data.properties.reference.formId, data.properties.reference.presentationId); //Form should be resolved by now
				self.dataType = TypeCatalog.parseRootType('definition', self.form.definition);
				self.allBundles = self.form.allBundles;

				_.extend(self.properties, {
					reference: ko.observable(controlDefinition.reference),
					presentation: ko.observableArray([]),
					defaultValue: {}
				});

				self.presentations = ko.observableArray([]);
				self.computedPresentations = ko.computed(function () {
					var presentations = [];
					_.each(self.presentations(), function (presentation) {
						presentations.push(OjSelectItem.create(presentation.id, presentation.name));
					});
					return presentations;
				});

				self.isValidReference = function () {
					return !$.isEmptyObject(self.form);
				};

				self.getConfig = function () {
					var config = {};
					_.extend(config, context.config(), {
						domIdPrefix: context.config().domIdPrefix + self.id + '-'
					});
					//Only the first form should handle the convertion, to avoid double convertion
					config.convertJSON = false;
					return config;
				};

				if (data.properties.reference.presentationId) {
					self._initPresentations(data.properties.reference.presentationId);
				}

				self.properties.presentation.subscribe(function (ids) {
					var id = ids[0];
					self.properties.reference().presentationId(id);
					self.loadPresentation(id);
				});

				//Callback for the form reference to update the isValid property
				self.onValidStateChange = function (newValue) {
					self.isValid(newValue);
				};

				self.controlsLoaded = ko.observable(false);

				self.loadedCallback = function () {
					self.controlsLoaded(true);
				};

				self.translationsHandler = context.config().translationsHandler;
			},
			hasValueProperty: function hasValueProperty() {
				return false;
			},
			loadPresentation: function loadPresentation(id) {
				var $formRenderer = this.$('#' + this.id);
				_.extend(this.translationsHandler._bundles.defaultBundle, this.form.defaultBundle);
				var form = this._buildForm(this.form, this._getPresentation(id));
				if (_.size($formRenderer) === 1) {
					$formRenderer.trigger('load', {
						form: form,
						config: this.getConfig()
					});
				}
			},
			_initPresentations: function _initPresentations(presentation) {
				this.presentations(this.form.presentations);
				this.properties.presentation.push(presentation || this.form.defaultPresentation);
			},
			/** @overrides */
			_propertiesToJS: function _propertiesToJS() {
				var properties = this._super();
				delete properties.presentation;
				properties.reference = this.properties.reference().get();
				return properties;
			},
			getBindings: function getBindings() {
				return $('#' + this.domIdPrefix + this.id).triggerHandler('getBindings');
			},
			changePresentation: function changePresentation(presentationId) {
				//This will trigger the event for changing the presentation directly in the rendererViewModel of the reference
				return $('#' + this.domIdPrefix + this.id).triggerHandler('changePresentation', presentationId);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 384 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Control = __webpack_require__(9),
		    _ = __webpack_require__(0),
		    ko = __webpack_require__(1),
		    CustomControlList = __webpack_require__(75);

		//endregion

		return Control.subClass({
			isCustomControl: function isCustomControl(typeId) {
				return _.contains(_.keys(CustomControlList), typeId);
			}
		}, {
			init: function init(id, name, typeId, properties, context, parent) {
				var _this = this;

				var definition = context.getControlDefinitionByType(typeId);
				this.customControlEntry = definition.customControlEntry;
				this._super(id, name, definition, properties, context, parent);

				_.defaults(properties, this.customControlEntry.properties);

				_.each(this.customControlEntry.properties, function (property, propertyName) {
					if (!ko.isObservable(_this.properties[propertyName])) {
						_this.properties[propertyName] = ko.observable(properties[propertyName]);
					}
				});
			},
			getValueObservable: function getValueObservable() {
				if (this.value) {
					return this.value;
				} else {
					return this.properties.defaultValue;
				}
			},
			getStyleMapper: function getStyleMapper() {
				return this.customControlEntry.styles;
			},
			getValidEvents: function getValidEvents() {
				return this.customControlEntry.events;
			},
			getControlActions: function getControlActions() {
				return this.customControlEntry.eventActions;
			},
			getControlEventProperties: function getControlEventProperties() {
				return this.customControlEntry.eventProperties;
			},
			getTranslatableProperties: function getTranslatableProperties() {
				return this.customControlEntry.translatableProperties;
			},
			hasProperty: function hasProperty(key) {
				return _.contains(_.keys(this.customControlEntry.properties), key);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 385 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var SelectControl = __webpack_require__(150),
		    TypeCatalog = __webpack_require__(24),
		    ControlTypeId = __webpack_require__(4);

		//endregion

		return SelectControl.subClass({}, {
			init: function init(id, name, properties, context, parent) {
				this._super(id, name, properties, context, parent, context.getControlDefinitionByType(ControlTypeId.ENUM_SELECT));
			},
			_checkType: function _checkType(context, newVal) {
				if (newVal) {
					this.dataType = TypeCatalog.getArrayTypeDefinition(TypeCatalog.getSimpleTypesDefinitions().ENUM);
				} else {
					this.dataType = TypeCatalog.getSimpleTypesDefinitions().ENUM;
				}
				// Need to reapply the style. The style should be set only after it has finished rendering the multiple select box, hence setTimeout.
				var that = this;
				setTimeout(function () {
					that._setStyle(that.id, context);
				}, 0);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 386 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var _ = __webpack_require__(0);

		//end region

		return {
			translate: function translate(eventActions) {
				_.each(eventActions, function (eventAction) {
					var blocks = eventAction.blocks();
					_.each(blocks, function (block) {
						block.decorate();
					});

					var connectors = eventAction.connectors();
					_.each(connectors, function (connector) {
						connector.decorate();
					});

					var filters = eventAction.filters();
					_.each(filters, function (filter) {
						filter.decorate();
					});
				});
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 387 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    EventTrigger = __webpack_require__(388),
		    StylePreprocessor = __webpack_require__(389),
		    Class = __webpack_require__(3);

		//endregion

		return Class.subClass({}, {
			init: function init(json, context) {
				_.defaults(json, {
					eventActions: [],
					stylesheet: {}
				});

				this.stylesheet = ko.observable(json.stylesheet);

				var eventActions = [];
				_.each(json.eventActions, function (event) {
					eventActions.push(new EventTrigger(event.id, event.name, event.trigger, event.controlId, event.blocks, event.connectors, event.filters, context.viewModel));
				}, this);
				this.eventActions = ko.observableArray(eventActions);

				this.applyStylesheet(this.stylesheet(), context);
			},
			findEvent: function findEvent(id) {
				return _.find(this.eventActions(), function (e) {
					return e.id === id;
				});
			},
			applyStylesheet: function applyStylesheet(stylesheet, context) {
				var className = context.getScope() + '-applied-stylesheet';
				if (_.isEmpty(context.config().domIdPrefix)) {
					//only remove if root renderer/builder tag.
					$('.' + className).remove();
				}
				if (!_.isEmpty(stylesheet) && stylesheet.id) {
					//need to fetch style content
					var self = this;
					context.config().cssHandler.getResolvedControl(stylesheet.id).then(function (stylesheetData) {
						if (!$.isEmptyObject(stylesheetData)) {
							self._addStyleSheetTag(className, stylesheetData.content);
						}
					});
				} else {
					//style content sent directly
					this._addStyleSheetTag(className, stylesheet);
				}
			},
			_addStyleSheetTag: function _addStyleSheetTag(className, cssContent) {
				if (!_.isEmpty(cssContent)) {
					var style = document.createElement('style');
					style.className = className + ' applied-stylesheet';
					var stylesheetContent = StylePreprocessor.sanitize(cssContent, '.canvas-container');
					style.appendChild(document.createTextNode(stylesheetContent));
					document.head.appendChild(style);
				}
			},
			toJS: function toJS() {
				var eventActions = [];
				_.each(this.eventActions(), function (event) {
					eventActions.push(event.toJS());
				});
				return {
					eventActions: eventActions,
					stylesheet: $.isEmptyObject(this.stylesheet()) ? this.stylesheet() : {
						id: this.stylesheet().id
					}
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 388 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(6)], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_promise) {
	'use strict';

	var _promise2 = _interopRequireDefault(_promise);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : {
			default: obj
		};
	}

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		/* globals Promise */

		//region dependencies

		var Class = __webpack_require__(3),
		    ko = __webpack_require__(1),
		    BlockFactory = __webpack_require__(43),
		    LoadingSpinner = __webpack_require__(91),
		    _ = __webpack_require__(0);

		//endregion

		return Class.subClass({}, {
			// jshint maxparams:7
			init: function init(id, name, trigger, controlId, blocks, connectors, filters, viewModel) {
				this.id = id;
				this.name = name;
				this.controlId = controlId;
				this.trigger = ko.observable(trigger);
				this.viewModel = viewModel;

				this.connectors = ko.observableArray();
				this.filters = ko.observableArray();
				this.scope = new viewModel.context.scopeFactory.Scope(viewModel.getCurrentGlobalScope(), this.connectors, this.filters);
				this.scope.controlId = controlId;

				var connectorArray = [];
				_.each(connectors, function (connector) {
					connectorArray.push(BlockFactory.createBlock(viewModel, connector, this.scope));
				}, this);
				this.connectors(connectorArray);

				var filterArray = [];
				_.each(filters, function (filter) {
					filterArray.push(BlockFactory.createBlock(viewModel, filter, this.scope));
				}, this);
				this.filters(filterArray);

				var blocksArray = [];
				_.each(blocks, function (block) {
					blocksArray.push(BlockFactory.createBlock(viewModel, block, this.scope));
				}, this);
				this.blocks = ko.observableArray(blocksArray);
			},

			execute: function execute(eventControl) {

				this.scope.clearValues();
				var self = this;

				var promises = [];
				_.each(self.connectors(), function (connector) {
					self.scope.eventControl = eventControl;
					promises.push(connector.execute());
				});

				return new _promise2.default(function (resolve) {
					_promise2.default.all(promises).then(function () {
						var filterPromises = [];
						_.each(self.filters(), function (filter) {
							// Only add filters for which the isExecute flag is set.
							if (filter.isExecute()) {
								self.scope.eventControl = eventControl;
								filterPromises.push(filter.execute());
							}
						});
						_promise2.default.all(filterPromises).then(function () {
							//Create a new promise
							var promise = _promise2.default.resolve();
							_.each(ko.unwrap(self.blocks()), function (block) {
								//For each block, execute the block
								promise = promise.then(function () {
									//Make sure that the eventControl is correct
									self.scope.eventControl = eventControl;
									//If the block doesn't return a promise, create and resolve a new promise
									return block.execute() || _promise2.default.resolve();
								});
							});
							//After all blocks have run, stop the spinner
							promise.then(function () {
								LoadingSpinner.fadeOut();
								resolve();
							});
						});
					}.bind(self)).catch(function () {
						LoadingSpinner.fadeOut();
						resolve();
					}.bind(self));
				});
			},

			toJS: function toJS() {
				var blocks = [];
				_.each(this.blocks(), function (block) {
					blocks.push(block.toJS());
				});
				var connectors = [];
				_.each(this.connectors(), function (connector) {
					connectors.push(connector.toJS());
				});
				var filters = [];
				_.each(this.filters(), function (filter) {
					filters.push(filter.toJS());
				});
				return {
					id: this.id,
					name: this.name,
					trigger: this.trigger(),
					controlId: this.controlId,
					blocks: blocks,
					connectors: connectors,
					filters: filters
				};
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 389 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    _ = __webpack_require__(0);

		//endregion

		return Class.subClass({
			sanitize: function sanitize(styleContent, selector) {
				selector = selector ? selector + ' ' : '';
				var processedStyle = '';
				var rules = this.rulesForCssText(styleContent);

				for (var i = 0; i < rules.length; i++) {
					processedStyle += this.getRulesRecursively(rules[i], selector);
				}
				return processedStyle;
			},
			getRulesRecursively: function getRulesRecursively(cssRule, selector) {
				var _this = this;

				var processedStyle = '';
				if (cssRule.type === CSSRule.STYLE_RULE) {
					//  Base case: Type CSSStyleRule
					processedStyle += this.getProcessedCssTextFromRule(cssRule, selector);
				} else if (cssRule.cssRules) {
					var ruleType = cssRule.cssText.split('{')[0];
					processedStyle += ruleType + '{ ';
					_.each(cssRule.cssRules, function (rule) {
						processedStyle += _this.getRulesRecursively(rule, selector);
					});
					processedStyle += '}';
				} else {
					processedStyle += cssRule.cssText;
				}
				return processedStyle + ' ';
			},
			getProcessedCssTextFromRule: function getProcessedCssTextFromRule(rule, selector) {
				var cssSelectors = rule.selectorText.split(','),
				    formattedSelector = rule.cssText;
				for (var j = 0; j < cssSelectors.length; j++) {
					formattedSelector = formattedSelector.replace(cssSelectors[j], selector + cssSelectors[j]);
				}
				return formattedSelector;
			},
			rulesForCssText: function rulesForCssText(styleContent) {
				var doc = document.implementation.createHTMLDocument(''),
				    styleElement = document.createElement('style');

				styleElement.textContent = styleContent;
				// the style will only be parsed once it is added to a document
				doc.body.appendChild(styleElement);

				return styleElement.sheet.cssRules;
			}
		}, {});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 390 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var EventsId = __webpack_require__(14),
		    _ = __webpack_require__(0),
		    FormsLogger = __webpack_require__(20),
		    ControlReferenceMap = __webpack_require__(120),
		    ko = __webpack_require__(1),
		    Class = __webpack_require__(3);

		//endregion

		var RemoveBracketsRegex = /\[\d*\]/;

		var CHANGE_EVENTS = [EventsId.ON_CHANGE.value, EventsId.ON_CHILDREN_CHANGE.value, EventsId.ON_ADD_ROW.value, EventsId.ON_REMOVE_ROW.value];

		var structuralReferences = [ControlReferenceMap.FIRST.value, ControlReferenceMap.LAST.value, ControlReferenceMap.INDEX.value, ControlReferenceMap.SELECTED.value];

		function pushUnique(array, newElement) {
			array = array || [];
			if (!_.contains(array, newElement)) {
				array.push(newElement);
			}
			return array;
		}
		return Class.subClass({}, {
			/**
    * Map with [controlId]: computedControl
    */
			structuralControlDependencies: {},
			controlDependencies: {},
			scopeDependencies: {},
			dataDependencies: {},
			subscriptions: [],
			viewModel: undefined,
			init: function init(viewModel) {
				this.viewModel = viewModel;
			},

			/*jshint camelcase: false */
			_register_CONSTANT: function _register_CONSTANT() {
				//Nothing to Do, a constant never changes
			},
			/*jshint camelcase: false */
			_register_DATA: function _register_DATA(control, value) {
				var _this = this;

				var valueName = value.expression();
				//make sure the value we are listening is an observable
				this.viewModel.context.payloadContext.getObservableValue(valueName, true);
				var observableValue = ko.pureComputed(function () {
					return value.resolve(_this.viewModel);
				});

				this.subscriptions.push(observableValue.subscribe(this.reEvaluateOnData.bind(this, control)));

				this.dataDependencies[valueName] = pushUnique(this.dataDependencies[valueName], control);
			},
			/*jshint camelcase: false */
			_register_CONTROL: function _register_CONTROL(control, value) {
				this._registerControlDependency(value.controlResolver, control);
			},
			/*jshint camelcase: false */
			_register_FUNCTION: function _register_FUNCTION(control, value) {
				_.each(value.propertyParam(), function (paramValue) {
					this[this._getRegisterFunction(paramValue)](control, paramValue);
				}, this);
			},
			/*jshint camelcase: false */
			_register_SCOPE: function _register_SCOPE(control, value) {
				var scopeName = value.expression().split('.')[0].replace(RemoveBracketsRegex, '');

				var connector = _.find(this.viewModel.form().globalConnectors(), function (c) {
					return c.responseName() === scopeName;
				});
				if (!connector) {
					FormsLogger.getLogger().error('Error: Connector not found');
				} else {
					this.scopeDependencies[connector.id] = pushUnique(this.scopeDependencies[connector.id], control);
				}
			},

			/**
    * registers the control as a dependency of controlResolver, to be updated when the value of controlResolver changes
    * */
			_registerControlDependency: function _registerControlDependency(controlResolver, control) {
				var depControl = controlResolver.resolve(control.viewModel.form(), control);
				// By default use __undefined__, to indicate a control that is not possible to resolve now,
				//  but may be valid in the future (ie. a FRIST selector of an empty table
				var depControlIds = ['__undefined__'];
				if (!_.isEmpty(depControl)) {
					if (!_.isArray(depControl)) {
						depControlIds = [depControl.id];
					} else {
						depControlIds = _.map(depControl, function (ctrl) {
							return ctrl.id;
						});
					}
				}
				//use depControlsIds as an array, to allow multiple dependencies (ie. multiple selection)
				_.each(depControlIds, function (depControlId) {
					this.controlDependencies[depControlId] = pushUnique(this.controlDependencies[depControlId], control);
				}, this);

				this._registerStructuralControlDependency(controlResolver, control.viewModel.form(), control, depControlIds);
			},

			/**
    * register controls that when the  structure changes, we need to recalculate the dependencies
    * ie. a selector inside a table, when the table changes, we need to recalulate the dependencies of the FIRST, LAST, etc
    */
			_registerStructuralControlDependency: function _registerStructuralControlDependency(controlResolver, context, control, depControlIds) {
				//If context is empty (because resolveChildContext didnt find anything) or this is SELF reference
				//  dont add a structural dependency
				if (!_.isEmpty(context) && _.contains(structuralReferences, controlResolver.reference())) {

					var parentControl = controlResolver.getControl(context);
					if (!_.isEmpty(parentControl)) {
						//Add the dependency
						_.each(depControlIds, function (depControlId) {
							this.structuralControlDependencies[parentControl.id] = pushUnique(this.structuralControlDependencies[parentControl.id], depControlId);
						}, this);

						//recursive
						this._registerStructuralControlDependency(controlResolver.childControl(), controlResolver.resolveChildContext(context, control), control, depControlIds);
					}
				}
			},
			_getRegisterFunction: function _getRegisterFunction(value) {
				return '_register_' + value.type().value;
			},
			_evaluateControl: function _evaluateControl(control) {
				this._evaluateComputed(control);
				this._evaluateFilter(control);
			},

			_evaluateComputed: function _evaluateComputed(control) {
				FormsLogger.getLogger().count('[COUNT] [COMPUTED]');
				control.properties.computedValue.scope.eventControl = control;
				control.setValue(control.properties.computedValue.resolve(this.viewModel));
			},
			_evaluateFilter: function _evaluateFilter(control) {
				if (control.properties.filter && control.properties.filter()) {
					control.reApplyFilter();
				}
			},
			_evaluateOnLoad: function _evaluateOnLoad(control) {
				if (control.properties.computed && control.properties.computed()) {
					//Register the dependencies
					this[this._getRegisterFunction(control.properties.computedValue)](control, control.properties.computedValue);
					this._evaluateComputed(control);
				}
				if (control.properties.filter && control.properties.filter() && ko.unwrap(control.properties.filterEnabled)) {
					//Register the dependencies for each value in the if blocks of the filters.
					var conditionalValues = control.properties.filter().getAllConditionalValues();
					conditionalValues.forEach(function (value) {
						this[this._getRegisterFunction(value)](control, value);
					}, this);
				}
			},

			reEvaluateOnControl: function reEvaluateOnControl(trigger, control) {
				if (trigger === EventsId.ON_LOAD.value) {
					//If this is ON_LOAD, we need to evaluate the control if it is computed, and register the dependencies
					this._evaluateOnLoad(control);
				} else if (!!control && _.contains(CHANGE_EVENTS, trigger)) {
					this._reEvaluateOnControl(trigger, control);
				} else if (!!control && trigger === EventsId.ON_SELECTION_CHANGE.value) {
					//trigger check for recalculation, if we have some SELECTED dependency
					this._reCalculateDependencies(control);
				}
			},
			_reCalculateDependencies: function _reCalculateDependencies(control) {
				var depIds = this.structuralControlDependencies[control.id];
				this.structuralControlDependencies[control.id] = [];
				_.each(depIds, function (depControlId) {
					var controls = this.controlDependencies[depControlId];
					this.controlDependencies[depControlId] = [];
					_.each(controls, function (control) {
						this._evaluateOnLoad(control);
					}, this);
				}, this);
			},
			_reEvaluateOnControl: function _reEvaluateOnControl(trigger, control) {
				//If this is a Change event, we need to get the list of all dependant controls to re-evaluate them
				var controlsToReEvaluate = [];
				//Get the controls that depend on this
				controlsToReEvaluate = _.union(controlsToReEvaluate, this.controlDependencies[control.id]);

				//Execute the re-evaluations

				_.each(controlsToReEvaluate, function (dependantControl) {
					this._evaluateControl(dependantControl);
				}, this);

				//If this control has a parent, we need to trigger an event to make sure that all controls are re-evaluated
				//An example of this is A SUMMATION function of a table. A change in any of the controls will trigger the need for the table to re-evaluate as a whole
				if (control.getParent) {
					this.reEvaluateOnControl(EventsId.ON_CHILDREN_CHANGE.value, control.getParent());
				}

				//check if we need to recalculate some dependecy
				this._reCalculateDependencies(control);
			},
			reEvaluateOnScope: function reEvaluateOnScope(scopeChanged) {
				_.each(this.scopeDependencies[scopeChanged], function (dependantControl) {
					this._evaluateControl(dependantControl);
				}, this);
			},
			reEvaluateOnData: function reEvaluateOnData(control) {
				this._evaluateControl(control);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 391 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var Class = __webpack_require__(3),
		    UUID = __webpack_require__(17),
		    ControlTypeId = __webpack_require__(4),
		    ControlFactory = __webpack_require__(88),
		    StringBusinessControl = __webpack_require__(392),
		    BooleanBusinessControl = __webpack_require__(393),
		    NumberBusinessControl = __webpack_require__(394),
		    ObjectBusinessControl = __webpack_require__(395),
		    ArrayBusinessControl = __webpack_require__(396),
		    EnumBusinessControl = __webpack_require__(397),
		    ReferenceBusinessControl = __webpack_require__(398);

		//endregion

		var BusinessControlFactory = Class.subClass({

			/* jshint maxparams: 6 */
			createRowControl: function createRowControl(schemaKey, schema, context, parent) {

				var generatedControls = BusinessControlFactory.createControl(schemaKey, schema, context, parent);
				var row = {
					id: UUID.createUuid(),
					type: ControlTypeId.ROW,
					controls: [generatedControls.toJS()]
				};
				return ControlFactory.createControl(row.id, row.name, row.type, row, context, parent);
			},
			createControl: function createControl(schemaKey, schema, context, parent) {
				if (schema.$ref) {
					schema.type = 'reference';
				} else if (schema.enum) {
					schema.type = 'enum';
				}

				return BusinessControlFactory.createControlUsingType(schemaKey, schema, context, parent);
			},
			createControlUsingType: function createControlUsingType(schemaKey, schema, context, parent) {
				var createFunction = BusinessControlFactory[schema.type];
				/*istanbul ignore else*/
				if (createFunction) {
					var controlFunction = createFunction(schemaKey, schema, context, parent);
					return controlFunction.create();
				} else {
					throw new Error('Unsupported operation exception');
				}
			},
			string: function string(schemaKey, schema, context, parent) {
				return new StringBusinessControl(schemaKey, schema, context, BusinessControlFactory, parent);
			},
			boolean: function boolean(schemaKey, schema, context, parent) {
				return new BooleanBusinessControl(schemaKey, schema, context, BusinessControlFactory, parent);
			},
			number: function number(schemaKey, schema, context, parent) {
				return new NumberBusinessControl(schemaKey, schema, context, BusinessControlFactory, parent);
			},
			object: function object(schemaKey, schema, context, parent) {
				return new ObjectBusinessControl(schemaKey, schema, context, BusinessControlFactory, parent);
			},
			array: function array(schemaKey, schema, context, parent) {
				return new ArrayBusinessControl(schemaKey, schema, context, BusinessControlFactory, parent);
			},
			enum: function _enum(schemaKey, schema, context, parent) {
				return new EnumBusinessControl(schemaKey, schema, context, BusinessControlFactory, parent);
			},
			reference: function reference(schemaKey, schema, context, parent) {
				return new ReferenceBusinessControl(schemaKey, schema, context, BusinessControlFactory, parent);
			}

		}, {});
		return BusinessControlFactory;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 392 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var FormatControlMap = __webpack_require__(159),
		    BusinessControl = __webpack_require__(35);

		//endregion

		return BusinessControl.subClass({}, {
			init: function init(schemaKey, schema, context, businessControlFactory, parent) {
				var self = this;
				self._super(schemaKey, schema, context, businessControlFactory, parent);

				self.format = schema.format || 'string';
				self.type = FormatControlMap[self.format];
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 393 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    BusinessControl = __webpack_require__(35);

		//endregion

		return BusinessControl.subClass({}, {
			init: function init(schemaKey, schema, context, businessControlFactory, parent) {
				var self = this;
				self._super(schemaKey, schema, context, businessControlFactory, parent);

				self.type = ControlTypeId.CHECKBOX;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 394 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var FormatControlMap = __webpack_require__(159),
		    BusinessControl = __webpack_require__(35);

		//endregion

		return BusinessControl.subClass({}, {
			init: function init(schemaKey, schema, context, businessControlFactory, parent) {
				var self = this;
				self._super(schemaKey, schema, context, businessControlFactory, parent);

				self.format = schema.format || 'number';
				self.type = FormatControlMap[self.format];
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 395 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    _ = __webpack_require__(0),
		    TypeCatalog = __webpack_require__(24),
		    BusinessControl = __webpack_require__(35);

		//endregion

		return BusinessControl.subClass({}, {
			init: function init(schemaKey, schema, context, businessControlFactory, parent) {
				var self = this;
				self._super(schemaKey, schema, context, businessControlFactory, parent);

				self.type = ControlTypeId.SECTION;
				self.controls = [];

				_.each(_.keys(schema.properties), function (attributeKey) {
					var attribute = schema.properties[attributeKey];
					TypeCatalog.parseType(attribute);
					var innerControlSchema = self._addBindingContext(attributeKey, attribute);
					var innerControl = businessControlFactory.createControl(attributeKey, innerControlSchema, context, parent);
					self.controls.push(innerControl.toJS());
				}, this);

				self.data.controls = self.controls;
			},
			_addBindingContext: function _addBindingContext(attributeKey, schema) {
				var bindingContext = this.data.properties.binding;
				schema.data = {
					properties: {
						binding: bindingContext + '.' + attributeKey
					}
				};
				return schema;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 396 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    _ = __webpack_require__(0),
		    BusinessControl = __webpack_require__(35);

		//endregion

		return BusinessControl.subClass({}, {
			init: function init(schemaKey, schema, context, businessControlFactory, parent) {
				var self = this;
				self._super(schemaKey, schema, context, businessControlFactory, parent);

				self.type = ControlTypeId.REPEATABLE_SECTION;
				_.defaults(self.data.properties, {
					canAddDelete: true,
					hideBindings: true
				});
				self.controls = [];

				var innerControlSchema = self._setHideBindingFlag(schema.items);
				var innerControl = businessControlFactory.createControl('itemType', innerControlSchema, context, parent);
				self.controls.push(innerControl.toJS());

				self.data.controls = self.controls;
			},
			_setHideBindingFlag: function _setHideBindingFlag(schema) {
				schema.data = {
					properties: {
						hideBindings: true
					}
				};
				return schema;
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 397 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ControlTypeId = __webpack_require__(4),
		    _ = __webpack_require__(0),
		    BusinessControl = __webpack_require__(35);

		//endregion

		return BusinessControl.subClass({}, {
			init: function init(schemaKey, schema, context, businessControlFactory, parent) {
				var self = this;
				self._super(schemaKey, schema, context, businessControlFactory, parent);

				self.type = ControlTypeId.SELECT;
				var properties = self.data.properties;
				_.defaults(properties, {
					optionsFeed: {}
				});
				_.defaults(properties.optionsFeed, {
					properties: {}
				});
				properties.optionsFeed.type = 'STATIC';
				properties.optionsFeed.properties.optionsNames = schema.enum.join('\n');
				properties.optionsFeed.properties.optionsValues = schema.enum.join('\n');
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 398 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var BusinessControl = __webpack_require__(35);

		//endregion

		return BusinessControl.subClass({}, {
			init: function init(schemaKey, schema, context, businessControlFactory, parent) {
				var self = this;
				self.schema = context.config().typeHandler.getResolvedControl(schema.$ref);
				self.schema.data = schema.data;
				self._super(schemaKey, self.schema, context, businessControlFactory, parent);
			},
			create: function create() {
				var self = this;
				return self.businessControlFactory.createControl(self.name, self.schema, self.context, self.parent);
			}
		});
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 399 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {
		'use strict';

		/* global Element*/

		var _ = __webpack_require__(0);

		/**
   * Each property inside of polifills is a different element to which functions will be added (named to be easier to test)
   * Each has an element, which will be extended, and an object of functions (named to be easier to test)
   */
		var polyfills = {
			'Element': {
				'element': Element.prototype,
				'functions': {
					'remove': function remove() {
						/* valid this */
						var parentNode = this.parentNode;
						if (parentNode) {
							parentNode.removeChild(this);
						}
					}
				}
			}
		};

		_.each(polyfills, function (polyfill) {
			_.each(polyfill.functions, function (method, key) {
				if (!polyfill.element[key]) {
					polyfill.element[key] = method;
				}
			});
		});

		return polyfills;
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 400 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1);
		//endregion

		return function (params) {
			var self = this;
			self.styleClass = params.styleClass;
			self.icon = ko.utils.unwrapObservable(params.icon);
			self.alt = params.alt || '';
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 401 */
/***/ (function(module, exports, __webpack_require__) {

var refs = 0;
var dispose;
var content = __webpack_require__(402);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) exports.locals = content.locals;
exports.use = exports.ref = function() {
	if(!(refs++)) {
		dispose = __webpack_require__(161)(content, {"hmr":true});
	}
	return exports;
};
exports.unuse = exports.unref = function() {
       if(refs > 0 && !(--refs)) {
		dispose();
		dispose = null;
	}
};
// Hot Module Replacement
if(false) {
	var lastRefs = module.hot.data && module.hot.data.refs || 0;
	if(lastRefs) {
		exports.ref();
		if(!content.locals) {
			refs = lastRefs;
		}
	}
	if(!content.locals) {
		module.hot.accept();
	}
	module.hot.dispose(function(data) {
		data.refs = content.locals ? 0 : refs;
		if(dispose) {
			dispose();
		}
	});
}

/***/ }),
/* 402 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(160)(false);
// imports


// module
exports.push([module.i, ".oj-popup .oj-popup-content{max-width:450px;word-wrap:break-word}form-renderer a,form-renderer a:hover,form-renderer a:visited{color:#045fab!important}form-renderer a.oj-clickable-icon,form-renderer a .oj-clickable-icon,form-renderer a.oj-clickable-icon-nocontext,form-renderer a.oj-tabs-tab-icon,form-renderer a .oj-tabs-tab-icon,form-renderer a.oj-tabs-tab-icon:visited,form-renderer a:visited.oj-clickable-icon,form-renderer a:visited .oj-clickable-icon,form-renderer a:visited.oj-clickable-icon-nocontext,form-renderer a:visited .oj-tabs-tab-icon{color:#878c90!important}form-renderer a.oj-clickable-icon-nocontext:hover,form-renderer a.oj-clickable-icon:hover,form-renderer a .oj-clickable-icon:hover,form-renderer a.oj-tabs-tab-icon:hover,form-renderer a .oj-tabs-tab-icon:hover,form-renderer a.oj-tabs-tab-icon:visited:hover,form-renderer a:visited.oj-clickable-icon-nocontext:hover,form-renderer a:visited.oj-clickable-icon:hover,form-renderer a:visited .oj-clickable-icon:hover,form-renderer a:visited .oj-tabs-tab-icon:hover{color:#85bbe7!important}form-renderer .canvas .oj-component,form-renderer .canvas .oj-component-initnode{max-width:none;min-width:0}form-renderer .section--header{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}form-renderer .oj-label-group{max-width:100%}form-renderer .button-control{margin-top:21px}form-renderer .oj-inputdatetime-input{border-top-right-radius:0!important;border-bottom-right-radius:0!important}form-renderer .pcs-forms-row{padding:10px 0}form-renderer .pcs-forms-row.form-container{padding:0}form-renderer .row-control{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}form-renderer .image-control{width:100%}form-renderer .wrapper{position:relative;padding-bottom:56.25%;padding-top:25px;height:0}form-renderer .wrapper iframe{position:absolute;top:0;left:0;width:100%;height:100%}form-renderer .pcs-forms-row.panel{padding:0;margin-top:-1px}form-renderer .pcs-forms-row.tablepanel{padding-bottom:0}form-renderer .form-reference-container,form-renderer .panel .pcs-forms-row:first-of-type{padding:0}form-renderer .broken-reference{background-color:#fafafa;border:2px dashed #bdc3c7;color:#7f8c8d;height:35px;line-height:35px;text-align:center;width:100%;padding:0 5px}form-renderer .broken-reference-text{color:#7f8c8d;width:100%;display:inline-block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}form-renderer .oj-label-help-def{max-width:calc(100% - 24px)!important}form-renderer .panel>.pcs-forms-col:first-of-type{padding-left:0}form-renderer .panel>.pcs-forms-col:last-child{padding-right:0}form-renderer .canvas .oj-label{white-space:nowrap}form-renderer .canvas label,form-renderer .canvas label.oj-label{font-size:15px;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%!important;display:inline-block;float:none}form-renderer .canvas .panel .pcs-forms-row:last-child{padding-bottom:0}form-renderer .oj-inputpassword.oj-invalid .oj-inputpassword-input,form-renderer .oj-inputtext.oj-invalid .oj-inputtext-input,form-renderer .oj-textarea.oj-invalid .oj-textarea-input{border:2px solid #d66!important}form-renderer .definition-action{float:right;border:none;background-color:transparent}form-renderer .table-control{table-layout:fixed}form-renderer .table-control .oj-table-column-header-acc-select-row{width:0}form-renderer .disabled{opacity:.3}form-renderer actionable-icon .icon-active,form-renderer actionable-icon .icon-hover{display:none}form-renderer actionable-icon:hover .icon-hover{display:inline}form-renderer actionable-icon:hover:active .icon-hover{display:none}form-renderer actionable-icon:active .icon-active{display:inline}form-renderer actionable-icon:active .icon,form-renderer actionable-icon:hover .icon{display:none}form-renderer .definition-img,form-renderer .definition-img-active,form-renderer .definition-img-hover{width:22px;height:22px;vertical-align:middle}form-renderer .repeatable-section{padding:10px}form-renderer .repeatable-section.oj-selected{background-color:#e4f0fa}form-renderer .oj-choice-row.oj-choice-row-inline{padding-left:10px;padding-right:0}form-renderer .hideTableLabels .oj-label,form-renderer .hideTableLabels .oj-label-group{display:none!important}form-renderer .table-container{display:inline-block;overflow-x:auto}form-renderer .table-control .oj-table-column-header-text{overflow:hidden;text-overflow:ellipsis;width:100%}form-renderer .canvas .oj-label.oj-component.oj-checkboxset-label{margin-bottom:0}form-renderer .oj-checkbox,form-renderer .oj-radio{min-width:10px!important;min-height:10px!important;clip:auto!important}form-renderer .pcs-form-panel{width:100%;min-height:50px;margin-left:-10px}form-renderer .pcs-col-padding{padding-right:10px!important;padding-left:10px!important}form-renderer .spinnerContainer{background:rgba(0,0,0,.1);width:100%;height:100%;position:absolute;z-index:99999;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}form-renderer .spinner{text-align:center}form-renderer .spinner__bounce{width:18px;height:18px;background-color:#045fab;border-radius:100%;display:inline-block;-webkit-animation:sk-bouncedelay 1.4s infinite ease-in-out both;animation:sk-bouncedelay 1.4s infinite ease-in-out both}form-renderer .spinner-object-1{-webkit-animation-delay:-.32s;animation-delay:-.32s}form-renderer .spinner-object-2{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes sk-bouncedelay{0%,80%,to{-webkit-transform:scale(0)}40%{-webkit-transform:scale(1)}}@keyframes sk-bouncedelay{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}form-renderer .anchorLink{display:block}form-renderer .isContentInvalid{color:#de6666}form-renderer .isContentInvalid h1,form-renderer .isContentInvalid h2,form-renderer .isContentInvalid h3,form-renderer .isContentInvalid h4,form-renderer .isContentInvalid h5,form-renderer .isContentInvalid h6,form-renderer .isContentInvalid p,form-renderer span.isContentInvalid{color:#de6666;background:url(" + __webpack_require__(403) + ") no-repeat 5px;padding-left:25px}form-renderer .loading__placeholder{background:#efeff1;opacity:.5;min-height:30px;margin:10px;border-radius:2px}form-renderer .oj-collapsible-header .oj-collapsible-header-icon,form-renderer .oj-collapsible-header a{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}form-renderer .oj-collapsible-header p{margin:0;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}form-renderer .oj-collapsible-content{padding:0}form-renderer .hide-up-down-arrow~.oj-buttonset{display:none}form-renderer .hide-up-down-arrow{border-right-width:1px!important}form-renderer .canvas__footer,form-renderer .canvas__header{display:none}form-renderer .invalid-repeatable{border:2px solid #d66}form-renderer form-renderer .spinnerContainer{display:none!important}", ""]);

// exports


/***/ }),
/* 403 */
/***/ (function(module, exports) {

module.exports = "data:image/svg+xml;base64,PHN2ZyB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIiB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHZpZXdCb3g9IjAgMCAyMCAyMSIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzI0IC01MjIuNzMpIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxODQ3LjYgLTE2NDMpIj4KICAgICAgICAgICAgPHBhdGggZmlsbD0iI2MwMzkyYiIgZD0ibS0xNTAzLjYgMjE3Ni43YzAgNS41MjMtNC40NzcgMTAtMTAgMTAtNS41MjI4IDAtMTAtNC40NzctMTAtMTAgMC01LjUyMjggNC40NzcyLTEwIDEwLTEwIDUuNTIzIDAgMTAgNC40NzcyIDEwIDEweiIvPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjZTc0YzNjIiBkPSJtLTE1MDMuNiAyMTc1LjdjMCA1LjUyMy00LjQ3NyAxMC0xMCAxMC01LjUyMjggMC0xMC00LjQ3Ny0xMC0xMCAwLTUuNTIyOCA0LjQ3NzItMTAgMTAtMTAgNS41MjMgMCAxMCA0LjQ3NzIgMTAgMTB6Ii8+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiNjMDM5MmIiIGQ9Im0tMTUxOC41IDIxNzMuMSAzLjUzNTcgMy42LTMuNTM1NyAzLjUgMS40MTQyIDEuNCAzLjUzNTUtMy41IDMuNTM2IDMuNSAxLjQxNC0xLjQtMy41MzYtMy41IDMuNTM2LTMuNi0xLjQxNC0xLjQtMy41MzYgMy41LTMuNTM1NS0zLjUtMS40MTQyIDEuNHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iI2VjZjBmMSIgZD0ibS0xNTE4LjUgMjE3Mi4xIDMuNTM1NyAzLjYtMy41MzU3IDMuNSAxLjQxNDIgMS40IDMuNTM1NS0zLjUgMy41MzYgMy41IDEuNDE0LTEuNC0zLjUzNi0zLjUgMy41MzYtMy42LTEuNDE0LTEuNC0zLjUzNiAzLjUtMy41MzU1LTMuNS0xLjQxNDIgMS40eiIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg=="

/***/ }),
/* 404 */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),
/* 405 */
/***/ (function(module, exports, __webpack_require__) {

var refs = 0;
var dispose;
var content = __webpack_require__(406);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) exports.locals = content.locals;
exports.use = exports.ref = function() {
	if(!(refs++)) {
		dispose = __webpack_require__(161)(content, {"hmr":true});
	}
	return exports;
};
exports.unuse = exports.unref = function() {
       if(refs > 0 && !(--refs)) {
		dispose();
		dispose = null;
	}
};
// Hot Module Replacement
if(false) {
	var lastRefs = module.hot.data && module.hot.data.refs || 0;
	if(lastRefs) {
		exports.ref();
		if(!content.locals) {
			refs = lastRefs;
		}
	}
	if(!content.locals) {
		module.hot.accept();
	}
	module.hot.dispose(function(data) {
		data.refs = content.locals ? 0 : refs;
		if(dispose) {
			dispose();
		}
	});
}

/***/ }),
/* 406 */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(160)(false);
// imports


// module
exports.push([module.i, ".pcs-forms-row{margin:0 auto;max-width:1440px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.pcs-forms-row:after,.pcs-forms-row:before{content:\" \";display:table;clear:both}.pcs-forms-col{padding-left:10px;padding-right:10px;width:100%;float:left;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box}.pcs-forms-panel-alig{display:inline-grid;float:none}.pcs-forms-editable-input{color:#333!important;background-color:#fcfdfe!important;border:1px solid #dfe4e7!important;border-radius:2px!important}h4{font-size:1rem!important}h5{font-size:.857rem}.oj-checkbox-nocomp{margin-right:.74rem}.no-extra-margin{-webkit-box-flex:0!important;-ms-flex-positive:0!important;flex-grow:0!important}", ""]);

// exports


/***/ }),
/* 407 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';
		//region dependencies

		var ko = __webpack_require__(1),
		    oj = __webpack_require__(7),
		    templates = {
			iconTemplate: __webpack_require__(162),
			rendererControl: __webpack_require__(408),
			rendererMoneyControl: __webpack_require__(409),
			rendererButtonControl: __webpack_require__(410),
			rendererChecklistControl: __webpack_require__(411),
			rendererCheckboxControl: __webpack_require__(412),
			rendererDateControl: __webpack_require__(413),
			rendererDateTimeControl: __webpack_require__(414),
			rendererEmailControl: __webpack_require__(415),
			rendererLinkControl: __webpack_require__(416),
			rendererMessageControl: __webpack_require__(417),
			rendererMessageTypeParagraphTemplate: __webpack_require__(418),
			rendererMessageTypeHeading1Template: __webpack_require__(419),
			rendererMessageTypeHeading2Template: __webpack_require__(420),
			rendererMessageTypeHeading3Template: __webpack_require__(421),
			rendererMessageTypeHeading4Template: __webpack_require__(422),
			rendererMessageTypeHeading5Template: __webpack_require__(423),
			rendererMessageTypeHeading6Template: __webpack_require__(424),
			rendererNumberControl: __webpack_require__(425),
			rendererRadioButtonControl: __webpack_require__(426),
			rendererSelectControl: __webpack_require__(427),
			rendererSingleSelectTemplate: __webpack_require__(428),
			rendererMultiSelectTemplate: __webpack_require__(429),
			rendererTextAreaControl: __webpack_require__(430),
			rendererTextControl: __webpack_require__(431),
			rendererTimeControl: __webpack_require__(432),
			rendererUrlControl: __webpack_require__(433),
			rendererPhoneControl: __webpack_require__(434),
			rendererImageControl: __webpack_require__(435),
			rendererFormReferenceControl: __webpack_require__(436),
			rendererVideoControl: __webpack_require__(437),
			rendererIdentityControl: __webpack_require__(438),
			rendererTemplate: __webpack_require__(163),
			rendererPanelControl: __webpack_require__(439),
			rendererSectionControl: __webpack_require__(440),
			rendererTableControl: __webpack_require__(441),
			rendererRepeatableSectionControl: __webpack_require__(442),
			rendererTabControl: __webpack_require__(443),
			rendererTableRow: __webpack_require__(444),
			rendererRepeatableRow: __webpack_require__(445),
			columnControl: __webpack_require__(446),
			rendererSectionRow: __webpack_require__(447),
			rendererPanelItem: __webpack_require__(448),
			rendererRepeatableItem: __webpack_require__(449),
			rendererTabContainerControl: __webpack_require__(450)
		};

		__webpack_require__(118);
		__webpack_require__(451);
		__webpack_require__(452);
		__webpack_require__(453);
		__webpack_require__(454);
		__webpack_require__(455);
		__webpack_require__(456);
		__webpack_require__(457);

		//endregion
		oj.koStringTemplateEngine.install();

		return function () {

			for (var name in templates) {
				/*istanbul ignore else*/
				if (templates.hasOwnProperty(name)) {
					ko.templates[name] = templates[name];
				}
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 408 */
/***/ (function(module, exports) {

module.exports = "<div class=\"pcs-forms-row row-control\" data-bind=\"asyncTemplate: {name:'columnControl', foreach: $data.controls, as: 'control',pageSize: 1, afterLazyRenderAll: context.registerAsyncTemplate(context, $data.controls())},visible: !hide()\">\n\n</div>\n";

/***/ }),
/* 409 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<div data-bind=\"template:{afterRender: $parent.afterRenderMoney}\">\n    <label data-bind=\"attr: {for : $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <input data-bind=\"css: {'hide-up-down-arrow': !showUpDownArrow()}, attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autofocus: autoFocus() ? 'autofocus' : null, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle},\n                        ojComponent: {\n                                        component: 'ojInputNumber',\n                                        title: hint,\n                                        validators: $parent.validators,\n                                        readOnly: $parent.readOnly() || readonly(),\n                                        value: $parent.value,\n                                        rawValue: $parent.rawValue,\n                                        max: maxValue,\n                                        min: minValue,\n                                        step: step,\n                                        required: required,\n                                        disabled: $parent.readOnly() ? !$parent.readOnly() : disabled(),\n                                        help: $parent.helpDefinition(help),\n                                        converter: converterOptions()\n                                      }, handleEvents: $parent\"/>\n</div>\n<!-- /ko -->";

/***/ }),
/* 410 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<div>\n    <button type=\"button\" data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autofocus: autoFocus() ? 'autofocus' : null, style: parsedStyle},\n                                    ojComponent: {component: 'ojButton', label: label, disabled: $parent.readOnly() ||disabled() ||readonly()}, handleEvents: $parent\" class=\"button-control\">\n    </button>\n</div>\n<!-- /ko -->";

/***/ }),
/* 411 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<label data-bind =\"attr: {for: $parent.domIdPrefix + $parent.id, id: $parent.id + '_mainLabel'}, text: label(), style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n<div data-bind = \"attr: {id: $parent.domIdPrefix + $parent.id, style: parsedStyle}, ojComponent: {\n    component: 'ojCheckboxset',\n    validators: $parent.validators,\n\tinvalidComponentTracker: $parent.tracker,\n\tdisabled: $parent.readOnly() || disabled() ||readonly(),\n\tvalue: $parent.value,\n\trawValue: $parent.rawValue,\n\thelp: $parent.helpDefinition(help),\n    required: required}, handleEvents: $parent,\n    refresh: computedOptions\">\n\t<!-- ko foreach: computedOptions -->\n\t    <span class =\"oj-choice-row\" data-bind=\"attr: {id: $parents[1].id + '_row' + $index()}, css: {'oj-choice-row-inline': $parent.inline() === true}\">\n\t      <input data-bind=\"value: value, attr:{id: $parents[1].id + '_choice' +  $index(), autofocus: ($parent.autoFocus() && $parent.autoFocus()[0] === value) ? 'autofocus' : null}\"  type =\"checkbox\">\n\t      <label data-bind=\"for: $parents[1].id + '_choice' + $index(), text: label, style: {'fontSize': $parent.formattedStyle().fontSize}\"></label>\n\t    </span>\n\t<!-- /ko -->\n</div>\n<!-- /ko -->\n";

/***/ }),
/* 412 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<div data-bind = \"attr: {id: $parent.domIdPrefix + $parent.id, style: parsedStyle}, ojComponent: {\n    component: 'ojCheckboxset',\n    validators: $parent.validators,\n\tinvalidComponentTracker: $parent.tracker,\n\tdisabled: $parent.readOnly() || disabled() ||readonly(),\n\tvalue: $parent.checkboxValue,\n\trawValue: $parent.rawValue,\n\thelp: $parent.helpDefinition(help),\n    required: required}, handleEvents: $parent\">\n\t<span class =\"oj-choice-item\" data-bind=\"attr: {id: $parent.id + '_check'}\">\n\t\t<input data-bind=\"value: 'true', attr:{id: $parent.id + '_checked'}\"  type =\"checkbox\">\n\t\t<label data-bind =\"attr: {for: $parent.domIdPrefix + $parent.id, id: $parent.id + '_mainLabel'}, text: label(), style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n\t</span>\n</div>\n<!-- /ko -->";

/***/ }),
/* 413 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<div data-bind=\"template:{afterRender: $parent.afterRenderDate}\">\n    <label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n                        ojComponent: {component: 'ojInputDate',\n                            validators: $parent.validators,\n                            disabled: disabled,\n                            placeholder: placeHolder,\n                            readOnly: $parent.readOnly() || readonly(),\n                            required: required,\n                            help: $parent.helpDefinition(help),\n                            value: $parent.value,\n                            rawValue: $parent.rawValue,\n                            max: maxValue,\n                            min: minValue,\n                            invalidComponentTracker: $parent.tracker,\n                            converter: dateConverter,\n                            keyboardEdit: preventFreeInput()? 'disabled':'enabled',\n\n                            datePicker: {\n                              changeMonth: 'none',\n                              changeYear: 'none',\n                              showOn: preventFreeInput()? 'focus':'image'\n                            }\n                        }, handleEvents: $parent\"/>\n    </div>\n\n<!-- /ko -->";

/***/ }),
/* 414 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<div data-bind=\"template:{afterRender: $parent.afterRenderTime}\">\n    <label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n                        ojComponent: {component: 'ojInputDateTime',\n                            validators: $parent.validators,\n                            disabled: disabled,\n                            placeholder: placeHolder,\n                            readOnly: $parent.readOnly() || readonly(),\n                            required: required,\n                            value: $parent.value,\n                            rawValue: $parent.rawValue,\n                            invalidComponentTracker: $parent.tracker,\n                            max: maxValue,\n                            min: minValue,\n                            help: $parent.helpDefinition(help),\n                            converter: dateConverter,\n                            keyboardEdit: preventFreeInput()? 'disabled':'enabled',\n                            datePicker: {\n                              changeMonth: 'none',\n                              changeYear: 'none',\n                              showOn: preventFreeInput()? 'focus':'image'\n                            },\n                            timePicker: {\n                                timeIncrement: step()[0],\n                                showOn: preventFreeInput()? 'focus':'image'\n                            }\n                        }, handleEvents: $parent\"/>\n</div>\n<!-- /ko -->";

/***/ }),
/* 415 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n<input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent: 'ojInputText',\n\t\t\t\t\t\t\t\t \ttitle: hint,\n\t\t\t\t\t\t\t\t \tplaceholder: placeHolder,\n\t\t\t\t\t\t\t\t \tvalidators: $parent.validators,\n\t\t\t\t\t\t\t\t \treadOnly: $parent.readOnly() || readonly(),\n\t\t\t\t\t\t\t\t \trequired: required,\n\t\t\t\t\t\t\t\t \tinvalidComponentTracker: $parent.tracker,\n\t\t\t\t\t\t\t\t \tvalue: $parent.value,\n\t\t\t\t\t\t\t\t \trawValue: $parent.rawValue,\n\t\t\t\t\t\t\t\t \tdisabled: disabled,\n\t\t\t\t\t\t\t\t \thelp: $parent.helpDefinition(help)\n\t\t\t\t\t\t\t\t }, handleEvents: $parent\"/>\n<!-- /ko -->";

/***/ }),
/* 416 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\r\n<div>\r\n\t<a class=\"anchorLink\" data-bind=\"text: (labelVal() === '') ? defaultLabel : labelVal  , attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: parsedStyle,\r\n\t\t href : ($parent.value() === '') ? undefined : $parent.value ,\r\n\t\t target: anchor() ? null : target},  handleEvents: $parent\" />\r\n\r\n</div>\r\n<!-- /ko -->";

/***/ }),
/* 417 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n    <!-- ko template: {name: 'renderer' +  type()[0] + 'Template', data: {properties: $data, message: $parent.value()}} -->\n    <!-- /ko -->\n<!-- /ko -->";

/***/ }),
/* 418 */
/***/ (function(module, exports) {

module.exports = "<p data-bind=\"attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message\"></p>";

/***/ }),
/* 419 */
/***/ (function(module, exports) {

module.exports = "<h1 data-bind=\"attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message\"></h1>";

/***/ }),
/* 420 */
/***/ (function(module, exports) {

module.exports = "<h2 data-bind=\"attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message\"></h2>";

/***/ }),
/* 421 */
/***/ (function(module, exports) {

module.exports = "<h3 data-bind=\"attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message\"></h3>";

/***/ }),
/* 422 */
/***/ (function(module, exports) {

module.exports = "<h4 data-bind=\"attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message\"></h4>";

/***/ }),
/* 423 */
/***/ (function(module, exports) {

module.exports = "<h5 data-bind=\"attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message\"></h5>";

/***/ }),
/* 424 */
/***/ (function(module, exports) {

module.exports = "<h6 data-bind=\"attr: {id: $parents[1].domIdPrefix + $parents[1].id, name: $parents[1].name, style: properties.parsedStyle}, text: message\"></h6>";

/***/ }),
/* 425 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<div data-bind=\"template:{afterRender: $parent.afterRenderNumber}\">\n    <label data-bind=\"attr: {for:$parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <input data-bind=\"css: {'hide-up-down-arrow': !showUpDownArrow()}, attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n                        ojComponent: {\n                                        component: 'ojInputNumber',\n                                        title: hint,\n                                        validators: $parent.validators,\n                                        readOnly: $parent.readOnly() || readonly(),\n                                        required: required,\n                                        max: maxValue,\n                                        min: minValue,\n                                        step: step,\n                                        invalidComponentTracker: $parent.tracker,\n                                        value: $parent.value,\n                                        rawValue: $parent.rawValue,\n                                        disabled: $parent.readOnly() ? !$parent.readOnly() : disabled(),\n                                        help: $parent.helpDefinition(help)\n                                     }, handleEvents: $parent\"/>\n</div>\n<!-- /ko -->";

/***/ }),
/* 426 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<label data-bind =\"attr: {for: $parent.domIdPrefix + $parent.id, id: $parent.id + '_mainLabel'}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n<!-- ko if: !optionsFeed().optionsResolver().loading() -->\n<div data-bind = \"attr: {id: $parent.domIdPrefix + $parent.id, style: parsedStyle}, ojComponent: {\n    component: 'ojRadioset',\n    validators: $parent.validators,\n\tdisabled: $parent.readOnly() ||disabled() ||readonly(),\n\trequired: required,\n\thelp: $parent.helpDefinition(help),\n\tmessagesCustom: optionsFeed().optionsResolver().customValidationMessages(),\n\tvalue: $parent.value}, handleEvents: $parent,\n    refresh: computedOptions\">\n    <!-- ko foreach: computedOptions -->\n\t    <span class =\"oj-choice-row\" data-bind=\"css: {'oj-choice-row-inline': $parent.inline() === true}\">\n\t      <input data-bind=\"value: value, attr:{id: $parents[1].id + $index(), name: $parents[1].id, autofocus: ($parent.autoFocus() && $parent.autoFocus()[0] === value) ? 'autofocus' : null}\" type =\"radio\">\n\t      <label data-bind=\"for: $parents[1].id + $index(), text: label, style: {'fontSize': $parent.formattedStyle().fontSize}\"></label>\n\t    </span>\n    <!-- /ko -->\n</div>\n<!-- /ko -->\n\n<!-- ko if: optionsFeed().optionsResolver().loading -->\n<div class=\"loadingControl\" data-bind=\"ojComponent:{\n\t  component: 'ojProgressbar',\n\t  value: -1}\">\n</div >\n<!-- /ko -->\n\n<!-- /ko -->\n";

/***/ }),
/* 427 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<div data-bind=\"template:{afterRender: $parent.afterRenderSelect}\">\n    <label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <!-- ko if: !optionsFeed().optionsResolver().loading() -->\n\n    <!-- ko template: multiple() ? 'rendererMultiSelectTemplate' : 'rendererSingleSelectTemplate'-->\n    <!-- /ko -->\n    <!-- /ko -->\n</div>\n\n<!-- ko if: optionsFeed().optionsResolver().loading -->\n<div class=\"loadingControl\" data-bind=\"ojComponent:{\n\t  component: 'ojProgressbar',\n\t  value: -1}\">\n</div >\n<!-- /ko -->\n\n<!-- /ko -->";

/***/ }),
/* 428 */
/***/ (function(module, exports) {

module.exports = "<select data-bind=\"attr: {autofocus: autoFocus() ? 'autofocus' : null, id: $parent.domIdPrefix + $parent.id, name: $parent.name}, ojComponent: {component: 'ojSelect',\n                                    disabled: $parent.readOnly() ||disabled() ||readonly(),\n                                    title: hint,\n                                    help: $parent.helpDefinition(help),\n                                    placeholder: placeHolder,\n                                    required: required,\n                                    value: $parent._ojValue,\n                                    rawValue: $parent.rawValue,\n                                    invalidComponentTracker: $parent.tracker,\n                                    messagesCustom: optionsFeed().optionsResolver().customValidationMessages(),\n                                    validators: $parent.validators}, handleEvents: $parent\">\n    <!-- ko foreach: computedOptions() -->\n        <option data-bind=\"value: value, text:label\"></option>\n    <!-- /ko -->\n</select>";

/***/ }),
/* 429 */
/***/ (function(module, exports) {

module.exports = "<select data-bind=\"attr: {autofocus: autoFocus() ? 'autofocus' : null, id: $parent.domIdPrefix + $parent.id, name: $parent.name}, ojComponent: {component: 'ojSelect',\n                                    disabled: $parent.readOnly() ||disabled() ||readonly(),\n                                    title: hint,\n                                    placeholder: placeHolder,\n                                    help: $parent.helpDefinition(help),\n                                    required: required,\n                                    value: $parent._ojValue,\n                                    rawValue: $parent.rawValue,\n                                    multiple: true,\n                                    invalidComponentTracker: $parent.tracker,\n                                    messagesCustom: optionsFeed().optionsResolver().customValidationMessages(),\n                                    validators: $parent.validators}, handleEvents: $parent\">\n    <!-- ko foreach: computedOptions() -->\n        <option data-bind=\"value: value, text:label\"></option>\n    <!-- /ko -->\n</select>";

/***/ }),
/* 430 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\r\n<label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\r\n<textarea data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autocomplete: autoComplete() ? 'on' : 'off', autofocus: autoFocus() ? 'autofocus' : null, rows: rows, style: parsedStyle},\r\n                    ojComponent: {\r\n                        component: 'ojTextArea',\r\n                        title: hint,\r\n                        placeholder: placeHolder,\r\n                        validators: $parent.validators,\r\n                        readOnly: $parent.readOnly() || readonly(),\r\n                        required: required,\r\n                        value: $parent.value,\r\n                        rawValue: $parent.rawValue,\r\n                        disabled: disabled,\r\n                        invalidComponentTracker: $parent.tracker,\r\n                        help: $parent.helpDefinition(help)\r\n                        }, handleEvents: $parent\"></textarea>\r\n<!-- /ko -->";

/***/ }),
/* 431 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\r\n<label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\r\n<input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autofocus: autoFocus() ? 'autofocus' : null, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle},\r\n\t\t\t\t\tojComponent: {\r\n\t\t\t\t\t\t\t\t\tcomponent: 'ojInputText',\r\n\t\t\t\t\t\t\t\t \ttitle: hint,\r\n\t\t\t\t\t\t\t\t \tplaceholder: placeHolder,\r\n\t\t\t\t\t\t\t\t \tvalidators: $parent.validators,\r\n\t\t\t\t\t\t\t\t \treadOnly: $parent.readOnly() || readonly(),\r\n\t\t\t\t\t\t\t\t \trequired: required,\r\n\t\t\t\t\t\t\t\t \tvalue: $parent.value,\r\n\t\t\t\t\t\t\t\t \tdisabled: disabled,\r\n\t\t\t\t\t\t\t\t \thelp: $parent.helpDefinition(help),\r\n\t\t\t\t\t\t\t\t \trawValue: $parent.rawValue,\r\n\t\t\t\t\t\t\t\t \tinvalidComponentTracker: $parent.tracker\r\n\t\t\t\t\t\t\t\t }, handleEvents: $parent\"/>\r\n<!-- /ko -->";

/***/ }),
/* 432 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<div data-bind=\"template:{afterRender: $parent.afterRenderTime}\">\n    <label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n    <input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n                        ojComponent: {component: 'ojInputTime',\n                            validators: $parent.validators,\n                            disabled: disabled,\n                            placeholder: placeHolder,\n                            readOnly: $parent.readOnly() || readonly(),\n                            required: required,\n                            value: $parent.value,\n                            rawValue: $parent.rawValue,\n                            max: maxValue,\n                            min: minValue,\n                            invalidComponentTracker: $parent.tracker,\n                            help: $parent.helpDefinition(help),\n                            keyboardEdit: preventFreeInput()? 'disabled':'enabled',\n                            timePicker: {\n                                timeIncrement: step()[0],\n                                showOn: preventFreeInput()? 'focus':'image'\n                            }},\n                        }, handleEvents: $parent\"/>\n</div>\n<!-- /ko -->";

/***/ }),
/* 433 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize} \"></label>\n<input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent: 'ojInputText',\n\t\t\t\t\t\t\t\t \ttitle: hint,\n\t\t\t\t\t\t\t\t \tplaceholder: placeHolder,\n\t\t\t\t\t\t\t\t \tvalidators: $parent.validators,\n\t\t\t\t\t\t\t\t \treadOnly: $parent.readOnly() || readonly(),\n\t\t\t\t\t\t\t\t \trequired: required,\n\t\t\t\t\t\t\t\t \tvalue: $parent.value,\n\t\t\t\t\t\t\t\t \trawValue: $parent.rawValue,\n\t\t\t\t\t\t\t\t \tinvalidComponentTracker: $parent.tracker,\n\t\t\t\t\t\t\t\t \tdisabled: disabled,\n\t\t\t\t\t\t\t\t \thelp: $parent.helpDefinition(help)\n\t\t\t\t\t\t\t\t }, handleEvents: $parent\"/>\n<!-- /ko -->";

/***/ }),
/* 434 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<label data-bind=\"attr: {for : $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n<input data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id, name: $parent.name, autocomplete: autoComplete() ? 'on' : 'off', style: parsedStyle, autofocus: autoFocus() ? 'autofocus' : null},\n\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent: 'ojInputText',\n\t\t\t\t\t\t\t\t \tplaceholder: placeHolder,\n\t\t\t\t\t\t\t\t \ttitle: hint,\n\t\t\t\t\t\t\t\t \tvalidators: $parent.validators,\n\t\t\t\t\t\t\t\t \treadOnly: $parent.readOnly() ||readonly(),\n\t\t\t\t\t\t\t\t \trequired: required,\n\t\t\t\t\t\t\t\t \tvalue: $parent.value,\n\t\t\t\t\t\t\t\t \trawValue: $parent.rawValue,\n\t\t\t\t\t\t\t\t \tdisabled: disabled,\n\t\t\t\t\t\t\t\t \thelp: $parent.helpDefinition(help)\n\t\t\t\t\t\t\t\t }, handleEvents: $parent\"/>\n<!-- /ko -->\n";

/***/ }),
/* 435 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<label class='oj-label' data-bind=\"attr: {for : $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n<img class=\"image-control\" data-bind=\"attr: {\n                    id: $parent.domIdPrefix + $parent.id,\n                    name: $parent.name,\n                    style: parsedStyle,\n                    alt : alt,\n                    src: $parent.value}, handleEvents: $parent\"/>\n\n<!-- /ko -->\n\n\n";

/***/ }),
/* 436 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n    <!-- ko if: $parent.isValidReference() -->\n        <label data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\" class=\"oj-label oj-component oj-inputtext-label\"></label>\n        <form-renderer data-bind=\"attr: {id: $parent.domIdPrefix + $parent.id}\" params=\"value: { form: $parent.selectedPresentation(),\n            allBundles: $parent.allBundles,\n            controlBindings: $parent.context.payloadContext.getBindingControlFor($parent),\n            bindingContext: $parent.context.payloadContext.getFullBindingContextFor($parent),\n            config: $parent.getConfig()\n            }, formId: $parent.properties.reference().formId,\n            onValidStateChange: $parent.onValidStateChange,\n            presentationId: $parent.properties.reference().presentationId,\n            loadedCallback: $parent.loadedCallback\">\n        </form-renderer>\n    <!-- /ko -->\n\n    <!-- ko if: !$parent.isValidReference() -->\n        <label data-bind=\"text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\" class=\"oj-label oj-component oj-inputtext-label\"></label>\n        <div class=\"broken-reference\">\n            <span class=\"broken-reference-text\" data-bind=\"text: $parent.msg.FAILED_TO_LOAD_FORM_CONTENT, attr: {title: $parent.msg.FAILED_TO_LOAD_FORM_CONTENT}\">Failed to load form content</span>\n        </div>\n    <!-- /ko -->\n<!-- /ko -->";

/***/ }),
/* 437 */
/***/ (function(module, exports) {

module.exports = "<!-- ko with: properties -->\n<label class=\"oj-label\" data-bind=\"attr: {for: $parent.domIdPrefix + $parent.id}, text: label, style: {'color': formattedStyle().labelColor, 'font-size': formattedStyle().labelSize}\"></label>\n\n<div class=\"wrapper\" data-bind=\"attr: {'style': parsedStyle}\">\n    <iframe data-bind=\"attr: {\n                        id: $parent.domIdPrefix + $parent.id,\n                        name: $parent.name,\n                    allowfullscreen : allowFullScreen() ? 'allowfullscreen' : null,\n                    msallowfullscreen : allowFullScreen() ? 'msallowfullscreen' : null,\n                    mozallowfullscreen : allowFullScreen() ? 'mozallowfullscreen' : null,\n                    oallowfullscreen : allowFullScreen() ? 'oallowfullscreen' : null,\n                    webkitallowfullscreen : allowFullScreen() ? 'webkitallowfullscreen' : null,\n                    src: parsedVideoSrcLink\n                    }, handleEvents: $parent\">\n    </iframe>\n</div>\n<!-- /ko -->\n";

/***/ }),
/* 438 */
/***/ (function(module, exports) {

module.exports = "<div data-bind=\"template:{afterRender: afterRenderIdentity}\">\r\n    <label data-bind=\"attr: {for: domIdPrefix + id},\r\n                            text: properties.label,\r\n                            style: {'color': properties.formattedStyle().labelColor,\r\n                                'font-size': properties.formattedStyle().labelSize}\"></label>\r\n    <select data-bind=\"attr: {autofocus: properties.autoFocus() ? 'autofocus' : null,\r\n                            id: domIdPrefix + id, name: name}, ojComponent: ojIdentityObj, handleEvents: $parent\">\r\n    </select>\r\n</div>";

/***/ }),
/* 439 */
/***/ (function(module, exports) {

module.exports = "<div class=\"pcs-forms-row panel pcs-form-panel\" data-bind=\"attr: {style: $data.properties.parsedStyle}\">\n    <label class=\"oj-label\" data-bind=\"text:  $data.properties.label, visible: $data.properties.label() !== ''\"></label>\n    <div style=\"margin-right: -20px;\" data-bind=\"asyncTemplate: {name:'rendererPanelItem', foreach: $data.controls(), as: 'control', pageSize: 2, afterLazyRenderAll: context.registerAsyncTemplate(context, $data.controls())}\"></div>\n</div>";

/***/ }),
/* 440 */
/***/ (function(module, exports) {

module.exports = "<div class=\"pcs-forms-row panel\" style=\"width:100%; min-height: 50px;\" data-bind=\"ojComponent: {component: 'ojCollapsible',\n    expanded: $data.properties.expanded}, attr: {id: 'section-' + id, style: $data.properties.parsedStyle}, handleEvents: $data\" >\n    <div class=\"section--header\" data-bind=\"template: { name: 'renderer' + properties.headerType()[0] + 'Template', data: {properties: properties, message: properties.label }}, css:{isContentInvalid:!isValid()}\"></div>\n\n    <div>\n    <!-- ko if: $data.renderContent -->\n    <div data-bind=\"asyncTemplate: {name:'rendererSectionRow', foreach: $data.controls(), pageSize: 2, afterLazyRenderAll: $data.registerAsyncTemplate(context, $data.controls()),hideLoading: true}\">\n    </div>\n    <!-- /ko -->\n    </div>\n</div>\n";

/***/ }),
/* 441 */
/***/ (function(module, exports) {

module.exports = "\n\n<div style=\"height: 25px; z-index: 1000\" data-bind=\"visible: properties.canAddDelete\">\n    <button type=\"button\" class=\"definition-action delete remove-row\" data-bind=\"event: {click: removeSelectedRow.bind($data), touchend: removeSelectedRow.bind($data)},\n    disable: (selectedRows().length === 0 || properties.readonly()), css: {disabled: (selectedRows().length === 0 || properties.readonly())}\">\n        <actionable-icon params=\"{icon: removeColumnIcon, styleClass:  'definition-img', alt: msg.DELETE}\"></actionable-icon>\n    </button>\n    <button type=\"button\" class=\"definition-action add add-row\" data-bind=\"disable: (!canAddRows() || properties.readonly()), css: {disabled: (!canAddRows() || properties.readonly())},\n    event:{click: addRow.bind($data),touchend: addRow.bind($data)}\">\n        <actionable-icon params=\"{icon: addColumnIcon, styleClass:  'definition-img', alt: msg.CREATE}\"></actionable-icon>\n    </button>\n</div>\n\n<div class=\"oj-table oj-table-container table-container\" style=\"width: 100%; max-height: 100%; table-layout: fixed\">\n    <!-- ko if: dataSource().length > 0 -->\n    <div class=\"oj-panel pcs-forms-row tablepanel\" data-bind=\"css: properties.invalidRepeatableClass\">\n        <label class=\"oj-label\" data-bind=\"text:  properties.label, visible: properties.label() !== '', style: {'color': properties.formattedStyle().labelColor, 'font-size': properties.formattedStyle().labelSize}\"></label>\n        <table class=\"table-control table-control-renderer oj-table-element\">\n            <thead class=\"oj-table-header\">\n            <tr class=\"oj-table-header-row\">\n                <th style=\"width: 10px\"></th>\n                <!-- ko foreach: controls -->\n                    <!-- ko ifnot: properties.hide()-->\n                    <th class=\"oj-table-column-header-cell\" data-bind=\"attr:{title: properties.label}, style: {'width': properties.formattedStyle().tableColumnWidth}\">\n                        <div class=\"oj-table-column-header\">\n                            <div class=\"oj-table-column-header-text\" data-bind=\"text: properties.label\"></div>\n                        </div>\n                    </th>\n                    <!-- /ko -->\n                <!-- /ko -->\n            </tr>\n            </thead>\n            <tbody class=\"oj-table-body\" data-bind=\"css: {hideTableLabels: properties.hideLabels()}, asyncTemplate:{name:'rendererTableRow', foreach: dataSource, pageSize: 5, afterLazyRenderAll: context.registerAsyncTemplate(context, dataSource), hideLoading: true}\">\n            </tbody>\n        </table>\n    </div>\n    <!-- /ko -->\n\n    <!-- ko if: dataSource().length === 0 -->\n    <div class=\"oj-table-body-row oj-table-hgrid-lines\" style=\"padding-top: 20px\"  data-bind=\"css: properties.invalidRepeatableClass\">\n        <span style=\"padding: 5px;\" data-bind=\"text: msg.NO_ROWS\"></span>\n    </div>\n    <!-- /ko -->\n    <!-- ko if: dataSource().length > properties.maxRows() -->\n    <div class=\"oj-table-body-row oj-table-hgrid-lines\" style=\"padding-top: 20px\">\n        <span style=\"padding: 5px;\" data-bind=\"text: StringUtils.format(msg.TOO_MANY_ROWS, properties.maxRows(), dataSource().length)\"></span>\n    </div>\n    <!-- /ko -->\n    <input data-bind=\"visible: false, ojComponent: {component: 'ojInputText', messagesCustom: properties.errorMsg()}\"/>\n</div>\n\n<script type=\"text/html\" id=\"renderer-table-cell\">\n    <!-- ko if: controls().length > 0 -->\n    <!-- ko with: controls()[0] -->\n    <div class=\"pcs-forms-row\">\n        <div data-bind=\"attr: { id: 'renderer-control-' + id }\">\n            <div data-bind=\"template: {name: controlTemplate, data: $data, as: 'control', afterRender: $data.afterRender}, visible: !properties.hide()\"></div>\n        </div>\n    </div>\n    <!-- /ko -->\n    <!-- /ko -->\n</script>";

/***/ }),
/* 442 */
/***/ (function(module, exports) {

module.exports = "\n\n<div data-bind=\"visible: properties.canAddDelete\" style=\"z-index: 1000\">\n    <button type=\"button\" class=\"definition-action delete remove-row\" data-bind=\"event: {click: removeSelectedRow.bind($data), touchend: removeSelectedRow.bind($data)},\n    disable: (selectedRows().length === 0 || properties.readonly()), css: {disabled: (selectedRows().length === 0 || properties.readonly())}\">\n        <actionable-icon params=\"{icon: removeColumnIcon, styleClass:  'definition-img', alt: msg.DELETE}\"></actionable-icon>\n    </button>\n    <button type=\"button\" class=\"definition-action add add-row\" data-bind=\"disable: (!canAddRows() || properties.readonly()), css: {disabled: (!canAddRows() || properties.readonly())},\n    event: {click: addRow.bind($data), touchend: addRow.bind($data)}\">\n        <actionable-icon params=\"{icon: addColumnIcon, styleClass:  'definition-img', alt: msg.CREATE}\"></actionable-icon>\n    </button>\n</div>\n<!-- ko if: dataSource().length > 0 -->\n<div class=\"oj-panel pcs-forms-row panel\" data-bind=\"css: properties.invalidRepeatableClass\">\n    <div data-bind=\"asyncTemplate:{name:'rendererRepeatableRow', foreach: dataSource, pageSize: 1, afterLazyRenderAll: context.registerAsyncTemplate(context, dataSource), hideLoading: true}\">\n    </div>\n</div>\n<!-- /ko -->\n\n<!-- ko if: dataSource().length === 0 -->\n<div class=\"oj-panel pcs-forms-row panel repeatable-section\" style=\"padding: 20px 20px 20px 30px;\" data-bind=\"css: properties.invalidRepeatableClass\">\n    <span data-bind=\"text: msg.NO_ROWS\"></span>\n</div>\n<!-- /ko -->\n<!-- ko if: dataSource().length > properties.maxRows() -->\n<div class=\"oj-panel pcs-forms-row panel repeatable-section\" style=\"padding: 20px 20px 20px 30px;\">\n    <span data-bind=\"text: StringUtils.format(msg.TOO_MANY_ROWS, properties.maxRows(), dataSource().length)\"></span>\n</div>\n<!-- /ko -->\n<input data-bind=\"visible: false, ojComponent: {component: 'ojInputText', messagesCustom: properties.errorMsg()}\"/>\n";

/***/ }),
/* 443 */
/***/ (function(module, exports) {

module.exports = "<div class=\"pcs-forms-row panel\" style=\"width:100%; min-height: 50px;\"\n     data-bind=\"asyncTemplate: {name:'rendererSectionRow', foreach: $data.controls(), pageSize: 2, afterLazyRenderAll: context.registerAsyncTemplate(context, $data.controls()), hideLoading: true}\">\n</div>\n\n";

/***/ }),
/* 444 */
/***/ (function(module, exports) {

module.exports = "<tr class=\"oj-table-body-row oj-table-hgrid-lines\"\n    data-bind=\"css:{'oj-selected': isRowSelected},visible: !properties.hide(),\n                attr: {id: 'renderer-control-' + $parent.domIdPrefix + id}\"> <!--oj-hover && oj-selected -->\n    <td>\n        <input class=\"js-row-checkbox\" type=\"checkbox\" data-bind=\"checked: isRowSelected, visible: !$parent.properties.readonly() && !$parent.properties.hideRowCheckbox()\"/>\n    </td>\n    <!-- ko foreach: controls -->\n        <!-- ko ifnot: properties.hide()-->\n        <td class=\"table-cell oj-table-data-cell oj-table-vgrid-lines\" data-bind=\"\n                    css:{'oj-selected': $parent.isRowSelected},\n                    template:{name: 'renderer-table-cell', data: $data}\"></td>\n        <!-- /ko -->\n    <!-- /ko -->\n</tr>";

/***/ }),
/* 445 */
/***/ (function(module, exports) {

module.exports = "<div class=\"oj-panel pcs-forms-row panel repeatable-section\" data-bind=\"attr: {style: $parent.properties.parsedStyle, id: 'renderer-control-' + $parent.domIdPrefix + id},\n            visible: !properties.hide(),css:{'oj-selected': isRowSelected}\" style=\"width:100%; min-height: 50px;\">\n    <span>\n        <input type=\"checkbox\" data-bind=\"checked: isRowSelected, visible: !$parent.properties.readonly()\"/>\n        <label class=\"oj-label\" data-bind=\"text:  properties.label, visible: properties.label() !== '',style: {'color': $parent.properties.formattedStyle().labelColor, 'font-size': $parent.properties.formattedStyle().labelSize}\"></label>\n    </span>\n    <div data-bind=\"asyncTemplate: {name:'rendererRepeatableItem', foreach: $data.controls(), pageSize: 2, afterLazyRenderAll: context.registerAsyncTemplate(context, $data.controls())}\"></div>\n</div>";

/***/ }),
/* 446 */
/***/ (function(module, exports) {

module.exports = "<div class=\"pcs-forms-col\" data-bind=\"css: $parent.columnSpan.getStyle($data, $data.selectedMedia().value)\">\n    <div class=\"control-container-renderer\" data-bind=\"attr: { id: 'renderer-control-' + domIdPrefix + $data.id }\">\n        <div data-bind=\"template: {name: $data.controlTemplate, data: $data, afterRender: $data.afterRender}, visible: !$data.properties.hide(), style: {'text-align' : $data.properties.formattedStyle().controlAlign}, css: $data.properties.formattedStyle().controlClassName\"></div>\n    </div>\n</div>";

/***/ }),
/* 447 */
/***/ (function(module, exports) {

module.exports = "<div data-bind=\"visible: !$data.properties.hide() || $data.properties.visible && $data.properties.visible()\">\n    <div data-bind=\"attr: { id: 'renderer-control-' + domIdPrefix + $data.id }\">\n        <div data-bind=\"template: {name: $data.controlTemplate, data: $data, afterRender: $data.afterRender}, style: {'text-align' : $data.properties.formattedStyle().controlAlign}, css: $data.properties.formattedStyle().controlClassName\"></div>\n    </div>\n</div>";

/***/ }),
/* 448 */
/***/ (function(module, exports) {

module.exports = "<div class= \"pcs-forms-panel-alig\" data-bind=\"css: $parent.colStyle($data, $data.selectedMedia().value)\">\n    <div data-bind=\"attr: { id: 'renderer-control-' + domIdPrefix + $data.id }\">\n        <div data-bind=\"template: {name: $data.controlTemplate, data: $data, afterRender: $data.afterRender}, visible: !$data.properties.hide(), style: {'text-align' : $data.properties.formattedStyle().controlAlign}, css: $data.properties.formattedStyle().controlClassName\"></div>\n    </div>\n</div>";

/***/ }),
/* 449 */
/***/ (function(module, exports) {

module.exports = "<div data-bind=\"css: $parents[1].colStyle($data, $data.selectedMedia().value)\">\n    <div data-bind=\"attr: { id: 'renderer-control-' + domIdPrefix + $data.id }\">\n        <div data-bind=\"template: {name: $data.controlTemplate, data: $data, afterRender: $data.afterRender}, visible: !$data.properties.hide()\"></div>\n    </div>\n</div>\n\n<!--TODO check how to merge with rendererPanelItem-->";

/***/ }),
/* 450 */
/***/ (function(module, exports) {

module.exports = "<!-- tablet and desktop version -->\n<div data-bind=\"ifMedia: 'oj-md'\" data-bind=\"handleEvents: $data\">\n    <div class=\"tab-container\" data-bind=\"ojComponent:{component: 'ojTabs', disabledTabs: $data.disabledTabs, 'selected': properties.selectedPosition}\">\n        <!-- tab bar -->\n        <ul>\n            <!-- ko foreach: { data: $data.controls(), as: 'control'} -->\n                <li data-bind=\"visible: !control.properties.hide()\">\n                    <span data-bind=\"text: control.properties.label, css:{isContentInvalid:!control.isValid()}\"></span>\n                </li>\n            <!-- /ko -->\n        </ul>\n\n        <!-- tab contents -->\n        <!-- ko foreach: { data: $data.controls(), as: 'control'} -->\n            <div data-bind=\"visible: !control.properties.hide(), style: {'text-align' : control.properties.formattedStyle().controlAlign}, css: control.properties.formattedStyle().controlClassName, handleEvents: control\">\n                <!-- ko if: control.rendered -->\n                <div data-bind=\"template: {name: control.controlTemplate, data: control, afterRender: control.afterRender}\"></div>\n                <!-- /ko -->\n            </div>\n        <!-- /ko -->\n    </div>\n</div>\n\n<!-- mobile version (accordion) -->\n<div data-bind=\"ifMedia: 'oj-sm-only'\">\n    <div class=\"tab-container\" data-bind=\"ojComponent: {component: 'ojAccordion', 'expanded': properties.selectedPositionAsArrayComputed}\">\n        <!-- ko foreach: { data: $data.controls(), as: 'control'} -->\n        <div data-bind=\"visible: !control.properties.hide(), ojComponent: {component: 'ojCollapsible', disabled: control.properties.disabled}\">\n            <span data-bind=\"text: control.properties.label\"></span>\n            <div data-bind=\"style: {'text-align' : control.properties.formattedStyle().controlAlign}, css: control.properties.formattedStyle().controlClassName\">\n                <!-- ko if: control.rendered -->\n                <div data-bind=\"template: {name: control.controlTemplate, data: control, afterRender: control.afterRender}\"></div>\n                <!-- /ko -->\n            </div>\n        </div>\n        <!-- /ko -->\n    </div>\n</div>";

/***/ }),
/* 451 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_451__;

/***/ }),
/* 452 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_452__;

/***/ }),
/* 453 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_453__;

/***/ }),
/* 454 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_454__;

/***/ }),
/* 455 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_455__;

/***/ }),
/* 456 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_456__;

/***/ }),
/* 457 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_457__;

/***/ }),
/* 458 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    MediaQueryInspector = __webpack_require__(459);

		//endregion

		return function () {
			ko.bindingHandlers.ifMedia = {
				init: function init(element) {
					var mediaQueryInspector = ko.bindingHandlers.ifMedia.mediaQueryInspector;
					$(window).on('resize orientationchange load', mediaQueryInspector.mediaQueryChanged);
					ko.utils.domNodeDisposal.addDisposeCallback(element, function () {
						$(window).off('resize orientationchange load', mediaQueryInspector.mediaQueryChanged);
					});
				},
				preprocess: function preprocess(val, name, addBinding) {
					addBinding('if', 'ko.bindingHandlers.ifMedia.mediaQueryInspector.mediaQuery().accept(' + val + ')');
					return val;
				}
			};

			ko.bindingHandlers.ifMedia.mediaQueryInspector = new MediaQueryInspector();
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 459 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var MediaQueryType = __webpack_require__(148),
		    ko = __webpack_require__(1);

		//end region

		return function () {
			var self = this;

			self.findMediaQuery = function () {
				var mediaQuery = MediaQueryType.EXTRA_LARGE;
				for (var type in MediaQueryType) {
					if (MediaQueryType.hasOwnProperty(type) && self._mediaMatches(MediaQueryType[type].query)) {
						mediaQuery = MediaQueryType[type];
						break;
					}
				}
				return mediaQuery;
			};

			self.mediaQueryChanged = function () {
				self.mediaQuery(self.findMediaQuery());
			};

			self._mediaMatches = function (media) {
				return window.matchMedia(media).matches;
			};

			self.mediaQuery = ko.observable(self.findMediaQuery());
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 460 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    AsyncTemplateBinding = __webpack_require__(461);

		//endregion

		return function () {

			/* istanbul ignore next */
			ko.bindingHandlers.clean = {
				init: function init(element, scope) {
					ko.utils.domNodeDisposal.addDisposeCallback(element, function () {
						$('.' + scope() + '-applied-stylesheet').remove();
					});
				}
			};

			/**
          * render a particular template foreach element using timeout to avoid freezing the UI thread.
          * It is recommended for large lists that will not change much after being rendered.
          * Following properties are supported:
          * - name: template name
          * - foreach: list of elements.
          * - afterLazyRenderAll[optional]: to be called when all the elements have been rendered
          * - pageSize [optional]: Number of elements to be rendered in one cycle. Default value is 1.
          * - hideLoading: By default a loading placeholder is shown, to avoid it set this flag to true.
          * @type {{init: init}}
          */
			ko.bindingHandlers.asyncTemplate = AsyncTemplateBinding;
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 461 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var RenderingQueue = __webpack_require__(462),
		    AsyncRenderer = __webpack_require__(463);

		//end region

		return {
			init: function init(element, valueAccessor, allBindings, viewModel, bindingContext) {
				var templateData = valueAccessor();
				var asyncRenderer = new AsyncRenderer(templateData, element);

				if (templateData.foreach.subscribe) {
					asyncRenderer.subscribeToChanges(element, bindingContext);
				}

				var queue = new RenderingQueue(element, bindingContext, asyncRenderer);

				//start executing the templates.
				queue.execute();

				//descendant bindings are managed by the AsyncTemplateRenderer
				return {
					'controlsDescendantBindings': true
				};
			}
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 462 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    $ = __webpack_require__(2);

		//end region

		return function (element, bindingContext, asyncRenderer) {
			var templateData = asyncRenderer.getTemplateData();
			var list = ko.unwrap(templateData.foreach);
			var afterLazyRenderAll = templateData.afterLazyRenderAll || function () {};
			var pageSize = ko.unwrap(templateData.pageSize) || 1;
			var queue = [];

			//render temporary placeholders.
			var temp = $(asyncRenderer.getPlaceholder());
			for (var i = 0; i < list.length; i++) {
				var innerBindingContext = bindingContext.createChildContext(list[i]);
				var newNode = $(asyncRenderer.getPlaceholder());
				temp.append(newNode);
				queue.push(asyncRenderer.renderTemplate.bind(asyncRenderer, innerBindingContext, newNode, i));
			}
			temp.children().appendTo(element);

			/**
          * render the current Page.
          * If all the elements have been rendered, then will execute the callback.
          * @param queue elements in queue
          * @param i the current index (beginning of page)
          * @param pageSize the amount of elements per page
          * @param afterLazyRenderAll callback when all the elements have been executed.
          */
			var executeQueuePage = function executeQueuePage(queue, i, pageSize, afterLazyRenderAll) {
				for (var j = 0; j < pageSize; j++) {
					queue[i + j]();
					if (i + j === queue.length - 1) {
						afterLazyRenderAll(element);
					}
				}
			};

			/**
          * will start rendering the controls in intervals, based on a page size.
          */
			this.execute = function () {
				setTimeout(function () {
					for (var i = 0; i < queue.length;) {
						var remaining = queue.length - i;
						if (remaining >= pageSize) {
							setTimeout(executeQueuePage.bind(null, queue, i, pageSize, afterLazyRenderAll), 10);
							i += pageSize;
						} else {
							setTimeout(executeQueuePage.bind(null, queue, i, 1, afterLazyRenderAll), 10);
							i++;
						}
					}
				}, 10);
			};
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 463 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    UUID = __webpack_require__(17),
		    $ = __webpack_require__(2);
		//end region

		/**
      * Converts the children of a node into a string, so it can be used as a template
      * @param element
      * @returns {string}
      */
		function nodesToHtml(element) {
			var outerHtml = '';
			_.forEach($(element).children(), function (node) {
				outerHtml += node.nodeValue || $(node).prop('outerHTML');
			});
			return outerHtml;
		}

		/**
      * Goes through each child and sets the indexObservable
      * If indexObservable is not set, it will save the new value
      * (this is beacause we don't have a way to access the newly created node, so we execute this
      *  after each node is created, and assume that the only one without the data set is the new one)
      */

		function updateAndSetIndex(indexes) {
			var nextIndex = 0;
			var newIndexes = [];
			for (var i = 0; i < indexes.length; i++) {
				if (indexes[i]) {
					newIndexes[nextIndex] = indexes[i];
					newIndexes[nextIndex](nextIndex);
					nextIndex++;
				}
			}
			return newIndexes;
		}

		return function (templateData, element) {
			var _this = this;

			this._templateData = templateData;
			this._removeTemplate = false;
			this._subscriptions = [];
			this._indexes = [];

			// If name is not set, assume that we want the child nodes as template
			if (!this._templateData.name) {
				//Create a unique name
				this._templateData.name = UUID.createSafeUuid();
				//Get the children as a template and add it to knockout
				ko.templates[this._templateData.name] = nodesToHtml(element);
				//Empty the element (so that the template doesn't affect us
				ko.virtualElements.emptyNode(element);
				//Set the tempalte to be delated
				this._removeTemplate = true;
			}

			ko.utils.domNodeDisposal.addDisposeCallback(element, function () {
				//Dispose of any subscription that we have created
				_.each(_this._subscriptions, function (subscription) {
					subscription.dispose();
				});
				//If we used temp template (or TEMP-late), we need to remove it from the list
				if (_this._removeTemplate) {
					delete ko.templates[_this._templateData.name];
				}
			});

			/**
          * render a template using ths ko.renderTemplate method.
          * @param innerBindingContext
          * @param node
          * @param index
          */
			this.renderTemplate = function (innerBindingContext, node, index) {
				if (this._templateData.as) {
					innerBindingContext[this._templateData.as] = innerBindingContext.$data;
				}
				//Create a new $index observable, with a value of index
				var indexObservable = ko.observable(index);
				innerBindingContext['$index'] = indexObservable;
				ko.renderTemplate(ko.unwrap(this._templateData.name), innerBindingContext, this._templateData, node, 'replaceNode');
				//After the template has been renderer, update all the indexes
				//Also, send the observable, so the new node (which wont have a indexObservable data) is set
				var currentIndex = this._indexes.length - 1;
				while (currentIndex >= index && this._indexes[currentIndex]) {
					this._indexes[currentIndex + 1] = this._indexes[currentIndex];
					this._indexes[currentIndex + 1](currentIndex + 1);
					currentIndex--;
				}
				this._indexes[index] = indexObservable;
			};

			/**
          * listen and react to modification changes (add, remove, sort)
          * @param element
          * @param bindingContext
          */
			this.subscribeToChanges = function (element, bindingContext) {
				var self = this;
				this._subscriptions.push(this._templateData.foreach.subscribe(function (changes) {

					var removeChanges = [];
					var addChanges = [];
					ko.utils.arrayForEach(changes, function (change) {
						switch (change.status) {
							case 'added':
								addChanges.push(change);
								break;
							case 'deleted':
								removeChanges.push(change);
								break;
						}
					});

					//first remove elements in reverse order to preserve the index.
					removeChanges = removeChanges.reverse();
					for (var b = 0; b < removeChanges.length; b++) {
						$($(element).children().get(removeChanges[b].index)).remove();
						self._indexes[removeChanges[b].index] = null;
					}
					//Update the indexes after the removed elments
					self._indexes = updateAndSetIndex(self._indexes);

					//add changes in the order they came.
					for (var i = 0; i < addChanges.length; i++) {
						var change = addChanges[i];
						var innerBindingContext = bindingContext.createChildContext(change.value);
						var newNode = $(self.getPlaceholder());

						if (change.index) {
							var beforeNode = $($(element).children().get(change.index - 1));
							newNode.insertAfter(beforeNode);
						} else {
							$(element).prepend(newNode);
						}

						setTimeout(self.renderTemplate.bind(self, innerBindingContext, newNode, change.index), 10);
					}
					//We don't update the indexes after the create because:
					// * They are executed with a timeout, so they are not there yet
					// * The renderTemplate function does it after each node is created
				}, self, 'arrayChange'));
			};

			/**
          * template for placeholder elements (displayed while the real node is in the queue).
          * @returns {string} the template.
          */
			this.getPlaceholder = function () {
				var temporaryNodeClass = ko.unwrap(this._templateData.hideLoading) ? '' : 'loading__placeholder';
				return '<div class="' + temporaryNodeClass + '"></div>';
			};

			this.getTemplateData = function () {
				return this._templateData;
			};
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 464 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    $ = __webpack_require__(2),
		    _ = __webpack_require__(0),
		    EventsId = __webpack_require__(14);

		//endregion

		var EVENTS_TO_IGNORE = [
		//This events are subscribed on ON_EXPAND_TOGGLE
		EventsId.ON_EXPAND.value, EventsId.ON_COLLAPSE.value,
		//onLoad is not bind to element, is called when the form finishes loading (load on RendererViewModel)
		EventsId.ON_LOAD.value,
		//onSubmit is triggered by the submit of the form (getValues on RendererViewModel)
		EventsId.ON_SUBMIT.value,
		//This event is subscribed during ON_SELECT
		EventsId.ON_UNSELECTED.value,
		//This event is executed directly by the table
		EventsId.ON_ADD_ROW.value, EventsId.ON_REMOVE_ROW.value];

		return function () {
			/**
    * The handle events binding adds the JQuery events binding of the form
    * to the control
    * The expected parameter is the control that will execute the event
    * The valid list of events is deduced by the control type
    * @type {{init: Function}}
    */
			ko.bindingHandlers.handleEvents = {
				init: function init(element, valueAccessor) {
					var control = ko.unwrap(valueAccessor()),
					    $el = $(element);

					var events = control.getValidEvents();
					var subscriptions = [];
					_.each(events, function (event) {
						var executeThisEvent = control.eventsQueue.execute.bind(this, control, event);

						if (_.contains(EVENTS_TO_IGNORE, event.value)) {
							return;
						}

						switch (event.value) {
							case EventsId.ON_CHANGE.value:
								if (ko.isObservable(control.value)) {
									subscriptions.push(control.value.subscribe(executeThisEvent));
								}
								break;
							case EventsId.ON_EXPAND_TOGGLE.value:
								subscriptions.push(control.properties.expanded.subscribe(function (newValue) {
									/**
         	 * Execute the expand Toggle,
         	 * then execute the correct event
         	 */
									executeThisEvent();
									if (newValue) {
										control.eventsQueue.execute(control, EventsId.ON_EXPAND);
									} else {
										control.eventsQueue.execute(control, EventsId.ON_COLLAPSE);
									}
								}));
								break;
							case EventsId.ON_SELECTED.value:
								var parent = control.getParent();
								var index = parent.controls().indexOf(control);
								subscriptions.push(parent.properties.selectedPosition.subscribeChanged(function (newValue, oldValue) {
									if (oldValue === index) {
										control.eventsQueue.execute(control, EventsId.ON_UNSELECTED);
									}
									if (newValue === index) {
										control.eventsQueue.execute(control, EventsId.ON_SELECTED);
									}
								}));

								break;
							default:
								$el.on(event.event, executeThisEvent);
						}
					});

					ko.utils.domNodeDisposal.addDisposeCallback(element, function () {
						//Dispose of the subscriptions
						_.each(subscriptions, function (subs) {
							subs.dispose();
						});
					});
				}
			};
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 465 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function($) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
	'use strict';

	!(__WEBPACK_AMD_DEFINE_RESULT__ = (function (require) {

		'use strict';

		//region dependencies

		var ko = __webpack_require__(1),
		    _ = __webpack_require__(0),
		    $ = __webpack_require__(2);

		//endregion

		return function () {
			ko.subscribable.fn.subscribeChanged = function (callback) {
				var oldValue;
				var oldValueSubscription = this.subscribe(function (_oldValue) {
					oldValue = _.clone(_oldValue);
				}, this, 'beforeChange');

				var newValueSubscription = this.subscribe(function (newValue) {
					callback(newValue, oldValue);
				});

				return {
					dispose: function dispose() {
						oldValueSubscription.dispose();
						newValueSubscription.dispose();
					}
				};
			};

			ko.bindingHandlers.refresh = {
				init: function init(element, updatedObservable, allBindings) {
					var subscription = updatedObservable().subscribe(function () {
						var componentType = allBindings().ojComponent.component;
						$(element)[componentType]('refresh');
					});

					ko.utils.domNodeDisposal.addDisposeCallback(element, function () {
						subscription.dispose();
					});
				}
			};

			/**
    * subscribe to a DOM element render and remove.
    * afterRender will be called as soon as the binding is initialized.
    * beforeRemove will be called when the node is being disposed.
    * @type {{init: init}}
    */
			ko.bindingHandlers.subscribe = {
				init: function init(element, valueAccessor) {
					var callbacks = valueAccessor();

					callbacks.afterRender(element);

					ko.utils.domNodeDisposal.addDisposeCallback(element, function () {
						callbacks.beforeRemove(element);
					});
				}
			};

			/**
    * Opposite to apply bindings. Use this to clean the ko and oj context for a previously applied binding.
    * It also clears any jquery event bind registered.
    * @param $node jquery node where pointing to the DOM element where the binding was originally applied
    * @param remove true to remove the DOM element, false just to clean the context.
    */
			ko.unApplyBindings = function ($node, remove) {
				// unbind events
				$node.find('*').each(function () {
					$(this).off();
					$(this).unbind();
				});

				$node.off();

				// Remove KO subscriptions and references
				ko.cleanNode($node[0]);
				$node.find('*').each(function () {
					$(this).remove();
				});

				if (remove) {
					ko.removeNode($node[0]);
				}
			};
		};
	}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ })
/******/ ])});;
//# sourceMappingURL=forms.renderer-lib.js.map;
define("pcs/composer/pcsform/forms.renderer-lib", function(){});


/**
 * Created by nisabhar on 5/11/17.
 */

requirejs.config(
	{
		paths: {
			'ckeditor': 'libs/ckeditor/ckeditor'
		},
		map: {
			'*': {
				'rendererMsg': 'pcs/composer/pcsform/rendererMsg'
			}
		},
		shim: {
			'pcs/composer/pcsform/forms.renderer-lib': {
				deps: ['pcs/config/debug-config']
			}
		}

	}
);

/**
 * it takes a form url and replace the last 2 parts, the formId and presentationId
 */
function replaceFormAndPresentation(metaDataUrl, formId, presentationId){
	return metaDataUrl.replace(/(~([^~]*)){2}$/, '~'+formId+'~'+presentationId);
}


define('pcs/pcsform/pcsFormUtil',['ojs/ojcore', 'knockout','pcs/util/pcsUtil', 'pcs/pcsform/PCSFormService', 'pcs/composer/pcsform/forms.renderer-lib', 'ckeditor' ],
	function(oj, ko,pcsUtil,PCSFormService) {
		'use strict';
		/**
		 * The view model for the main content view template
		 */
		function PCSformUtil() {
			var self = this;

			var service = PCSFormService.getInstance();

			self.getConnector  = function(formDefId , outcomeCallback) {
				var connector = {};
				connector['connectorHandler'] = {
					'execute': function(callpayload) {
						return new Promise(function(sucess, reject) {
							var formValues = callpayload['formValues'];
							var payloadJson = {};
							if (formValues) {
								payloadJson['formValues']  = formValues ;
							}
							var payload = JSON.stringify(payloadJson);

							var formDefToCall = formDefId;
							//If presentationId is defined, we need to regenerate the formDefId to be called (as the call comes from a form reference)
							if (callpayload.presentationId) {
								formDefToCall = replaceFormAndPresentation(formDefToCall, callpayload.formId, callpayload.presentationId);
							}

							service.executePCSFormRest({
									'{formDefId}': formDefToCall,
									'{restExecutionId}': callpayload.id
								},
								payload).done(function(responseJson) {
								var responseContainer = {
									response: {}
								};
								if (responseJson instanceof Array) {
									//we need to add the binding wrapper to support current PCS design limitation on response arrays
									responseContainer.response[callpayload.listBinding||'topLevelArray'] = responseJson;
								} else {
									responseContainer.response = responseJson;
								}
								sucess(responseContainer);
							}).fail(function(jqXHR) {
								reject(jqXHR.responseText);
							});
						});
					},
					setContext: function(context) {
						this.context = context;
					}
				};
				connector['restHandler'] = {
					execute: function(rest, params) {
						return new Promise(function(sucess, reject) {
							service.executeRest(rest.name, params).done(function(responseJson) {
								sucess(responseJson[rest.optionsListBinding]);
							}).fail(function(jqXHR) {
								reject(jqXHR.responseText);
							});
						});
					},
					setContext: function(context) {
						this.context = context;
					}
				};

				if (outcomeCallback){
					connector['outcomeHandler'] = {
						triggerOutcome: function(outcome) {
							outcomeCallback('submit',outcome , 'FORMS');
						}
					};
				}
				return connector;
			};


			// Check if the webform data is valid
			self.isValidWebForm = function (formRender) {
				var isValid = true;
				if (formRender.length === 1) {
					isValid = formRender.triggerHandler('validateData');
				}
				return isValid;
			};

			self.loadPCSForm =function (properties) {
				var promise = $.Deferred();

				var formMetadataUrl = properties.formMetadataUrl;
				var payload = properties.payload;
				var webFormContainer = properties.webFormContainer;
				var prefix = properties.formRendererId;

				//Sinclair Temp workarond
                var splitOn = '/bpm/api/4.0/webforms/';
                var splitArray = formMetadataUrl.split(splitOn);

                formMetadataUrl = pcsUtil.getServerURL() + splitOn + splitArray[1];
                console.log('New:-' +formMetadataUrl);


				if (formMetadataUrl && webFormContainer && prefix) {
					service.getFormMetaData(formMetadataUrl)
						.then(
							function(formmetadata) {
								webFormContainer['0'].innerHTML = '<div class=\'oj-row\' style=\'margin-top:20px\'><form-renderer id=\'' + prefix +'\' params=\'value: data\'></form-renderer></div>';

								var viewModel = {};
								var formAndPayloadModel = {};
								var form = {};
								for (var key in formmetadata) {
									if (formmetadata.hasOwnProperty(key)) {
										form[key] = formmetadata[key];
									}
								}
								var lastIndexOfSlash = formMetadataUrl.lastIndexOf('/');
								var formDefId = formMetadataUrl.substr(lastIndexOfSlash + 1);
								formAndPayloadModel['form'] = form.form;

								if(payload === undefined){
									payload = {};
								}

								form['payload'] = payload;
								formAndPayloadModel['form']['payload'] = form.payload;


								formAndPayloadModel['config'] = self.getConnector(formDefId , properties.outcomeCallback);
								formAndPayloadModel.config.screenflowHandler = {
									getPresentationData: function(formId, presentationId){
										var newFormMetaData = replaceFormAndPresentation(formMetadataUrl, formId, presentationId);
										return service.getFormMetaData(newFormMetaData);
									}
								};
								formAndPayloadModel['config']['domIdPrefix'] = prefix + '-';

                                if(properties.readOnly){
                                    formAndPayloadModel['config']['readOnly'] = true;
                                }

                                if(properties.convertJSON){
									formAndPayloadModel['config']['convertJSON'] = true;
								}

								if (form.dependencies) {
									formAndPayloadModel.dependencies = form.dependencies;
								}

								viewModel['data'] = formAndPayloadModel;
								ko.cleanNode(webFormContainer['0']);

								//TODO: Temp Workaround work with form team to fix this
								// FormRendered doesnt get loaded sometime
								require(['forms.renderer'], function(formsRenderer) {
									formsRenderer.init();
									ko.cleanNode(webFormContainer['0']);
									ko.applyBindings(viewModel, webFormContainer['0']);

									promise.resolve();
								});
							}
							,function(jqXHR) {
								promise.reject(jqXHR);
							}
						);
				}

				return promise;
			};


			self.saveOrSubmitPCSForm = function(formRender,action ,outcome){
				var promise = $.Deferred();

				formRender.triggerHandler(action , outcome).then(function(data) {
					//Here send data.payload to the server
					try {
						var payloadToUpdate = JSON.stringify(data.payload);
						promise.resolve(payloadToUpdate);
					} catch (err) {
						promise.reject(error);
					}
				}).catch(function(error) {
					promise.reject(error);
				});

				return promise;
			}
		}

		return new PCSformUtil;
	});

/**
 * Created by nisabhar on 11/17/2016.
 */


define('pcs/dynamicProcess/data/viewModel/dpDataVM',['ojs/ojcore', 'knockout', 'jquery', 'pcs/dynamicProcess/services/DPDetailService','pcs/util/pcsUtil', 'pcs/pcsform/pcsFormUtil' , 'ojs/ojknockout',
		'ojL10n!pcs/resources/nls/pcsSnippetsResource'],
    function(oj, ko, $, InstanceDetail,pcsUtil, pcsFormUtil) {

        'use strict';

        return function(params,componentInfo) {
            var self = this;
			var loggerUtil =  require('pcs/util/loggerUtil');
            var service;
            var element = componentInfo.element;
            self.properties = params;

			//Set the resourcebundle
			self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

            //current instanceId
            self.instanceId = ko.observable();

            self.dpForm = {};

            //list of all variables
			self.variableList = ko.observableArray([]);

			//cureently selceted variable
			self.selectedVariableDialogTitle = ko.observable('Detail');

			//attribute to hold if the component is standalone or used inside details
			self.isConsumed = ko.observable(false);

            // The props field on context is a Promise. Once that resolves,
            // we can access the properties that were defined in the composite metadata
            // and were initially set on the composite DOM element
            // context.props.then(function(properties) {
            //     self.properties = properties;
            //     self.initContex();
            // });

            self.initContext = function(){
                service = InstanceDetail.getInstance();

				if(self.properties.instanceid === undefined){
					return;
				}

				// check if instanceId is observable or plain variables
				if(ko.isObservable (self.properties.instanceid)){
					self.instanceId(self.properties.instanceid());
				}else{
					self.instanceId(self.properties.instanceid);
				}

				//check if instanceId is passed or not
				if(self.instanceId() === ''){
					return;
				}

				//set the param about how the component is being used
				if (self.properties.consumed ){
					self.isConsumed(self.properties.consumed);
				}

				if (self.properties.instanceitem ) {
					if(ko.isObservable (self.properties.instanceitem)){
						self.populateData(self.properties.instanceitem());
					}else{
						self.populateData(self.properties.instanceitem);
					}
                } else {
                    self.fetchInstanceDetail();
                }
            };

            //Method to do AJAX call to get instance detail
            self.fetchInstanceDetail = function() {
                var promise = $.Deferred();
                service.fetchInstanceItem(true, self.instanceId()).then(function(data) {
                    self.populateData(data);
                    promise.resolve();
                }, function(rejected) {
					self.showErrorRegion();
                });
                return promise;
            };


            //Method to populate instance detail data
            self.populateData = function(instanceItem) {
            	if(instanceItem){

            		// Fetch the input Data
					service.fetchProcessDefinition(false, {
						'{processDefinitionId}': instanceItem.getProcessDefinitionId()
					}).then(function(processDefinition) {

						self.dpForm.formMetadataURL = processDefinition.formMetadataURL;
						self.dpForm.inputParam = processDefinition.formInputParam;

						//fetch all variables
						self.fetchVariables();


					}).fail(function(error) {
						self.showErrorRegion();
					});


				}
            };

			/**
			 * Method to fetch all instance variables
			 * @param instanceId
			 */
			self.fetchVariables = function (instanceId){
				// Fetch all the variables
				service.fetchInstanceVariables(false, {
					'{id}': self.instanceId()
				}).then(function(variables) {
					self.populateVariables(variables);

				}).fail(function(error) {
					self.showErrorRegion();
				});
			};

			/**
			 * Method to populate variable data in list
			 * @param variables
			 */
            self.populateVariables = function (variables){
            	//remove the existing data
				self.variableList.removeAll();

				if (!variables) {
					return;
				}
				var isInputParamAccessible = false;

				$.each(variables, function(index, item) {
					//don't add the input param in the list as
					// we will show it upfront
					if(self.dpForm.inputParam && index === self.dpForm.inputParam){
						isInputParamAccessible = true;
						return true;
					}
					var variable = {
						variableName : index,
						initials : pcsUtil.taskInitials(index),
						colorCode : 'rgb(176, 185, 185)',
						url : item
					};
					self.variableList.push(variable);
				});

				// show empty icon if list is empty
				if (self.variableList().length === 0 && !self.dpForm.inputParam){
					self.showEmptyRegion();
				}

				//load the inputParam
				if (isInputParamAccessible && self.dpForm.formMetadataURL && self.dpForm.formMetadataURL !== '') {
					self.loadDpForm();
				} else {
					self.showNoformRegion();
				}
			};

            //For dp forms
            self.loadDpForm = function() {

                //Get the payload
                service.getInstanceVariableData(true, {
                    '{id}': self.instanceId(),
                    '{variableName}': self.dpForm.inputParam
                }).then(
                    function(payload) {
						var parsedData;
						try {
							parsedData = JSON.parse(payload);
						} catch (e) {
							parsedData =payload;
						}
                        var formMetadataURL = pcsUtil.getDpRestURL() +self.dpForm.formMetadataURL;
                        var webFormContainer = $('#pcs-dp-data-iframe-container', element);
                        var formRendererId = 'dpdata-form-' + self.instanceId() + '-' + self.dpForm.inputParam;
                        var properties = {
                            formMetadataUrl : formMetadataURL,
                            payload : parsedData,
                            webFormContainer : webFormContainer,
                            formRendererId : formRendererId,
                            readOnly : true,
							convertJSON: true
						};
                        pcsFormUtil.loadPCSForm(properties)
                            .then(function() {
                                $('#pcs-dp-data-loading', element).hide();
                            }, function(jqXHR) {
                                self.showFormFailMsg();
                            });

                    },
                    function(rejected) {
                        loggerUtil.log(rejected);
                        self.showFormFailMsg();
                    }
                );

            };

			/**
			 * called when a varibale name is clicked
			 * @param data
			 * @param event
			 */
            self.launchVariableDetail = function (data,event){

            	//set the dialog title
				self.selectedVariableDialogTitle(data.variableName);

				//shoe the dialog
				$('#pcs-dp-data-var-dialog', element).ojDialog('open');

				//Get the payload
				service.getInstanceVariableData(true, {
					'{id}': self.instanceId(),
					'{variableName}': data.variableName
				}).then(
					function(variableData) {
						$('#pcs-dp-data-var-body-loading').hide();
						var parsedData;
						try {
							parsedData = JSON.parse(variableData);
						} catch (e) {
							parsedData =variableData;
						}
						//JSON.stringify(variableData, null, 2)
						$('#pcs-dp-data-var-body-content').html('<pre>'+ JSON.stringify(parsedData, null, 2) +'</pre>')
					},
					function(rejected) {
						$('#pcs-dp-data-var-body-loading').hide();
						var msg= 'Error occurred while trying to get detail of ' + data.variableName;
						$('#pcs-dp-data-var-body-content').html('<span>'+ msg +'</span>')
					}
				);
			};

			/**
			 * to close variable detail dialog
			 */
            self.closeVariableDialog  = function (){
				$('#pcs-dp-data-var-dialog').ojDialog('close');
				$('#pcs-dp-data-var-body-loading').show();
				$('#pcs-dp-data-var-body-content').empty();
			};


			/**
			 * When form load fails
			 */
            self.showFormFailMsg = function() {
                $('#pcs-dp-data-form-error', element).show();
                $('#pcs-dp-data-loading', element).hide();
            };


			/**
			 * When no form is asscociated
			 */
            self.showNoformRegion = function() {
                // $('#pcs-dp-data-dummy', element).show();
                // $('#pcs-dp-data-loading', element).hide();
				$('#pcs-dp-data-input-container', element).hide();
            };


			/**
			 * When no variables is asscociated
			 */
			self.showEmptyRegion = function() {
				$('#pcs-dp-data-empty-containor', element).show();
				$('#pcs-dp-data-loading', element).hide();
			};

			/**
			 * When the rest call fails
			 */
			self.showErrorRegion = function() {
				$('#pcs-dp-data-error', element).show();
				$('#pcs-dp-data-loading', element).hide();
			};

			//subscribe to changes in instanceItem
			if(self.properties.instanceitem && ko.isObservable(self.properties.instanceitem)){
				self.instanceItemSubscription= self.properties.instanceitem.subscribe(function(newValue) {
					self.populateData(newValue);
				});
			}

			//Function to clean up the element and un apply its bindings
			self.cleanUpFormContainer = function(){

				var node = $('#pcs-dp-data-iframe-container', self.rootElement);
				if(node && node.length > 0){
					ko.cleanNode(node['0']);
					//Un apply the bindings for the node and its children,
					pcsUtil.unApplyBindings(node, false);
				}

			};

            self.bindingsApplied = function() {
                //temp for Knockoutcomponet
                self.initContext();
            };


            //Dispose the computed,sbsrciption,event http://knockoutjs.com/documentation/component-binding.html
            self.dispose = function() {
                loggerUtil.log('dispose in dp-data');

				if(self.instanceItemSubscription){
					self.instanceItemSubscription.dispose();
				}

				self.cleanUpFormContainer();
            };

            // Temp call the bindingApplied for knockout component
            self.bindingsApplied();
        };
    }
);

/**
 * Created by nisabhar on 11/17/2016.
 */



define('pcs/dynamicProcess/data/loader',['ojs/ojcore','knockout', '!text!pcs/dynamicProcess/data/view/dpDataView.html', './viewModel/dpDataVM'],

    function(oj, ko,view, viewModel) {
        'use strict';
        // oj.Composite.register('pcs-dpdata', {
        //     view: {
        //         inline: view
        //     },
        //     viewModel: {
        //         inline: viewModel
        //     },
        //     metadata: {
        //         inline: JSON.parse(metadata)
        //     }
        // });

        if (!ko.components.isRegistered('pcs-dpdata')) {
            ko.components.register('pcs-dpdata', {
                template: view,
                viewModel: {
                    createViewModel: function(params, componentInfo) {
                        return new viewModel(params, componentInfo);
                    }
                }
            });
        }
    }
);


define('text!pcs/dynamicProcess/history/view/dpHistoryView.html',[],function () { return '<div id="pcs-dp-hist-container" class="pcs-dp-hist-container pcs-dp-font oj-sm-12" >\n\t<!-- ko if: instanceId() -->\n    <div id="pcs-dp-hist-toolbar"\n\t\t aria-controls="controlled" class="oj-sm-justify-content-flex-end oj-flex pcs-dp-hist-toolbar"\n\t\t data-bind="ojComponent: {component:\'ojToolbar\'}, css:\'oj-toolbar-top-border\', attr:{\'aria-label\':bundle.pcs.dp.history.historyToolbar}">\n\n\t\t<div id="pcs-dp-hist-search" class="oj-flex pcs-dp-hist-search">\n\t\t\t<input id="pcs-dp-hist-search-input" type="text" class="pcs-dp-hist-search-input"\n\t\t\t\t   data-bind="ojComponent:{\n\t\t\t\t    component: \'ojInputText\', rawValue: searchText, placeholder:bundle.pcs.dp.common.search,\n               \t\trootAttributes: {style:\'width:15em\'}\n               \t\t}"/>\n\t\t\t<span class="oj-flex-item pcs-dp-hist-search-btn-span">\n\t\t\t\t<button id="pcs-dp-hist-search-btn" data-bind="visible:!hasSearchTxt(),\n\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.search, display: \'icons\',\n\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon oj-fwk-icon-magnifier\'},\n\t\t\t\t\t\t\trootAttributes: {style:\'height:31px\'}\n\t\t\t\t\t\t}">\n\t\t\t\t</button>\n\t\t\t\t<button id="pcs-dp-hist-search-clear-btn" \tdata-bind="visible:hasSearchTxt(), click: onSearchClearClick,\n\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.clearSearch, display: \'icons\',\n\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon oj-fwk-icon-cross\'},\n\t\t\t\t\t\t\trootAttributes: {style:\'height:31px\'}\n\t\t\t\t\t\t}">\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t</div>\n\n\t\t<div id="pcs-dp-hist-sort" class="oj-flex" style="margin-left: 5px">\n\t\t\t<select id="pcs-dp-hist-sortBy"\n\t\t\t\t\tclass="oj-flex"\n\t\t\t\t\tdata-bind=" ojComponent: {component: \'ojSelect\', optionChange: onSortOptionChange, value: selectedSort,\n\t\t\t\t\trootAttributes: {style:\'min-width:11em;\'}}">\n\t\t\t\t<!-- ko foreach: sortListBy -->\n\t\t\t\t<option data-bind="value:id, text:label, attr: {title:label}"></option>\n\t\t\t\t<!-- /ko -->\n\t\t\t</select>\n\t\t</div>\n\n\t\t<div class="oj-flex">\n\t\t\t<button id="pcs-dp-hist-direction-asc-btn"\n\t\t\t\t\tclass="oj-flex pcs-dp-display-none"\n\t\t\t\t\tdata-bind=" click:onDirectionBtnClick ,\n                    ojComponent: {\n\t\t\t\t\t\tcomponent:\'ojButton\', display: \'icons\', chroming: \'half\', label: bundle.pcs.dp.common.asc,\n\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-hist-sorta-icon\'}\n\t\t\t\t\t}">\n\t\t\t</button>\n\t\t\t<button id="pcs-dp-hist-direction-dsc-btn"\n\t\t\t\t\tclass="oj-flex"\n\t\t\t\t\tdata-bind=" click:onDirectionBtnClick ,\n                     ojComponent: {\n\t\t\t\t\t\tcomponent:\'ojButton\', display: \'icons\', chroming: \'half\', label: bundle.pcs.dp.common.desc,\n\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-hist-sortd-icon\'}\n\t\t\t\t\t}">\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class="oj-flex">\n\t\t\t<!-- ko ifnot: isConsumed -->\n\t\t\t<button id="pcs-dp-hist-refresh-btn" class="oj-button-sm "\n\t\t\t\t\tdata-bind="visible: true, click: onRefreshBtnClick, ojComponent: {\n\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.refresh, display: \'icons\',\n\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-hist-refresh-icon\'}\n\t\t\t\t\t\t\t}">\n\t\t\t</button>\n\t\t\t<!-- /ko -->\n\t\t</div>\n\n\n\n    </div>\n\n    <div id="pcs-dp-hist-lv-container" class="oj-sm-12" >\n        <ul id="listview" aria-label="list with context menu"  class="oj-sm-12"\n            data-bind="ojComponent: {component: \'ojListView\',\n            data: dataSource, item: {template: \'server_template_history\'}, selectionMode: \'single\',\n            rootAttributes: {style:\'overflow-y:hidden;border-width :0px\'},\n            translations : {msgNoData : bundle.pcs.dp.milestone.noActivitiesWithCriteriaMsg} }">\n        </ul>\n    </div>\n\n\t<div  class="oj-flex oj-sm-12 pcs-dp-empty-watermark pcs-dp-display-none" id="pcs-dp-hist-lv-empty-container">\n\t\t<div class="oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center">\n\t\t\t<span class="pcs-dp-hist-empty-data-icon"></span>\n\t\t</div>\n\t\t<div class="oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center">\n\t\t\t<span data-bind="text: bundle.pcs.dp.milestone.noActivitiesRunningMsg" class="pcs-dp-empty-watermark-text"></span>\n\t\t</div>\n\t</div>\n\n\t<div class="oj-form-layout pcs-dp-display-none" style="margin-top: 20px;" id="pcs-dp-hist-error">\n\t\t<span style="margin:20px; color:red" data-bind="text: bundle.pcs.dp.common.errGettingInstanceDetailsMsg" ></span>\n\t</div>\n\n\t<!-- /ko -->\n\t<!-- ko ifnot: instanceId() -->\n\t<div style="color:red" data-bind="text:bundle.pcs.dp.common.instanceIdMissingMsg"></div>\n\t<!-- /ko -->\n</div>\n\n<script type="text/html" id="server_template_history">\n\n    <li data-bind="attr: {id: getId()}" class="pcs-dp-hist-nopad-left oj-sm-12" style="min-height: 64px;">\n\t\t\t<div class="oj-flex oj-sm-12 oj-sm-align-items-center">\n\t\t\t\t\t\t<div style="width: 75px">\n\t\t\t\t\t\t\t<div class="oj-flex oj-sm-align-items-center" >\n\t\t\t\t\t\t\t\t<span data-bind="css:getStatusBarClass()"></span>\n\t\t\t\t\t\t\t\t<span class="pcs-dp-hist-act-icon ">\n\t\t\t\t\t\t\t\t\t<span  data-bind="css :getIconClass(), attr :{ title : getActivityTypeDisplayName()}"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t<div class="oj-flex oj-sm-flex-direction-column">\n\t\t\t\t\t<div class="oj-flex-item" >\n\t\t\t\t\t\t\t<span class="pcs-dp-hist-title" data-bind="text: getActivityName()"></span>\n\t\t\t\t\t\t\t<!--<span class="oj-md-down-hide pcs-dp-hist-marginLeft20">&nbsp;</span>-->\n\n\t\t\t\t\t\t\t<!-- ko if: showHistoryDrillDown() -->\n\t\t\t\t\t\t\t<span class=" oj-sm-justify-content-flex-end">\n\t\t\t\t\t\t\t\t<button class="oj-button-sm" style="margin-left:5px;margin-right:5px"\n\t\t\t\t\t\t\t\t\t\taria-label="Show" role="button"\n\t\t\t\t\t\t\t\t\t\tdata-bind="click:$parent.drillDown ,ojComponent: {component:\'ojButton\',\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: $parent.bundle.pcs.dp.common.open, chroming: \'half\',\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: \'icons\',\n\t\t\t\t\t\t\t\t\t\t\t\ticons: {start: \'pcs-dp-hist-goto-icon\'}}">\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="oj-flex-item" >\n\t\t\t\t\t\t\t<span class="pcs-dp-hist-label" data-bind="text: $parent.bundle.pcs.dp.history[getState()+\'_LBL\']"></span>\n\t\t\t\t\t\t\t<!-- ko ifnot: getState() === \'ACTIVE\' -->\n\t\t\t\t\t\t\t<span class="pcs-dp-hist-value" data-bind="text: getExecutionCompletedDateFormatted()"></span>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t\t<!-- ko if: getState() === \'ACTIVE\' -->\n\t\t\t\t\t\t\t\t<span class="pcs-dp-hist-value" data-bind="text: getExecutionCreatedDateFormatted()"></span>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t\t<!-- ko if: getDuration() -->\n\t\t\t\t\t\t\t<span class="oj-md-down-hide pcs-dp-hist-marginLeft20">&nbsp;</span>\n\t\t\t\t\t\t\t<span class="pcs-dp-hist-label">Duration: </span>\n\t\t\t\t\t\t\t<span class="pcs-dp-hist-value" data-bind="text: getDuration()"></span>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t</div>\n    </li>\n\n</script>\n\n';});

/**
 * Created by nisabhar on 11/17/2016.
 */


define('pcs/dynamicProcess/history/viewModel/dpHistoryVM',['ojs/ojcore', 'knockout', 'jquery', 'pcs/dynamicProcess/services/DPDetailService', 'ojs/ojknockout', 'promise', 'ojs/ojlistview', 'ojs/ojinputtext',
        'ojs/ojarraytabledatasource', 'ojs/ojtoolbar', 'ojs/ojselectcombobox', 'ojs/ojtimeline', 'ojs/ojbutton', 'ojL10n!pcs/resources/nls/pcsSnippetsResource'
    ],
    function(oj, ko, $, InstanceDetail) {
        'use strict';

        return function(params,componentInfo) {
            var self = this;
			var loggerUtil =  require('pcs/util/loggerUtil');
            var service;
            var element = componentInfo.element;
            self.properties = params;

            var srtDirection = 'desc';
            self.selectedSort = 'endTime';

            //Set the resourcebundle
            self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');
            self.sortTitleTxt = ko.observable(self.bundle.pcs.dp.common.desc);
            self.sortListBy = [{
                id: 'activityName',
                label: self.bundle.pcs.dp.history.activityName
            }, {
                id: 'endTime',
                label: self.bundle.pcs.dp.history.endTime
            }, {
                id: 'duration',
                label: self.bundle.pcs.dp.history.duration
            }];
            self.instanceId = ko.observable();
            // List of activities for this process instance
            self.executionList = ko.observableArray([]);
            self.searchText = ko.observable('');
            self.selectedView = ko.observable('list');
            //Attribute to store refresh time
            self.lastRefreshedTime = ko.observable();
			self.hasSearchTxt = ko.observable(false);

			//attribute to hold if the component is standalone or used inside details
			self.isConsumed = ko.observable(false);

            //method to search as soon as user type
            function searchExecutionList(searchtext) {
                var promise = $.Deferred();
                service.searchExecutionList(searchtext).then(function(data) {
					self.populateData(data);
                    promise.resolve();
                });
                return promise;
            }

            // The props field on context is a Promise. Once that resolves,
            // we can access the properties that were defined in the composite metadata
            // and were initially set on the composite DOM element
            // context.props.then(function(properties) {
            //     self.properties = properties;
            //     self.initContex();
            // });

            self.initContext = function(){
                service = InstanceDetail.getInstance();

				if(self.properties.instanceid === undefined){
					return;
				}

				// check if instanceId is observable or plain variables
				if(ko.isObservable (self.properties.instanceid)){
					self.instanceId(self.properties.instanceid());
				}else{
					self.instanceId(self.properties.instanceid);
				}

				//check if instanceId is passed or not
				if(self.instanceId() === ''){
					return;
				}

				//set the param about how the component is being used
				if (self.properties.consumed ){
					self.isConsumed(self.properties.consumed);
				}


				self.dataSource = new oj.ArrayTableDataSource(self.executionList, {
                    idAttribute: 'getId'
                });

                if (self.properties.activities) {
					if(ko.isObservable (self.properties.activities)){
						self.populateData(self.properties.activities());
					}else{
						self.populateData(self.properties.activities);
					}
                } else {
                    self.fetchExecutionList();
                }
            };

            //Method to populate data
            self.populateData = function (activities){
				service.sortExecutionList(activities,self.selectedSort,srtDirection).then(function(data) {

					// loggerUtil.log(data);
					self.populateSortedData(data);
				});
            };

            //method to populate sorted data
			self.populateSortedData = function (activities){
				activities = activities.filter(function(item){
					var x = item.getState() !== 'AVAILABLE' && item.getState() !== 'ENABLED' && item.getState() !== 'DISABLED' ;
					return x;
				});

				//clean old activites
				self.executionList.removeAll();

				var array = self.executionList();
				ko.utils.arrayPushAll(array, activities);
				self.executionList.valueHasMutated();


				self.dataSource = new oj.ArrayTableDataSource(self.executionList, {
					idAttribute: 'getId'
				});

				if ((!activities || activities.length === 0) &&  self.searchText().length ===0){
					$('#pcs-dp-hist-lv-empty-container',element).show();
					$('#pcs-dp-hist-lv-container',element).hide();
				}else{
					$('#pcs-dp-hist-lv-empty-container',element).hide();
					$('#pcs-dp-hist-lv-container',element).show();
				}
			};


            // Public method to modify activity list
            self.activityListModified = function() {
                self.fetchExecutionList();
            };

            //method to get the actviites list
            self.fetchExecutionList = function() {
                var promise = $.Deferred();
                var param = {
                    'processInstanceId': self.instanceId(),
                    'sortBy': self.selectedSort,
                    'sortOrder': srtDirection
                };
                service.fetchExecutionList(true, param).then(function(data) {
                    // loggerUtil.log(data);
                    self.populateSortedData(data);
                    promise.resolve();
                }, function(rejected) {
					self.showErrorRegion();
                });
                return promise;
            };

            self.onDirectionBtnClick = function(data, event) {

				srtDirection = srtDirection === 'asc' ? 'desc' : 'asc';

				//re-populate the data with correct sort
				self.populateData(self.executionList.slice(0));

				$('#pcs-dp-hist-direction-asc-btn', element).toggle();
				$('#pcs-dp-hist-direction-dsc-btn', element).toggle();

            };

            //Event handler for option change of Sort
            //Fires event SortOptionChange
            self.onSortOptionChange = function(event, data) {
                if (data.option === 'value') {
					//re-populate the data with correct sort
					self.populateData(self.executionList.slice(0));
                }
            };

            //method to search as soon as user type
            self.searchTextSubscription =self.searchText.subscribe(function(newValue) {
				searchExecutionList(newValue);
				self.hasSearchTxt(newValue.length > 0);
            });

			self.onSearchClearClick = function(){
				//Updating the observable doesnt clear text for rawValue, hence use OJ to set value
				$('#pcs-dp-hist-search-input', element).ojInputText({'value': ''});
			};

			//subscribe to changes in activity list
			if(self.properties.activities && ko.isObservable(self.properties.activities )){
				self.activitiesSubscription = self.properties.activities.subscribe(function (newValue) {
					self.populateData(newValue);
				});
			}


            self.selectedViewChanged = function(event, data) {
                var listView = $('#pcs-dp-hist-lv-container');
                var processView = $('#pcs-dp-hist-pv-container');
                var timelineView = $('#pcs-dp-hist-tv-container');
                if (data.value === 'process') {
                    listView.hide();
                    processView.show();
                    timelineView.hide();
                } else if (data.value === 'timeline') {
                    listView.hide();
                    processView.hide();
                    timelineView.show();
                } else {
                    listView.show();
                    processView.hide();
                    timelineView.hide();
                }
            };

            self.showAdvanceSearchPopup = function() {
                $('#advanceSearchPopup').ojDialog('open');
                $('#advSearchDialog').css({
                    top: 0
                });
            };

            self.value = ko.observable('Green');


            //method when user wants to drill to  activity
            self.drillDown = function(data) {
                var params = {
                    'bubbles': true,
                    'detail': {
                        'title': data.getActivityName(),
                        //'taskNumber' : data.geTaskId(), not pppulates , fetch from executionID
                        'id': data.getActivityId(),
                        'type': data.getActivityType(),
                        'executionId': data.getExecutionId()
                    }
                };
                // loggerUtil.log('firing event for drilldown');
                element.dispatchEvent(new CustomEvent('dphistory:drilldown', params));
            };


			/**
			 * method to call when refresh icon is clicked
			 */
			self.onRefreshBtnClick = function(){
				self.fetchExecutionList();
			};

			/**
			 * When the rest call fails
			 */
			self.showErrorRegion = function() {
				$('#pcs-dp-hist-error', element).show();
				$('#pcs-dp-hist-lv-container', element).hide();
			};

            self.bindingsApplied = function() {
                //temp for Knockoutcomponet
                self.initContext();

                //TODO:srayker Sort internally , instead of fetching again
                //self.fetchExecutionList();
            };

            //Dispose the computed,sbsrciption,event http://knockoutjs.com/documentation/component-binding.html
            self.dispose = function(){
                loggerUtil.log('dispose in dp history');
                self.searchTextSubscription.dispose();
				if(self.activitiesSubscription){
					self.activitiesSubscription.dispose();
				}

                //De-Subscribe to the events

            };

            // Temp call the bindingApplied for knockout component
            self.bindingsApplied();
        };

    }
);

/**
 * Created by nisabhar on 11/17/2016.
 */



define('pcs/dynamicProcess/history/loader',['ojs/ojcore','knockout',  '!text!pcs/dynamicProcess/history/view/dpHistoryView.html', './viewModel/dpHistoryVM'],

    function(oj,ko, view, viewModel) {
        'use strict';
        // oj.Composite.register('pcs-dphistory', {
        //     view: {
        //         inline: view
        //     },
        //     viewModel: {
        //         inline: viewModel
        //     },
        //     metadata: {
        //         inline: JSON.parse(metadata)
        //     }
        // });

        if (!ko.components.isRegistered('pcs-dphistory')) {
            ko.components.register('pcs-dphistory', {
                template: view,
                viewModel: {
                    createViewModel: function(params, componentInfo) {
                        return new viewModel(params, componentInfo);
                    }
                }
            });
        }
    }
);


define('text!pcs/dynamicProcess/list/view/dpListView.html',[],function () { return '<div id="pcs-dp-list-container" class="pcs-dp-list-container pcs-dp-font oj-sm-12">\n\t<!-- header start-->\n\t<div class="pcs-dp-list-header oj-flex oj-sm-12">\n\t\t<span class="pcs-dp-list-header-txt" data-bind="text:bundle.pcs.dp.list.listHeader, attr:{title:bundle.pcs.dp.list.listHeader}"></span>\n\t</div>\n\t<!--header end -->\n\n    <div id="pcs-dp-list-toolbar" data-bind="attr: {\'aria-label\' : bundle.pcs.dp.list.dpToolbar}"\n\t\t aria-controls="controlled" class="oj-flex oj-sm-flex-items-initial oj-sm-justify-content-space-between pcs-dp-list-toolbar oj-sm-12">\n\n        <div id="pcs-dp-list-search-container" class="oj-flex pcs-dp-list-search-container oj-md-down-12">\n\t\t\t\t<span class="oj-flex pcs-dp-list-searchTxt-container">\n\t\t\t\t\t<span  class="oj-flex-item" >\n\t\t\t\t\t\t<input id="pcs-dp-list-search-input" class="" type="text" data-bind="attr:{title: bundle.pcs.dp.common.search},\n\t\t\t\t\t\t\tojComponent:{\n\t\t\t\t\t\t\t\tcomponent: \'ojInputText\', rawValue: searchText, placeholder:bundle.pcs.dp.common.search, rootAttributes: {style:\'width:210px;\'}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tattr: {\'aria-label\' : bundle.pcs.dp.common.search}"/>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="oj-flex-item pcs-dp-list-search-btn-span">\n\t\t\t\t\t\t<button id="pcs-dp-list-search-btn" \tdata-bind="visible:!hasSearchTxt(), click : function (){},\n\t\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.search, display: \'icons\',\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon oj-fwk-icon-magnifier\'},\n\t\t\t\t\t\t\t\t\trootAttributes: {style:\'height:31px\'}\n\t\t\t\t\t\t\t\t}">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button id="pcs-dp-list-search-clear-btn" \tdata-bind="visible:hasSearchTxt(), click: onSearchClearClick,\n\t\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.clearSearch, display: \'icons\',\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon oj-fwk-icon-cross\'},\n\t\t\t\t\t\t\t\t\trootAttributes: {style:\'height:31px\'}\n\t\t\t\t\t\t\t\t}">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n                <button data-bind="click: showAdvanceSearchPopup ,\n                \t\tojComponent: {\n\t\t\t\t\t\t\tcomponent:\'ojButton\', display: \'icons\', chroming: \'half\', label: bundle.pcs.dp.list.showFilters,\n\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-list-filters-icon\'},\n\t\t\t\t\t\t\trootAttributes: {style:\'margin-left:6px;\'}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tattr: {title: \'Show filters\'}"></button>\n        </div>\n\n\t\t<div class="pcs-dp-list-tools-right oj-flex oj-sm-align-content-flex-end oj-md-down-12">\n\t\t\t<span class="oj-flex-item pcs-dp-list-sortBy-label" id="pcs-dp-list-sortBy-label" data-bind="text: bundle.pcs.dp.common.sortBy"></span>\n\t\t\t<span id="pcs-dp-list-sortBy-div">\n\t\t\t\t\t<select id="pcs-dp-list-sortBy" class="oj-flex-item"\n\t\t\t\t\t\t\tdata-bind="ojComponent: {component: \'ojSelect\',\n\t\t\t\t\t\t\t\t\tvalue: selectedSortBy,\n\t\t\t\t\t\t\t\t\toptionChange: sortByChangedHandler,\n\t\t\t\t\t\t\t\t\tminimumResultsForSearch: 10,\n\t\t\t\t\t\t\t\t\trootAttributes: {style:\'width:210px;\'}},\n\t\t\t\t\t\t\t\t\tattr:{\'aria-labelledby\' :\'pcs-dp-list-sortBy-label\'}">\n\t\t\t\t\t\t<!-- ko foreach: availableSortBy -->\n\t\t\t\t\t\t\t\t<option data-bind="value:value, text:label"></option>\n\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t</select>\n\t\t\t</span>\n\t\t\t<span class="oj-flex-item pcs-dp-list-direction" id="pcs-dp-list-direction">\n\t\t\t\t<button id="pcs-dp-list-direction-asc-btn"\n\t\t\t\t\t\tclass=""\n\t\t\t\t\t\tdata-bind=" click:onDirectionBtnClick ,\n\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\tcomponent:\'ojButton\', display: \'icons\', chroming: \'half\', label: bundle.pcs.dp.common.asc,\n\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-list-sorta-icon\'}\n\t\t\t\t\t\t}">\n\t\t\t\t</button>\n\t\t\t\t<button id="pcs-dp-list-direction-dsc-btn" class="pcs-dp-display-none"\n\t\t\t\t\t\tdata-bind=" click:onDirectionBtnClick ,\n\t\t\t\t\t\t ojComponent: {\n\t\t\t\t\t\t\tcomponent:\'ojButton\', display: \'icons\', chroming: \'half\', label: bundle.pcs.dp.common.desc,\n\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-list-sortd-icon\'}\n\t\t\t\t\t\t}">\n\t\t\t\t</button>\n\t\t\t</span>\n\n\t\t\t<span role="separator" aria-orientation="vertical" class="oj-flex-item oj-toolbar-separator pcs-dp-separator"></span>\n\n\t\t\t<button id="pcs-dp-list-refresh-btn" class="oj-flex-item pcs-dp-list-refresh-btn" data-bind="visible: true, click: onRefreshBtnClick, ojComponent: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.refresh, display: \'icons\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-list-refresh-icon\'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}">\n\t\t\t</button>\n\t\t</div>\n    </div>\n\n\t<!-- ko if:selectedFilterCriteria().length >0 -->\n        <div class="oj-flex oj-sm-flex-items-initial oj-sm-justify-content-space-between pcs-dp-filter-criteria">\n            <div class="oj-flex-item">\n\t\t\t\t<div >\n\t\t\t\t\t<!-- ko foreach:selectedFilterCriteria-->\n\t\t\t\t\t\t<span data-bind="text: $data.label + \' : \' +$data.value, attr:{title: $data.label + \' : \' +$data.value}"></span>\n\t\t\t\t\t\t<button\taria-label="Close" role="button" class="pcs-dp-list-removeFilter"\n\t\t\t\t\t\t\t\tdata-bind="click:$parent.removeFilterAction ,ojComponent: {component:\'ojButton\',\n\t\t\t\t\t\t\t\t\t\t label: $parent.bundle.pcs.dp.common.close, chroming: \'half\',\n\t\t\t\t\t\t\t\t\t\t display: \'icons\', disabled : $data.disabled(),\n\t\t\t\t\t\t\t\t\t\t icons: {start: \'pcs-dp-common-close-icon oj-fwk-icon\'}}">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t<!-- /ko -->\n\t\t\t\t</div>\n            </div>\n            <div class="oj-flex oj-sm-align-items-center">\n\t\t\t\t<span class="pcs-dp-list-clear-filter"><a id="pcs-dp-list-clear-filter"\n\t\t\t\t\t\tdata-bind=" click:clearFilterAction , text : \'Clear\'">\n\t\t\t\t</a></span>\n            </div>\n        </div>\n\t<!-- /ko -->\n\n\t<div id="pcs-dp-list-view-wrapper"  class="oj-sm-12">\n\n\t\t<!-- ko if: viewDataSource().data.length === 0 -->\n\t\t<div  class="oj-flex oj-sm-12 pcs-dp-list-msgs-area">\n\t\t\t<!-- ko if:selectedFilterCriteria().length >0 || searchText().length !=0 -->\n\t\t\t<span data-bind="text:bundle.pcs.dp.list.noInstancesWithFilterMsg"></span>\n\t\t\t<!-- /ko -->\n\t\t</div>\n\t\t<!-- /ko -->\n\n\t\t<div  class="oj-flex oj-sm-12 pcs-dp-empty-watermark pcs-dp-display-none" id="pcs-dp-list-empty-container">\n\t\t\t<!-- ko if:viewDataSource().data.length === 0 && selectedFilterCriteria().length === 0 && searchText().length ===0 -->\n\t\t\t<div class="oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center">\n\t\t\t\t<span class="pcs-dp-list-empty-data-icon"></span>\n\t\t\t</div>\n\t\t\t<div class="oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center">\n\t\t\t\t<span data-bind="text: bundle.pcs.dp.list.noInstancesToWorkMsg" class="pcs-dp-empty-watermark-text"></span>\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\t\t</div>\n\n\n        <div id="pcs-dp-list-lv-wrapper" style="display: none" class="oj-sm-12">\n            <ul id="pcs-dp-list-lv" class="oj-sm-12"\n                data-bind="ojComponent: {component: \'ojListView\',\n\t\t\t\t\t\t\t\t data: viewDataSource, item: {template: \'pcs-dp-list-lv-template\'}, selectionMode: \'single\',\n\t\t\t\t\t\t\t\t rootAttributes: { class: \'oj-sm-12\' , style : \'border-width :0px\'},\n\t\t\t\t\t\t\t\t translations: { msgNoData : \'\', msgFetchingData : \'Loading\' }},\n\t\t\t\t attr: {\'aria-label\' : bundle.pcs.dp.list.listView}">\n            </ul>\n\t\t\t<a href="#" class="oj-label-inline pcs-dp-list-floatRight pcs-dp-list-load-more"\n\t\t\t   data-bind="visible: hasMoreRecs, click:loadMoreTasks, text: bundle.pcs.tasklist.loadMore, title: bundle.pcs.tasklist.loadMore">\n\t\t\t</a>\n        </div>\n\n    </div>\n\n\t<div class="" style="margin-top:20px;display: none;" id="pcs-dp-list-error">\n\t\t<div style="margin:20px; color:red" data-bind="text: bundle.pcs.dp.list.errGettingInstancesMsg" ></div>\n\t</div>\n\n\t<div id="pcs-dp-list-overlay"></div>\n\n</div>\n\n<div id="pcs-dp-list-filter-dialogWrapper">\n    <div id="pcs-dp-list-advanceSearchPopup" title="Filter" class="pcs-dp-dialog"\n         data-bind="ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\',\n\t\t  rootAttributes: { style: \'width: 500px;  min-width 300px;  min-height: 300px;\', class:\'pcs-dp-dialog-custom\'}}">\n\t\t<div id="pcs-dp-list-dialog-header" class="oj-dialog-header oj-helper-clearfix pcs-dp-dialog-header">\n\t\t\t<span id="dialogTitleId" class="oj-dialog-title" data-bind="text:bundle.pcs.dp.list.filterHeaderTxt, attr:{title:bundle.pcs.dp.list.filterHeaderTxt}"></span>\n\t\t\t<span class="pcs-dp-dialog-close-btn">\n\t\t\t\t<button data-bind="click: closeDialog,\n\t\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.close, display: \'icons\',\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-dialog-close-icon\'}\n\t\t\t\t\t\t\t\t}">\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t</div>\n        <div id="pcs-dp-list-searchPopup-body" class="pcs-dp-dialog-body oj-dialog-body">\n            <div class="oj-form-layout">\n                <div class="oj-form oj-sm-odd-cols-12 oj-md-odd-cols-4 oj-md-labels-inline" >\n\n                    <div class="oj-flex" data-bind="visible:true">\n                        <div class="oj-flex-item pcs-dp-list-filter-label">\n                            <label class="pcs-dp-list-filter-label" for="pcs-dp-list-filter-state" data-bind="text: bundle.pcs.dp.list.state"></label>\n                        </div>\n                        <div class="oj-flex-item">\n                            <select id="pcs-dp-list-filter-state"\n                                    data-bind="ojComponent: {\n                                        component: \'ojSelect\',\n                                        multiple: false,\n                                        value: selectedStates,\n                                        minimumResultsForSearch:10,\n                                        disabled: false,\n                                        rootAttributes: {style: \'min-width:21em;\'}}">\n\n\t\t\t\t\t\t\t\t<!-- ko foreach: availableStates -->\n\t\t\t\t\t\t\t\t<option data-bind="value:value, text:label"></option>\n\t\t\t\t\t\t\t\t<!-- /ko -->\n\n                            </select>\n                        </div>\n                    </div>\n\n                    <div class="oj-flex" data-bind="visible:true">\n                        <div class="oj-flex-item">\n                            <label class="pcs-dp-list-filter-label" for="pcs-dp-list-filter-process" data-bind="text: bundle.pcs.dp.list.process"></label>\n                        </div>\n                        <div class="oj-flex-item">\n\n                            <select id="pcs-dp-list-filter-process" data-bind="ojComponent: {component: \'ojSelect\',\n                                                      multiple: false,\n                                                      value: selectedProcessDef,\n                                                      rootAttributes: {style:\'max-width:21em\'}}">\n                                <!-- ko foreach: processDefinitionList -->\n                                <option data-bind="value:value, text:label"></option>\n                                <!-- /ko -->\n                            </select>\n                        </div>\n                    </div>\n                    <div class="oj-flex" data-bind="visible:true">\n                        <div class="oj-flex-item">\n                            <label class="pcs-dp-list-filter-label" for="pcs-dp-list-filter-createdBefore" data-bind="text: bundle.pcs.dp.list.createdBefore"></label>\n                        </div>\n                        <div class="oj-flex-item">\n                            <input id="pcs-dp-list-filter-createdBefore"\n                                   data-bind="ojComponent: {component: \'ojInputDateTime\',\n                                                value: selectedCreatedBefore,\n                                        rootAttributes: {style: \'min-width:21em;\'}}"/>\n                        </div>\n                    </div>\n                    <div class="oj-flex" data-bind="visible:true">\n                        <div class="oj-flex-item">\n                            <label class="pcs-dp-list-filter-label" for="pcs-dp-list-filter-createdAfter" data-bind="text: bundle.pcs.dp.list.createdAfter"></label>\n                        </div>\n                        <div class="oj-flex-item">\n                            <input id="pcs-dp-list-filter-createdAfter"\n                                   data-bind="ojComponent: {component: \'ojInputDateTime\',\n                                                value: selectedCreatedAfter,\n                                        rootAttributes: {style: \'min-width:21em;\'}}"/>\n                        </div>\n                    </div>\n                    <div class="oj-flex" data-bind="visible:true">\n                        <div class="oj-flex-item">\n                            <label class="pcs-dp-list-filter-label oj-label oj-label-nocomp" data-bind="text: bundle.pcs.dp.list.updatedBy"></label>\n                        </div>\n                        <div class="oj-flex-item">\n\t\t\t\t\t\t\t<pcs-identity-browser id="pcs-dp-list-filter-updatedBy" class="pcs-dp-list-filter-updatedBy"></pcs-identity-browser>\n                        </div>\n                    </div>\n                    <div class="oj-flex" data-bind="visible:true">\n                        <div class="oj-flex-item">\n                            <label class="pcs-dp-list-filter-label" for="pcs-dp-list-filter-closedBefore" data-bind="text: bundle.pcs.dp.list.closedBefore"></label>\n                        </div>\n                        <div class="oj-flex-item">\n                            <input id="pcs-dp-list-filter-closedBefore"\n                                   data-bind="ojComponent: {component: \'ojInputDateTime\',\n                                                value: selectedClosedBefore, disabled: !(selectedStates()[0] === \'CLOSED\' || selectedStates()[0] === \'ALL\'),\n                                        rootAttributes: {style: \'min-width:21em;\'}}"/>\n                        </div>\n                    </div>\n                    <div class="oj-flex" data-bind="visible:true">\n                        <div class="oj-flex-item">\n                            <label class="pcs-dp-list-filter-label" for="pcs-dp-list-filter-closedAfter" data-bind="text: bundle.pcs.dp.list.closedAfter"></label>\n                        </div>\n                        <div class="oj-flex-item">\n                            <input id="pcs-dp-list-filter-closedAfter"\n                                   data-bind="ojComponent: {component: \'ojInputDateTime\',\n                                                value: selectedClosedAfter, disabled: !(selectedStates()[0] === \'CLOSED\' || selectedStates()[0] === \'ALL\') ,\n                                        rootAttributes: {style: \'min-width:21em;\'}}"/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="oj-dialog-footer pcs-dp-dialog-footer">\n            <button id="okButton" class="oj-button-primary" data-bind="attr:{title:bundle.pcs.dp.common.ok}, ojComponent: {component: \'ojButton\', label: bundle.pcs.dp.common.ok,\n            rootAttributes: {style: \'padding-left:13px;padding-right:13px;font-weight:normal\'}} , click : performFiltering"> </button>\n        </div>\n    </div>\n</div>\n\n<script type="text/html" id="pcs-dp-list-lv-template">\n    <li data-bind="attr: {id: $data[\'getNumber()\']}, click:$parent.instanceSelected" class="oj-sm-12 pcs-dp-list-lv-item">\n\n\t\t<div class="oj-flex oj-sm-12 oj-sm-align-items-center" style="flex-wrap: nowrap;">\n\t\t\t<div class="oj-flex-item" style="min-width:75px;max-width:75px">\n\t\t\t\t\t<div data-bind=" style : {background: $data.getColorCode()} , attr : {title : $data.getProcessName()}, text:$data.getInitials() "\n\t\t\t\t\t\t class="pcs-dp-list-avatar-smaller" >\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="oj-flex-item">\n\t\t\t\t<div  class="oj-sm-12 oj-md-flex-wrap-nowrap">\n\t\t\t\t\t<div class="oj-sm-12 ">\n\t\t\t\t\t\t<span class="oj-flex pcs-dp-list-title-text " id="pcs-dp-list-title-text" data-bind="text: getTitle(), attr:{title:getTitle()}"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- ko ifnot: getDescription() === null-->\n\t\t\t\t\t<div class="oj-sm-12 ">\n\t\t\t\t\t\t<span class="oj-flex pcs-dp-list-description-text  pcs-dp-list-height-margin" id="pcs-dp-list-description-text" data-bind="text: getDescription()"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t<div class="oj-sm-12 ">\n\t\t\t\t\t\t<span class="oj-flex pcs-dp-list-longtext pcs-dp-list-height-margin" id="pcs-dp-list-longtext" data-bind="text: getLongText()"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="oj-flex-item" style="min-width:50px;max-width:50px">\n\t\t\t\t<div class="oj-flex oj-sm-12">\n\t\t\t\t\t<div id="pcs-dp-list-state" data-bind="css : getStateIconClass() , attr :{ title : getStateDisplayName()}">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="oj-flex-item" style="min-width:50px;max-width:50px">\n\t\t\t\t<div class="oj-flex oj-sm-12">\n\t\t\t\t\t<button id="pcs-dp-list-drilldown" data-bind="visible: true,click : $parent.instanceSelected, ojComponent: {\n                                                component:\'ojButton\', chroming: \'half\', label: $parent.bundle.pcs.dp.list.details, display: \'icons\',\n                                                icons: {start:\'oj-fwk-icon pcs-dp-list-right-caret-icon\'},\n                                                rootAttributes:{style:\'float:right;\'}\n                                            }">\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n    </li>\n</script>\n\n<script type="text/html" id="pcs-dp-list-gv-template">\n    <div class="oj-flex-items-pad oj-lg-4 oj-md-6 oj-sm-12" data-bind="click:$parent.instanceSelected">\n        <div class="oj-flex pcs-dp-list-gv-box " style="margin: 10px" >\n            <div  style="margin: 10px" class="oj-flex  oj-sm-12">\n                <div class="oj-flex  oj-sm-12">\n                    <div class="oj-sm-2 oj-md-3">\n                        <div data-bind=" style : {background: $data.getColorCode()} , attr : {title : $data.getProcessName()}, text:$data.getInitials() "\n                             class="pcs-dp-list-avatar-smaller" >\n                        </div>\n                    </div>\n                    <div class="oj-sm-8 oj-md-7">\n                        <h1 class="pcs-dp-list-title-text-gv marginTop18 " data-bind="text: getTitle()"></h1>\n                    </div>\n\t\t\t\t\t<div class="oj-sm-2 oj-md-2">\n\t\t\t\t\t\t<button id="pcs-dp-list-drilldown-2" class="marginTop18 " data-bind="visible: true,click : $parent.instanceSelected, ojComponent: {\n\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: $parent.bundle.pcs.dp.list.details, display: \'icons\',\n\t\t\t\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-list-right-caret-icon\'}\n\t\t\t\t\t\t\t\t\t\t\t}">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n                </div>\n\t\t\t\t<!-- ko ifnot: getDescription() === null-->\n                <div class="oj-flex oj-sm-12 ">\n                    <span data-bind="text: getDescription()"></span>\n                </div>\n\t\t\t\t<!-- /ko -->\n                <div class="oj-flex oj-sm-12 " style="border: solid #d6dfe6;border-width: 1px 0 0;margin: 7px 0;"></div>\n                <div class="oj-flex oj-sm-12 oj-flex-items-pad ">\n                    <div class="oj-sm-6">\n\t\t\t\t\t\t<span class="pcs-dp-list-label" data-bind="text:$parent.bundle.pcs.dp.list.instanceId+ \': \'"></span><span data-bind="text: getNumber()"></span>\n                    </div>\n                    <div class="oj-sm-6">\n\t\t\t\t\t\t<span class="pcs-dp-list-label" data-bind="text:$parent.bundle.pcs.dp.list.process+ \': \'"></span> <span data-bind="text: getProcessName()"></span>\n                    </div>\n                </div>\n                <div class="oj-flex oj-sm-12 oj-flex-items-pad ">\n                    <div class="oj-sm-6">\n\t\t\t\t\t\t<span class="pcs-dp-list-label" data-bind="text:$parent.bundle.pcs.dp.list.state+ \': \'"></span><span data-bind="text: getStateDisplayName()"></span>\n                    </div>\n\n                    <div class="oj-sm-6">\n                        <span class="pcs-dp-list-label" data-bind="text:$parent.bundle.pcs.dp.list.created+ \': \'"></span>\n                        <span data-bind="text: getInstanceCreatedDateFormatted()"></span>\n                    </div>\n\n                </div>\n                <div class="oj-flex oj-sm-12  oj-flex-items-pad ">\n\t\t\t\t\t<!-- ko if:getUpdatedBy() -->\n                    <div class="oj-sm-6">\n                        <span class="pcs-dp-list-label" data-bind="text:$parent.bundle.pcs.dp.list.updatedBy+ \': \'"></span>\n                        <span data-bind="text: getUpdatedBy()"></span>\n                    </div>\n\t\t\t\t\t<!-- /ko -->\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n';});

/**
 * Created by nisabhar on 7/13/17.
 */

/**
 * Created by nisabhar on 1/18/2017.
 */


define('pcs/dynamicProcess/model/DpDefinition',['ojs/ojcore','pcs/util/pcsUtil'], function(oj,pcsUtil) {
	'use strict';
	return function(data) {

		if (!data.name) {
			data.name = data.id;
		}

		//Check if dn exist and is a valid dn ex default/Campaign_Approval_Workflow!1*soa_de7e9bee-d166-4871-91e0-6733de705892
		var dn = data.category;
		if(!dn){
			data.displayName= data.name;
		}
		else{
			if(dn.indexOf("/")>0 &&  dn.indexOf("!")>0 && dn.indexOf("*")>0){
				var partition=  dn.substring(0, dn.indexOf("/"));

				var appName = dn.substring(dn.indexOf("/")+1, dn.indexOf("!"));

				var version = dn.substring(dn.indexOf("!")+1, dn.indexOf("*"));

				var label = dn.substring(dn.indexOf("*")+1, dn.length);

				data.displayName = data.name + " (" +appName +   " v" + version+ " )";
			}
			else{
				data.displayName= data.name;
			}
		}

		//Read the available actions and use it
		if( data.availableActions){

			if(data.availableActions.indexOf('create') > -1){
				data.canCreate = true;
			}
			if(data.availableActions.indexOf('update') > -1){
				data.canUpdate = true;
			}
			if(data.availableActions.indexOf('read') > -1){
				data.canRead = true;
			}
		}

		return data
	};
});

/**
 * Created by nisabhar on 1/4/2017.
 */

define('pcs/dynamicProcess/services/DPInstanceService',['jquery','pcs/data-services/DataServices','pcs/dynamicProcess/model/DpInstance', 'pcs/dynamicProcess/model/DpDefinition'],
	function($,DataServices, Instance , Definition) {

		'use strict';
		var resourceUrlConfig = {
				'instanceList': '/dp-instances',
				'processDefinitions': '/dp-definitions'
			},

			dataServices = DataServices.getInstance();

		//making it a singleton
		var instance;

		function CreateInstance(options) {
			var _state = {};
			_state.options = options;
			_state.processDefinitionsList = {};


			/*
					var dummydata = [{
							activityName: 'Compact Auto Rental request for  Jane Austen',
							id: '1001',
							application: 'Auto Claim',
							colorCode: 'green',
							initials: 'AC',
							activityDescription: 'New auto claim request, raised whenever there is an incidence',
							state: 'Active',
							createTime: 'Thursday 16th November 2016',
							createUserId: 'Mark Luther'
						},
						{
							activityName: 'Home Loan request for  John Steinback',
							id: '1002',
							application: 'Home Loan',
							colorCode: 'blue',
							initials: 'HL',
							activityDescription: 'New home claim request, raised whenever someone come for Loan',
							state: 'Active',
							createTime: 'Thursday 16th November 2016',
							createUserId: 'james Cooper'
						},
						{
							activityName: 'Auto Claim request for  Jack London',
							id: '1003',
							application: 'Auto Claim',
							colorCode: 'green',
							initials: 'AC',
							activityDescription: 'New auto claim request, raised whenever there is an incidence',
							state: 'Active',
							createTime: 'Thursday 16th November 2016',
							createUserId: 'Mark Luther'
						},
						{
							activityName: 'Home Loan request for  John Steinback',
							id: '1004',
							application: 'Home Loan',
							colorCode: 'blue',
							initials: 'HL',
							activityDescription: 'New home claim request, raised whenever someone come for Loan',
							state: 'Active',
							createTime: 'Thursday 16th November 2016',
							createUserId: 'james Cooper'
						},
						{
							activityName: 'Auto Claim request for Agatha Christie',
							id: '1005',
							application: 'Auto Claim',
							colorCode: 'green',
							initials: 'AC',
							activityDescription: 'New auto claim request, raised whenever there is an incidence',
							state: 'Active',
							createTime: 'Thursday 16th November 2016',
							createUserId: 'Mark Luther'
						},
						{
							activityName: 'Home Loan request for  William Shakespeare',
							id: '1006',
							application: 'Home Loan',
							colorCode: 'blue',
							initials: 'HL',
							activityDescription: 'New home claim request, raised whenever someone come for Loan',
							state: 'Active',
							createTime: 'Thursday 16th November 2016',
							createUserId: 'james Cooper'
						}
					];
			*/

			return {
				//Do a client search search of the instance list
				searchInstanceList: function(searchText) {
					var promise = $.Deferred();
					var list = _state.instanceList;

					if (list === undefined) {
						return promise.resolve([]);
					}
					var prunedList = [];

					$.each(list, function(index, value) {
						if (value.toString().toLowerCase().indexOf(searchText.toLowerCase()) !== -1) {
							prunedList.push(value);
						}
					});
					promise.resolve(prunedList);
					return promise;
				},
				// Do a server call to get the list
				fetchInstanceList: function(refresh, params) {
					var url = resourceUrlConfig.instanceList;
					var promise = $.Deferred();

					if (!refresh) {
						promise.resolve(_state.instanceList);
						return promise;
					}
					var options = {
						queryParams: params
					};
					dataServices.get(url, options, 'dp').done(function(data) {

						var instanceList = data.items.map(function(item) {
							return new Instance(item);
						});

						//put it in cache
						_state.instanceList = params.aggregateInstances ? _state.instanceList.concat(instanceList) : instanceList;
						promise.resolve(instanceList);
					}).fail(function(error) {
						promise.reject(error);
					});
					return promise;
				},

				fetchProcessDefinitions: function(refresh, allowedAction) {

					if (!allowedAction){
						allowedAction = 'read';
					}

					var url = resourceUrlConfig.processDefinitions + '?allowedAction=' + allowedAction;

					var promise = $.Deferred();

					if (!refresh && _state.processDefinitionsList && _state.processDefinitionsList[allowedAction]) {
						promise.resolve(_state.processDefinitionsList[allowedAction]);
						return promise;
					}


					var options = {};
					dataServices.get(url, options, 'dp').done(function(data) {

						var definitionsList = data.items.map(function(item) {
							return new Definition(item);
						});

						_state.processDefinitionsList[allowedAction] = definitionsList;
						promise.resolve(definitionsList);

					}).fail(function(error) {
						promise.reject(error);
					});
					return promise;
				}
			};
		}

		return {
			getInstance: function(options) {
				if (!instance) {
					instance = new CreateInstance(options);
				}
				return instance;
			}
		};
});

/**
 * Created by nisabhar on 11/17/2016.
 */


define('pcs/dynamicProcess/list/viewModel/dpListVM',['ojs/ojcore', 'knockout', 'jquery', 'pcs/dynamicProcess/services/DPInstanceService', 'pcs/util/pcsUtil', 'pcs/util/dateUtil',
        'ojs/ojknockout', 'promise', 'ojs/ojbutton', 'ojs/ojlistview', 'ojs/ojinputtext', 'ojL10n!pcs/resources/nls/pcsSnippetsResource',
        'ojs/ojarraytabledatasource', 'ojs/ojtoolbar', 'ojs/ojselectcombobox', 'ojs/ojdatetimepicker','pcs/pcs.identitybrowser'
    ],
    function(oj, ko, $, InstanceService, pcsUtil, dateUtil) {

        'use strict';

        return function(params, componentInfo) {
            var self = this;
			var loggerUtil =  require('pcs/util/loggerUtil');

            var service;
            var element = componentInfo.element;
			var totRecordsFetched = 0;
			var defaultPageSize = 10;
			var dataArr = [];

			self.firstResult = ko.observable(0);
			self.currentOffset = ko.observable(defaultPageSize);
			self.hasMoreRecs = ko.observable(false);
			self.isMoreClicked = ko.observable(false);

            // Attribute to store search text
            self.searchText = ko.observable('');

            // Attribute to store sortby text
            self.selectedSortBy = ko.observableArray(['createTime']);

            self.selectedSortOrder = ko.observable('desc');

            //Attribute to store selectedstae
            self.selectedStates = ko.observableArray(['ACTIVE']);

			self.viewDataSource = ko.observable();

            //Attribute to store display view
            self.displayView = ko.observable();

            //available process definition to filter
            self.processDefinitionList = ko.observableArray([{
                value: 'ALL',
                label: 'All'
            }]);

            //selectedProcessDef
            self.selectedProcessDef = ko.observableArray(['ALL']);

            //selected Created Before
            self.selectedCreatedBefore = ko.observable();

            //selected Created After
            self.selectedCreatedAfter = ko.observable();

            //selected Created Before
            self.selectedClosedBefore = ko.observable();

            //selected Created After
            self.selectedClosedAfter = ko.observable();

            //selecetd updatedBy
            self.selectedUpdatedBy = ko.observable();

			self.hasSearchTxt = ko.observable(false);

            // list of avialable state for filtering UI
			self.availableStates = [
				{value: 'ACTIVE', label: 'Active'},
				{value: 'COMPLETED',  label: 'Completed'},
				{value: 'TERMINATED',   label: 'Terminated'},
				{value: 'CLOSED',    label: 'Closed'},
				{value: 'ALL', label: 'All'}
			];

			// Key-value pair for state
			self.statesMap = {
				ALL : 'All',
				ACTIVE : 'Active',
				COMPLETED : 'Completed',
				TERMINATED : 'Terminated',
				CLOSED :  'Closed'
			};

			// list of avialable state for sortBy UI
			self.availableSortBy = [
				{value: 'instanceId', label: 'Instance Id'},
				{value: 'createTime',  label: 'Created Date'},
				{value: 'definitionId',   label: 'Process'},
				{value: 'closeTime',    label: 'Closed Date'},
				{value: 'duration',    label: 'Duration'}
			];

            //Set the resourcebundle
            self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

            // attribute to hold what is the current custom filter user has added
            self.selectedFilterCriteria = ko.observableArray([]);

            //Attribute to store filter param
            self.selectedFilterParam = ko.computed(function() {
                var params = {};

                params.aggregateInstances = self.isMoreClicked();
				params.firstResult = self.firstResult();
				params.maxResults = defaultPageSize;
                params.sortBy = self.selectedSortBy();
                params.sortOrder = self.selectedSortOrder();
                var states = self.selectedStates();
                for (var i = 0; states && i < states.length; i++) {
					if (states[i] !== 'ALL') {
						params.state = states[i];
					}
                }

                var processDefinitionIds = self.selectedProcessDef();
                for (var j = 0; processDefinitionIds && j < processDefinitionIds.length; j++) {
                    if (processDefinitionIds[j] !== 'ALL') {
                        params.processDefinitionId = processDefinitionIds[j];
                    }
                }

                if (self.selectedCreatedBefore()) {
                    params.createdBefore = dateUtil.getDateStingInUTCTimezone(self.selectedCreatedBefore());
                }

                if (self.selectedCreatedAfter()) {
                    params.createdAfter = dateUtil.getDateStingInUTCTimezone(self.selectedCreatedAfter());
                }

                if (self.selectedClosedBefore()) {
                    params.closedBefore = dateUtil.getDateStingInUTCTimezone(self.selectedClosedBefore());
                }

                if (self.selectedClosedAfter()) {
                    params.closedAfter = dateUtil.getDateStingInUTCTimezone(self.selectedClosedAfter());
                }

                if(self.selectedUpdatedBy()){
					self.selectedUpdatedBy(getSelectedIdentity());
                	params.updatedBy = self.selectedUpdatedBy();
				}

                loggerUtil.log(params);
                return params;
            });

            function getSelectedIdentity(){
            	var retVal;
				var updatedBy = $('#pcs-dp-list-filter-updatedBy');
				var identityBrowser = updatedBy.find('#identityBrowser');
				if(identityBrowser.length > 0){
					var obj = ko.contextFor(identityBrowser[0]);
					if (obj) {
						var data = obj.$data;
						var objectIDS = data.getUserIDs();
						if (objectIDS.length > 0) {
							params.updatedBy = objectIDS[0];
							retVal = params.updatedBy;
						}
					}
				}
				return retVal;
			}


			/**
			 * clean out all filters to default
			 */
			self.clearFilters = function(){

				self.selectedStates(['ACTIVE']);
				self.selectedProcessDef(['ALL']);
				self.selectedCreatedBefore('');
				self.selectedCreatedAfter('');
				self.selectedClosedBefore('');
				self.selectedClosedAfter('');
				self.selectedUpdatedBy('');
				//Clear the selected value in idbrowser
				var updatedBy = $('#pcs-dp-list-filter-updatedBy');
				var identityBrowser = updatedBy.find('#identityBrowser');
				if(identityBrowser.length > 0){
					var obj = ko.contextFor(identityBrowser[0]);
					if (obj) {
						obj.$data.setValue('');
					}
				}
			};


			/**
			 * Method called from Ui , when user click on Clear
			 */
			self.clearFilterAction = function (){
				// Clean the filter
				self.clearFilters ();
				//recreate filter bar
				self.createFilterBar();
				// refresh list
				self.refreshInstanceList();
			};

			/**
			 * method called when individual filter is removed
			 * @param data
			 * @param event
			 */
			self.removeFilterAction = function (data,event){
				// remove the required filter
				data.clearFunction();
				//recreate filter bar
				self.createFilterBar();
				// refresh list
				self.refreshInstanceList();
			};


			/**
			 * To create the filter bar content
			 */
			self.createFilterBar  = function (){
				self.selectedFilterCriteria.removeAll();

				var states = self.selectedStates();
				for (var i = 0; states && i < states.length; i++) {
					if(states[i] !== 'ACTIVE'){
						self.selectedFilterCriteria.push({
							label : 'State',
							value : self.statesMap[states[i]] ,
							clearFunction : function(){
								self.selectedStates(['ACTIVE']);
								this.disabled.dispose();
							},
							disabled :  ko.computed(function (){
								if (self.selectedClosedBefore()  || self.selectedClosedAfter()){
									return true;
								}
								return false;
							})
						});
					}
				}

				var processDefinitionIds = self.selectedProcessDef();
				for (var j = 0; processDefinitionIds && j < processDefinitionIds.length; j++) {
					var processName = getProcessNameFromId (processDefinitionIds[j]);
					if (processDefinitionIds[j] !== 'ALL') {
						self.selectedFilterCriteria.push({
							label : 'Process',
							value : processName,
							clearFunction : function(){self.selectedProcessDef(['ALL']);},
							disabled : ko.observable(false)
						});
					}
				}

				if (self.selectedCreatedBefore()) {
					self.selectedFilterCriteria.push({
						label : 'Created Before',
						value : self.selectedCreatedBefore(),
						clearFunction : function(){self.selectedCreatedBefore('');},
						disabled : ko.observable(false)
					});
				}

				if (self.selectedCreatedAfter()) {
					self.selectedFilterCriteria.push({
						label : 'Created After',
						value : self.selectedCreatedAfter(),
						clearFunction : function(){self.selectedCreatedAfter('');},
						disabled : ko.observable(false)
					});
				}

				if (self.selectedClosedBefore()) {
					self.selectedFilterCriteria.push({
						label : 'Closed Before',
						value : self.selectedClosedBefore(),
						clearFunction : function(){self.selectedClosedBefore('');},
						disabled : ko.observable(false)
					});
				}

				if (self.selectedClosedAfter()) {
					self.selectedFilterCriteria.push({
						label : 'Closed After',
						value : self.selectedClosedAfter(),
						clearFunction : function(){self.selectedClosedAfter('');},
						disabled : ko.observable(false)
					});
				}

				if (self.selectedUpdatedBy()) {
					self.selectedFilterCriteria.push({
						label : 'Updated By',
						value : self.selectedUpdatedBy(),
						clearFunction : function(){self.selectedUpdatedBy('');},
						disabled : ko.observable(false)
					});
				}

				//loggerUtil.log(self.selectedFilterCriteria());
			};

			function getProcessNameFromId (id){
				var processName;
				$.each(self.processDefinitionList() , function (index,item){
					if (item.value === id){
						processName =item.label;
					}
				});
				return processName;
			}

            function displayViewOnload() {
                var dir = 'LIST'; //window.localStorage['dp-dplist-view'];
                self.displayView(dir);
                if (dir === 'LIST') {
                    $('#pcs-dp-list-lv-wrapper', element).show(('slide', 1000));
                    $('#pcs-dp-list-gv-wrapper', element).hide(('slide', 1000));
                    $('#pcs-dp-list-display-grid-btn', element).show();
                    $('#pcs-dp-list-display-list-btn', element).hide();
                } else {
                    $('#pcs-dp-list-lv-wrapper', element).hide(('slide', 1000));
                    $('#pcs-dp-list-gv-wrapper', element).show(('slide', 1000));
                    $('#pcs-dp-list-display-grid-btn', element).hide();
                    $('#pcs-dp-list-display-list-btn', element).show();
                }
            }

            //Method to launch Advanced Search Dialog
            self.showAdvanceSearchPopup = function() {
                self.populateProcessDefinitions(false);
                $('#pcs-dp-list-advanceSearchPopup', element).ojDialog('open');
            };

			/**
			 * Method to populate process defintiions for filter dialog
			 * @param refresh
			 */
            self.populateProcessDefinitions = function(refresh) {

                service.fetchProcessDefinitions(refresh,'read').then(function(data) {

                    self.processDefinitionList.removeAll();

                    var all = {
                        value: 'ALL',
                        label: 'All'
                    };
                    self.processDefinitionList.push(all);
                    data.forEach(function(item, index) {

						var def = {
							value: item.id,
							label: item.displayName
						};
						self.processDefinitionList.push(def);

                    });

                }, function(rejected) {
                    loggerUtil.log(rejected);
                });
            };

            // Method to change the sort direction
            self.onDirectionBtnClick = function(data) {
                var dir = data.selectedSortOrder();
                if (dir === 'asc') {
                    self.selectedSortOrder('desc');
                } else {
                    self.selectedSortOrder('asc');
                }
				resetQueryOffset();
                //REFETCH LIST
                fetchInstanceList(self.selectedFilterParam()).then(function() {
					showMoreText();
				});
                $('#pcs-dp-list-direction-asc-btn', element).toggle();
                $('#pcs-dp-list-direction-dsc-btn', element).toggle();
            };


            //Method to be called on sort By change
            self.sortByChangedHandler = function(event, data) {
                if (data.option === 'value') {
					resetQueryOffset();
                    //REFETCH LIST
                    fetchInstanceList(self.selectedFilterParam()).then(function() {
						showMoreText();
					});
                }
            };


            //Method to switch display view
            self.switchDisplayView = function(data) {
                var dir = data.displayView();

                if (dir === 'LIST') {
                    self.displayView('GRID');
                    window.localStorage['dp-dplist-view'] = 'GRID';
                } else {
                    self.displayView('LIST');
                    window.localStorage['dp-dplist-view'] = 'LIST';
                }
                $('#pcs-dp-list-lv-wrapper', element).toggle(('slide', 1));
                $('#pcs-dp-list-gv-wrapper', element).toggle(('slide', 1));
                $('#pcs-dp-list-display-grid-btn', element).toggle();
                $('#pcs-dp-list-display-list-btn', element).toggle();
            };

            //Method to drill down to instance details
            self.instanceSelected = function(data, event) {
                var params = {
                    'bubbles': true,
                    'detail': {
                        'instanceId': data.getNumber(),
                        'instanceItem': data
                    }
                };
                loggerUtil.log('firing event');
                element.dispatchEvent(new CustomEvent('dplist:instanceSelect', params));

				//Reset search field
				// Updating the observable doesnt clear text for rawValue, hence use OJ to set value
				$('#pcs-dp-list-search-input', element).ojInputText({'value': ''});
            };

            //Method to refresh the instance listing
            self.refreshInstanceList = function() {
				resetQueryOffset();
                fetchInstanceList(self.selectedFilterParam()).then(function() {
					showMoreText();
				});
            };


			/**
			 * method called when user click on filtering dialog ok
			 */
			self.performFiltering = function() {
				self.selectedUpdatedBy(getSelectedIdentity());
            	self.createFilterBar();
				resetQueryOffset();
                fetchInstanceList(self.selectedFilterParam()).then(function() {
					showMoreText();
				});
				self.closeDialog();
            };

			self.closeDialog = function(){
				$('.pcs-dp-dialog').ojDialog('close');
			};

            //Handle on click of refresh button
            self.onRefreshBtnClick = function() {
                self.refreshInstanceList();
                self.populateProcessDefinitions(true);
            };

            //Fetch the InstanceList data
            function fetchInstanceList(params) {

                //Start the loading indicator
                $('#pcs-dp-list-overlay', element).addClass('pcs-common-load-overlay');

                var promise = $.Deferred();

                service.fetchInstanceList(true, params).then(function(data) {

					totRecordsFetched = data.length;
					// if(params.aggregateInstances && totRecordsFetched === 0){
					// 	self.hideErrorRegion();
					// 	promise.resolve();
					// }

					dataArr = params.aggregateInstances ? dataArr.concat(data) : data;
					//Update ListData
					self.viewDataSource(new oj.ArrayTableDataSource(dataArr, {
						idAttribute: 'getNumber'
					}));

                    if(!dataArr || dataArr.length === 0){
						$( '#pcs-dp-list-empty-container',element ).show();
					}else {
						$('#pcs-dp-list-empty-container', element).hide();
					}

					self.hideErrorRegion();

                    promise.resolve();
                }, function(rejected) {

                    self.showErrorRegion();

                });
                return promise;
            }

			self.loadMoreTasks = function() {
				var offset = dataArr.length + defaultPageSize;
				self.firstResult(self.currentOffset() + 1);
				self.currentOffset(offset);
				self.isMoreClicked(true);
				fetchInstanceList(self.selectedFilterParam()).then(function() {
					showMoreText();
					self.isMoreClicked(false);
				});
			};


			//Show the paging text
			function showMoreText() {
				if (totRecordsFetched < defaultPageSize) {
					self.hasMoreRecs(false);
				} else {
					self.hasMoreRecs(true);
				}
			}

			function resetQueryOffset(){
				totRecordsFetched = 0;
				self.firstResult(0);
				self.currentOffset(defaultPageSize);
			}

            /**
             * When the rest call fails
             */
            self.showErrorRegion = function() {
                $('#pcs-dp-list-error', element).show();
                $('#pcs-dp-list-view-wrapper', element).hide();
                // remove overlays for loading
                $('#pcs-dp-list-overlay', element).removeClass('pcs-common-load-overlay');
            };

			/**
			 * When the rest call is success
			 */
			self.hideErrorRegion = function() {
				$('#pcs-dp-list-error', element).hide();
				$('#pcs-dp-list-view-wrapper', element).show();
				// remove overlays for loading
				$('#pcs-dp-list-overlay', element).removeClass('pcs-common-load-overlay');
			};

            //method to search as soon as user type
            function searchInstanceList(searchtext) {
                var promise = $.Deferred();
                service.searchInstanceList(searchtext).then(function(data) {

					//Update ListData
					self.viewDataSource(new oj.ArrayTableDataSource(data, {
						idAttribute: 'getNumber'
					}));

                    promise.resolve();
                });
                return promise;
            }


            self.init = function() {
				self.viewDataSource(new oj.ArrayTableDataSource(dataArr, {
					idAttribute: 'getNumber'
				}));

                if (window.localStorage['dp-dplist-view'] === null) {
                    window.localStorage.setItem('dp-dplist-view', 'LIST');
                    self.displayView('LIST');
                }
                displayViewOnload();

                service = InstanceService.getInstance();

                fetchInstanceList(self.selectedFilterParam()).then(function() {
					showMoreText();
				});
            };


            self.reInitInstanceList = function (){
            	//clean the search Text
				self.searchText('');
				// var elem = $('#pcs-dp-list-search-input',element);
				// elem.ojInputSearch('option', 'value','');
				// elem.ojInputSearch('refresh');
				self.refreshInstanceList();
			};

            self.bindingsApplied = function() {
                self.init();
                //TODO : Fix event
                //pcsUtil.eventHandler.addHandler(element,'dpdetail:closeView', self.reInitInstanceList);
                pcsUtil.eventHandler.addHandler(document, 'dpdetail:closeView', self.reInitInstanceList);
            };

            //method to search as soon as user type
            self.searchTextSubscription = self.searchText.subscribe(function(newValue) {
            	var searchString = newValue;
				if (Array.isArray && Array.isArray(newValue)){
					searchString = newValue[0];
				}
				if(!searchString){
					searchString ='';
				}
				self.hasSearchTxt(searchString.length > 0);
                searchInstanceList(searchString);
            });

            self.onSearchClearClick = function(){
				//Updating the observable doesnt clear text for rawValue, hence use OJ to set value
				$('#pcs-dp-list-search-input', element).ojInputText({'value': ''});
			};

            //Dispose the computed,sbsrciption,event http://knockoutjs.com/documentation/component-binding.html
            self.dispose = function() {
                loggerUtil.log('dispose in dplist');
                self.selectedFilterParam.dispose();
                self.searchTextSubscription.dispose();
                pcsUtil.eventHandler.removeHandler(document, 'dpdetail:closeView', self.reInitInstanceList);

            };

            // Temp call the bindingApplied for knockout component
            self.bindingsApplied();
        };
    }
);

/**
 * Created by nisabhar on 11/17/2016.
 */



define('pcs/dynamicProcess/list/loader',['ojs/ojcore','knockout', '!text!pcs/dynamicProcess/list/view/dpListView.html', './viewModel/dpListVM'],

    function(oj, ko,view, viewModel) {
        'use strict';
        // oj.Composite.register('pcs-dplist', {
        //     view: {
        //         inline: view
        //     },
        //     viewModel: {
        //         inline: viewModel
        //     },
        //     metadata: {
        //         inline: JSON.parse(metadata)
        //     }
        // });


        if (!ko.components.isRegistered('pcs-dplist')) {
            ko.components.register('pcs-dplist', {
                template: view,
                viewModel: {
                    createViewModel: function(params, componentInfo) {
                        return new viewModel(params, componentInfo);
                    }
                }
            });
        }
    }
);


define('text!pcs/dynamicProcess/detail/view/dpDetailView.html',[],function () { return '<div id="pcs-dp-det-container" class="oj-flex  oj-sm-12 pcs-dp-font ">\n\t<!-- ko if: instanceId() -->\n\t<div class="oj-flex  oj-sm-12">\n\t\t<div class="oj-flex oj-sm-12  oj-flex-items-pad" id="pcs-dp-det-content-holder">\n\n\t\t\t<div id="pcs-dp-det-header" class="oj-flex oj-sm-12  oj-sm-flex-items-initial oj-sm-justify-content-space-between pcs-dp-det-header">\n\t\t\t\t<div class="oj-flex-item">\n\t\t\t\t\t<button id="pcs-det-close-btn" role="button" class="oj-button-primary"\n\t\t\t\t\t\t\tdata-bind="click:closeDetailPage ,ojComponent: {component:\'ojButton\',\n\t\t\t\t\t\t\t\t\t\t label: bundle.pcs.dp.common.close, chroming: \'half\',\n\t\t\t\t\t\t\t\t\t\t display: \'icons\',\n\t\t\t\t\t\t\t\t\t\t icons: {start: \'oj-fwk-icon-caret-start oj-fwk-icon\'},\n\t\t\t\t\t\t\t\t\t\t rootAttributes:{style:\'margin-bottom:15px;margin-left:8px\'}},\n\t\t\t\t\t\t\t\t\t\t attr:{\'aria-label\':bundle.pcs.dp.common.close}">\n\t\t\t\t\t</button>\n\t\t\t\t\t<span data-bind="text: instanceTitle() " class="pcs-dp-det-header-title"></span>\n\t\t\t\t\t<a id="pcs-dp-det-info-btn" href="#" class="oj-button-primary" aria-label="info" data-bind="click:showInfoPopup,\n\t\t\t\t\t\t\t\t\t\t\tojComponent: {component:\'ojButton\',\n                                            label: bundle.pcs.dp.detail.info, chroming: \'half\',\n                                            display: \'icons\',\n                                            icons: {start: \'pcs-dp-det-info-icon oj-fwk-icon \'},\n                                            rootAttributes:{style:\'margin-bottom:12px\'}},\n                                            attr: {\'aria-label\' : bundle.pcs.dp.detail.info}">\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div class="oj-flex oj-flex-item oj-lg-align-items-center oj-sm-justify-content-flex-end oj-sm-text-align-end oj-sm-float-end ">\n\n\t\t\t\t\t<div class=\'oj-flex-bar oj-sm-justify-content-flex-end oj-sm-text-align-end oj-sm-float-end\'>\n\n\t\t\t\t\t\t<div class=\'oj-flex-bar-start\'></div>\n\t\t\t\t\t\t<div class=\'oj-flex-bar-middle\'>\n\t\t\t\t\t\t\t<!-- ko if: instanceItem() -->\n\t\t\t\t\t\t\t<!-- ko foreach:instanceItem().getAvailableActions()-->\n\t\t\t\t\t\t\t<button class="oj-button-sm oj-button-primary pcs-dp-det-act-btn"\n\t\t\t\t\t\t\t\t\trole="button"\n\t\t\t\t\t\t\t\t\tdata-bind="click:$parent.performInstanceAction,ojComponent: {component:\'ojButton\',\n                                            label: $data.actionDisplayName,\n                                            rootAttributes:{style:\'margin-bottom:0px\'}},\n                                            attr: {\'id\': \'pcs-cact-btn-\'+action , \'aria-label\' : actionDisplayName}">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\'oj-flex-bar-end\'>\n\n\t\t\t\t\t\t\t<button id="pcs-dp-det-refresh-btn" class="oj-button-primary"\n\t\t\t\t\t\t\t\t\tdata-bind="visible: true, click: onRefreshBtnClick, ojComponent: {\n\t\t\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.refresh, display: \'icons\',\n\t\t\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-det-refresh-icon\'},\n\t\t\t\t\t\t\t\t\t\t\trootAttributes:{style:\'margin-bottom:0px;margin-left:10px;margin-right:20px\'},\n\t\t\t\t\t\t\t\t\t\t\tattr: {\'aria-label\' : bundle.pcs.dp.common.refresh}\n\t\t\t\t\t\t\t\t\t\t}">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="pcs-dp-det-highlight-region" class="oj-flex oj-sm-12  oj-sm-justify-content-center" style="background-color: #E9ECEE;">\n\t\t\t\t<pcs-dpstatus id="pcs-dp-det-milestone"\n\t\t\t\t\t\t\t\t\tparams="activities: executionsList, instanceid:instanceId, instanceitem :instanceItem, consumed: true"\n\t\t\t\t\t\t\t\t\tclass="oj-flex oj-lg-12 oj-md-12 oj-sm-12 pcs-dp-det-milestone"></pcs-dpstatus>\n\t\t\t</div>\n\n\t\t\t<div class="oj-flex oj-sm-12 pcs-dp-det-content-msg-container oj-sm-justify-content-center" id="pcs-dp-det-content-msg-container">\n\n\t\t\t</div>\n\t\t\t<!-- main content -->\n\n\t\t\t<div class="oj-flex oj-sm-12" style="flex-wrap: nowrap;min-height:600px;">\n\t\t\t\t<div class="oj-flex-item pcs-dp-det-act-panel oj-sm-12">\n\t\t\t\t\t\t<pcs-dpactivity id="pcs-dp-det-activity" class="pcs-dp-det-activity"\n\t\t\t\t\t\t\t\t\tparams="activities: executionsList, instanceid:instanceId, consumed: true, selectedexecutionid : selectedTabExecutionId"></pcs-dpactivity>\n\t\t\t\t</div>\n\t\t\t\t<div class="oj-flex-item oj-sm-12 pcs-dp-detail-container" style="">\n\t\t\t\t\t<div class="oj-flex" id="pcs-dp-det-nav-list" data-bind="ojComponent:{\n\t\t\t\t\t\t\t\tcomponent: \'ojNavigationList\',\n\t\t\t\t\t\t\t\tdrillMode: \'none\',\n\t\t\t\t\t\t\t\tselection: selectedNavigationItem ,optionChange :navOptionChange,\n\t\t\t\t\t\t\t\tnavigationLevel: \'page\',\n\t\t\t\t\t\t\t\tedge: \'top\'\n\t\t\t\t\t\t\t\t}" style="margin-top:20px;margin-left:1px">\n\t\t\t\t\t\t<ul >\n\t\t\t\t\t\t\t<li id="CD_DATA">\n\t\t\t\t\t\t\t\t<a href="#">\n\t\t\t\t\t\t\t\t\t<!--<span class="oj-navigationlist-item-icon pcs-dp-det-details-ui-icon demo-icon-font-24 fontSize36"></span>-->\n\t\t\t\t\t\t\t\t\t<span data-bind="text:bundle.pcs.dp.detail.details"></span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li id="CD_DOCS">\n\t\t\t\t\t\t\t\t<a href="#" class="">\n\t\t\t\t\t\t\t\t\t<!--<span class="oj-navigationlist-item-icon pcs-dp-det-documents-ui-icon demo-icon-font-24 fontSize36"></span>-->\n\t\t\t\t\t\t\t\t\t<span data-bind="text:bundle.pcs.dp.detail.documents"></span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li id="CD_HISTORY">\n\t\t\t\t\t\t\t\t<a href="#" class="">\n\t\t\t\t\t\t\t\t\t<!--<span class="oj-navigationlist-item-icon pcs-dp-det-data-ui-icon demo-icon-font-24 fontSize36"></span>-->\n\t\t\t\t\t\t\t\t\t<span data-bind="text:bundle.pcs.dp.detail.history"></span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li id="CD_ROLE">\n\t\t\t\t\t\t\t\t<a href="#" class="">\n\t\t\t\t\t\t\t\t\t<!--<span class="oj-navigationlist-item-icon pcs-dp-det-member-ui-icon demo-icon-font-24 fontSize36"></span>-->\n\t\t\t\t\t\t\t\t\t<span data-bind="text:bundle.pcs.dp.detail.roles"></span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<!-- ko if:openedActivities().length > 0 -->\n\t\t\t\t\t\t\t<li id="CD_TASK">\n\t\t\t\t\t\t\t\t<a href="#" class="">\n\t\t\t\t\t\t\t\t\t<!--<span class="oj-navigationlist-item-icon pcs-dp-det-member-ui-icon demo-icon-font-24 fontSize36"></span>-->\n\t\t\t\t\t\t\t\t\t<span data-bind="text:bundle.pcs.dp.detail.tasks"></span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="oj-sm-12 pcs-dp-det-tab-separator"></div>\n\t\t\t\t\t<div class="oj-flex-item oj-sm-12 pcs-dp-det-bar-height">\n\t\t\t\t\t\t<!-- ko if:selectedNavigationItem() === \'CD_DATA\' -->\n\t\t\t\t\t\t<div class="oj-sm-12">\n\t\t\t\t\t\t\t<pcs-dpdata class="oj-flex oj-sm-12" params="instanceitem: instanceItem, instanceid:instanceId, consumed: true" style="margin-top:20px"></pcs-dpdata>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- /ko -->\n\n\t\t\t\t\t\t<!-- ko if:selectedNavigationItem() === \'CD_DOCS\' -->\n\t\t\t\t\t\t<div class="oj-sm-12">\n\t\t\t\t\t\t\t<div id="pcs-attachments1"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- /ko -->\n\n\t\t\t\t\t\t<!-- ko if:selectedNavigationItem() === \'CD_HISTORY\' -->\n\t\t\t\t\t\t<div class="oj-sm-12">\n\t\t\t\t\t\t\t<pcs-dphistory id="pcs-dp-det-history"\n\t\t\t\t\t\t\t\t\t\t   params="activities: executionsList, instanceid:instanceId, consumed: true"></pcs-dphistory>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- /ko -->\n\n\t\t\t\t\t\t<!-- ko if:selectedNavigationItem() === \'CD_ROLE\' -->\n\t\t\t\t\t\t<div class="oj-sm-12">\n\t\t\t\t\t\t\t<!-- ko if: instanceItem() -->\n\t\t\t\t\t\t\t<pcs-dproles style="width: 100%" id="pcs-dp-det-roles"\n\t\t\t\t\t\t\t\t\t   params="instanceid: instanceId, processdefinitionid: instanceItem().getProcessDefinitionId(),  consumerType: \'instance_roles\', readonly : !isRoleWritable()"></pcs-dproles>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- /ko -->\n\n\t\t\t\t\t\t<div class="oj-sm-12">\n\t\t\t\t\t\t\t<div id="pcs-dp-det-act-tab" class="oj-sm-12 marginTop10 pcs-dp-display-none"\n\t\t\t\t\t\t\t\t data-bind="ojComponent:{component: \'ojTabs\', overflow: \'hidden\',\n\t\t\t\t\t\t\t\t \t\t\treorderable:true,removable:true, truncation:\'none\',\n\t\t\t\t\t\t\t\t \t\t\tselect : activityTabSelectionListener,\n\t\t\t\t\t\t\t\t \t\t\tbeforeRemove : activityTabRemoveListener}">\n\t\t\t\t\t\t\t\t<!-- Do not remove populated in VM  -->\n\t\t\t\t\t\t\t\t<ul id="pcs-dp-det-act-tab-items"></ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pcs-dp-det-tabsdiv">\n\n\t\t\t\t\t</div>\n\t\t\t\t\t<!--<button id="pcs-dp-det-actions-btn"-->\n\t\t\t\t\t\t\t<!--data-bind="click:onActionClick, ojComponent: {-->\n\t\t\t\t\t\t\t<!--component: \'ojButton\', label: \'Activities\',-->\n\t\t\t\t\t\t\t<!--icons: {start:\'demo-icon-font demo-gear-icon-16\'},-->\n\t\t\t\t\t\t\t<!--rootAttributes : {class: \'pcs-dp-det-actions-btn\'}-->\n\t\t\t\t\t\t<!--}">-->\n\t\t\t\t\t<!--</button>-->\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="oj-form-layout pcs-dp-display-none" style="margin-top:20px" id="pcs-dp-det-error">\n\t\t\t<span style="margin:20px; color:red" data-bind="text: bundle.pcs.dp.common.errGettingInstanceDetailsMsg" ></span>\n\t\t</div>\n\n\t\t<div id="pcs-dp-det-overlay"></div>\n\n\t</div>\n\n\t<div class="pcs-dp-display-none" style="width:200px;min-height:75px;" id="pcs-dp-det-info-popup"\n\t\t data-bind="ojComponent:{component: \'ojPopup\',\n                    tail: \'simple\', modality:\'modeless\'}">\n\t\t<div class="oj-flex oj-sm-flex-items-initial oj-sm-justify-content-center">\n\t\t\t<!-- ko if: instanceItem() -->\n\t\t\t<div class="oj-flex-item oj-sm-12">\n\t\t\t\t<div>\n\t\t\t\t\t<span class="pcs-dp-info-label" data-bind="text:bundle.pcs.dp.detail.instanceId + \' : \'"></span>\n\t\t\t\t\t<span class="pcs-dp-info-val" data-bind="text: instanceItem().getNumber()"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="oj-flex-item oj-sm-12 marginTop10">\n\t\t\t\t<div>\n\t\t\t\t\t<span class="pcs-dp-info-label" data-bind="text:bundle.pcs.dp.detail.currentState + \' : \'"></span>\n\t\t\t\t\t<span class="pcs-dp-info-val" data-bind="text: instanceItem().getStateDisplayName()"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="oj-flex-item oj-sm-12 marginTop10">\n\t\t\t\t<div>\n\t\t\t\t\t<span class="pcs-dp-info-label"  data-bind="text:bundle.pcs.dp.detail.createdDate + \' : \'"></span>\n\t\t\t\t\t<span class="pcs-dp-info-val" data-bind="text: instanceItem().getInstanceCreatedDateFormatted()"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- ko if: instanceItem().getUpdatedBy() -->\n\t\t\t<div class="oj-flex-item oj-sm-12 marginTop10">\n\t\t\t\t<div>\n\t\t\t\t\t<span class="pcs-dp-info-label" data-bind="text:bundle.pcs.dp.detail.updatedBy + \' : \'"></span>\n\t\t\t\t\t<span class="pcs-dp-info-val" data-bind="text: instanceItem().getUpdatedBy()"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\t\t\t<!-- ko if: instanceItem().getInstanceCompletedDate() -->\n\t\t\t<div class="oj-flex-item oj-sm-12 marginTop10">\n\t\t\t\t<div>\n\t\t\t\t\t<span class="pcs-dp-info-label" data-bind="text:bundle.pcs.dp.detail.completedDate + \' : \'"></span>\n\t\t\t\t\t<span class="pcs-dp-info-val" data-bind="text: instanceItem().getInstanceCompletedDateFormatted()"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\t\t\t<!-- ko if: instanceItem().getDuration() -->\n\t\t\t<div class="oj-flex-item oj-sm-12 marginTop10">\n\t\t\t\t<div>\n\t\t\t\t\t<span class="pcs-dp-info-label" data-bind="text:bundle.pcs.dp.detail.duration + \' : \'"></span>\n\t\t\t\t\t<span class="pcs-dp-info-val"data-bind="text: instanceItem().getDuration()"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\n\t\t\t<div class="oj-flex-item oj-sm-12 marginTop10">\n\t\t\t\t<span id="pcs-dp-det-desc" class="pcs-dp-info-val" data-bind="text: instanceItem().getDescription()" style="margin-top: 10px"></span>\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\t\t</div>\n\t</div>\n\n\t<div id="pcs-dp-det-confirm-dialog" title="Alert" class="pcs-dp-dialog"\n\t\t data-bind="ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\', rootAttributes:{class:\'pcs-dp-dialog-custom\', style:\'width:400px\'}}">\n\t\t<div id="pcs-dp-det-confirm-header" class="oj-dialog-header oj-helper-clearfix pcs-dp-dialog-header">\n\t\t\t<span class="oj-dialog-title" data-bind="text:bundle.pcs.dp.common.confirm"></span>\n\t\t\t<span class="pcs-dp-dialog-close-btn">\n\t\t\t\t<button data-bind="click: closeDialog,\n\t\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.close, display: \'icons\',\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-dialog-close-icon\'}\n\t\t\t\t\t\t\t\t}">\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="pcs-dp-dialog-body oj-dialog-body" id="pcs-dp-det-confirm-body" >\n\t\t\t<div class="pcs-dp-det-err-short-msg" data-bind="text:actionConfirmMessage"></div>\n\t\t</div>\n\t\t<div class="oj-dialog-footer pcs-dp-dialog-footer">\n\t\t\t<button class="oj-button-primary" data-bind="click:confirmInstanceAction,\n\t\t\t ojComponent: {component: \'ojButton\', label: bundle.pcs.dp.common.ok,\n\t\t\t rootAttributes: {style: \'padding-left:13px;padding-right:13px;font-weight:normal\'}}">\n\t\t\t</button>\n\t\t\t<button id="pcs-dp-confirm-cancel" data-bind="click:closeDialog,\n\t\t\t ojComponent: {component: \'ojButton\', label: bundle.pcs.dp.common.cancel,\n\t\t\t rootAttributes: {style: \'padding-left:13px;padding-right:13px;font-weight:normal\'}}"> </button>\n\t\t</div>\n\t</div>\n\n\t<div id="pcs-dp-det-err-dialog" title="Error" class="pcs-dp-dialog"\n\t\t data-bind="ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\', rootAttributes:{style:\'width:400px\'},\n\t\t \t\t\trootAttributes:{class:\'pcs-dp-dialog-custom\'}}">\n\t\t<div id="pcs-dp-det-err-header" class="oj-dialog-header oj-helper-clearfix pcs-dp-dialog-header">\n\t\t\t<span class="oj-dialog-title" data-bind="text:bundle.pcs.dp.common.error"></span>\n\t\t\t<span class="pcs-dp-dialog-close-btn">\n\t\t\t\t<button data-bind="click: closeDialog,\n\t\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.close, display: \'icons\',\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-dialog-close-icon\'}\n\t\t\t\t\t\t\t\t}">\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="pcs-dp-dialog-body oj-dialog-body" id="pcs-dp-det-err-body">\n\t\t\t<div class="pcs-dp-det-err-short-msg" data-bind="text:shortErrorMessage"></div>\n\t\t\t<br>\n\t\t\t<div data-bind="text:longErrorMessage"></div>\n\t\t</div>\n\t\t<div class="oj-dialog-footer  pcs-dp-dialog-footer">\n\t\t\t<button class="oj-button-primary" data-bind="click:closeDialog,\n\t\t\tojComponent: {component: \'ojButton\', label: bundle.pcs.dp.common.ok,\n\t\t\trootAttributes: {style: \'padding-left:13px;padding-right:13px;font-weight:normal\'}}"> </button>\n\t\t</div>\n\t</div>\n\n\n\t<!-- /ko -->\n\n\t<!-- ko ifnot: instanceId() -->\n\t<div style="color:red" data-bind="text:bundle.pcs.dp.common.instanceIdMissingMsg"></div>\n\t<!-- /ko -->\n</div>\n\n';});


define('text!pcs/taskdetail/templates/pcs-taskdetail.html',[],function () { return '<div id="pcs-td-mainContainer" class="oj-row oj-panel" style="min-height: 50px">\n\n    <div class="oj-message-error" id="pcs-td-error" style="display: none;margin:20px" >\n\t\t<div class="oj-sm-text-align-end"  data-bind="template: { name: \'pcs-td-secondary-btn-templ\' }"></div>\n\t\t<div class="oj-flex oj-sm-12">\n\t\t\t<span class="oj-component-icon oj-message-status-icon oj-message-error-icon" role="img"></span>\n\t\t\t<span class="oj-message-content">\n\t\t\t\t<div class="oj-message-summary" data-bind="text:bundle.pcs.taskdetail.detail_error" ></div>\n\t\t\t</span>\n\t\t</div>\n\t\t<div id="pcs-td-error-msg" class="oj-flex oj-sm-12"  style="margin-top:10px; white-space: normal !important;"></div>\n    </div>\n\n\t<!-- ko if:formType() === \'none\' || formType() === \'webform\' -->\n    <div id="pcs-td-detailContainer">\n\n        <h1 class="oj-flex" style="float: left">\n            <div data-bind="text :taskObject.title" class="pcs-td-title" id="pcs-td-title"></div>\n        </h1>\n\t\t<div>\n\t\t\t<span class="pcs-td-priority" data-bind="visible: taskObject.priority()[0] === \'HIGH\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tattr : { title : bundle.pcs.taskdetail.priority_high_lbl }"></span>\n\t\t</div>\n\n\n        <div class="oj-sm-text-align-end">\n            <span id="pcs-td-custom-actions">\n            <!-- ko foreach: taskObject.customActions -->\n                <button class="pcs-td-custom-actions"\n                        data-bind="ojComponent: {\n                            component:\'ojButton\', label: $data.title ? $data.title : $data.actionId,\n                            chroming: \'full\',\n                        }, click : $parent.submitTaskDetail">\n                </button>\n            <!-- /ko -->\n            </span>\n            <button id="pcs-td-save"\n                    data-bind="ojComponent: {\n                        component:\'ojButton\', label: bundle.pcs.taskdetail.save, disabled : readOnly,\n                        chroming: \'full\',\n                    } , click :saveTaskDetail">\n            </button>\n\t\t\t<span data-bind="template: { name: \'pcs-td-secondary-btn-templ\' }"></span>\n        </div>\n\n        <div data-bind="text:taskObject.shortSummary" style="margin-bottom: 20px;clear:both" class="pcs-td-summary" id="pcs-td-summary"></div>\n        <hr />\n        <div id="pcs-td-links"class="oj-sm-12 pcs-common-center-align" style="margin-top:20px">\n            <div  class="pcs-common-center-align">\n                <span id="pcs-td-link-comments">\n                    <a href="#" data-bind="click:openComments, text:bundle.pcs.taskdetail.comments , attr : { title : bundle.pcs.taskdetail.comments}" ></a>\n                    <span class="pcs-common-bar"></span>\n                </span>\n                <span id="pcs-td-link-attachments">\n                    <a href="#" data-bind="click:openAttachments, text: attachmentsLabel, attr : { title : attachmentsLabel}" ></a>\n                    <span class="pcs-common-bar"></span>\n                </span>\n                <span id="pcs-td-link-history">\n                    <a href="#" data-bind="click:openHistory, text:bundle.pcs.taskdetail.history, attr : { title : bundle.pcs.taskdetail.history}"></a>\n                    <span class="pcs-common-bar"></span>\n                </span>\n                <span id="pcs-td-link-moreInfo">\n                    <a href="#" data-bind="click:openMoreInfo, text:bundle.pcs.taskdetail.more_info, attr : { title : bundle.pcs.taskdetail.more_info}"></a>\n                    <span class="pcs-common-bar"></span>\n                </span>\n                <span id="pcs-td-link-conversation" style="display:none">\n                    <a href="#" data-bind="click:openConversation, text:bundle.pcs.taskdetail.conversation, attr : { title : bundle.pcs.taskdetail.conversation}"></a>\n                </span>\n            </div>\n        </div>\n\n        <div id="pcs-td-action-success-msg-container" style="display: none;margin-bottom:20px">\n            <span title="Success" role="img" class="oj-fwk-icon-status-confirmation oj-fwk-icon"></span>\n            <span id="pcs-td-action-success-msg" class="pcs-td-action-success-msg"></span>\n        </div>\n\n        <div id="pcs-td-action-error-msg-container" class="pcs-td-action-error-msg-container"  style="display: none">\n            <span class="oj-component-icon oj-message-status-icon oj-message-error-icon" role="img" id="pcs-td-error-msg-icon" style="float: left ;margin-right:10px" ></span>\n            <pre id="pcs-td-action-error-msg" class="pcs-td-action-error-msg"></pre>\n        </div>\n\n        <div id="pcs-td-form" data-bind="ojComponent: {component: \'ojCollapsible\', expanded:true}">\n            <h3>\n                <span id="pcs-td-form-title"  data-bind="text:bundle.pcs.taskdetail.form"></span>\n            </h3>\n            <div id="pcs-td-form-frame" class="oj-row">\n                <div class="oj-sm-12 pcs-common-center-align" id="pcs-td-form-loading" style="display:none">\n                    <div class="pcs-common-center-align pcs-common-loading"/>\n                </div>\n\n\n\t\t\t\t<div id="pcs-td-form-error-container" style="display: none">\n\t\t\t\t\t<span class="oj-component-icon oj-message-status-icon oj-message-error-icon" role="img" style="float: left ;margin-right:10px" ></span>\n\t\t\t\t\t<pre id="pcs-td-form-error-msg" class="pcs-td-form-error-msg"></pre>\n\t\t\t\t</div>\n\n                <div class="oj-xl-12 oj-lg-12 oj-md-12 oj-col" id="pcs-td-form-container">\n                    <iframe id="pcs-td-form-iframe" data-bind="attr: {src: formURL}" frameborder="0" id="pcs-td-iframe" seamless="seamless" scrolling="auto"\n                            style="overflow-x:hidden;width:100%"  width="100%" >\n                        <p data-bind="text:bundle.pcs.taskdetail.frame_error"></p>\n                    </iframe>\n                </div>\n\n\t\t\t\t<div class="oj-xl-12 oj-lg-12 oj-md-12 oj-col" id="pcs-td-form-empty-text" style="display: none">\n\t\t\t\t\t<span class="oj-flex pcs-td-form-empty-text" data-bind="text : bundle.pcs.taskdetail.empty_form"></span>\n\t\t\t\t</div>\n            </div>\n        </div>\n\n        <div id="pcs-td-comments" data-bind="ojComponent: {component: \'ojCollapsible\', expanded:false}">\n            <h3>\n                <span id="pcs-td-comments-title" data-bind="text:bundle.pcs.taskdetail.comments"></span>\n            </h3>\n            <div>\n                <div class="pcs-td-comments-container" id="pcs-td-comments-container"></div>\n            </div>\n        </div>\n\n        <div id="pcs-td-attachments" data-bind="ojComponent: {component: \'ojCollapsible\', expanded:false}">\n            <h3>\n                <span id="pcs-td-attachment-title" data-bind="text: attachmentsLabel" ></span>\n            </h3>\n            <div>\n                <div class="pcs-td-attachment-container" id="pcs-td-attachment-container"></div>\n            </div>\n        </div>\n\n        <div id="pcs-td-history" data-bind="ojComponent: {component: \'ojCollapsible\', expanded:false}">\n            <h3>\n                <span id="pcs-td-history-title" data-bind="text:bundle.pcs.taskdetail.history" ></span>\n            </h3>\n            <div>\n                <div id="pcs-td-history-container" class="pcs-td-history-container"\n                     data-bind=\'component: {name: "taskHistory", params : {taskNumber : taskNumber , rootElement :rootElement} }\'></div>\n            </div>\n        </div>\n\n        <div id="pcs-td-moreInfo" data-bind="ojComponent: {component: \'ojCollapsible\', expanded:false}">\n            <h3>\n                <span id="pcs-td-moreInfo-title" data-bind="text:bundle.pcs.taskdetail.more_info"></span>\n            </h3>\n            <div>\n                <div id="pcs-td-moreInfo-container" class="pcs-td-moreInfo-container" data-bind="template: { name: \'pcs-td-moreInfo-template\', data: $data }"></div>\n            </div>\n        </div>\n\n\n        <div id="pcs-td-conversation" data-bind="ojComponent: {component: \'ojCollapsible\'}" style="display:none">\n            <h3>\n                <span id="pcs-td-conversation-title" data-bind="text:bundle.pcs.taskdetail.conversation"></span>\n            </h3>\n            <div>\n                <div id="pcs-td-conversation-container" ></div>\n            </div>\n        </div>\n\n\n    </div>\n\t<!-- /ko -->\n\n\t<!-- ko if:formType() === \'external\' -->\n\t<div id="pcs-td-external-detailContainer">\n\t\t<div class="oj-sm-12 pcs-common-center-align" id="pcs-td-external-form-loading" style="display:none">\n\t\t\t<div class="pcs-common-center-align pcs-common-loading"/>\n\t\t</div>\n\t\t<div  class="oj-sm-text-align-end" data-bind="template: { name: \'pcs-td-secondary-btn-templ\' }"></div>\n\t\t<iframe id="pcs-td-external-form-iframe" data-bind="attr: {src: formURL}" frameborder="0" id="pcs-td-external-iframe" seamless="seamless" scrolling="auto"\n\t\t\t\tstyle="overflow-x:hidden;width:100%;min-height:600px;"  width="100%" >\n\t\t\t<p data-bind="text:bundle.pcs.taskdetail.frame_error"></p>\n\t\t</iframe>\n\t</div>\n\t<!-- /ko -->\n\n\t<div id="pcs-td-overlay"/>\n</div>\n\n<div id="pcs-td-mainContainer-submitted" style="display:none" class="oj-row oj-panel">\n\t<div style="margin:20px">\n\t\t<span data-bind="attr :{title : bundle.pcs.taskdetail.success}" role="img" class="oj-fwk-icon-status-confirmation oj-fwk-icon"></span>\n\t\t<span id="pcs-td-success-msg-submitted" class="pcs-td-success-msg"></span>\n\t</div>\n</div>\n\n<div style="display:none" id="pcs-td-close-dialog" class="pcs-td-close-dialog"\n\t data-bind="attr : { title : bundle.pcs.taskdetail.dialog_confirm },\n              ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\'}">\n\t<div class="oj-dialog-body">\n\t\t<div data-bind="text : bundle.pcs.taskdetail.dialog_close_msg"/>\n\t</div>\n\t<div class="oj-dialog-footer">\n\t\t<button\n\t\t\t\tdata-bind="click : yesDiscardDialog ,\n                        ojComponent: {component: \'ojButton\', label: bundle.pcs.taskdetail.dialog_yes}"></button>\n\t\t<button\n\t\t\t\tdata-bind="click : noDiscardDialog ,\n                        ojComponent: {component: \'ojButton\', label: bundle.pcs.taskdetail.dialog_no}"></button>\n\t</div>\n</div>\n\n<script type="text/html" id="pcs-td-secondary-btn-templ">\n\t<button id="pcs-td-close" class="oj-button-sm pcs-td-close-selector"\n\t\t\taria-label="Close" role="button"\n\t\t\tdata-bind="click: closeTaskDetail, ojComponent: {component:\'ojButton\',\n                                         label: bundle.pcs.taskdetail.close,\n                                         display: \'icons\',  chroming: \'half\',\n                                         icons: {start: \'pcs-td-close oj-fwk-icon\'}}">\n\t</button>\n\t<span id="pcs-td-expand" class="pcs-td-expand-selector" data-bind="visible:showResize, ojComponent: {component: \'ojButtonset\', checked: viewExpanded}">\n\t\t\t\t<label for="pcs-td-resize"></label>\n\t\t\t\t<input type="checkbox" id="pcs-td-resize" value="true"\n\t\t\t\t\t   data-bind="attr:{title: bundle.pcs.taskdetail.resize},\n\t\t\t\t\t\tojComponent: { component: \'ojButton\',\n\t\t\t\t\t\tlabel: bundle.pcs.taskdetail.resize,\n\t\t\t\t\t\tdisplay: \'icons\', chroming: \'half\',\n\t\t\t\t\t\ticons: {start: \'pcs-td-resize oj-fwk-icon\'},\n\t\t\t\t\t\trootAttributes: {class:\'oj-button-sm\'}}"/>\n\t\t\t</span>\n</script>\n';});

/**
 * Created by nisabhar on 5/6/2016.
 */

define('pcs/taskdetail/services/taskdetailDataService',['jquery', 'pcs/util/pcsUtil'],
    function($, pcsUtil) {
        'use strict';

        function TaskdetailDataService() {

            var self = this;
			var loggerUtil =  require('pcs/util/loggerUtil');

            self.paths = {
                // For getting the formURL and attachments for a form
                'task': 'tasks/{taskNumber}',
                history: 'tasks/{taskNumber}/history',
                liveForm: 'tasks/{taskNumber}/form/live?getURI=true',
                taskPayload: 'tasks/{taskNumber}/payload',
                //Execute PCS form
                'executePCSFormRest': 'webforms/{formDefId}/executeRest/{restExecutionId}'
            };

			//callback to set authorization request header for every call
			var beforeRequestCallback = function(xhr) {
				pcsUtil.beforeRequestCallback(xhr,pcsUtil);
			};

            // wrapper function for HTTP GET
            var doGet = function(url, contentType, dataType) {

                return $.ajax({
                    type: 'GET',
                    url: url,
                    beforeSend: beforeRequestCallback,
                    xhrFields: {
                        withCredentials: true
                    },
                    contentType: contentType,
                    dataType: dataType,
                    cache: false

                });
            };

            // wrapper function for HTTP POST
            var doPost = function(url, payload, contentType, dataType) {

                return $.ajax({
                    type: 'POST',
                    url: url,
                    cache: false,
                    processData: false,
                    data: payload,
                    dataType: dataType,
                    beforeSend: beforeRequestCallback,
                    xhrFields: {
                        withCredentials: true
                    },
                    contentType: contentType
                });
            };

            // wrapper function for HTTP POST
            var doPut = function(url, payload) {

                //var bytes = new Uint8Array(payload.length);
                //for (var i=0; i<payload.length; i++)
                //    bytes[i] = payload.charCodeAt(i);

                return $.ajax({
                    type: 'PUT',
                    url: url,
                    cache: false,
                    processData: false,
                    data: payload,
                    beforeSend: beforeRequestCallback,
                    xhrFields: {
                        withCredentials: true
                    },
                    contentType: 'application/json'
                });
            };

            var doRestGet = function(url, params, contentType) {

                return $.ajax({
                    url: url,
                    type: 'GET',
                    dataType: 'json',
                    data: params,
                    beforeSend: beforeRequestCallback,
                    xhrFields: {
                        withCredentials: true
                    },
                    contentType: contentType,
                    cache: false
                });
            };

            //To get the task object to get the content of the task
            self.getTaskObject = function(taskNumber) {
                var serverPath = pcsUtil.getRestURL() + self.paths.task.replace('{taskNumber}', taskNumber);
                return doGet(serverPath, 'application/json', 'json');
            };

            // to submit or save a process instance
            self.performTaskAction = function(taskNumber, payload) {
                var serverPath = pcsUtil.getRestURL() + self.paths.task.replace('{taskNumber}', taskNumber);
                loggerUtil.log(payload);
                return doPut(serverPath, payload);
            };

            self.getTaskHistory = function(taskNumber) {
                var serverPath = pcsUtil.getRestURL() + self.paths.history.replace('{taskNumber}', taskNumber);
                return doGet(serverPath, 'application/json', 'json');
            };

            self.getFrevvoFormUrl = function(taskNumber) {
                var serverPath = pcsUtil.getRestURL() + self.paths.liveForm.replace('{taskNumber}', taskNumber);
                return doGet(serverPath, 'text/plain', 'text');
            };

            self.saveFrevvoForm = function(taskNumber, formURl) {
                var serverPath = pcsUtil.getRestURL() + self.paths.liveForm.replace('{taskNumber}', taskNumber);
                return doPut(serverPath, formURl);
            };

            self.getTaskFolderName = function(href) {
                //  var serverPath = pcsUtil.getRestURL() + self.paths.liveForm.replace('{taskNumber}', taskNumber);
                //loggerUtil.log(href);
                return doGet(href, 'text/plain', 'text');
            };

            self.getFormMetaDataByURL = function(formMetadataUrl) {
                return doGet(formMetadataUrl, 'application/json', 'json');
            };

            self.getTaskPayloadByURL = function(taskPayloadUrl) {
                return doGet(taskPayloadUrl, 'application/json', 'json');
            };

            self.postTaskPayload = function(taskNumber, payload) {
                var serverPath = pcsUtil.getRestURL() + self.paths.taskPayload.replace('{taskNumber}', taskNumber);
                return doPost(serverPath, payload, 'application/json', 'text');
            };

            var replacePlaceHolders = function(str, paramsObj) {
                return str.replace(/{\w+}/g,
                    function(placeHolder) {
                        return paramsObj[placeHolder];
                    }
                );
            };

            self.executePCSFormRest = function(params, payload) {
                var serverPath = pcsUtil.getRestURL() + self.paths.executePCSFormRest;
                serverPath = replacePlaceHolders(serverPath, params);
                return doPost(serverPath, payload, 'application/json', 'json');
            };

            self.executeRest = function(restAPI, payload) {
                var serverPath = pcsUtil.getRestURL() + restAPI;
                return doRestGet(serverPath, payload, 'application/json');
            };
        }

        return new TaskdetailDataService();

    }
);


define('text!pcs/taskdetail/templates/pcs-task-history.html',[],function () { return '<div id="pcs-td-history-cont">\n    <div class="oj-message oj-message-error" id="pcs-td-history-error" style="display: none;margin:10px" >\n        <span class="oj-component-icon oj-message-status-icon oj-message-error-icon"\n              role="img">\n        </span>\n        <span class="oj-message-content">\n            <div class="oj-message-summary" data-bind="text:$parent.bundle.pcs.taskdetail.history_error">\n            </div>\n        </span>\n    </div>\n\n    <!-- ko if: typeof taskHistory != \'undefined\' -->\n        <!-- ko foreach: taskHistory -->\n        <table cellpadding="3" class="pcs-td-history-tbl" width="100%">\n            <tbody>\n            <tr>\n                <td rowspan="2" width="75px">\n                    <div class="pcs-common-center-align pcs-td-history-user"/>\n                </td>\n                <td>\n                    <div class="pcs-td-history-firstLine" data-bind="text:displayName"></div>\n                </td>\n            </tr>\n            <tr>\n                <td>\n                    <div class="pcs-td-history-secondLine" data-bind="text:secondLine"></div>\n                </td>\n            </tr>\n            </tbody>\n        </table>\n        <!-- /ko -->\n    <!-- /ko -->\n</div>\n';});

/**
 * Created by nisabhar on 5/9/2016.
 */

define('pcs/taskdetail/viewModel/taskHistoryContainer',['ojs/ojcore', 'knockout', 'pcs/taskdetail/services/taskdetailDataService','pcs/util/pcsUtil', 'pcs/util/dateUtil', 'ojs/ojknockout'],
    function(oj, ko, services, pcsUtil,dateUtil) {
        'use strict';
        /**
         * The view model for the main content view template
         */
        function TaskHistoryContainer(params) {
            var self = this;
            self.taskNumber = params.taskNumber;
            self.rootElement = params.rootElement;

            //list of available history
            self.taskHistory = ko.observableArray([]);

            self.initTaskHistory = function() {
                services.getTaskHistory(self.taskNumber).done(
                    function(data, textStatus, jqXHR) {
                        $('#pcs-td-history-error', self.rootElement).hide();
                        self.populateTaskHistory(data);
                    }
                ).fail(
                    function(jqXHR) {
                        $('#pcs-td-history-error', self.rootElement).show();
                    }
                );
            };

            self.populateTaskHistory = function(data) {
                //clear old history
                self.taskHistory.removeAll();

                var historyList = data.taskHistory;
                if (historyList) {
                    for (var i = 0; i < historyList.length; i++) {
                    	var updatedDate =  dateUtil.getDateInUserTimezone(historyList[i].updatedDate);
						var updatedDateFormatted = dateUtil.getFormattedDate(updatedDate);
                        var item = {
                            displayName: historyList[i].displayName,
                            actionName: historyList[i].actionName,
                            updatedDate: updatedDate,
                            secondLine: historyList[i].actionName + ', ' + updatedDateFormatted
                        };
                        self.taskHistory.push(item);
                    }
                    self.taskHistory.reverse();
                }
            };

            // Defining the event listeners --
            self.rootElement.on('taskdetail:commentAdded', function(event, comment) {
                self.initTaskHistory();
            });

			self.rootElement.on('taskdetail:attachmentUploaded', function(event, comment) {
				self.initTaskHistory();
			});

			self.rootElement.on('taskdetail:attachmentRemoved', function(event, comment) {
				self.initTaskHistory();
			});

            self.initTaskHistory();
        }
        return TaskHistoryContainer;
    });


define('text!pcs/attachments/templates/pcs-attachments.html',[],function () { return '<div data-bind=\'component: {\n    name: "attachmentComponent",\n\tparams : {data : data}\n}\'></div>\n';});


define('text!pcs/attachments/templates/pcs-attachments-error.html',[],function () { return '<div class="oj-message oj-message-error">\n    <span class="oj-component-icon oj-message-status-icon oj-message-error-icon"\n          role="img">\n    </span>\n    <span class="oj-message-content">\n        <div class="oj-message-summary">\n            Required parameters are missing\n        </div>\n        <div class="oj-message-detail">\n            <span>This component requires these values -</span>\n            <pre>\n    *id : \'\'\n    </pre>\n        </div>\n    </span>\n</div>\n';});


define('text!pcs/attachments/view/attachmentsContainer.html',[],function () { return '<div class="oj-margin pcs-attachments-detailBox">\n\n\t<div data-bind="if:showAttachments() && showDcsFolders()">\n\t\t<div class="oj-flex oj-sm-flex-items-initial">\n\t\t\t<div class="oj-flex-item pcs-attachments-caret-icon"  role="img" data-bind="attr:{title:bundle.pcs.attachments.foldersText}"></div>\n\t\t\t<div class="oj-flex-item pcs-attachments-folders-text"><a href="#" data-bind="click : closeFolder,text:bundle.pcs.attachments.foldersText"></a></div>\n\t\t</div>\n\t</div>\n\n\t<div data-bind="if:showAttachments()">\n\t\t<div class="oj-flex oj-flex-bar">\n\t\t\t<div data-bind="ifnot:showDcsFolders" class="pcs-attachments-title oj-flex-bar-start">\n\t\t\t\t<label class="pcs-attachments-title" data-bind="text:bundle.pcs.attachments.title"></label>\n\t\t\t</div>\n\t\t\t<div data-bind="if:showDcsFolders" class="pcs-attachments-title oj-flex-bar-start">\n\t\t\t\t<label class="pcs-attachments-title" data-bind="text:dscSelectedFolderName"></label>\n\t\t\t</div>\n\t\t\t<div class="pcs-attachments-uploadLink oj-flex-bar-end" style="padding-right:10px;" data-bind="ifnot:$data.displayDcs()">\n\t\t\t\t<a href="#" data-bind="click : openUploadDialog, text:bundle.pcs.attachments.uploadLink"></a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div id="pcs-attachments-success-msg-container" style="display: none;margin-bottom:20px">\n\t\t<span title="Success" role="img" class="oj-fwk-icon-status-confirmation oj-fwk-icon"></span>\n\t\t<span id="pcs-attachments-success-msg" class="pcs-attachments-success-msg"></span>\n\t</div>\n\n\t<div id="pcs-attachments-error-msg-container" class="pcs-attachments-error-msg-container"  style="display: none">\n\t\t<span class="oj-component-icon oj-message-status-icon oj-message-error-icon" role="img" id="pcs-attachments-error-msg-icon" style="float: left ;margin-right:10px" ></span>\n\t\t<pre id="pcs-attachments-error-msg" class="pcs-attachments-error-msg"></pre>\n\t</div>\n</div>\n\n<div class="pcs-attachments-actionBox oj-panel oj-margin">\n\n\n\t<div data-bind="ifnot:showAttachments()">\n\t\t<div class="oj-flex oj-sm-flex-items-initial" data-bind="visible:isDcsFolderVisible">\n\n\t\t\t<ul class="pcs-attachments-attachmentsList" data-bind="foreach:dcsFolderList ">\n\t\t\t\t<li>\n\t\t\t\t\t<div class="oj-flex oj-flex-bar">\n\t\t\t\t\t\t<div class="oj-flex-bar-start">\n\t\t\t\t\t\t\t<!-- ko if:isFolder -->\n\t\t\t\t\t\t\t<div class="oj-flex-item pcs-attachments-folder-icon"  role="img" data-bind="attr:{title:$parent.bundle.pcs.attachments.folderText}"></div>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t\t<!-- ko ifnot:isFolder -->\n\t\t\t\t\t\t\t<div class="oj-flex-item pcs-attachments-file-icon"  role="img" data-bind="attr:{title:$parent.bundle.pcs.attachments.fileText}"></div>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t\t<div class="oj-flex-item"><a href="#" data-bind="click : $parent.openFolder,text:folderName"></a></div>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<div id="pcs-attachments-docs-error"></div>\n\t\t</div>\n\t\t<div class="pcs-attachment-inline-div" data-bind="visible:!isDcsFolderVisible()">\n\t\t\t<div data-bind="visible:dcsFolderList().length > 1" style="display: none;">\n\t\t\t\t<span class="pcs-attachments-folders-back" data-bind="click:showFolders"></span>\n\t\t\t\t<a class="pcs-attachments-folders-text" data-bind="click:showFolders , text : bundle.pcs.attachments.foldersText"></a>\n\t\t\t</div>\n\t\t\t<div class="pcs-attachment-iframe-inline">\n\t\t\t\t<iframe id="pcs-attachment-iframe-inline" style="width: 100%;min-height: 550px" target="_top" data-bind="attr: {src: $data.dscSelectedAppLink}" frameborder="0" seamless="seamless" scrolling="auto">\n\t\t\t\t\t<p>Your browser does not support iframes.</p>\n\t\t\t\t</iframe>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n\n\t<div data-bind="if:showAttachments()">\n\n\t\t<!-- ko ifnot: $data.displayDcs() -->\n\t\t<div data-bind="if:attachmentList().length == 0">\n\t\t\t<span data-bind="text:bundle.pcs.attachments.noItemsText"></span>\n\t\t</div>\n\n\t\t<ul class="pcs-attachments-attachmentsList" data-bind="foreach:attachmentList ">\n\t\t\t<li>\n\t\t\t\t<div class="oj-flex oj-flex-bar">\n\t\t\t\t\t<div class="oj-flex-bar-start">\n\t\t\t\t\t\t<div data-bind="attr:{class:$parent.iconClass(filename, contentType)}">\n\t\t\t\t\t\t\t<span>&nbsp;&nbsp;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="pcs-attachments-text">\n\t\t\t\t\t\t\t<a data-bind="attr :{href:href , download : filename }, click:$parent.viewAttachment" target="_blank">\n\t\t\t\t\t\t\t\t<p class="">\n\t\t\t\t\t\t\t\t\t<span data-bind="text: filename"></span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<span class="date pcs-attachments-sub-text">\n\t\t\t\t\t\t\t\t<span data-bind="text: fileInfoText"></span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pcs-attachments-removeFile oj-flex-bar-end">\n\t\t\t\t\t\t<a href="#" data-bind="click:$parent.removeFileFromList">\n\t\t\t\t\t\t\t<span class="oj-icon pcs-attachments-remove-icon" role="img" data-bind="attr:{title:$parent.bundle.pcs.attachments.removeFile}"></span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div style="display:none"  class="pcs-attachments-delete-dialog"\n\t\t\t\t\t\t data-bind="attr : { title : $parent.bundle.pcs.attachments.dialog_confirm}, ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\'}">\n\t\t\t\t\t\t<div class="oj-dialog-body">\n\t\t\t\t\t\t\t<div data-bind="text : $parent.bundle.pcs.attachments.dialog_discard_msg"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="oj-dialog-footer">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tdata-bind="click : $parent.yesDeleteDialog ,\n                    ojComponent: {component: \'ojButton\', label: $parent.bundle.pcs.attachments.dialog_yes}"></button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tdata-bind="click : $parent.noDeleteDialog ,\n                    ojComponent: {component: \'ojButton\', label: $parent.bundle.pcs.attachments.dialog_no}"></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<hr/>\n\t\t\t</li>\n\t\t</ul>\n\t\t<!-- /ko -->\n\t</div>\n\t<div id="pcs-attachments-overlay"/>\n\n</div>\n\n<div style="display:none" class="pcs-attachments-modalDialog"\n\t data-bind="attr: {title: bundle.pcs.attachments.uploadDialogTitle},\n\t ojComponent:{\n\t\tcomponent: \'ojDialog\',\n\t\tinitialVisibility: \'hide\',\n\t\tclose: handleDialogClose,\n\t\trootAttributes: { style: \'width: 500px; min-width: 200px; max-width 500px;\'}\n\t }">\n\t<div class="oj-dialog-body oj-form">\n\t\t<div class="oj-flex">\n\t\t\t<div class="oj-flex-item">\n\t\t\t\t<div data-bind="ifnot:showDcsFolders">\n\t\t\t\t\t<div class="pcs-attachments-note-txt" data-bind="text:bundle.pcs.attachments.uploadSizeLimitText"></div>\n\t\t\t\t</div>\n\t\t\t\t<div data-bind="if:showDcsFolders">\n\t\t\t\t\t<div class="pcs-attachments-note-txt" data-bind="text:bundle.pcs.attachments.docsUploadSizeLimitText"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="pcs-attachments-error-txt" data-bind="visible:isSizeLimitExceeding, text:bundle.pcs.attachments.fileSizeExceeded"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="oj-flex pcs-attachments-dialog-error-msg">\n\t\t\t<span class="oj-fwk-icon oj-fwk-icon-status-error oj-flex-item"></span>\n\t\t\t<span class="oj-flex-item" data-bind="text: bundle.pcs.attachments.fileExists"></span>\n\t\t</div>\n\t\t<div class="oj-flex oj-sm-odd-cols-12 oj-md-odd-cols-4 oj-md-labels-inline\n\t\t\t oj-form-cols-labels-inline oj-form-cols-max2">\n\t\t\t<div class="oj-flex-item">\n\t\t\t\t<label for="pcs-attachments-fileControl" data-bind="text:bundle.pcs.attachments.browseToUploadLabel"></label>\n\t\t\t</div>\n\t\t\t<div class="oj-flex-item">\n\t\t\t\t<input id="pcs-attachments-fileControl" type="file" class="pcs-attach-file-name"  title="Upload file" style="float:left;" />\n\t\t\t\t<div class="pcs-empty-file-name-text" style="display: none;color:red;clear: both;" class="text-error" data-bind="text:bundle.pcs.attachments.emptyAddFileText"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="oj-dialog-footer">\n\t\t<button class="pcs-attachments-upload-btn"\n\t\t\t\tdata-bind="click: uploadAttachment, ojComponent: {component: \'ojButton\', label: bundle.pcs.attachments.upload, disabled : \'true\'} , attr : { title : bundle.pcs.attachments.upload}"> </button>\n\t</div>\n</div>\n\n<div style="display:none" class="pcs-attachments-dcsModalDialog"\n\t   data-bind="attr: {title: bundle.pcs.attachments.documents_dialog_title}, ojComponent:{component: \'ojDialog\', initialVisibility: \'hide\', close :dcsDialogClose, rootAttributes: { style: \'width: 800px; min-width: 300px; max-width 800px;\'}}">\n\t<div class="oj-dialog-body" style="height:600px">\n\t\t<iframe id="pcs-attachment-iframe" target="_top" data-bind="attr: {src: $data.dscSelectedAppLink}" frameborder="0" seamless="seamless" scrolling="auto"\n\t\t\t\tstyle="overflow-x:hidden; width:100%;" height=550px" >\n\t\t\t<p>Your browser does not support iframes.</p>\n\t\t</iframe>\n\n\t</div>\n\n</div>\n';});

/**
 * Created by lwagner on 4/9/2016.
 */


define('pcs/attachments/services/attachmentsDataService',['jquery', 'pcs/util/pcsUtil'],
    function($, pcsUtil) {
        'use strict';

        function AttachmentsDataService() {
            var self = this;

            self.paths = {
                'taskAttachmentList': 'tasks/{taskId}/attachments',
                'ProcessesAttachmentList': 'processes/{processId}/attachments',
                'taskDcsFolderList': 'tasks/{taskId}/folders',
                'taskDcsFolderInfo': 'tasks/{taskId}/folders/{folderId}',
				'processDcsFolderList': 'processes/{id}/folders',
				'processDcsFolderInfo': 'processes/{id}/folders/{folderId}',
                'dpDcsFolderList': 'dp-instances/{id}/folders',
                'dpDcsFolderInfo': 'dp-instances/{id}/folders/{folderId}'
            };

            // get to array buffer for binary data. Must be used for attachments
            var doGetToArrayBuffer = function(url, attachment, callback) {
                var oReq = new XMLHttpRequest();
                //oReq.onload = callback;
                oReq.onreadystatechange = function() {
                    if (oReq.readyState === 4 && oReq.status === 200) {
                        callback(attachment, oReq.response);
                    }
                };

                oReq.open('GET', url, true);
                oReq.withCredentials = true;
                oReq.responseType = 'arraybuffer';
                oReq.setRequestHeader('Authorization', pcsUtil.getAuthInfo());
                if (pcsUtil.isTestMode()) {
                    oReq.setRequestHeader('pcs_mode', 'dev');
                }

                oReq.send();

                return oReq;
            };

			//callback to set authorization request header for every call
			var beforeRequestCallback = function(xhr) {
				pcsUtil.beforeRequestCallback(xhr,pcsUtil);
			};

            // wrapper function for HTTP GET
            var doGet = function(url) {

                return $.ajax({
                    type: 'GET',
                    cache: false,

                    url: url,
                    beforeSend: beforeRequestCallback,
                    xhrFields: {
                        withCredentials: true
                    },
                    contentType: 'application/json',
                    dataType: 'json'
                });
            };

            // wrapper function for HTTP POST
            var doPost = function(url, payload, contentType) {

                var bytes = new Uint8Array(payload.length);
                for (var i = 0; i < payload.length; i++) {
                    bytes[i] = payload.charCodeAt(i);
                }

                return $.ajax({
                    type: 'POST',
                    url: url,
                    cache: false,
                    processData: false,
                    data: bytes,
                    contentType: contentType,
                    beforeSend: beforeRequestCallback,
                    xhrFields: {
                        withCredentials: true
                    }
                });
            };

            // wrapper function for HTTP GET
            var doDelete = function(url, dataType) {

                return $.ajax({
                    type: 'DELETE',
                    url: encodeURI(url),
                    beforeSend: beforeRequestCallback,
                    xhrFields: {
                        withCredentials: true
                    },
                    contentType: 'application/json',
                    dataType: dataType

                });
            };

            self.getAttachmentList = function(mode, id) {
                var serverPath;
                if (mode === 'task') {
                    serverPath = pcsUtil.getRestURL() + self.paths.taskAttachmentList.replace('{taskId}', id);
                } else if (mode === 'process') {
                    serverPath = pcsUtil.getRestURL() + self.paths.ProcessesAttachmentList.replace('{processId}', id);
                }
                return doGet(serverPath);
            };

            self.uploadAttachment = function(mode, id, payload, contentType) {
                var serverPath;
                if (mode === 'task') {
                    serverPath = pcsUtil.getRestURL() + self.paths.taskAttachmentList.replace('{taskId}', id);
                } else if (mode === 'process') {
                    serverPath = pcsUtil.getRestURL() + self.paths.ProcessesAttachmentList.replace('{processId}', id);
                }
                return doPost(serverPath, payload, contentType);
            };

            self.deleteAttachment = function(mode, id, attachmentName) {
                var serverPath;
                if (mode === 'task') {
                    serverPath = pcsUtil.getRestURL() + self.paths.taskAttachmentList.replace('{taskId}', id) + '/' + attachmentName;
                } else if (mode === 'process') {
                    serverPath = pcsUtil.getRestURL() + self.paths.ProcessesAttachmentList.replace('{processId}', id) + '/' + attachmentName;
                }
                return doDelete(serverPath,'text');
            };

            self.getAttachmentStream = function(uri, attachment, callback) {
                return doGetToArrayBuffer(uri, attachment, callback);
            };

            self.getDcsFolders = function(mode, id) {
                var serverPath;
                if (mode === 'task') {
                    serverPath = pcsUtil.getRestURL() + self.paths.taskDcsFolderList.replace('{taskId}', id);
                } else if (mode === 'dp') {
                    serverPath = pcsUtil.getDpRestURL() + self.paths.dpDcsFolderList.replace('{id}', id);
                } else if (mode === 'process') {
					serverPath = pcsUtil.getDpRestURL() + self.paths.processDcsFolderList.replace('{id}', id);
				}
                return doGet(serverPath);
            };

            self.getDcsFolderInfo = function(mode, id, folderId) {
                var serverPath;
                if (mode === 'task') {
                    serverPath = pcsUtil.getRestURL() + self.paths.taskDcsFolderInfo.replace('{taskId}', id).replace('{folderId}', folderId);
                } else if (mode === 'dp') {
                    serverPath = pcsUtil.getDpRestURL() + self.paths.dpDcsFolderInfo.replace('{id}', id).replace('{folderId}', folderId);
                }
				else if (mode === 'process') {
					serverPath = pcsUtil.getDpRestURL() + self.paths.processDcsFolderInfo.replace('{id}', id).replace('{folderId}', folderId);
				}
                return doGet(serverPath);
            };
        }

        return new AttachmentsDataService();
    }
);

/**
 * Created by lwagner on 3/14/2016.
 */

define('pcs/attachments/viewModel/attachmentsContainer',['ojs/ojcore', 'knockout', 'pcs/util/pcsUtil', 'pcs/attachments/services/attachmentsDataService', 'pcs/util/dateUtil',
        'ojs/ojknockout', 'ojs/ojdialog', 'ojs/ojbutton', '!text!pcs/attachments/view/attachmentsContainer.html', 'ojL10n!pcs/resources/nls/pcsSnippetsResource'
    ],
    function(oj, ko, pcsUtil, services,dateUtil) {

        'use strict';

        /**
         * The view model for the main content view template
         */
        function AttachmentsContainer(params) {
            var self = this;
            this.data = params.data;
			var loggerUtil =  require('pcs/util/loggerUtil');

            //Set the resourcebundle
            self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

            self.attachmentList = ko.observableArray([]);
            self.dcsFolderList = ko.observableArray([]);
			self.isDcsFolderVisible = ko.observable(true); //toggle between document list and docs UI
            self.showDcsFolders = ko.observable(false);
            self.showAttachments = ko.observable(true);
            self.dscSelectedFolderName = ko.observable('');
            self.dscSelectedAppLink = ko.observable('');
            self.displayDcs = ko.observable(false);
            self.isSizeLimitExceeding = ko.observable(false);

            if (self.data.showDocsInline && (self.data.showDocsInline === true || self.data.showDocsInline === "true")){
				self.data.showDocsInline = true;
			}else{
				self.data.showDocsInline = false;
			}


            function createFolderList(folders) {

                if (folders) {
                    // if dcs folder count > 0 then
                    //    display folder list
                    //    launch URL of selected folder
                    //self.showDcsFolders(true);
                    self.displayDcs(true);
                    //self.showAttachments(false);
					//Display Folders if there are more than one folder or if showDocsInline is falsy
					for (var i = 0; i < folders.length; i++) {
						var folder = {
							folderId: folders[i].folderId,
							folderName: folders[i].folderName
						};
						if (folders[i].type && folders[i].type === 'd') {
							folder.isFolder = false;
						} else {
							folder.isFolder = true;
						}
						self.dcsFolderList.unshift(folder);
					}

					if (folders.length === 1 && self.data.showDocsInline) {
						//Display the attachments inline, dont show folders
						var folder = self.dcsFolderList()[0];
						if (folder.isFolder){
							self.openFolder(folder);
						}
					}

                }

                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');
                self.rootElement.trigger('attachments:loaded');
            }

            function exceptionHandler(jqXHR, customMsg) {
                var msg = customMsg;

                if (jqXHR && jqXHR.status === 0) {
                    msg = self.bundle.pcs.common.server_not_reachable;
                }

                if (jqXHR && jqXHR.status === 500) {
                    msg = self.bundle.pcs.common.internal_server_err;
                } else if (jqXHR && jqXHR.status === 401) {
                    // reset valid authInfo as the current auth is invalid
                    msg = self.bundle.pcs.common.access_error_msg;
                }

                $('#pcs-attachments-error-msg', self.rootElement).text(msg);
                $('#pcs-attachments-error-msg-container', self.rootElement).show().delay(5000); //.fadeOut(2000);

                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');

            }


            function createAttachmentsList(attachments) {
                if (attachments) {
                    for (var i = 0; i < attachments.length; i++) {

                        var tmpStr = '';
                        var updatedDate = dateUtil.getDateInUserTimezone(attachments[i].updatedDate);
						var updatedDateFormatted = dateUtil.getFormattedDate(updatedDate);
                        if (attachments[i].updatedDate && attachments[i].updatedBy) {
                            tmpStr = self.bundle.pcs.attachments.dateByUserText;
                            tmpStr = oj.Translations.applyParameters(tmpStr, {
                                '0': updatedDateFormatted,
                                '1': attachments[i].updatedBy
                            });
                        }

                        var attachment = {
                            filename: decodeURI(attachments[i].title || attachments[i].attachmentName || attachments),
                            fileInfoText: tmpStr,
                            serverUri: attachments[i].uri.href,
                            href: ko.observable('#'),
                            contentType: attachments[i].mimeType
                        };

                        self.attachmentList.unshift(attachment);

                    }
                }

                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');
                self.rootElement.trigger('attachments:loaded');
            }

            function loadNativeAttachments(mode, id){
				self.displayDcs(false);
				// if dcs folder count == 0 then
				services.getAttachmentList(mode, id).done(
					function(data) {
						createAttachmentsList(data.items);
					}
				).fail(
					function(jqXHR, textStatus, errorThrown) {
						var msg = self.bundle.pcs.attachments.fetch_attachments_error;
						exceptionHandler(jqXHR, msg);
						self.rootElement.trigger('attachments:loaded');
					}
				);
			}

			function loadFolders(mode, id){
				//Add the event listerner
				addDCSEventListener();

				services.getDcsFolders(mode, id).done(
					function(data) {
						createFolderList(data.items);
					}
				).fail(
					function(jqXHR, textStatus, errorThrown) {
						var msg = self.bundle.pcs.attachments.fetch_attachments_error;
						exceptionHandler(jqXHR, msg);
						self.rootElement.trigger('attachments:loaded');
					}
				);
			}

            function loadAttachments(mode, id) {
                if (mode === 'task') {
                    $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');

                    // get dcs folders
                    if (self.data.isDocsEnabled) {
						loadFolders(mode, id);
                    } else {
						loadNativeAttachments(mode, id);
                    }
                } else if (mode === 'process') {
                    $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');

					// get dcs folders
					if (self.data.isDocsEnabled) {
						loadFolders(mode, id);
					} else {
						loadNativeAttachments(mode, id);
					}

                } else if (mode === 'dp') {
                    $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');

                    // get dcs folders
                    if (self.data.isDocsEnabled) {
						//Add the event listerner
						addDCSEventListener();

                        services.getDcsFolders(mode, id).done(
                            function(data) {
                                if (data.isDocsEnabledFlag) {
                                    createFolderList(data.folders);
                                } else {
                                    $('#pcs-attachments-docs-error', self.rootElement).text('Documents are not enabled for this instance.');
                                    $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');
                                }
                            }
                        ).fail(
                            function(jqXHR, textStatus, errorThrown) {
                                // var msg = self.bundle.pcs.attachments.fetch_attachments_error;
                                // exceptionHandler(jqXHR,msg);
                                // self.rootElement.trigger('attachments:loaded');
                                $('#pcs-attachments-docs-error', self.rootElement).text('You do not have access to the documents');
                                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');

                            }
                        );
                    } else {
                        $('#pcs-attachments-docs-error', self.rootElement).text('You do not have access to the documents');
                        $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');
                    }
                }

            }

            if (this.data.isDocsEnabled) {
                self.showDcsFolders(true);
                self.showAttachments(false);
            } else {
                self.showDcsFolders(false);
                self.showAttachments(true);
            }
            if (this.data.startFolderName !== '' && this.data.mode !== 'task' && this.data.mode !== 'process') {
                //self.showDcsFolders(true);
                //self.showAttachments(false);
                self.displayDcs(false);
                var folder = {
                    folderId: '',
                    folderName: this.data.startFolderName,
                    isFolder: true
                };
                self.dcsFolderList.unshift(folder);
            }

            this.data.container = self;

            this.rootElement = self.data.rootElement;

            if (self.data.hideDelete) {
                $('.pcs-attachments-removeFile', self.rootElement).hide();
            }

            if (self.data.hideUploadLink) {
                $('.pcs-attachments-uploadLink', self.rootElement).hide();
            }

            if (self.data.hideTitle) {
                $('.pcs-attachments-title', self.rootElement).hide();
            }

            if (self.data.mode === 'task' || self.data.mode === 'process' || self.data.mode === 'dp') {
                loadAttachments(self.data.mode, self.data.id);
            } else {
                self.rootElement.trigger('attachments:loaded');
            }
            self.openUploadDialog = function() {
                $('.pcs-attachments-dialog-error-msg').css('display', 'none');
                $('#pcs-attachments-fileControl', this.element).val('');
                $('.pcs-attachments-modalDialog').ojDialog('open');
                $('.pcs-attachments-upload-btn').ojButton('option', 'disabled', true);
            };

            function createDocsUI(mafLink) {
                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');
                if(self.data.showDocsInline){
					self.isDcsFolderVisible(false);
				} else {
					$('.pcs-attachments-dcsModalDialog').ojDialog('open');
				}


                self.msg = {
                    message: 'setAppLinkTokens',
                    appLinkRefreshToken: JSON.parse(mafLink).refreshToken,
                    appLinkAccessToken: JSON.parse(mafLink).accessToken,
                    appLinkRoleName: JSON.parse(mafLink).role,
                    embedPreview: true
                };

                //This doesnt work if DCS takes more than 10 sec to initialize
                //$('#pcs-attachment-iframe').off('load').on('load', function() {
                //    setTimeout(function() {
                //        document.getElementById('pcs-attachment-iframe').contentWindow.postMessage(msg, '*');
                //    }, 100);
                //});


                var appLink = JSON.parse(mafLink).appLinkUrl + '/cfg=hbr,evw,hdc,ndw';
                self.dscSelectedAppLink(appLink);
            }

            self.openFolder = function(data) {
                self.dscSelectedFolderName(data.folderName);
                if ((self.data.mode === 'task' || self.data.mode === 'dp'|| self.data.mode === 'process') && data.folderId !== '') {
                    $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');
                    services.getDcsFolderInfo(self.data.mode, self.data.id, data.folderId).done(
                        function(data) {
                            createDocsUI(data.appLink);
                        }
                    ).fail(
                        function(jqXHR, textStatus, errorThrown) {

                            var msg = self.bundle.pcs.attachments.fetch_attachments_error;
                            exceptionHandler(jqXHR, msg);
                        }
                    );
                } else {
                    self.showAttachments(true);
                }
            };

            self.dcsDialogClose = function() {
                loggerUtil.log('closing');
            };

			function OnDCSMessageEvent(evt) {
                if (evt.data.message === 'appLinkReady') {
                    loggerUtil.log('recieved');
                    var iframe = self.data.showDocsInline ? $('#pcs-attachment-iframe-inline')[0] : $('#pcs-attachment-iframe')[0];
                    var iframewindow = iframe.contentWindow ? iframe.contentWindow : iframe.contentDocument.defaultView;
                    iframewindow.postMessage(self.msg, '*');
                }
            }

            function cleanDCSEventListener() {
                // Remove the PostMessage handler
                loggerUtil.log('removing');
                pcsUtil.eventHandler.removeHandler(window, 'message', OnDCSMessageEvent);
            }

            function addDCSEventListener() {
                // Add the PostMessage handler
                loggerUtil.log('adding');
                pcsUtil.eventHandler.addHandler(window, 'message', OnDCSMessageEvent);
            }

            self.closeFolder = function() {
                self.showAttachments(false);
            };

			self.showFolders = function() {
				self.isDcsFolderVisible(true);
			};

            self.iconClass = function(filename, contentType) {
                if (filename) {
                    if (contentType === 'application/pdf') {
                        return 'pcs-attachments-filepdf-icon';
                    }
                    if (contentType === 'application/zip') {
                        return 'pcs-attachments-filezip-icon';
                    }
                    if (contentType && contentType.startsWith('image')) {
                        return 'pcs-attachments-fileimage-icon';
                    }
                    if (contentType === 'text/plain') {
                        return 'pcs-attachments-filetxt-icon';
                    }
                    if (filename.endsWith('xls') || filename.endsWith('xlsx')) {
                        return 'pcs-attachments-filexls-icon';
                    }
                    if (filename.endsWith('doc') || filename.endsWith('docx')) {
                        return 'pcs-attachments-filedoc-icon';
                    }
                    if (filename.endsWith('ppt') || filename.endsWith('pptx')) {
                        return 'pcs-attachments-fileppt-icon';
                    } else {
                        return 'pcs-attachments-fileother-icon';
                    }
                }
            };

            self.removeFileFromList = function(data, event) {
                var parent = $(event.currentTarget).parent();
                parent.siblings().find('.pcs-attachments-delete-dialog').ojDialog('open');
            };

            // Method called when yes button clicked on the delete dialog
            self.yesDeleteDialog = function(data) {

                if (self.data.mode === 'task' || self.data.mode === 'process') {
                    var attachmentName = data.filename;
                    var attachmentItem = data;
                    $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');
                    services.deleteAttachment(self.data.mode, self.data.id, attachmentName).done(
                        function(data) {
                            self.attachmentList.remove(attachmentItem);
                            self.rootElement.trigger('attachments:attachmentRemoved', [attachmentItem]);
                            $('.pcs-attachments-delete-dialog').ojDialog('close');

                            var msg = self.bundle.pcs.attachments.upload_attachment_delete;
                            msg = oj.Translations.applyParameters(msg, {
                                '0': attachmentName
                            });

                            $('#pcs-attachments-success-msg', self.rootElement).text(msg);
                            $('#pcs-attachments-success-msg-container', self.rootElement).show().delay(5000).fadeOut(2000);

                            $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');
                        }
                    ).fail(
                        function(jqXHR, textStatus, errorThrown) {

                            var msg = self.bundle.pcs.attachments.delete_attachment_error;
                            exceptionHandler(jqXHR, msg);
                        }
                    );
                } else {
                    self.attachmentList.remove(data);
                    self.rootElement.trigger('attachments:attachmentRemoved', [data]);
                    $('.pcs-attachments-delete-dialog').ojDialog('close');
                }
            };

            // Method called when no button clicked on the delete dialog
            self.noDeleteDialog = function() {
                $('.pcs-attachments-delete-dialog').ojDialog('close');
            };

            var fileInfo = {};


            //Attach onload function to the iframe to redraw it after the contents are loaded
            var iframeElem = $('#pcs-attachment-iframe-inline');
			iframeElem.on('load', function() {
				redraw(iframeElem);
			});

			//Accessing the layout property of child elements will cause browser repaint of the element
			function redraw(elem){
				elem.height(elem.height());
				var outerHeight = elem[0].offsetHeight;
			}

            self.uploadAttachment = function() {
                if (fileInfo.name !== '') {
                    for (var i = 0; i < self.attachmentList().length; i++) {
                        if (self.attachmentList()[i].filename === fileInfo.name) {
                            $('.pcs-attachments-dialog-error-msg').css('display', 'block');
                            return;
                        }
                    }

                    var tmpStr = self.bundle.pcs.attachments.dateByUserTextTmp;

                    var attachment = {
                        filename: fileInfo.name,
                        fileInfoText: tmpStr,
                        href: fileInfo.src,
                        contentType: fileInfo.contentType,
                        content: fileInfo.content
                    };

                    if (self.data.mode === 'task' || self.data.mode === 'process') {

                        $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');
                        var boundary = 'Boundary_' + '123456789_123456789';
                        var header = '--' + boundary + '\r\n';

                        var footer = '\r\n--' + boundary + '--\r\n';

                        var contents = header;
                        contents += 'Content-Disposition: inline' + '\r\n';
                        contents += 'Content-Type: application/json' + '\r\n\r\n';

                        var payload = {
                            'attachmentName': attachment.filename,
                            'mimeType': attachment.contentType,
                            'attachmentScope': 'BPM'
                        };
                        contents += JSON.stringify(payload) + '\r\n';
                        contents += header;

                        contents += 'Content-Transfer-Encoding: binary\r\n\r\n';
                        contents += attachment.content;
                        contents += footer;
                        var contentType = 'multipart/mixed; boundary=' + boundary;

                        services.uploadAttachment(self.data.mode, self.data.id, contents, contentType).done(
                            function(data) {
                                self.attachmentList.unshift(attachment);
                                self.rootElement.trigger('attachments:attachmentUploaded', [attachment]);

                                var msg = self.bundle.pcs.attachments.upload_attachment_success;
                                msg = oj.Translations.applyParameters(msg, {
                                    '0': attachment.filename
                                });

                                $('#pcs-attachments-success-msg', self.rootElement).text(msg);
                                $('#pcs-attachments-success-msg-container', self.rootElement).show().delay(5000).fadeOut(2000);

                                $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');
                            }
                        ).fail(
                            function(jqXHR, textStatus, errorThrown) {

                                var msg = self.bundle.pcs.attachments.upload_attachment_error;
                                exceptionHandler(jqXHR, msg);
                            }
                        );
                    } else {
                        self.attachmentList.unshift(attachment);
                        self.rootElement.trigger('attachments:attachmentUploaded', [attachment]);
                    }
                }
                $('.pcs-attachments-modalDialog').ojDialog('close');
            };

            if (self.data.attachments) {
                for (var i = 0; i < self.data.attachments.length; i++) {

                    var textFile = null;
                    var makeTextFile = function(text, contentType) {

                        var bytes = new Uint8Array(text.length);
                        for (var i = 0; i < text.length; i++) {
                            bytes[i] = text.charCodeAt(i);
                        }

                        var data = new Blob([bytes], {
                            type: contentType
                        });

                        // If we are replacing a previously generated file we need to
                        // manually revoke the object URL to avoid memory leaks.
                        if (textFile !== null) {
                            window.URL.revokeObjectURL(textFile);
                        }

                        textFile = window.URL.createObjectURL(data);

                        // returns a URL you can use as a href
                        return textFile;
                    };

                    var attachment = self.data.attachments[i];

                    if (attachment.href === '') {
                        attachment.href = makeTextFile(attachment.content, attachment.contentType);
                    }
                    self.attachmentList.unshift(attachment);
                }

            }

            function abToStr(buffer) {
                var view = new Uint8Array(buffer);

                var CHUNK_SZ = 0x8000;
                var c = [];
                for (var i = 0; i < view.length; i += CHUNK_SZ) {
                    c.push(String.fromCharCode.apply(null, view.subarray(i, i + CHUNK_SZ)));
                }
                return c.join('');

            }

            $('#pcs-attachments-fileControl').change(function(evt) {
            	var uploadBtn = $('.pcs-attachments-upload-btn');
				uploadBtn.ojButton('option', 'disabled', true);
				self.isSizeLimitExceeding(false);
                var file = evt.target.files[0];
                //Set file size limit based on is documents folder enabled check
                var fileSizeLimit = self.showDcsFolders() ? 15000000 : 5000000;

                if (file && file.size <= fileSizeLimit) {
                    var reader = new FileReader();
                    reader.onload = function(e) {
                        fileInfo.name = file.name;
                        //fileInfo.content = e.target.result;
                        fileInfo.content = abToStr(e.target.result);
                        if (file.type === '') {
                            // if empty then treat as binary
                            fileInfo.contentType = 'application/octet-stream';
                        } else {
                            fileInfo.contentType = file.type;
                        }
                        fileInfo.size = file.size;
                        fileInfo.src = window.URL.createObjectURL(file);
                    };
                    reader.readAsArrayBuffer(file);
					uploadBtn.ojButton('option', 'disabled', false);
                } else {
					self.isSizeLimitExceeding(true);
                    loggerUtil.log('Failed to load file');
                }
            });

            self.handleDialogClose = function (){
				self.isSizeLimitExceeding(false);
			};

			/**
			 * method to clean up everything
			 */
			self.dispose = function() {
				loggerUtil.log('dispose in attachment Containor');

				cleanDCSEventListener();
				// clean up the events
				$(self.rootElement).off();
				$('#pcs-attachment-iframe-inline').off();
			};

            self.viewAttachment = function(attachment, event) {
                var bytes, data, i;
                if (ko.isObservable(attachment.href)) {
                    var currentTarget = $(event.currentTarget);
                    var fetchAttachment = function(attachment, response) {
                        var data = new Blob([response], {
                            type: attachment.contentType
                        });
                        var textFile = window.URL.createObjectURL(data);

                        attachment.href(textFile);
                        attachment.content = abToStr(response);

                        $('#pcs-attachments-overlay').removeClass('pcs-common-load-overlay');
                        if (window.navigator.msSaveOrOpenBlob) {
                            window.navigator.msSaveOrOpenBlob(data, attachment.filename);
                        } else {
                            currentTarget[0].click();
                        }
                    };

                    if (attachment.href() === '#') {
                        $('#pcs-attachments-overlay').addClass('pcs-common-load-overlay');
                        services.getAttachmentStream(attachment.serverUri, attachment, fetchAttachment, currentTarget);
                        return false;
                    } else {
                        if (window.navigator.msSaveOrOpenBlob) {
                            bytes = new Uint8Array(attachment.content.length);
                            for (i = 0; i < attachment.content.length; i++) {
                                bytes[i] = attachment.content.charCodeAt(i);
                            }
                            data = new Blob([bytes], {
                                type: attachment.contentType
                            });
                            window.navigator.msSaveOrOpenBlob(data, attachment.filename);
                            return false;
                        } else {
                            return true;
                        }

                        return true;
                    }
                } else {
                    if (window.navigator.msSaveOrOpenBlob) {
                        bytes = new Uint8Array(attachment.content.length);
                        for (i = 0; i < attachment.content.length; i++) {
                            bytes[i] = attachment.content.charCodeAt(i);
                        }
                        data = new Blob([bytes], {
                            type: attachment.contentType
                        });
                        window.navigator.msSaveOrOpenBlob(data, attachment.filename);
                        return false;
                    } else {
                        return true;
                    }
                }
            };
        }
        return AttachmentsContainer;
    });

/**
 * Created by lwagner on 3/11/2016.
 */

define('pcs/pcs.attachments',['ojs/ojcore', 'knockout', 'jquery', '!text!pcs/attachments/templates/pcs-attachments.html', 'ojL10n!pcs/resources/nls/pcsSnippetsResource',
		'!text!pcs/attachments/templates/pcs-attachments-error.html', '!text!pcs/attachments/view/attachmentsContainer.html',
        'pcs/attachments/viewModel/attachmentsContainer', 'pcs/util/loggerUtil','jqueryui-amd/widget'
    ],
    function(oj, ko, $, tmpl, bundle, errortmpl, attachmentsView,attachmentsVM,loggerUtil) {
        'use strict';
        // define your widget under pcs namespace
        $.widget('pcs.attachments', {

            //Options to be used as defaults
            options: {
                hideDelete: false,
                hideUploadLink: false,
                hideTitle: false,
                attachments: [],
                startFolderName: '',
                mode: 'start',
                id: -1,
                readOnly: false,
                isDocsEnabled: false,
				showDocsInline: false
            },

			// Check if the Required options are provided to the widget
			_isValid: function() {
            	if (this.options.mode === 'start'){
					return true;
				}
				else {
            		if(this.options.id === undefined || this.options.id === ''){
						return false;
					}
				}
				return true;
			},

            _create: function() {
                // _create will automatically run the first time
                // this widget is called. Put the initial widget
                // setup code here, then you can access the element
                // on which the widget was called via this.element.
                // The options defined above can be accessed
                // via this.options this.element.addStuff();
                var widget = this;

                if ($.pcsConnection === undefined) {
                    this.element.html('<div style=\'color:red\'>' + bundle.pcs.common.pcs_connection + ' </div>');
                    return;
                }

				// check if the the plugin is initialized correctly
				if (!this._isValid()) {
					this.element.html(errortmpl);
					return;
				}


				var data = {
                    rootElement: widget.element,
                    hideDelete: widget.options.hideDelete,
                    hideUploadLink: widget.options.hideUploadLink,
                    hideTitle: widget.options.hideTitle,
                    attachments: widget.options.attachments,
                    startFolderName: widget.options.startFolderName,
                    mode: widget.options.mode,
                    id: widget.options.id,
                    isDocsEnabled: widget.options.isDocsEnabled,
					showDocsInline: widget.options.showDocsInline
                };

                function Model() {
                    var self = this;

                    if (!ko.components.isRegistered('attachmentComponent')) {
                        ko.components.register('attachmentComponent', {
                            template: attachmentsView,
                            viewModel: attachmentsVM
                        });
                    }
                    self.data = data;

                    if (widget.options.readOnly) {
                        self.data.hideUploadLink = true;
                        self.data.hideDelete = true;
                    }
                }

                var vm = new Model();

                widget.model = vm;

                this.element.html(tmpl);

                //ko.cleanNode(this.element['0']);
                ko.applyBindings(vm, this.element['0']);
            },

            // Destroy an instantiated plugin and clean up modifications
            // that the widget has made to the DOM
            destroy: function() {
                //t his.element.removeStuff();
                // For UI 1.8, destroy must be invoked from the base
                // widget
                $.Widget.prototype.destroy.call(this);
                // For UI 1.9, define _destroy instead and don't worry
                // about calling the base widget
            },

			_destroy: function (){
				loggerUtil.log('Destroying attachments');
				// clean everything up
				if (this.model && this.model.data && this.model.data.container) {
					this.model.data.container.dispose();
				}
			},

            // Respond to any changes the user makes to the option method
            _setOption: function(key, value) {
                this.options[key] = value;

                // For UI 1.8, _setOption must be manually invoked
                // from the base widget
                $.Widget.prototype._setOption.apply(this, arguments);
                // For UI 1.9 the _super method can be used instead
                // this._super( '_setOption', key, value );
            },

            getAttachments: function() {
                var data = this.model.data.container.attachmentList();
                return data;
            }
        });
    });


define('text!pcs/comments/templates/pcs-comments.html',[],function () { return '<div class="oj-row oj-panel" data-bind=\'component: {\n    name: "commentComponent",\n\tparams : {data : data}\n}\'></div>\n';});


define('text!pcs/comments/view/commentsContainer.html',[],function () { return '<div class="pcs-comments-detailBox">\n\n\n\t<div class="pcs-comments-titleBox">\n\t\t<h3><label class="pcs-comments-title" data-bind="text:bundle.pcs.comments.title"/></h3>\n\t</div>\n\n\t<div class="row pcs-comments-commontBox no-gutter" style="margin-top:20px;margin-right: 20px">\n\n\t\t<div id="form-container" class="oj-form-layout pcs-comments-inputCommentContainer">\n\t\t\t<div class="oj-form oj-sm-odd-cols-12 oj-md-odd-cols-12 oj-md-labels-inline">\n\n\t\t\t\t<!--div class="oj-flex"-->\n\t\t\t\t\t<!--div role="group" aria-labelledby="filter" class="oj-form" -->\n\t\t\t\t\t\t<div class="oj-flex">\n\t\t\t\t\t\t\t<div class="oj-flex-item" >\n\t\t\t\t\t\t\t\t<textarea id="pcs-comments-inputComment" style="resize: both;"\n\t\t\t\t\t\t\t\t\t\t  data-bind="ojComponent: {component: \'ojTextArea\',  rootAttributes: {style:\'max-width:100%\'},\n                                     value: commentStr, placeholder:bundle.pcs.comments.placeholder}" ></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!--/div-->\n\n\t\t\t\t\t<!--/div-->\n\t\t\t\t</div>\n\n\t\t\t\t<div class="oj-row oj-sm-text-align-end" style="display: inline-block;margin-top:5px">\n\t\t\t\t\t<button id="pcs-comments-postComment" style="display: inline-block;text-align: center;"\n\t\t\t\t\t\t\tdata-bind="click: postComment,\n                               ojComponent: { component: \'ojButton\', label: bundle.pcs.comments.addCommentButton }">\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<!--span id="pcs-comments-error-text" style="color:red;display:none" >Adding comment failed</span-->\n\n\t<div id="pcs-comments-success-msg-container" style="display: none;margin-bottom:20px">\n\t\t<span title="Success" role="img" class="oj-fwk-icon-status-confirmation oj-fwk-icon"></span>\n\t\t<span id="pcs-comments-success-msg" class="pcs-comments-success-msg"></span>\n\t</div>\n\n\t<div id="pcs-comments-error-msg-container" class="pcs-comments-error-msg-container"  style="display: none">\n\t\t<span class="oj-component-icon oj-message-status-icon oj-message-error-icon" role="img" id="pcs-comments-error-msg-icon" style="float: left ;margin-right:10px" ></span>\n\t\t<pre id="pcs-comments-error-msg" class="pcs-comments-error-msg"></pre>\n\t</div>\n\n\t<div class="pcs-comments-actionBox">\n\t\t<ul class="pcs-comments-commentList" data-bind="foreach:comments ">\n\t\t\t<li>\n\t\t\t\t<span style="font-weight:bold" data-bind="text: updatedBy"></span>\n\t\t\t\t<span style="font-weight:bold" data-bind="text: updatedDateFormatted"></span>\n\t\t\t\t<div class="pcs-comments-commentStr">\n\t\t\t\t\t<div class="oj-flex" data-bind="text: commentStr"></div>\n\t\t\t\t</div>\n\t\t\t\t<hr/>\n\t\t\t</li>\n\t\t</ul>\n\t\t<div id="pcs-comments-overlay"></div>\n\t</div>\n</div>\n';});

/**
 * Created by lwagner on 4/12/2016.
 */


define('pcs/comments/services/commentsDataService',['jquery', 'pcs/util/pcsUtil'],
    function($, pcsUtil) {
        'use strict';

        function CommentsDataService() {
            var self = this;
			var loggerUtil =  require('pcs/util/loggerUtil');

            self.paths = {
                'taskCommentList': 'tasks/{taskId}/comments',
                'ProcessesCommentList': 'processes/{processId}/comments'
            };

			//callback to set authorization request header for every call
			var beforeRequestCallback = function(xhr) {
				pcsUtil.beforeRequestCallback(xhr,pcsUtil);
			};

            // wrapper function for HTTP GET
            var doGet = function(url) {

                return $.ajax({
                    type: 'GET',
                    url: url,
                    beforeSend: beforeRequestCallback,
                    xhrFields: {
                        withCredentials: true
                    },
                    contentType: 'application/json',
                    dataType: 'json'
                });
            };

            // wrapper function for HTTP POST
            var doPost = function(url, payload, contentType) {

                loggerUtil.log(payload);

                //var bytes = new Uint8Array(payload.length);
                //for (var i=0; i<payload.length; i++)
                //  bytes[i] = payload.charCodeAt(i);

                return $.ajax({
                    type: 'POST',
                    url: url,
                    //cache : false,
                    //processData : false,
                    data: payload,
                    contentType: contentType,
                    dataType: 'json',
                    beforeSend: beforeRequestCallback,
                    xhrFields: {
                        withCredentials: true
                    }
                });
            };

            self.getCommentList = function(mode, id) {
                var serverPath;
                if (mode === 'task') {
                    serverPath = pcsUtil.getRestURL() + self.paths.taskCommentList.replace('{taskId}', id);
                } else if (mode === 'process') {
                    serverPath = pcsUtil.getRestURL() + self.paths.ProcessesCommentList.replace('{processId}', id);
                }
                return doGet(serverPath);
            };

            self.postComment = function(mode, id, payload, contentType) {
                var serverPath;
                if (mode === 'task') {
                    serverPath = pcsUtil.getRestURL() + self.paths.taskCommentList.replace('{taskId}', id);
                } else if (mode === 'process') {
                    serverPath = pcsUtil.getRestURL() + self.paths.ProcessesCommentList.replace('{processId}', id);
                }
                return doPost(serverPath, payload, contentType);
            };

        }

        return new CommentsDataService();
    }
);

/**
 * Created by lwagner on 5/12/2016.
 */

define('pcs/comments/viewModel/commentsContainer',['ojs/ojcore', 'knockout', 'pcs/util/pcsUtil', 'pcs/comments/services/commentsDataService', 'pcs/util/dateUtil', 'ojs/ojknockout',
        'ojs/ojdialog', 'ojs/ojbutton', 'ojs/ojinputtext', '!text!pcs/comments/view/commentsContainer.html', 'ojL10n!pcs/resources/nls/pcsSnippetsResource'
    ],
    function(oj, ko, pcsUtil, services, dateUtil) {
        'use strict';
        /**
         * The view model for the main content view template
         * The view model for the main content view template
         */
        function CommentsContainer(params) {
            var self = this;
            this.data = params.data;
			var loggerUtil =  require('pcs/util/loggerUtil');

            //Set the resourcebundle
            self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

            this.data.container = self;

            this.rootElement = self.data.rootElement;

            if (self.data.readOnly) {
                $('.pcs-comments-inputCommentContainer', self.rootElement).hide();
            }

            if (self.data.hideTitle) {
                $('.pcs-comments-titleBox', self.rootElement).hide();
            }

            self.comments = ko.observableArray([]);
            self.commentStr = ko.observable('');

            function loadComments(mode, id) {
                if (id && id !== '') {
                    if (mode === 'task' || mode === 'process') {
                        $('#pcs-comments-overlay').addClass('pcs-common-load-overlay');
                        services.getCommentList(mode, id).done(
                            function(data) {
                                if (data.items) {
                                    for (var i = data.items.length - 1; i >= 0; i--) {
                                        self._addCommentItem(data.items[i]);
                                    }
                                }
                                $('#pcs-comments-overlay').removeClass('pcs-common-load-overlay');
                                self.rootElement.trigger('comments:loaded');
                            }
                        ).fail(function(jqXHR, textStatus, errorThrown) {
                            $('#pcs-comments-overlay').removeClass('pcs-common-load-overlay');
                            self.rootElement.trigger('comments:loaded');
                        });
                    }
                }
            }

            if (self.data.mode === 'task' || self.data.mode === 'process') {
                loadComments(self.data.mode, self.data.id);
            }

            var commentObj = function(commentStr, updatedBy, userId, updatedDate) {
                this.commentStr = commentStr;
                this.updatedBy = updatedBy;
                this.userId = userId;
                this.updatedDate = dateUtil.getDateInUserTimezone(updatedDate);
                this.updatedDateFormatted = dateUtil.getFormattedDate(this.updatedDate);
            };

            var addCommentObj = function(commentStr, commentScope) {
                this.commentStr = commentStr;
                this.commentScope = commentScope;
            };

            self._addCommentItem = function(commentItem) {
                var comment = new commentObj(commentItem.commentStr, commentItem.updatedBy, commentItem.userId,
                    commentItem.updateddDate);
                self.comments.unshift(comment);
            };


			/**
			 * method to clean up everything
			 */
			self.dispose = function() {
				loggerUtil.log('dispose in comments Containor');

				// clean up the events
			};

            self.postComment = function() {

				//check for empty comment
				if(self.commentStr().length === 0 || self.commentStr().trim().length === 0){
					$('#pcs-comments-error-msg', self.rootElement).text(self.bundle.pcs.comments.empty_comment);
					$('#pcs-comments-error-msg-container', self.rootElement).show().delay(3000).fadeOut(2000);
					return;
				}

                var comment = new addCommentObj(self.commentStr(), 'BPM');
                var contentType = 'application/json';
                $('#pcs-comments-overlay').addClass('pcs-common-load-overlay');
                services.postComment(self.data.mode, self.data.id, JSON.stringify(comment), contentType).done(
                    function(data) {
                        //self.commentList.unshift(comment);
                        if (data.comment) {
                            self.comments.removeAll();
                            for (var i = data.comment.length - 1; i >= 0; i--) {
                                self._addCommentItem(data.comment[i]);
                            }
                        }
                        self.rootElement.trigger('comments:commentAdded', [comment]);

                        var msg = self.bundle.pcs.comments.add_comment_success;
                        $('#pcs-comments-success-msg', self.rootElement).text(msg);
                        $('#pcs-comments-success-msg-container', self.rootElement).show().delay(5000).fadeOut(2000);

                        self.commentStr('');
                        $('#pcs-comments-overlay').removeClass('pcs-common-load-overlay');
                    }
                ).fail(
                    function(jqXHR, textStatus, errorThrown) {

                        var msg = self.bundle.pcs.comments.post_error;

                        if (jqXHR && jqXHR.status === 0) {
                            msg = self.bundle.pcs.common.server_not_reachable;
                        }

                        if (jqXHR && jqXHR.status === 500) {
                            msg = self.bundle.pcs.common.internal_server_err;
                        } else if (jqXHR && jqXHR.status === 401) {
                            // reset valid authInfo as the current auth is invalid
                            msg = self.bundle.pcs.common.access_error_msg;
                        }

                        $('#pcs-comments-error-msg', self.rootElement).text(msg);
                        $('#pcs-comments-error-msg-container', self.rootElement).show().delay(5000).fadeOut(2000);

                        //$('#pcs-comments-error',self.rootElement).show();
                        //$('#pcs-comments-error-msg',self.rootElement).text(msg);

                        $('#pcs-comments-overlay', self.rootElement).removeClass('pcs-common-load-overlay');
                    }
                );
            };
        }
        return CommentsContainer;
    });

/**
 * Created by lwagner on 5/12/2016.
 */

define('pcs/pcs.comments',['ojs/ojcore', 'knockout', 'jquery', '!text!pcs/comments/templates/pcs-comments.html', 'ojL10n!pcs/resources/nls/pcsSnippetsResource',
		'!text!pcs/comments/view/commentsContainer.html', 'pcs/comments/viewModel/commentsContainer', 'pcs/util/loggerUtil','jqueryui-amd/widget'
    ],
    function(oj, ko, $, tmpl, bundle, commentsView,commentsVM,loggerUtil) {
        'use strict';
        // define your widget under pcs namespace
        $.widget('pcs.comments', {

            //Options to be used as defaults
            options: {
                readOnly: false,
                hideTitle: false,
                mode: 'task',
                id: -1
            },

            _create: function() {
                // _create will automatically run the first time
                // this widget is called. Put the initial widget
                // setup code here, then you can access the element
                // on which the widget was called via this.element.
                // The options defined above can be accessed
                // via this.options this.element.addStuff();
                var widget = this;

                if ($.pcsConnection === undefined) {
                    this.element.html('<div style=\'color:red\'>' + bundle.pcs.common.pcs_connection + ' </div>');
                    return;
                }

                var data = {
                    rootElement: widget.element,
                    readOnly: widget.options.readOnly,
                    hideTitle: widget.options.hideTitle,
                    mode: widget.options.mode,
                    id: widget.options.id

                };

                function Model() {
                    var self = this;

                    if (!ko.components.isRegistered('commentComponent')) {
                        ko.components.register('commentComponent', {
                            template: commentsView,
                            viewModel: commentsVM
                        });
                    }
                    self.data = data;
                }

                var vm = new Model();

                widget.model = vm;

                this.element.html(tmpl);

                //ko.cleanNode(this.element['0']);
                ko.applyBindings(vm, this.element['0']);
            },

            // Destroy an instantiated plugin and clean up modifications
            // that the widget has made to the DOM
            destroy: function() {
                //t his.element.removeStuff();
                // For UI 1.8, destroy must be invoked from the base
                // widget
                $.Widget.prototype.destroy.call(this);
                // For UI 1.9, define _destroy instead and don't worry
                // about calling the base widget
            },

			_destroy: function (){
				loggerUtil.log('Destroying comments');
				// clean everything up
				if (this.model && this.model.data && this.model.data.container) {
					this.model.data.container.dispose();
				}
			},

            // Respond to any changes the user makes to the option method
            _setOption: function(key, value) {
                this.options[key] = value;

                // For UI 1.8, _setOption must be manually invoked
                // from the base widget
                $.Widget.prototype._setOption.apply(this, arguments);
                // For UI 1.9 the _super method can be used instead
                // this._super( '_setOption', key, value );
            },

            getComments: function() {
                var data = this.model.data.container.comments();

                return data;
            },

			getUnsavedComment: function() {
				var data = this.model.data.container.commentStr();
				return data;
			}
        });
    });


define('text!pcs/conversation/templates/pcs-conversation.html',[],function () { return '<div id="pcs-conv-mainContainer" class="oj-row oj-panel">\n\n    <div id="pcs-conv-error-msg-container" style="display: none">\n        <span class="oj-component-icon oj-message-status-icon oj-message-error-icon" role="img"\n              id="pcs-conv-error-msg-icon" style="float: left ;margin-right:10px" ></span>\n        <pre id="pcs-conv-error-msg" class="pcs-conv-error-msg"></pre>\n    </div>\n\n    <div id="pcs-conv-loading-msg" style="display: none"></div>\n\n    <div class="pcs-conv-applink-container" style="margin:20px">\n\n        <div class="oj-sm-12 pcs-common-center-align" id="pcs-conv-loading">\n            <div class="pcs-common-center-align pcs-common-loading"/>\n        </div>\n\n        <iframe src="about:blank" frameborder="0"\n                scrolling="no" id="pcs-conv-applink" name="if1"\n                style="width:100%;  height:50px;" seamless="seamless">\n            &lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\n        </iframe>\n    </div>\n</div>\n';});

/**
 * Created by nisabhar on 8/26/2016.
 */

define('pcs/conversation/services/conversationDataService',['jquery', 'pcs/util/pcsUtil'],
    function($, pcsUtil) {
        'use strict';

        function ConversationDataService() {
            var self = this;

            self.paths = {
                'tasksConversations': 'tasks/{taskId}/conversations',
                'processConversations': 'processes/{processId}/conversations',
                'loggedInUser': 'identities/loggedInUser'
            };

			//callback to set authorization request header for every call
			var beforeRequestCallback = function(xhr) {
				pcsUtil.beforeRequestCallback(xhr,pcsUtil);
			};

            // wrapper function for HTTP GET
            var doGet = function(url) {

                return $.ajax({
                    type: 'GET',
                    url: url,
                    beforeSend:beforeRequestCallback,
                    xhrFields: {
                        withCredentials: true
                    },
                    contentType: 'application/json',
                    dataType: 'json'
                });
            };

            self.getConversations = function(mode, id) {
                var serverPath;
                if (mode === 'task') {
                    serverPath = pcsUtil.getRestURL() + self.paths.tasksConversations.replace('{taskId}', id);
                } else if (mode === 'process') {
                    serverPath = pcsUtil.getRestURL() + self.paths.processConversations.replace('{processId}', id);
                }
                return doGet(serverPath);
            };

            self.getAppLink = function(link) {
                return doGet(link);
            };

            self.getLoggedInUser = function() {
                var serverPath = pcsUtil.getRestURL() + self.paths.loggedInUser;
                return doGet(serverPath);
            };

        }

        return new ConversationDataService();
    }
);

/**
 * Created by nisabhar on 8/26/2016.
 */

define('pcs/conversation/viewModel/conversationContainer',['knockout', 'pcs/conversation/services/conversationDataService',
        'pcs/util/pcsUtil', 'ojL10n!pcs/resources/nls/pcsSnippetsResource'
    ],
    function(ko, services, pcsUtil) {
        'use strict';
        /**
         * The view model for the main content view template
         */
        function ConversationContainer(params) {
            var self = this;

			var loggerUtil =  require('pcs/util/loggerUtil');

            //Set the resourcebundle
            self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

            //all the data passed to the container
            self.data = params.data;

            //the jquery element where the widget is pushed, all the selectors will work in context of this element
            self.rootElement = self.data.rootElement;

            function loadOSNAppLink(appLink, user) {
                var parsedAppLink = JSON.parse(appLink); //extractOSNInfo(appLink);
                var appLinkURL = parsedAppLink.appLinkURL;
                var converstationDetail = appLinkURL.substring(appLinkURL.indexOf('/conversations'), appLinkURL.length);
                var token = parsedAppLink.accessToken;
                //var cListURL = 'https://socialnetwork71482-lab5osndoc10081pr1-social.vfarm.oraclecorp.com/osn/web/cList?hide=navMenu+sidebar+fullView+search+uploadAndCopy+documents+help';
                var cListURL = appLinkURL.substring(0, appLinkURL.indexOf('/conversations')) + '?hide=navMenu+sidebar+fullView+search+uploadAndCopy+documents+help';
                $('#pcs-conv-applink', self.rootElement)[0].src = 'about:blank';
                $('#pcs-conv-applink', self.rootElement).hide();

                var iframeReady = $.Deferred();

                iframeReady.done(function() {
                    $(window).one('message', function(event) {
                        var evt = event;

                        if (evt.originalEvent.data.message === 'navigate-ack') {
                            loggerUtil.log('Event message received::' + evt.originalEvent.data.message);
                            //Hide loading
                            $('#pcs-conv-loading', self.rootElement).hide();
                            $('#pcs-conv-loading-msg', self.rootElement).hide();

                            $('#pcs-conv-applink', self.rootElement).css('height', '500px').show();
                        } else {
                            loggerUtil.log('OOPS - stray postMessage caused listener to stop; retry last action');
                        }
                    });

                    var message = {
                        message: 'navigate',
                        path: converstationDetail,
                        accessToken: token,
                        highlight: user
                    };
                    loggerUtil.log('Posting message: ' + message);
                    $('#pcs-conv-applink', self.rootElement)[0].contentWindow.postMessage(message, '*');
                });


                if (!$('#pcs-conv-applink', self.rootElement)[0].src || ($('#pcs-conv-applink', self.rootElement)[0].src === 'about:blank')) {
                    // eventHandler.addHandler(window,'message',tryMe);
                    $(window).one('message', function(event) {
                        var evt = event;

                        if (evt.originalEvent.data.status === 'listening') {
                            loggerUtil.log('Event Message:' + evt.originalEvent.data.status);
                            iframeReady.resolve();
                        } else {
                            loggerUtil.log('OOPS - stray postMessage caused listener to stop; reload');
                        }
                    });
                    $('#pcs-conv-applink', self.rootElement)[0].src = cListURL;

                    var msg = self.bundle.pcs.conversation.docs_wait;
                    $('#pcs-conv-loading-msg', self.rootElement).text(msg).show();



                } else {
                    iframeReady.resolve();
                }
            }

            // Error handler method for the plugin
            self.ajaxErrorHandler = function(jqXHR, customMsg) {
                var msg;
                if (jqXHR && jqXHR.status === 0) {
                    msg = self.bundle.pcs.common.server_not_reachable;
                }
                if (jqXHR && (jqXHR.status === 500 || jqXHR.status === 401 || jqXHR.status === 404)) {
                    msg = self.bundle.pcs.common.internal_server_err;
                }

                if (msg === undefined || msg === '') {
                    msg = customMsg;
                }

                $('#pcs-conv-error-msg', self.rootElement).text(msg);
                $('#pcs-conv-error-msg-container', self.rootElement).show();

                //Hide loading
                $('#pcs-conv-loading', self.rootElement).hide();
            };


            // Method to load the conversations
            self.initConversation = function() {

                if (self.data.mode === 'task') {
                    // Get the Conversation list
                    services.getConversations(self.data.mode, self.data.id).done(
                        function(data) {
                            // Read the conversation List
                            if (data && data.conversationInstanceList && data.conversationInstanceList.length > 0) {

                                //TODO :-  For this release we ahve 1 conversation per task.
                                var link = data.conversationInstanceList[0].links[0].href;

                                //get the access token
                                services.getAppLink(link).done(
                                    function(data) {
                                        if (data && data.appLink) {
                                            var applink = data.appLink;
                                            //Get the logged in user
                                            services.getLoggedInUser().done(
                                                function(data) {
                                                    if (data && data.id) {
                                                        loadOSNAppLink(applink, data.id);
                                                    } else {
                                                        var customMsg = self.bundle.pcs.conversation.user_fetch_error;
                                                        self.ajaxErrorHandler(undefined, customMsg);
                                                    }
                                                    self.rootElement.trigger('conversations:loaded');
                                                }
                                            ).fail(
                                                function(jqXHR, textStatus, errorThrown) {
                                                    var customMsg = self.bundle.pcs.conversation.user_fetch_error;
                                                    self.ajaxErrorHandler(jqXHR, customMsg);
                                                    self.rootElement.trigger('conversations:loaded');
                                                }
                                            );
                                        } else {
                                            var customMsg = self.bundle.pcs.conversation.conv_connection_error;
                                            self.ajaxErrorHandler(undefined, customMsg);
                                            self.rootElement.trigger('conversations:loaded');
                                        }
                                    }
                                ).fail(
                                    function(jqXHR, textStatus, errorThrown) {
                                        var customMsg = self.bundle.pcs.conversation.conv_connection_error;
                                        self.ajaxErrorHandler(jqXHR, customMsg);
                                        self.rootElement.trigger('conversations:loaded');
                                    }
                                );
                            } else {
                                var customMsg = self.bundle.pcs.conversation.no_conversation;
                                self.ajaxErrorHandler(undefined, customMsg);
                                self.rootElement.trigger('conversations:loaded');
                            }
                        }
                    ).fail(
                        function(jqXHR, textStatus, errorThrown) {
                            var customMsg = self.bundle.pcs.conversation.conv_load_error;
                            self.ajaxErrorHandler(jqXHR, customMsg);
                            self.rootElement.trigger('conversations:loaded');
                        }
                    );
                } else if (self.data.mode === 'process') {
                    //ToDO : Add process logic
                } else {
                    var customMsg = self.bundle.pcs.conversation.conv_mode_error;
                    self.ajaxErrorHandler(undefined, customMsg);
                }
            };

            self.clearOSNFrame = function(event) {
                $('#pcs-conv-applink', self.rootElement)[0].src = 'about:blank';
                loggerUtil.log('Conversation iframe src set to aboutb:blank');
            };


			/**
			 * method to clean up everything
			 */
			self.dispose = function() {
				loggerUtil.log('dispose in conversation Containor');
				self.clearOSNFrame();
				// clean up the events
			};

            //Load the conversation
            self.initConversation();
        }

        return ConversationContainer;
    });


define('text!pcs/conversation/templates/pcs-conversation-error.html',[],function () { return '<div class="oj-message oj-message-error">\n    <span class="oj-component-icon oj-message-status-icon oj-message-error-icon"\n          role="img">\n    </span>\n    <span class="oj-message-content">\n        <div class="oj-message-summary">\n            Required parameters are missing\n        </div>\n        <div class="oj-message-detail">\n            <span>This component requires these values -</span>\n            <pre>\n    *id : \'\'\n    </pre>\n        </div>\n    </span>\n</div>\n';});

/**
 * Created by nisabhar on 8/26/2016.
 */

define('pcs/pcs.conversation',['ojs/ojcore', 'knockout', 'jquery', '!text!pcs/conversation/templates/pcs-conversation.html',
        'pcs/conversation/viewModel/conversationContainer', '!text!pcs/conversation/templates/pcs-conversation-error.html',
        'ojL10n!pcs/resources/nls/pcsSnippetsResource', 'pcs/util/loggerUtil','jqueryui-amd/widget'
    ],
    function(oj, ko, $, tmpl, conversation, errortmpl, bundle,loggerUtil) {
        'use strict';
        // define your widget under pcs namespace
        $.widget('pcs.conversation', {

            //Options to be used as defaults
            options: {
                //Mode for task or process
                mode: 'task',
                id: '',
            },


            // Check if the Required options are provided to the widget
            _isValid: function() {
                if (this.options.id === undefined || this.options.id === '' ||
                    this.options.mode === undefined || this.options.mode === '') {
                    return false;
                }
                if (this.options.mode.toLowerCase() === 'task' || this.options.mode.toLowerCase() === 'process') {
                    return true;
                }
                return false;
            },

            _create: function() {
                // _create will automatically run the first time
                // this widget is called. Put the initial widget
                // setup code here, then you can access the element
                // on which the widget was called via this.element.
                // The options defined above can be accessed
                // via this.options this.element.addStuff();
                var widget = this;

                // Check if PCSConenction is set
                if ($.pcsConnection === undefined) {
                    this.element.html('<div style=\'color:red\'>' + bundle.pcs.common.pcs_connection + ' </div>');
                    return;
                }

                // check if the the plugin is initialized correctly
                if (!this._isValid()) {
                    this.element.html(errortmpl);
                    return;
                }


                var data = this.options;
                data.rootElement = widget.element;

                var params = {
                    data: data
                };

                this.element.html(tmpl);
                var vm = new conversation(params);
                this.model = vm;

                //ko.cleanNode(this.element['0']);
                ko.applyBindings(vm, this.element['0']);
            },

            // Destroy an instantiated plugin and clean up modifications
            // that the widget has made to the DOM
            destroy: function() {
                //t his.element.removeStuff();
                // For UI 1.8, destroy must be invoked from the base
                // widget
                $.Widget.prototype.destroy.call(this);
                // For UI 1.9, define _destroy instead and don't worry
                // about calling the base widget
            },

			_destroy: function (){
				loggerUtil.log('Destroying conversation');
				// clean everything up
				if (this.model) {
					this.model.dispose();
				}
			},

            // Respond to any changes the user makes to the option method
            _setOption: function(key, value) {
                this.options[key] = value;

                // For UI 1.8, _setOption must be manually invoked
                // from the base widget
                $.Widget.prototype._setOption.apply(this, arguments);
                // For UI 1.9 the _super method can be used instead
                // this._super( '_setOption', key, value );
            }
        });
    });

/**
 * Created by nisabhar on 5/6/2016.
 */

define('pcs/taskdetail/viewModel/taskdetailContainer',['ojs/ojcore', 'knockout', 'pcs/taskdetail/services/taskdetailDataService', 'pcs/util/pcsUtil','pcs/pcsform/pcsFormUtil', 'pcs/util/dateUtil' ,
		'!text!pcs/taskdetail/templates/pcs-task-history.html', 'pcs/taskdetail/viewModel/taskHistoryContainer','ojs/ojknockout',
        'ojs/ojdialog', 'ojs/ojinputtext', 'ojs/ojbutton', 'ojs/ojcollapsible', 'pcs/pcs.attachments', 'pcs/pcs.comments',
		'ojs/ojselectcombobox', 'ojL10n!pcs/resources/nls/pcsSnippetsResource', 'pcs/pcs.conversation' ],
    function(oj, ko, services, pcsUtil,pcsFormUtil,dateUtil,historyView,historyVM) {
        'use strict';
        /**
         * The view model for the main content view template
         */
        function TaskdetailContainer(params) {
            var self = this;
			var loggerUtil =  require('pcs/util/loggerUtil');

            //Set the resourcebundle
            self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

            //all the data passed to the container
            self.data = params.data;

            //the jquery element where the widget is pushed, all the selectors will work in context of this element
            self.rootElement = self.data.rootElement;

            //the main Data object of the plugin
            self.taskNumber = self.data.taskNumber;

            // form type
            self.formType = ko.observable('');

            //Complete Frevvo form url including server path
            self.formURL = ko.observable();

            //label for attachment/docs
			self.attachmentsLabel =  ko.observable(self.bundle.pcs.taskdetail.attachments);

            //Task object
            self.selectedTaskObject = '';
            self.taskObject = {
                customActions: ko.observableArray([]),
                systemActions: ko.observableArray([]),
                assignedDate: ko.observable(),
                createdDate: ko.observable(),
                updatedDate: ko.observable(),
                dueDate: ko.observable(),
                creator: ko.observable(),
                fromUser: ko.observable(),
                number: ko.observable(),
                owner: ko.observable(),
                priority: ko.observableArray([]),
                processName: ko.observable(),
                title: ko.observable(),
                shortSummary: ko.observable(),
                outcome: ko.observable(),
                state: ko.observable(),
                instanceId: ko.observable()
            };

            self.priorityOptions = ko.observableArray([
				{
					value: 'LOW',
					label: self.bundle.pcs.taskdetail.priority_low
				},
            	{
					value: 'NORMAL',
					label: self.bundle.pcs.taskdetail.priority_normal
            	},
				{
					value: 'HIGH',
					label: self.bundle.pcs.taskdetail.priority_high
				}
            ]);

            self.priorityMap = {
                1: 'HIGH',
                2: 'HIGH',
                3: 'NORMAL',
                4: 'LOW',
                5: 'LOW'
            };

            self.priorityStringMap = {
                HIGH: 1,
                NORMAL: 3,
                LOW: 5
            };

            self.showResize = ko.observable(!self.data.hideResize || false);

            self.viewExpanded = ko.observableArray((self.data.viewExpanded ? ['true'] : []));

            //Hack for waiting for frevvo form to Post submit message .
            // Also if the frevvo ear doent have the fix for post message
            // Its required as frevvo fires multiple Post Message
            self.waitForMessage = false;

            // If the task is completed
            self.readOnly = ko.observable(false);

			self.viewExpandedSubscription= self.viewExpanded.subscribe(function(newValue) {
                var isExpanded = newValue[0] === 'true';
                $('#pcs-td-expand', self.rootElement).trigger('taskdetail:expandDetailView', isExpanded);
			});

            self.componentRenderCount = 0;

            var handleComponentRenderStart = function() {
                self.componentRenderCount++;
            };

            var handleComponentRenderFinish = function() {
                loggerUtil.log(self.componentRenderCount);
                self.componentRenderCount--;
                if (self.componentRenderCount === 0) {
                    setTimeout(function() {
                        self.rootElement.trigger('taskdetail:loaded');
                    }, 500);
                }
            };

            //This method is to get the task Object
            self.initTaskdetail = function() {
                //Start the loading indicator
                $('#pcs-td-overlay').addClass('pcs-common-load-overlay');

                //trigger service to fetch data for task number
                services.getTaskObject(self.taskNumber).done(
                    function(data, textStatus, jqXHR) {
                        // Hide the loading indicator
                        $('#pcs-td-overlay').removeClass('pcs-common-load-overlay');
                        $('#pcs-td-error', self.rootElement).hide();
                        $('#pcs-td-detailContainer', self.rootElement).show();

                        //populate task object
                        self._populateTaskObject(data);

                        // set form type
                        if (data['formMetadata'] && data['formMetadata'].indexOf('/webforms/')) {
                            self.formType('webform');
                        }
                        else if(data['externalUIURL']){
							self.formType('external');
						}
                        else {
                        	//no frevvo in EC
                            self.formType('none');
                        }

                        //Load form
                        self.initForm(data);

                        //don't do anything for external form
						if(self.formType() != 'external'){
							//load attachments
							self.initAttachment(self.data);

							//load comments
							self.initComments();

							//load conversation
							self.initConversation();
						}

                        //set the renderFlag back to false
                        self.renderFlag = false;
                    }
                ).fail(
                    function(jqXHR) {
                        // Hide the loading indicator
                        $('#pcs-td-overlay').removeClass('pcs-common-load-overlay');

                        //Hide Task Detail UI
                        $('#pcs-td-detailContainer', self.rootElement).hide();

                        var msg = ''; //self.bundle.pcs.common.access_error_msg;
                        self.tdContainerErrorHandler(jqXHR, msg);
                    }
                );
            };

			//Function to clean up the element and un apply its bindings
            self.cleanUpFormContainer = function(){
				if (self.formType() === 'webform') {
					var rootNode = $('#pcs-td-form-container', self.rootElement);
					if (rootNode && rootNode.length > 0) {
						ko.cleanNode(rootNode['0']);
						//Un apply the bindings for the node and its children
						pcsUtil.unApplyBindings(rootNode, false);
					}
				}
			};

            self.tdContainerErrorHandler = function(jqXHR, customMsg) {
                var msg = self.ajaxErrorHandler(jqXHR, customMsg);
                $('#pcs-td-error-msg', self.rootElement).text(msg);
                $('#pcs-td-error', self.rootElement).show();
            };

            self.actionErrorHandler = function(jqXHR, customMsg) {
                var msg = self.ajaxErrorHandler(jqXHR, customMsg);
                $('#pcs-td-action-error-msg', self.rootElement).text(msg);
                $('#pcs-td-action-error-msg-container', self.rootElement).show().delay(5000).fadeOut(2000);
            };

            self.formErrorHandler = function(jqXHR, customMsg) {
                var msg =customMsg; // self.ajaxErrorHandler(jqXHR, customMsg);

                $('#pcs-td-form-error-msg', self.rootElement).text(msg);
                $('#pcs-td-form-error-container', self.rootElement).show().delay(5000).fadeOut(2000);
            };

            // Error handler method for the plugin
            self.ajaxErrorHandler = function(jqXHR, customMsg) {
                var msg = customMsg;
                if (jqXHR && jqXHR.status === 0) {
                    msg = self.bundle.pcs.common.server_not_reachable;
                }
                if (jqXHR && jqXHR.status === 500) {
                    msg = self.bundle.pcs.common.internal_server_err;
                } else if (jqXHR && jqXHR.status === 401) {
                    // reset valid authInfo as the current auth is invalid
                    msg = self.bundle.pcs.common.access_error_msg;
                } else if (jqXHR && jqXHR.status === 404) {
                    // reset valid authInfo as the current auth is invalid
                    msg = self.bundle.pcs.common.not_found_error;
                }
                return msg;
            };

            function showValidationError(error) {
                var errorMsg = self.bundle.pcs.taskdetail.form_validation_error;
				if(error && error.id === 'CANCELED'){
					errorMsg = error.message;
				}
                self.formErrorHandler(null, errorMsg);
                //Hide overlay
                $('#pcs-td-overlay').removeClass('pcs-common-load-overlay');
            }


            // Method to Load appropriate form
            self.initForm = function(data) {
                if (self.formType() === 'webform') {
                    self.initWebform(data);
                } else if (self.formType() === 'frevvo'){
                    self.initFrevvoForm();
                }else if(self.formType() === 'external'){
					self.initExternalForm(data.externalUIURL);
				}else{
					$('#pcs-td-form-container', self.rootElement).empty();
					$('#pcs-td-form-empty-text', self.rootElement).show();
				}
            };


			/**
			 * function called for loading external Form
			 * @param url
			 */
			self.initExternalForm = function(url){
				//show loading indicator
				$('#pcs-td-external-form-loading', self.rootElement).show();

				//clean old events
				$('#pcs-td-external-form-iframe', self.rootElement).off();

				//clean old url
				self.formURL('');

				//hide the buttons by default
				$('.pcs-td-close-selector', self.rootElement).hide();
				$('.pcs-td-expand-selector', self.rootElement).hide();

				// url = "http://localhost:8000/test/externalForm/externalForm.html?taskNumber="+ self.taskObject.number();

				self.formURL(url);

				//attach onload event
				$('#pcs-td-external-form-iframe', self.rootElement).on('load', function() {
					//stop loading indicator
					$('#pcs-td-external-form-loading', self.rootElement).hide();
				});
			}

            // Method to Load Oracle webform
            self.initWebform = function(data) {
                //Start the loading indicator of form
                $('#pcs-td-form-loading', self.rootElement).show();

                if (data['payload'] && data['payload']['payload'] && data['payload']['payload']['href']) {
                    var payloadUrl = data['payload']['payload']['href'];
                    var formMetadataUrl = data['formMetadata'];

                    if (formMetadataUrl && payloadUrl) {
                        handleComponentRenderStart();

                        services.getTaskPayloadByURL(payloadUrl)
                            .done(function(payload) {
                                var webFormContainer = $('#pcs-td-form-container', self.rootElement);
                                var formRendererId = 'task-' + self.taskNumber;
                                var properties = {
                                    formMetadataUrl: formMetadataUrl,
                                    payload: payload,
                                    webFormContainer: webFormContainer,
                                    formRendererId: formRendererId,
									readOnly : self.readOnly(),
									outcomeCallback : self._saveOrSubmitTaskWithWebform
                                };
                                pcsFormUtil.loadPCSForm(properties)
                                    .then(function() {
                                        $('#pcs-td-form-loading', self.rootElement).hide();
                                        handleComponentRenderFinish();
                                    }, function(jqXHR) {
                                        $('#pcs-td-form-loading', self.rootElement).hide();
                                        var msg = self.bundle.pcs.taskdetail.form_retrieve_error;
                                        self.formErrorHandler(jqXHR, msg);
                                        handleComponentRenderFinish();
                                    });
                            }).fail(function(jqXHR) {
                                $('#pcs-td-form-loading', self.rootElement).hide();
                                var msg = self.bundle.pcs.taskdetail.taskform_error;
                                self.formErrorHandler(jqXHR, msg);
                                handleComponentRenderFinish();
                            });
                    }
                } else {
                    $('#pcs-td-form-loading', self.rootElement).hide();
                    var msg = self.bundle.pcs.taskdetail.form_retrieve_error;
                    self.formErrorHandler(null, msg);
                }
            };

            // Method to Load frevvo form
            self.initFrevvoForm = function() {
                //Start the loading indicator of form
                $('#pcs-td-form-loading', self.rootElement).show();

                handleComponentRenderStart();
                services.getFrevvoFormUrl(self.taskNumber).done(
                    function(data, textStatus, jqXHR) {
                        // Set the form URL
                        if (data && data !== '') {
                            self.formURL(data);
                        } else {
                            var customMsg = self.bundle.pcs.taskdetail.no_form;
                            self.formErrorHandler(jqXHR, customMsg);
                        }
                        handleComponentRenderFinish();
                    }
                ).fail(
                    function(jqXHR) {
                        // Hide the loading indicator
                        $('#pcs-td-form-loading', self.rootElement).hide();

                        //there is no form associated with this task
                        var msg = '';
                        if (jqXHR && jqXHR.status === 404) {
                            msg = self.bundle.pcs.taskdetail.no_form;
                        } else {
                            msg = self.bundle.pcs.taskdetail.form_load_error;
                        }
						self.formType('none');
						$('#pcs-td-form-container', self.rootElement).hide();
                        self.formErrorHandler(jqXHR, msg);
                        handleComponentRenderFinish();
                    }
                );
            };

            // Method to Load attachment snippet
            self.initAttachment = function() {
                if (!self.data.hideAttachment) {
					var attachmentsOptions = typeof self.data.attachmentsOptions === 'string' ? JSON.parse(self.data.attachmentsOptions) : self.data.attachmentsOptions;
					self._attachAttachmentPlugin(attachmentsOptions);
                }
            };

            // This use case is handled by attachment UI itself
            // Internal method to get DOCS folder
            //self._getTaskFolderName = function(href) {
            //    services.getTaskFolderName(href).done(
            //        function (data, textStatus, jqXHR) {
            //           var data= JSON.parse(data);
            //          self._attachAttachmentPlugin(data.dcsfolder);
            //        }
            //    ).fail(
            //        function (jqXHR) {
            //            // Hide the loading indicator
            //            $('#pcs-td-loading', self.rootElement).hide();
            //            var customMsg = 'Error occurred while getting attachment';
            //            $('#pcs-td-action-error-msg',self.rootElement).text(customMsg);
            //            $('#pcs-td-action-error-msg-container',self.rootElement).show().delay(5000).fadeOut(2000);
            //        }
            //    );
            //
            //};

            // Method to attach attachment plugin to the UI
            self._attachAttachmentPlugin = function(options) {
                //  loggerUtil.log(dcsfolderName);
                var attachmentDiv = $('#pcs-td-attachment-container', self.rootElement);

                //if the plugin was already used  clean it up
                if (attachmentDiv && attachmentDiv.data() && !$.isEmptyObject(attachmentDiv.data())) {
                    attachmentDiv.attachments('destroy');
                }

                ko.cleanNode(attachmentDiv['0']);
                handleComponentRenderStart();
                self.attachmentPlugin = attachmentDiv.attachments({
                    hideTitle: true,
                    mode: 'task',
                    id: self.taskNumber,
                    readOnly: self.readOnly(),
                    isDocsEnabled: self.selectedTaskObject.isDocsEnabledFlag,
					showDocsInline: options.showDocsInline
                });

                // Defining the event listeners --
                attachmentDiv.on('attachments:attachmentUploaded', function(event, attachment) {
                    // loggerUtil.log('attachment added');
                    self.rootElement.trigger('taskdetail:attachmentUploaded', [attachment]);
                });

                // Defining the event listeners --
                attachmentDiv.on('attachments:attachmentRemoved', function(event, attachment) {
                    // loggerUtil.log('attachment remvoed');
                    self.rootElement.trigger('taskdetail:attachmentRemoved', [attachment]);
                });

                attachmentDiv.on('attachments:loaded', function(event) {
                    //loggerUtil.log('Attachments');
                    handleComponentRenderFinish();
                });
            };

            // Method to Load Conversation snippet
            self.initConversation = function() {
                if (!self.data.hideConversation && self.selectedTaskObject.isConversationEnabledFlag) {
                    $('#pcs-td-conversation', self.rootElement).show();
                    $('#pcs-td-link-conversation', self.rootElement).show();
                    self._attachConversationPlugin();
                }
            };

            // Method to attach Conversation plugin to the UI
            self._attachConversationPlugin = function() {
                var conversationDiv = $('#pcs-td-conversation-container', self.rootElement);

                //if the plugin was already used  clean it up
                if (conversationDiv && conversationDiv.data() && !$.isEmptyObject(conversationDiv.data())) {
                    conversationDiv.conversation('destroy');
                }

                ko.cleanNode(conversationDiv['0']);
                handleComponentRenderStart();
                self.conversationPlugin = conversationDiv.conversation({
                    id: self.taskNumber,
                    mode: 'task'
                });

                // Defining the event listeners --
                conversationDiv.on('conversations:loaded', function(event) {
                    //loggerUtil.log('Conversations');
                    handleComponentRenderFinish();
                });
            };

            // Method to Load Comments snippet
            self.initComments = function() {
                if (!self.data.hideComments) {
                    self._attachCommentPlugin();
                }
            };

            // Method to attach Comments plugin to the UI
            self._attachCommentPlugin = function() {
                var commentsDiv = $('#pcs-td-comments-container', self.rootElement);

                //if the plugin was already used  clean it up
                if (commentsDiv && commentsDiv.data() && !$.isEmptyObject(commentsDiv.data())) {
                    commentsDiv.comments('destroy');
                }

                ko.cleanNode(commentsDiv['0']);
                handleComponentRenderStart();
                self.commentsPlugin = commentsDiv.comments({
                    id: self.taskNumber,
                    readOnly: self.readOnly(),
                    hideTitle: true
                });

                // Defining the event listeners --
                commentsDiv.on('comments:commentAdded', function(event, comment) {
                    // loggerUtil.log('event received');
                    self.rootElement.trigger('taskdetail:commentAdded', [comment]);
                });
                commentsDiv.on('comments:loaded', function(event) {
                    //loggerUtil.log('Comments');
                    handleComponentRenderFinish();
                });
            };

            // method called when user clicks discard
            self.closeTaskDetail = function(data, event) {
                if(self.readOnly()){
					self.yesDiscardDialog();
				}
				else{
					$('#pcs-td-close-dialog', self.rootElement).ojDialog('open');
				}
            };


			/**
			 * method to read the comment componet to get any unsaved text
			 * @returns {*}
			 */
			self.getUnsavedComment = function(){
            	var comment ;
				if (self.data.postUnsavedComment && self.data.postUnsavedComment === true ) {
					var commentStr = self.commentsPlugin.comments('getUnsavedComment');
					if(commentStr && commentStr.trim() != ''){
						comment=  {
							commentStr: commentStr, commentScope: "BPM"
						}
					}
				}
				return comment;
			};

			/**
			 * method to store the payload info
			 * @param id
			 * @param actionType
			 */
			self.storePayloadInfo = function (id, actionType){

				self.payload = {
					action: {
						id: id,
						type: actionType
					}
				};

				var comment = self.getUnsavedComment();
				if(comment){
					self.payload["comment"] = comment;
				}
			};

            // method called when user clicks save
            self.saveTaskDetail = function(data, event) {
				//Start the loading indicator
				$('#pcs-td-overlay', self.rootElement).addClass('pcs-common-load-overlay');

                self.payload = {
                    action: {
                        id: 'SAVE'
                    }
                };
                if (self.formType() === 'frevvo') {
                    self._saveOrSubmitTaskWithFrevvo('save');
                } else  if (self.formType() === 'webform') {
                    self._saveTaskWithWebform('save');
                }
                else{
					self._performTaskAction('save');
				}
            };

            // method called when user clicks submit
            self.submitTaskDetail = function(data, event) {
                var id = data.actionId;

                if (!id) {
                    id = data.title;
                }

                // store the payload info
				self.storePayloadInfo(id, data.actionType);

				//Start the loading indicator
				$('#pcs-td-overlay', self.rootElement).addClass('pcs-common-load-overlay');

                if (self.formType() === 'frevvo') {
                    //if the frevvo form is present then do the validation first
                    var formUrl = self.formURL();
                    if (formUrl && formUrl !== '') {
                        var iframe = $('#pcs-td-form-iframe', self.rootElement)[0].contentWindow;

                        //submit the form for validation
                        iframe.postMessage('formValidation', pcsUtil.getServerURL());
                        self.waitForMessage = true;



                        //Call it when Post message fails to come back even after 5 seconds
                        setTimeout(function() {
                            if (self.waitForMessage) {
                                self.waitForMessage = false;
                                self._saveOrSubmitTaskWithFrevvo('submit');
                            }
                        }, 5000); // 10 seconds
                    } else {
                        self._saveOrSubmitTaskWithFrevvo('submit');
                    }
                }
                else  if (self.formType() === 'webform'){
                    self._submitTaskWithWebform('submit');
                }
                else{
					self._performTaskAction('submit');
				}
            };

            //method which saves the form first and then call method to perform action on the task
            self._saveOrSubmitTaskWithFrevvo = function(type) {

                //Start the loading indicator
                $('#pcs-td-overlay', self.rootElement).addClass('pcs-common-load-overlay');

                var formUrl = self.formURL();
                if (formUrl && formUrl !== '') {
                    //Save the frevvo form
                    services.saveFrevvoForm(self.taskNumber, self.formURL()).done(
                        function(data, textStatus, jqXHR) {
                            self._performTaskAction(type);
                        }
                    ).fail(
                        function(jqXHR) {
                            var customMsg = self.bundle.pcs.taskdetail.form_save_error;
                            self.actionErrorHandler(jqXHR, customMsg);

                            // remove overlays for loading
                            $('#pcs-td-overlay', self.rootElement).removeClass('pcs-common-load-overlay');
                        }
                    );
                } else {
                    self._performTaskAction(type);
                }
            };

            self._saveTaskWithWebform = function(type) {
                self._saveOrSubmitTaskWithWebform(type, '');
            };

            self._saveOrSubmitTaskWithWebform = function(type, outcome , caller) {
                var formRender = $('form-renderer[id*=\'task-' + self.taskNumber + '\']', self.rootElement);

				if(!formRender || formRender.length ===0 ){
					return ;
				}

				if (caller && caller === 'FORMS'){
					// store the payload info
					self.storePayloadInfo(outcome, 'Custom');
				}

				//Start the loading indicator
				$('#pcs-td-overlay', self.rootElement).addClass('pcs-common-load-overlay');

                pcsFormUtil.saveOrSubmitPCSForm(formRender, type, outcome)
                    .then(function(payloadToUpdate) {
                        try {
                            services.postTaskPayload(self.taskNumber, payloadToUpdate).done(
                                function(data, textStatus, jqXHR) {
                                    self._performTaskAction(type);
                                }
                            ).fail(function(jqXHR) {
                                self.actionErrorHandler(jqXHR, self.bundle.pcs.taskdetail.payload_update_error);
                                // remove overlays for loading
                                $('#pcs-td-overlay').removeClass('pcs-common-load-overlay');
                            });
                        } catch (err) {
                            if (type === 'save') {
                                self.actionErrorHandler(null, self.bundle.pcs.taskdetail.form_save_error);
                            } else {
                                self.actionErrorHandler(null, self.bundle.pcs.taskdetail.form_submit_error);
                            }

                            // remove overlays for loading
                            $('#pcs-td-overlay').removeClass('pcs-common-load-overlay');
                        }
                    }, function(error) {
                        showValidationError(error);
                    });
            };

            self._submitTaskWithWebform = function(type) {
				var outcome = self.payload.action.id;
                self._saveOrSubmitTaskWithWebform(type, outcome);
            };


            self._performTaskAction = function(type) {
                var payload = self.payload;

                // Check if priority changed , if yes store it in the payload
                var currentPriority = self.priorityStringMap[self.taskObject.priority()];
                var initialPriority = self.selectedTaskObject.priority;

                if (currentPriority !== initialPriority) {
                    payload.priority = currentPriority;
                }

                // perform task action
                services.performTaskAction(self.taskNumber, JSON.stringify(payload)).done(
                    function(data) {
                        // remove overlays for loading
                        $('#pcs-td-overlay', self.rootElement).removeClass('pcs-common-load-overlay');
                        var msg;
                        //Trigger the event
                        if (type === 'submit') {
                            self.rootElement.trigger('taskdetail:submit', [data, payload.action.id]);
                            msg = self.bundle.pcs.taskdetail.action_performed;
                            var actionLabel = self.bundle.pcs.taskActions[payload.action.id]?self.bundle.pcs.taskActions[payload.action.id]:payload.action.id.toLowerCase();
                            msg = oj.Translations.applyParameters(msg, {
                                '0': actionLabel
                            });
                        } else {
                            self.rootElement.trigger('taskdetail:save', [data]);
                            msg = self.bundle.pcs.taskdetail.task_saved;
                        }

						//Cleans up the form container in save flow
						self.cleanUpFormContainer();

						//Load the taskdetail again
						if((type === 'save' && self.data.reloadOnSave) || (type === 'submit' && self.data.reloadOnSubmit)){

							self.initTaskdetail();

							$('#pcs-td-action-success-msg', self.rootElement).text(msg);
							$('#pcs-td-action-success-msg-container', self.rootElement).show().delay(5000).fadeOut(2000);
						}else{
							$('#pcs-td-mainContainer', self.rootElement).hide();
							$('#pcs-td-mainContainer-submitted', self.rootElement).show();
							$('#pcs-td-success-msg-submitted', self.rootElement).text(msg);
						}

                    }
                ).fail(
                    function(jqXHR) {
                        var customMsg = self.bundle.pcs.taskdetail.action_error;
                        self.actionErrorHandler(jqXHR, customMsg);

                        // remove overlays for loading
                        $('#pcs-td-overlay', self.rootElement).removeClass('pcs-common-load-overlay');
                    }
                );

            };


            // Method called when yest button clicked on the discard dialog
            self.yesDiscardDialog = function() {
                $('.pcs-td-close-dialog').ojDialog('close');
				self.cleanUpFormContainer();
				self.notifyExternalForm();
				self.rootElement.trigger('taskdetail:close', [ko.toJS(self.taskObject)]);
            };

            // Method called when yest button clicked on the discard dialog
            self.noDiscardDialog = function() {
                $('.pcs-td-close-dialog').ojDialog('close');
            };

            // Method called when closed button clicked on the Error dialog
            self.closeErrorDialog = function() {
                $('.pcs-td-error-dialog').ojDialog('close');
            };


			/**
			 * function to recive window postMessage for external form
			 * @param event
			 */
			self.receiveExternalFormPostMessage = function(event) {

				var key = event.message ? 'message' : 'data';
				var eventData = event[key];

				//check if the data is from external form
				//Format : {source:externalForm, event:loaded, data: {formHeight : 600} }
				//https://confluence.oraclecorp.com/confluence/display/BPM/PCS+External+UI+-+Phase+1

				if (typeof eventData === 'string' || eventData instanceof String){
					return;
				}

				if (eventData && eventData['source'] === 'externalForm') {
					//message by externaForm
					//var eventData = JSON.parse(data);

					//check for loaeded evet
					if(eventData['event'] === 'loaded'){

						//check if there is data
						if(eventData['data']){
							//see if form Height is set
							if(eventData['data']['formHeight']){
								var formHeight = eventData['data']['formHeight'];
								var height;
								try {
									height = parseInt(formHeight) + 20;
								} catch (err) {
									height = 600;
								}

								$('#pcs-td-external-form-iframe', self.rootElement).css('height', height);
							}

							if(eventData['data']['showCloseIcon']){
								$('.pcs-td-close-selector', self.rootElement).show();
							}

							if(eventData['data']['showResizeIcon']){
								$('.pcs-td-expand-selector', self.rootElement).show();
							}

						}

					}

					//event for reloading the externalForm
					if(eventData['event'] === 'reload'){
						self.initExternalForm(self.formURL());
					}

					//event for closing the taskDetail without refreshing tasklist
					if(eventData['event'] === 'close'){
						self.rootElement.trigger('taskdetail:close', [ko.toJS(self.taskObject)]);
					}

					//event for action performed in External form, Fire submit event to reload tasklist
					if(eventData['event'] === 'done') {
						var actionId = eventData['data']['actionId'];
						var msg = self.bundle.pcs.taskdetail.action_performed;
						var actionLabel = self.bundle.pcs.taskActions[actionId]?self.bundle.pcs.taskActions[actionId]:actionId.id.toLowerCase();
						msg = oj.Translations.applyParameters(msg, {
							'0': actionLabel
						});

						$('#pcs-td-external-detailContainer', self.rootElement).hide();
						$('#pcs-td-mainContainer-submitted', self.rootElement).show();
						$('#pcs-td-success-msg-submitted', self.rootElement).text(msg);


						self.rootElement.trigger('taskdetail:submit', [ko.toJS(self.taskObject),actionId ]);
					}
				}

			};

            /*
            	FREVVO : - not used in External compute
             Method to receive postMessage , for submitting form or setting page height
             */
            /*
            self.receivePostMessage = function(event) {
                if (event.origin !== pcsUtil.getServerURL()) {
                    return;
                }

                var key = event.message ? 'message' : 'data';
                var data = event[key];

                //If its a form submit success,  submit the form
                if (data === 'formValidation:success') {
                    //loggerUtil.log('trying to save')
                    if (self.waitForMessage) {
                        self.waitForMessage = false;
                        self._saveOrSubmitTaskWithFrevvo('submit');
                    }
                }

                //If its a form submit error,  Show error message
                if (data.startsWith('formValidation:error')) {
                    if (self.waitForMessage) {
                        self.waitForMessage = false;
                        var errorMsg = self.bundle.pcs.taskdetail.form_validation_error;
                        var msg = data.substring('formValidation:error'.length + 1);
                        errorMsg = errorMsg + '\r\n\r\n' + msg;

                        //Show local Message
                        self.actionErrorHandler(null, errorMsg);
                        //Hide overlay
                        $('#pcs-td-overlay', self.rootElement).removeClass('pcs-common-load-overlay');
                    }
                }

                // if its the form height , change iframe height
                if (data.startsWith('formHeight')) {
                    var formHeight = data.substring('formHeight'.length + 1);
                    var height;
                    try {
                        height = parseInt(formHeight) + 20;
                    } catch (err) {
                        height = 400;
                    }

                    // Check if the user specified form Height is more than actual form height
                    if (self.data.formHeight && self.data.formHeight !== '') {
                        try {
                            var userHeight = parseInt(self.data.formHeight, 10);
                            if (userHeight > height) {
                                height = userHeight;
                            }
                        } catch (err) {
                            height = height;
                        }
                    }

                    $('#pcs-td-form-iframe', self.rootElement).css('height', height);
                }

            };

			// FREVVO : - not used in External compute
            //Method to attach to Iframe load event to hide the loading indicator
            self.attachEvents = (function() {
                $('#pcs-td-form-iframe', self.rootElement).on('load', function() {
                    $('#pcs-td-form-loading', self.rootElement).hide();

                    if (self.data.formHeight && self.data.formHeight !== '') {
                        $('#pcs-td-form-iframe', self.rootElement).css('height', self.data.formHeight);
                    }
                });
            }());
			*/

            /**
             * method to clean all eevnts associsated
             */
            self.cleanEvents = function() {
                // Remove the PostMessage handler
                //pcsUtil.eventHandler.removeHandler(window, 'message', self.receivePostMessage); FREVVO : - not used in External compute
				pcsUtil.eventHandler.removeHandler(window, 'message', self.receiveExternalFormPostMessage);
				$('#pcs-td-attachment-container', self.rootElement).off();
				$('#pcs-td-conversation-container', self.rootElement).off();
				$('#pcs-td-comments-container', self.rootElement).off();
				$('#pcs-td-form-iframe', self.rootElement).off();
				$('#pcs-td-external-form-iframe', self.rootElement).off();
				$(self.rootElement).off();
            };

            /**
             * method to add events
             */
            self.addEvents = (function() {
                // Add the PostMessage handler
               // pcsUtil.eventHandler.addHandler(window, 'message', self.receivePostMessage); FREVVO : - not used in External compute
				pcsUtil.eventHandler.addHandler(window, 'message', self.receiveExternalFormPostMessage);
            }());

            // Method to read widget options and do required UI tweaking
            self.readOptions = function() {
                if (self.data.hideActions) {
                    $('#pcs-td-custom-actions', self.rootElement).hide();
                }
                if (self.data.hideSave) {
                    $('#pcs-td-save', self.rootElement).hide();
                }
                if (self.data.hideClose) {
                    $('.pcs-td-close-selector', self.rootElement).hide();
                }
                if (self.data.hideAttachment) {
                    $('#pcs-td-attachments', self.rootElement).hide();
                    $('#pcs-td-link-attachments', self.rootElement).hide();
                }
                if (self.data.hideComments) {
                    $('#pcs-td-comments', self.rootElement).hide();
                    $('#pcs-td-link-comments', self.rootElement).hide();
                }
                if (self.data.hideHistory) {
                    $('#pcs-td-history', self.rootElement).hide();
                    $('#pcs-td-link-history', self.rootElement).hide();
                }
                if (self.data.hideMoreInfo) {
                    $('#pcs-td-moreInfo', self.rootElement).hide();
                    $('#pcs-td-link-moreInfo', self.rootElement).hide();
                }
                if (self.data.hideConversation) {
                    $('#pcs-td-conversation', self.rootElement).hide();
                    $('#pcs-td-link-conversation', self.rootElement).hide();
                }
                if (self.data.hideLinks) {
                    $('#pcs-td-links', self.rootElement).hide();
                }

                if (self.data.formHeight && self.data.formHeight !== '') {
                    $('#pcs-td-form-frame', self.rootElement).css('height', self.data.formHeight);
                }
            };

            self.initComponents = function() {
                self.readOptions();
                self.initTaskdetail();
                self.initTaskHistory();
            };


            self.initTaskHistory = function() {
                if (!ko.components.isRegistered('taskHistory')) {
                    ko.components.register('taskHistory', {
                        template: historyView,
                        viewModel: historyVM
                    });
                }
            };


            self._populateTaskObject = function(task) {
                self.selectedTaskObject = task;

                self.taskObject.title(task.title);
                self.taskObject.shortSummary(task.shortSummary);
                self.taskObject.creator(task.createdBy);

                self.taskObject.fromUser(task.fromUserDisplayName);
                self.taskObject.number(task.number);
                self.taskObject.outcome(task.outcome);
                self.taskObject.processName(task.processName);

                self.taskObject.state(task.state);
                self.taskObject.instanceId(task.processId);

                //add dates
				self.taskObject.assignedDate(dateUtil.getFormattedDate( dateUtil.getDateInUserTimezone(task.assignedDate)));
				self.taskObject.createdDate(dateUtil.getFormattedDate(dateUtil.getDateInUserTimezone( task.createdDate)));
				self.taskObject.dueDate(dateUtil.getFormattedDate(dateUtil.getDateInUserTimezone(task.dueDate)));
                self.taskObject.updatedDate(dateUtil.getFormattedDate(dateUtil.getDateInUserTimezone(task.updatedDate)));

                self.taskObject.priority.removeAll();
                self.taskObject.priority.push(self.priorityMap[task.priority]);

                if (task.isDocsEnabledFlag){
					self.attachmentsLabel(self.bundle.pcs.attachments.documents_dialog_title);
				}

                if (task.ownerRole) {
                    self.taskObject.owner(task.ownerRole + ' (' + self.bundle.pcs.taskdetail.role + ')');
                } else if (task.ownerGroup) {
                    self.taskObject.owner(task.ownerGroup + ' (' + self.bundle.pcs.taskdetail.group + ')');
                } else if (task.ownerUser) {
                    self.taskObject.owner(task.ownerUser + ' (' + self.bundle.pcs.taskdetail.user + ')');
                }

                self.taskObject.customActions.removeAll();
                self.taskObject.systemActions.removeAll();

                var isUpdateable = false;

                for (var i = 0; i < task.actionList.length; i++) {
                    var action = task.actionList[i];
                    if (action.actionType === 'System') {
                        self.taskObject.systemActions.push(action);
                    } else {
                        self.taskObject.customActions.push(action);
                    }
                    if (action.actionId === 'UPDATE_TASK_PAYLOAD'){
						isUpdateable = true;
					}
                }

                // var outcome = task.outcome;
                //
                // // Make the detail readOnli as the task is completed
                // if (outcome) {
                //     self.readOnly(true);
                // }
				self.readOnly(!isUpdateable);

            };

            self.openComments = function(data, event) {
                $('#pcs-td-comments', self.rootElement).ojCollapsible({
                    'expanded': true
                });
                $('#pcs-td-comments-container', self.rootElement)[0].scrollIntoView(true);
            };

            self.openAttachments = function() {
                $('#pcs-td-attachments', self.rootElement).ojCollapsible({
                    'expanded': true
                });
                $('#pcs-td-attachment-container', self.rootElement)[0].scrollIntoView(true);
            };

            self.openHistory = function() {
                $('#pcs-td-history', self.rootElement).ojCollapsible({
                    'expanded': true
                });
                $('#pcs-td-history-container', self.rootElement)[0].scrollIntoView(true);
            };

            self.openMoreInfo = function() {
                $('#pcs-td-moreInfo', self.rootElement).ojCollapsible({
                    'expanded': true
                });
                $('#pcs-td-moreInfo-container', self.rootElement)[0].scrollIntoView(false);
            };

            self.openConversation = function() {
                $('#pcs-td-conversation', self.rootElement).ojCollapsible({
                    'expanded': true
                });
                $('#pcs-td-conversation-container', self.rootElement)[0].scrollIntoView(false);
            };

            //Load the components
            self.initComponents();


            self.notifyExternalForm = function(){
				if(self.formType() === 'external'){
					loggerUtil.log('Notifying external form');
					var msg = {
						source:'processUI',
						event:'close',
						data: {}
					}

					var iframe = $('#pcs-td-external-form-iframe', self.rootElement)[0];
					if(iframe){
						iframe =iframe.contentWindow;
						iframe.postMessage(JSON.stringify(msg), '*');
					}
				}
			}


			/**
			 * method to clean up everything
			 */
			self.dispose = function() {
				loggerUtil.log('dispose in taskdetail Containor');
				self.viewExpandedSubscription.dispose();

				// clean up the events
				self.cleanEvents();

				// clean up form
				self.cleanUpFormContainer();

				self.notifyExternalForm();
			};

		}

        return TaskdetailContainer;
    });


define('text!pcs/taskdetail/templates/pcs-taskdetail-error.html',[],function () { return '<div class="oj-message oj-message-error">\n    <span class="oj-component-icon oj-message-status-icon oj-message-error-icon"\n          role="img">\n    </span>\n    <span class="oj-message-content">\n        <div class="oj-message-summary">\n            Required parameters are missing\n        </div>\n        <div class="oj-message-detail">\n            <span>This component requires these values -</span>\n            <pre>\n    *taskNumber : \'\'\n    </pre>\n        </div>\n    </span>\n</div>\n';});


define('text!pcs/taskdetail/templates/pcs-task-moreinfo.html',[],function () { return '<script type="text/html" id="pcs-td-moreInfo-template">\n    <div id="pcs-td-moreInfo-cont" class="oj-form-layout">\n        <div class="oj-form oj-sm-odd-cols-12 oj-md-odd-cols-4 oj-md-labels-inline oj-form-cols-labels-inline oj-form-cols-max2">\n            <div class="oj-flex" id="pcs-td-moreInfo-pr-c">\n                <div class="oj-flex-item">\n                    <label for="pcs-td-moreInfo-pr" data-bind="text:bundle.pcs.taskdetail.priority"></label>\n                </div>\n                <div class="oj-flex-item">\n                    <select id="pcs-td-moreInfo-pr"\n                            data-bind="ojComponent: {component: \'ojSelect\',options: priorityOptions, disabled :readOnly,\n                                            value:taskObject.priority }">\n                    </select>\n                </div>\n            </div>\n            <div class="oj-flex" id="pcs-td-moreInfo-cb-c">\n                <div class="oj-flex-item">\n                    <label for="pcs-td-moreInfo-cb"  data-bind="text:bundle.pcs.taskdetail.createdBy"></label>\n                </div>\n                <div class="oj-flex-item">\n                    <input id="pcs-td-moreInfo-cb"\n                           data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.creator, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }">\n                </div>\n            </div>\n            <div class="oj-flex" id="pcs-td-moreInfo-co-c">\n                <div class="oj-flex-item">\n                    <label for="pcs-td-moreInfo-co" data-bind="text:bundle.pcs.taskdetail.createdOn"></label>\n                </div>\n                <div class="oj-flex-item">\n                    <input id="pcs-td-moreInfo-co"\n                           data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.createdDate, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }">\n                </div>\n            </div>\n            <div class="oj-flex" id="pcs-td-moreInfo-do-c">\n                <div class="oj-flex-item">\n                    <label for="pcs-td-moreInfo-do" data-bind="text:bundle.pcs.taskdetail.dueOn"></label>\n                </div>\n                <div class="oj-flex-item">\n                    <input id="pcs-td-moreInfo-do"\n                           data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.dueDate, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }">\n                </div>\n            </div>\n            <div class="oj-flex" id="pcs-td-moreInfo-uo-c">\n                <div class="oj-flex-item">\n                    <label for="pcs-td-moreInfo-uo" data-bind="text:bundle.pcs.taskdetail.updatedOn"></label>\n                </div>\n                <div class="oj-flex-item">\n                    <input id="pcs-td-moreInfo-uo"\n                           data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.updatedDate, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }">\n                </div>\n            </div>\n            <!--<div class="oj-flex" id="pcs-td-moreInfo-ao-c">-->\n            <!--<div class="oj-flex-item">-->\n            <!--<label for="pcs-td-moreInfo-ao">Assigned On</label>-->\n            <!--</div>-->\n            <!--<div class="oj-flex-item">-->\n            <!--<input id="pcs-td-moreInfo-ao"-->\n            <!--data-bind="ojComponent: {component: \'ojInputText\',-->\n            <!--value:taskObject.assignedDate, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }">-->\n            <!--</div>-->\n            <!--</div>-->\n            <div class="oj-flex" id="pcs-td-moreInfo-fu-c">\n                <div class="oj-flex-item">\n                    <label for="pcs-td-moreInfo-fu" data-bind="text:bundle.pcs.taskdetail.fromUser"> </label>\n                </div>\n                <div class="oj-flex-item">\n                    <input id="pcs-td-moreInfo-fu"\n                           data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.fromUser, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }">\n                </div>\n            </div>\n            <div class="oj-flex" id="pcs-td-moreInfo-on-c">\n                <div class="oj-flex-item">\n                    <label for="pcs-td-moreInfo-on"  data-bind="text:bundle.pcs.taskdetail.owner"></label>\n                </div>\n                <div class="oj-flex-item">\n                    <input  id="pcs-td-moreInfo-on"\n                            data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.owner, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }">\n                </div>\n            </div>\n            <div class="oj-flex" id="pcs-td-moreInfo-pn-c">\n                <div class="oj-flex-item">\n                    <label for="pcs-td-moreInfo-pn"  data-bind="text:bundle.pcs.taskdetail.processName"></label>\n                </div>\n                <div class="oj-flex-item">\n                    <input id="pcs-td-moreInfo-pn"\n                           data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.processName, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }">\n                </div>\n            </div>\n            <div class="oj-flex" id="pcs-td-moreInfo-oc-c">\n                <div class="oj-flex-item">\n                    <label for="pcs-td-moreInfo-oc"  data-bind="text:bundle.pcs.taskdetail.outcome"></label>\n                </div>\n                <div class="oj-flex-item">\n                    <input id="pcs-td-moreInfo-oc"\n                           data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.outcome, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }">\n                </div>\n            </div>\n            <div class="oj-flex" id="pcs-td-moreInfo-nb-c">\n                <div class="oj-flex-item">\n                    <label for="pcs-td-moreInfo-nb" data-bind="text:bundle.pcs.taskdetail.number"></label>\n                </div>\n                <div class="oj-flex-item">\n                    <input id="pcs-td-moreInfo-nb"\n                           data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.number, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }">\n                </div>\n            </div>\n\t\t\t<div class="oj-flex" id="pcs-td-moreInfo-state-c">\n\t\t\t\t<div class="oj-flex-item">\n\t\t\t\t\t<label for="pcs-td-moreInfo-state" data-bind="text:bundle.pcs.taskdetail.state"></label>\n\t\t\t\t</div>\n\t\t\t\t<div class="oj-flex-item">\n\t\t\t\t\t<input id="pcs-td-moreInfo-state"\n\t\t\t\t\t\t   data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.state, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="oj-flex" id="pcs-td-moreInfo-ii-c">\n\t\t\t\t<div class="oj-flex-item">\n\t\t\t\t\t<label for="pcs-td-moreInfo-ii" data-bind="text:bundle.pcs.taskdetail.instanceId"></label>\n\t\t\t\t</div>\n\t\t\t\t<div class="oj-flex-item">\n\t\t\t\t\t<input id="pcs-td-moreInfo-ii"\n\t\t\t\t\t\t   data-bind="ojComponent: {component: \'ojInputText\',\n                                            value:taskObject.instanceId, readOnly: true, rootAttributes: {style:\'max-width:100%\'} }"/>\n\t\t\t\t</div>\n\t\t\t</div>\n        </div>\n    </div>\n</script>\n';});

/**
 * Created by nisabhar on 5/6/2016.
 */

define('pcs/pcs.taskdetail',['ojs/ojcore', 'knockout', 'jquery', 'ojL10n!pcs/resources/nls/pcsSnippetsResource', '!text!pcs/taskdetail/templates/pcs-taskdetail.html',
        'pcs/taskdetail/viewModel/taskdetailContainer', '!text!pcs/taskdetail/templates/pcs-taskdetail-error.html',
        '!text!pcs/taskdetail/templates/pcs-task-moreinfo.html', 'pcs/util/loggerUtil', 'jqueryui-amd/widget'
    ],
    function(oj, ko, $, bundle, tmpl, taskdetail, errortmpl, moreinfotmpl,loggerUtil) {
        'use strict';
        // define your widget under pcs namespace
        $.widget('pcs.taskdetail', {

            //Options to be used as defaults
            options: {
                taskNumber: '',
                // to hide action buttons or not
                hideActions: false,
                // to hide save button or not
                hideSave: false,
                // to hide discard button or not
                hideClose: false,
                // to hide hideAttachment or not
                hideAttachment: false,
                // to hide hideComments or not
                hideComments: false,
                // to hide hideHistory or not
                hideHistory: false,
                // to hide hideMoreInfo or not
                hideMoreInfo: false,
                // To hide shortcut links
                hideLinks: false,
                // To hide Conversation
                hideConversation: true,
                // To hide resize button
                hideResize: true,
				//to automatically reload after submit
				reloadOnSubmit: true,
				//to automatically reload after save
				reloadOnSave: true,
                //Height for the form Iframe
                formHeight: '',
				//Options for attachment snippet
				attachmentsOptions: '{}',
				// to post unsaved comment on task action
				postUnsavedComment : false
            },


            // Check if the Required options are provided to the widget
            _isValid: function() {
                if (this.options.taskNumber === undefined || this.options.taskNumber === '') {
                    return false;
                }
                return true;
            },

            _create: function() {
                // _create will automatically run the first time
                // this widget is called. Put the initial widget
                // setup code here, then you can access the element
                // on which the widget was called via this.element.
                // The options defined above can be accessed
                // via this.options this.element.addStuff();
                var widget = this;

                // Check if PCSConenction is set
                if ($.pcsConnection === undefined) {
                    this.element.html('<div style=\'color:red\'>' + bundle.pcs.common.pcs_connection + ' </div>');
                    return;
                }

                // check if the the plugin is initialized correctly
                if (!this._isValid()) {
                    this.element.html(errortmpl);
                    return;
                }

                var data = this.options;
                data.rootElement = widget.element;

                var params = {
                    data: data
                };

                this.element.html(tmpl);
                this.element.append(moreinfotmpl);
                var vm = new taskdetail(params);
                this.model = vm;

                //ko.cleanNode(this.element['0']);
                ko.applyBindings(vm, this.element['0']);
            },

            /**
             * get the current task object from teh give task Number
             * @returns {Array}
             */
            getTaskObject: function() {
                var taskObject = this.model.selectedTaskObject;
                return taskObject;
            },

            // Destroy an instantiated plugin and clean up modifications
            // that the widget has made to the DOM
            destroy: function() {
                //t his.element.removeStuff();
                // For UI 1.8, destroy must be invoked from the base
                // widget

                $.Widget.prototype.destroy.call(this);
                // For UI 1.9, define _destroy instead and don't worry
                // about calling the base widget
            },

			_destroy: function (){
				loggerUtil.log('Destroying taskdetail');
				// clean everything up
				if (this.model) {
					this.model.dispose();
				}
			},

            // Respond to any changes the user makes to the option method
            _setOption: function(key, value) {
                this.options[key] = value;

                // For UI 1.8, _setOption must be manually invoked
                // from the base widget
                $.Widget.prototype._setOption.apply(this, arguments);
                // For UI 1.9 the _super method can be used instead
                // this._super( '_setOption', key, value );
            }
        });
    });

/**
 * Created by nisabhar on 11/17/2016.
 */


define('pcs/dynamicProcess/detail/viewModel/dpDetailVM',['ojs/ojcore', 'knockout', 'jquery', 'pcs/dynamicProcess/services/DPDetailService', 'pcs/util/pcsUtil', 'ojs/ojknockout', 'promise', 'ojs/ojtabs', 'ojs/ojnavigationlist', 'pcs/pcs.taskdetail',
        'pcs/pcs.attachments', 'ojs/ojpopup', 'ojL10n!pcs/resources/nls/pcsSnippetsResource'
    ],
    function(oj, ko, $, InstanceDetail, pcsUtil) {

        'use strict';

        return function(params,componentInfo) {
            var self = this;
			var loggerUtil =  require('pcs/util/loggerUtil');
            var service;
            var element = componentInfo.element;
            self.properties = params;

            var tabid_prefix = 'pcs-dp-det-act-tab-items-task-';
            var activityDetail_divid_prefix = 'pcs-dp-det-act-tab-items-data-';

            //Attributes for top section
            self.instanceId = ko.observable();
            self.instanceTitle = ko.observable();
            self.instanceState = ko.observable();
            self.instanceStateClass = ko.observable();
            self.instanceItem = ko.observable();

            //attribute for roles page
			self.isRoleWritable = ko.observable(true);

            //Set the resourcebundle
            self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

            // List of actvities for this  instance
            self.executionsList = ko.observableArray([]);

            self.tabTitleMap = {
                'CD_DATA': self.bundle.pcs.dp.detail.details,
                'CD_DOCS': self.bundle.pcs.dp.detail.documents,
                'CD_HISTORY': self.bundle.pcs.dp.detail.history,
                'CD_ROLE': self.bundle.pcs.dp.detail.roles
            };

            //attribute to store left navigation seelcted item
            self.selectedNavigationItem = ko.observable('CD_DATA');

            //Attribute to hold confirm message
            self.actionConfirmMessage = ko.observable('');

            //attribute to hold pending action
            self.pendingAction ={};

            //attribute to hold long error msg
            self.longErrorMessage = ko.observable();

            //attribute to hold short error msg
            self.shortErrorMessage = ko.observable();

			//attribute to hold if the component is standalone or used inside mgmt
			self.isConsumed = ko.observable(false);

			// attribute to select currently view activity detail in tab
			self.selectedTabExecutionId = ko.observable();

			// attribute to store what all actvity details are opened
			self.openedActivities = ko.observableArray([]);

            function getRefresedTime() {
                var currentdate = new Date();
                var datetime = 'Last Sync at ' +
                    currentdate.getHours() + ':' +
                    currentdate.getMinutes() + ':' +
                    currentdate.getSeconds();
                self.lastRefreshedTime(datetime);
            }

            self.selectedNavigationItemTitle = ko.computed(function() {
                return self.tabTitleMap[self.selectedNavigationItem()];
            });

            // // attribute for showing the title
            // self.fullTitle = ko.computed(function() {
            //     return self.instanceTitle() + ' (Instance Id: ' + self.instanceId() + ')';
            // }, self);


            //Attribute to store refresh time
            self.lastRefreshedTime = ko.observable();
            getRefresedTime();


            // The props field on context is a Promise. Once that resolves,
            // we can access the properties that were defined in the composite metadata
            // and were initially set on the composite DOM element
            // context.props.then(function(properties) {
            //     self.properties = properties;
            //     self.initContex();
            // });

            self.initContext = function(){
                service = InstanceDetail.getInstance();

				if(self.properties.instanceid === undefined){
					return;
				}

				// check if instanceId is observable or plain variables
				if(ko.isObservable (self.properties.instanceid)){
					self.instanceId(self.properties.instanceid());
				}else{
					self.instanceId(self.properties.instanceid);
				}

				//check if instanceId is passed or not
				if(self.instanceId() === ''){
					return;
				}

				//set the param about how the component is being used
				if (self.properties.consumed ){
					self.isConsumed(self.properties.consumed);
				}


				if (self.properties.instanceitem) {
					if(ko.isObservable (self.properties.instanceitem)){
						self.populateData(self.properties.instanceitem());
					}else{
						self.populateData(self.properties.instanceitem);
					}
                } else {
                    self.fetchInstanceDetail();
                }
            };

            //Handle error from rest api calls
            //Fire Error Event to handle errors at the top level
            function handleError(error) {
                self.shortErrorMessage(error.shortMsg);
                self.longErrorMessage(error.longMsg);
                $('#pcs-dp-det-err-dialog',element).ojDialog('open');
            }


            self.handleActivityActionError  = function(event){
				var data = event.detail;

				self.shortErrorMessage(data.shortErrorMessage);
				self.longErrorMessage(data.longErrorMessage);
				$('#pcs-dp-det-err-dialog',element).ojDialog('open');
			};

            //Method to populate  detail data
            self.populateData = function(instanceitem) {
                self.instanceTitle(instanceitem.getTitle());

                var state = instanceitem.getState();
                self.instanceState(state);
                switch (state) {
                    case 'ACTIVE':
                        self.instanceStateClass('pcs-dp-det-status-active-icon');
                        break;
                    case 'COMPLETED':
                        self.instanceStateClass('pcs-dp-det-status-complete-icon');
                        break;
                    case 'TERMINATED':
                        break;
                    case 'CLOSED':
                        break;
                }
                self.instanceItem(instanceitem);

                if (instanceitem.getPermissionsList().indexOf('ROLE_WRITE') >= 0 ){
                	self.isRoleWritable (true);
				}else{
					self.isRoleWritable (false);
				}
            };

            //Method to do AJAX call to get instance detail
            self.fetchInstanceDetail = function() {
                var promise = $.Deferred();
                service.fetchInstanceItem(true, self.instanceId()).then(function(data) {
                    self.populateData(data);
                    promise.resolve();
                }, function(rejected) {
					self.showErrorRegion();
                });
                return promise;
            };

            //Method to fetch execution
            self.fetchExecutionList = function() {
                //Start the loading indicator
                $('#pcs-dp-det-overlay', element).addClass('pcs-common-load-overlay');

                var promise = $.Deferred();
                var param = {
                    'processInstanceId': self.instanceId()
                };
                service.fetchExecutionList(true, param).then(function(data) {
                    //clean old executions
                    self.executionsList.removeAll();

                    //Create new list
                   // Way to improve observableArray performance

                    var array = self.executionsList();
                    ko.utils.arrayPushAll(array, data);
                    self.executionsList.valueHasMutated();

                    // Child components are already created , notify them of changes
                  //  self.notifyChildComponents(data);

                    //stop the loading indicator
                    $('#pcs-dp-det-overlay', element).removeClass('pcs-common-load-overlay');

                    promise.resolve();
                }, function(rejected) {
					self.showContentErrorRegion('Error occurred while getting the list of activities');
                    //stop the loading indicator
                    $('#pcs-dp-det-overlay', element).removeClass('pcs-common-load-overlay');
                });
                return promise;
            };


			/**
			 * When the rest call fails
			 */
			self.showErrorRegion = function() {
				$('#pcs-dp-det-error', element).show();
				$('#pcs-dp-det-content-holder', element).hide();
				$('#pcs-dp-det-overlay', element).removeClass('pcs-common-load-overlay');
			};


			/**
			 *
			 * @param data
			 */
			self.showContentErrorRegion = function(msg) {
				self.showContentMsgRegion (msg,false);
				$('#pcs-dp-det-overlay', element).removeClass('pcs-common-load-overlay');

			};

			self.showContentSuccessRegion = function (msg){
				self.showContentMsgRegion (msg,true);
			};

			self.showContentMsgRegion = function(msg,success) {
				var successIcon ='';
				var addClass ='';
				var removeClass = '';
				if (success){
					successIcon = 'pcs-dp-det-content-success-icon';
					addClass ='pcs-dp-det-content-success';
					removeClass = 'pcs-dp-det-content-error';
				}
				else{
					successIcon = 'pcs-dp-det-content-error-icon';
					addClass = 'pcs-dp-det-content-error';
					removeClass ='pcs-dp-det-content-success';
				}

				var html ='<span class=\''+successIcon +'\' style=\'margin:20px\'>'+ msg + '</span>';
				$('#pcs-dp-det-content-msg-container',element).show(0).html(html).addClass(addClass).removeClass(removeClass).delay(10000).hide(1000);

				//scroll to top to show error
				$('#pcs-dp-det-container',element)[0].scrollIntoView();
			};


            function getConfirmationMsg(actionType) {
                var msg = 'Please confirm if you want to proceed with {actionType} action.';
                msg = msg.replace('{actionType}', actionType);
                return msg;
            }

            //Create the event params for CloseView Event
            function getCloseViewEventParams(action) {

                //loggerUtil.log('firing event for closing');
                return {
                    'bubbles': true,
                    'detail': {
                        'instanceId': self.instanceId(),
                        'action': action
                    }
                };
            }


            /**
             * Function called when action is clicked in the UI
             * @param data
             * @param event
             */
            self.performInstanceAction = function(data,event){
                loggerUtil.log('performing action - ' +data);

                //set the pending action
                self.pendingAction = {
                    'id': data.executionId,
                    'action' : data.action
                };
                self.actionConfirmMessage(getConfirmationMsg(data.actionDisplayName, data.activityName));

                $('#pcs-dp-det-confirm-dialog',element).ojDialog('open');
            };

            //Close the confirm dialog and execute action
            self.confirmInstanceAction = function() {
                self.handleInstanceAction(self.pendingAction.id,self.pendingAction.action);
                self.closeDialog();
            };

            /**
             * Function which perform the action on the backend
             * @param executionId
             * @param action
             */
            self.handleInstanceAction = function (id,action){
				//Start the loading indicator
				$('#pcs-dp-det-overlay', element).addClass('pcs-common-load-overlay');

                var payload = {
                    action : action
                };
                service.performInstanceAction({
                    '{instanceId}': self.instanceId()
                },payload).then(function() {

					//stop the loading indicator
					$('#pcs-dp-det-overlay', element).removeClass('pcs-common-load-overlay');

					if(self.isConsumed()) {
						element.dispatchEvent(new CustomEvent('dpdetail:closeView', getCloseViewEventParams(action)));
					}else{
						//Reload the page
						refreshExecutionList();
						element.dispatchEvent(new CustomEvent('dpdetail:actionPerformed', getCloseViewEventParams(action)));
					}
                }).fail(function(error) {
					//stop the loading indicator
					$('#pcs-dp-det-overlay', element).removeClass('pcs-common-load-overlay');
                    handleError(error);
                });
            };


            //method to refresh the details
            function refreshExecutionList() {
                self.fetchExecutionList();
                self.fetchInstanceDetail();
                getRefresedTime();
            }

            //Handle on click of refresh button
            self.onRefreshBtnClick = function() {
                refreshExecutionList();
            };

            //method to close  the  details
            self.closeDetailPage = function() {
                element.dispatchEvent(new CustomEvent('dpdetail:closeView', getCloseViewEventParams('closeView')));
            };

            //method to hide highlight region
            self.closeHighlightRegion = function() {
                $('#pcs-dp-det-highlight-region', element).hide();
                $('#pcs-dp-det-highlight-region-hide', element).hide();
                $('#pcs-dp-det-highlight-region-show', element).show();
            };

            //method to show highlight region
            self.showHighlightRegion = function() {
                $('#pcs-dp-det-highlight-region', element).show();
                $('#pcs-dp-det-highlight-region-hide', element).show();
                $('#pcs-dp-det-highlight-region-show', element).hide();
            };

            //method to be called when navigation option changes
            self.navOptionChange = function(event, data) {
                if (data['option'] === 'selection') {

                    if (data.value === 'CD_DOCS') {
                        var attachments = $('#pcs-attachments1', element);
                        self.initAttachments(attachments);
                    }

                    if (data.value === 'CD_DATA') {

                    }

					if (data.value === 'CD_TASK') {
						$('#pcs-dp-det-act-tab',element).show();
					}else{
						$('#pcs-dp-det-act-tab',element).hide();
					}
					// select the new tab
					// var tabsElement = $('#pcs-dp-det-act-tab', element);
					// tabsElement.ojTabs('option', 'selected', 'pcs-dp-det-act-tab-items-data-tid1');
                }
            };

            // method to be called when  Activity is clicked
            self.openActivityDetails = function(event) {
                var data = event.detail;

				//Start the loading indicator
				$('#pcs-dp-det-overlay', element).addClass('pcs-common-load-overlay');

				//Show a Tab for PCS Taskß
                if (data.type === 'pcstask' || data.type === 'humanTask') {
					data.iconClass = 'pcs-dp-act-humantask-icon';
                    self.openTaskTab(data);
                } else if (data.type === 'pcsprocess' || data.type === 'processTask') {
					data.iconClass = 'pcs-dp-act-process-icon';
                    self.openProcessTab(data);
                }else{
					self.showContentErrorRegion('Error occurred while getting details for ' + data.title);
				}

            };

            self.openTaskTab = function(activityEventData){
				// Createthe taskdetails
				service.fetchAssociatedTask({
					'{executionId}': activityEventData.executionId
				}).then(function(number) {
					activityEventData.taskNumber =  number;
					self.addTab(activityEventData);
				}).fail(function(error) {
					if(error && error.status && error.status === 401){
						self.showContentErrorRegion( 'You cannot open this activity. As you have not been granted required privileges to access the associated Task.');
					}else{
						self.showContentErrorRegion('Error occurred while getting task details for ' + activityEventData.title);
					}

				});
			};

            self.openProcessTab = function(activityEventData) {
                // Create the process details
                service.fetchAssociatedProcess({
                    '{executionId}': activityEventData.executionId
                }).then(function(processId) {
                    var instanceId = processId;
                    var url = pcsUtil.getServerURL() + '/ic/process/workspace/faces/jsf/instance/pcsAuditTrailPage.jspx?instanceId=' + instanceId + '&refreshTaskFlow=true&showBrandingChrome=false&showCloudAppSwitcher=false';
                    // var win = window.open(url, '_blank');
                    // win.focus();
					activityEventData.instanceURL =  url;
					self.addTab(activityEventData);
                }).fail(function(error) {
					if(error && error.status && error.status === 401){
						self.showContentErrorRegion( 'You cannot open this activity. As you have not been granted required privileges to access the associated Process.');
					}else {
						self.showContentErrorRegion('Error occurred while launching the process instance details for ' + activityEventData.title);
					}
                });
            };

            //method to add a new tab to show task details
            self.addTab = function(activityEventData) {
                var title = activityEventData.title;
                var id = activityEventData.executionId;
                var content = 'Loading details for activity ' + title;
                var tabid = tabid_prefix + id;

				// add the tab id in opened Activites array
				if (self.openedActivities().indexOf(tabid) === -1){
					self.openedActivities.push(tabid);
				}

				//Refresh the navigation Lisy
				var navListelem = $('#pcs-dp-det-nav-list',element);
				navListelem.ojNavigationList('refresh');

				self.selectedNavigationItem('CD_TASK');

				// Get hold of tabs element , to add new tab
                var tabsElement = $('#pcs-dp-det-act-tab', element);

                var tabs = tabsElement.find('#pcs-dp-det-act-tab-items > li');
                var exists = false;
                $.each(tabs, function(index, data) {
                    if (tabid === data.id) {
                        exists = true;
                    }
                });

                // If tab doesnt exist add the tab
                if (!exists) {
                    var divId = activityDetail_divid_prefix + id;
                    var newTab = {
                        'tab': $('<li id=' + tabid + '><span class=\'oj-start demo-icon-font '+ activityEventData.iconClass + '\' title=\''+ title + ' \' role=\'img\'> </span><span style=\'margin-left: 5px;\'>' + title + '</span>'),
                        'content': $('<div id=' + divId + ' class=\'pcs-dp-det-bar-height\'>').text(content)
                    };

                    tabsElement.ojTabs('addTab', newTab);

                    // add the new tab in the removable tabs list
					// TODO : not wrking in JET 2.0
                    // var removeableId = tabsElement.ojTabs('option', 'removable');
                    // if (typeof removeableId === 'boolean') {
                     //    removeableId = [tabid];
                    // } else {
                     //    removeableId.push(tabid);
                    // }
                    // tabsElement.ojTabs('option', 'removable', removeableId);

					//Show a Tab for PCS Taskß
					if (activityEventData.type === 'pcstask' || activityEventData.type === 'humanTask') {
						self.initTaskdetail(divId, activityEventData.taskNumber);
					} else if (activityEventData.type === 'pcsprocess' || activityEventData.type === 'processTask') {
						self.initProcessDetail(divId, activityEventData.instanceURL);
					}

                }

                // select the new tab
				tabsElement.ojTabs('refresh');
                tabsElement.ojTabs('option', 'selected', tabid);

				//Stop the loading indicator
				$('#pcs-dp-det-overlay', element).removeClass('pcs-common-load-overlay');
            };

            //Method to init Task Details
            self.initTaskdetail = function(id, number) {
                var taskdetail = $('#' + id, element);

                //if the plugin was already used  clean it up
				self.cleanTaskDetailWidget(taskdetail);

                var options = {
                    taskNumber: number,
                    hideAttachment: true,
					hideClose: true,
					reloadOnSave: true,
					reloadOnSubmit: true
				};

                //Initiate the Component
                taskdetail.taskdetail(options);

                // add the event listerner
				taskdetail.on('taskdetail:submit', self.humanTaskEventListener);


            };

			/**
			 * method to be called when activites list is updated
			 * @param event
			 * @param data
			 * @param action
			 */
			self.humanTaskEventListener = function (event, data, action){
				// refresh activities list
				refreshExecutionList();
			};

            //method to init instanceDetail
			self.initProcessDetail = function(id, url){
				var instancedetail = $('#' + id, element);
				var divOverlayId = id + '-overlay' ;


				var iframe  = document.createElement('iframe');
				iframe.id   = id + '-iframe';
				iframe.target  = '_top';
				iframe.src = url;
				iframe.frameborder = '0';
				iframe.seamless = 'seamless';
				iframe.scrolling = 'auto';
				iframe.style.cssText = 'overflow-x:hidden; width:100%;';
				iframe.height = '550px';
				iframe.onload = function (){
					//Stop the loading indicator
					$('#'+divOverlayId, element).removeClass('pcs-common-load-overlay');
				};

				var overlay_div = document.createElement('div');
				overlay_div.id = divOverlayId;


				instancedetail.empty();
				// add the overlay
				instancedetail.append(overlay_div);

				//add the loading indicator
				$('#'+divOverlayId, element).addClass('pcs-common-load-overlay');

				// add the iframe
				instancedetail.append(iframe);
			};

            //Method to init attachment
            self.initAttachments = function(attachments) {
                //if the plugin was already used  clean it up
                if (attachments && attachments.data() && !$.isEmptyObject(attachments.data())) {
                    attachments.attachments('destroy');
                }

                ko.cleanNode(attachments['0']);

                var options = {
                    hideDelete: false,
                    hideTitle: false,
                    hideUploadLink: false,
                    readOnly: false,
                    mode: 'dp',
                    isDocsEnabled: true,
                    id: self.instanceId(),
					showDocsInline: true
                };

                //Initiate the Component
                self.plugin = attachments.attachments(options);
            };

			/**
			 * method called when activity tab is removed from UI
			 * @param event
			 * @param ui
			 */
            self.activityTabRemoveListener = function(event,ui){

            	var tab = ui.tab ;
            	var tabid = tab[0].id;
				self.openedActivities.remove(tabid);

				//clean task details widget
				var executionId = tabid.substring (tabid_prefix.length,tabid.length);

				var divID = activityDetail_divid_prefix + executionId;

				var divContainor = $('#' + divID, element);

				//if the plugin was already used  clean it up
				self.cleanTaskDetailWidget(divContainor);


				if(self.selectedTabExecutionId() === executionId){
					self.selectedTabExecutionId('');
				}


				if(self.openedActivities().length === 0){
					self.selectedNavigationItem('CD_DATA');
				}
			};

			/**
			 * method called when activity tab is removed from UI
			 * @param event
			 * @param ui
			 */
			self.activityTabSelectionListener= function(event,ui){
				var tab = ui.toTab ;
				var tabid = tab[0].id;   // tabid_prefix + id;

				var executionId = tabid.substring (tabid_prefix.length,tabid.length);

				self.selectedTabExecutionId(executionId);
			};


           self.handleActivityActionPerformed = function (event){
				var data = event.detail;
				var msg  = 'Successfully performed action ' + data.actionDisplayName + ' on ' + data.activityName;
			   self.showContentSuccessRegion (msg);

			   // refresh the task details if its openened
			   var tabId = tabid_prefix + data.executionId;

			   // refres the tab if its opened in Activity details
			   if (self.openedActivities().indexOf(tabId) !== -1){
				  // TODO: handle the refresh of activity which is opened
				   var divID = activityDetail_divid_prefix + data.executionId;
				   var divContainor = $('#' + divID, element);
				   //if the plugin was already used  clean it up
				   self.cleanTaskDetailWidget(divContainor);

				   divContainor.empty().html('<span class=\'oj-flex pcs-dp-det-tab-action-performed-text\' style=\'margin:20px\'>' +  msg +'</span>');
			   }

			   refreshExecutionList();
		   };


           self.cleanTaskDetailWidget = function(taskdetail){
				//if the plugin was already used  clean it up
			   try{
			   		//clean all event listers
				   taskdetail.off();
				   if (taskdetail && taskdetail.data() && !$.isEmptyObject(taskdetail.data())) {
					   taskdetail.taskdetail('destroy');
					   ko.cleanNode(taskdetail['0']);
				   }
			   }catch(e){
			   		loggerUtil.log(e);
			   }

			};


            self.bindingsApplied = function() {
				self.selectedNavigationItem('CD_DATA');

                //temp for Knockoutcomponet
                self.initContext();

                // create the activity list
                self.fetchExecutionList();

                //Subscribe to the events
                pcsUtil.eventHandler.addHandler(element,'dpactivity:drilldown', self.openActivityDetails);
                pcsUtil.eventHandler.addHandler(element,'dphistory:drilldown', self.openActivityDetails);
                pcsUtil.eventHandler.addHandler(element,'dpactivity:actionPerformed', self.handleActivityActionPerformed);
				pcsUtil.eventHandler.addHandler(element,'dpactivity:actionError', self.handleActivityActionError);
                pcsUtil.eventHandler.addHandler(element,'dpactivity:close', self.onActionClick);
            };


            self.showInfoPopup = function(data, event) {
                var popup = $('#pcs-dp-det-info-popup', element);
                if (popup.ojPopup('isOpen')) {
                    popup.ojPopup('close');
                } else {
                    var position = {
                        'my': 'center top',
                        'at': 'center bottom',
                        'collision': 'none'
                    };
                    popup.ojPopup('open', '#pcs-dp-det-info-btn', position);
                }
            };

            var isClosed = true;
            self.onActionClick = function() {
                var middleWidth;
                var endWidth;
                var actionBtn = $('#pcs-dp-det-actions-btn', element);
                var activityDiv = $('#pcs-dp-det-activity-div', element);
                if (isClosed) {
                    middleWidth = '92%';
                    endWidth = '0';
                    isClosed = false;
                    actionBtn.show();
                } else {
                    middleWidth = '67%';
                    endWidth = '25%';
                    isClosed = true;
                    actionBtn.hide();
                }
                var middlebar = $('#pcs-dp-det-bar-middle', element);
                $('#pcs-dp-det-bar-end', element).animate({
                    width: endWidth
                }, {
                    duration: 500,
                    start: function() {
                        activityDiv.hide();
                    },
                    complete: function() {
                        middlebar.css('width', middleWidth);
                        activityDiv.show();
                    }
                });
            };

			self.closeDialog = function() {
				$('.pcs-dp-dialog').ojDialog('close');
			};


            //Dispose the computed,sbsrciption,event http://knockoutjs.com/documentation/component-binding.html
            self.dispose = function(){
                loggerUtil.log('dispose in instance detail');
                self.selectedNavigationItemTitle.dispose();
               // self.fullTitle.dispose();

                //De-Subscribe to the events
                pcsUtil.eventHandler.removeHandler(element,'dpactivity:drilldown', self.openActivityDetails);
                pcsUtil.eventHandler.removeHandler(element,'dphistory:drilldown', self.openActivityDetails);
                pcsUtil.eventHandler.removeHandler(element,'dpactivity:actionPerformed', self.handleActivityActionPerformed);
				pcsUtil.eventHandler.removeHandler(element,'dpactivity:actionError', self.handleActivityActionError);
                pcsUtil.eventHandler.removeHandler(element,'dpactivity:close', self.onActionClick);
            };

            // Temp call the bindingApplied for knockout component
            self.bindingsApplied();
        };
    }
);

/**
 * Created by nisabhar on 11/17/2016.
 */



define('pcs/dynamicProcess/detail/loader',['ojs/ojcore','knockout', '!text!pcs/dynamicProcess/detail/view/dpDetailView.html', './viewModel/dpDetailVM'],

    function(oj, ko,view, viewModel) {
        'use strict';
        // oj.Composite.register('pcs-dpdetail', {
        //     view: {
        //         inline: view
        //     },
        //     viewModel: {
        //         inline: viewModel
        //     },
        //     metadata: {
        //         inline: JSON.parse(metadata)
        //     }
        // });


        if (!ko.components.isRegistered('pcs-dpdetail')) {
            ko.components.register('pcs-dpdetail', {
                template: view,
                viewModel: {
                    createViewModel: function(params, componentInfo) {
                        return new viewModel(params, componentInfo);
                    }
                }
            });
        }

    }
);


define('text!pcs/dynamicProcess/mgmt/view/dpMgmtView.html',[],function () { return '<div id="pcs-dp-mgmt-container" class="pcs-dp-mgmt-containor pcs-dp-font oj-flex oj-sm-12">\n\n    <pcs-dplist id="pcs-dp-mgmt-dplist" class="oj-flex oj-sm-12"></pcs-dplist>\n\n    <!-- ko if: selectedView() === \'DETAILS\'-->\n    <pcs-dpdetail id="pcs-dp-mgmt-dpdetail" class="oj-flex oj-sm-12" params="instanceitem: selectedInstance, instanceid:selectedInstanceId, consumed: true" ></pcs-dpdetail>\n    <!-- /ko -->\n\n</div>\n';});

/**
 * Created by nisabhar on 11/17/2016.
 */


define('pcs/dynamicProcess/mgmt/viewModel/dpMgmtVM',['ojs/ojcore', 'knockout', 'jquery', 'pcs/util/pcsUtil', 'ojs/ojknockout', 'promise'],
    function(oj, ko, $, pcsUtil) {

        'use strict';

        return function(params, componentInfo) {
            var self = this;
			var loggerUtil =  require('pcs/util/loggerUtil');

            var element = componentInfo.element;

            //Used if we add the top breadcrumbs
            self.selectedView = ko.observable('CONSOLE');

            // Track currently selected isntance
            self.selectedInstance = ko.observable({});
            self.selectedInstanceId = ko.observable();


            //Called when console is selected
            self.consoleSelection = function(event, data) {
                loggerUtil.log('consoleSelection');
                $('#pcs-dp-mgmt-dplist', element).hide();
                $('#pcs-dp-mgmt-dpdetail', element).hide();
                self.selectedView('CONSOLE');
            };

            // Called when listing is selected
            self.listingSelection = function(event, data) {
                loggerUtil.log('listingSelection');
                $('#pcs-dp-mgmt-dplist', element).show(('puff', 1));
                $('#pcs-dp-mgmt-dpdetail', element).hide(('fade', 1));
                self.selectedView('LISTING');
            };

            // Called when details is selected
            self.detailSelection = function(event) {
                var instanceId = event.detail.instanceId;
                var instanceItem = event.detail.instanceItem;

                self.selectedInstanceId(instanceId);
                self.selectedInstance(instanceItem);

                $('#pcs-dp-mgmt-dplist', element).hide(('fade', 1));
                $('#pcs-dp-mgmt-dpdetail', element).show();
                self.selectedView('DETAILS');
            };


            self.bindingsApplied = function() {
                //Event fired by dplist
                pcsUtil.eventHandler.addHandler(element, 'dplist:instanceSelect', self.detailSelection);

                //Event fired by instance Detail
                pcsUtil.eventHandler.addHandler(element, 'dpdetail:closeView', self.listingSelection);

            };

            //Dispose the computed,sbsrciption,event http://knockoutjs.com/documentation/component-binding.html
            self.dispose = function() {
                loggerUtil.log('dispose in dpmgmt');
                pcsUtil.eventHandler.removeHandler(element, 'dplist:instanceSelect', self.detailSelection);
                pcsUtil.eventHandler.removeHandler(element, 'dpdetail:closeView', self.listingSelection);

            };

            // Temp call the bindingApplied for knockout component
            self.bindingsApplied();
        };
    }
);

/**
 * Created by nisabhar on 11/17/2016.
 */



define('pcs/dynamicProcess/mgmt/loader',['ojs/ojcore', 'knockout', '!text!pcs/dynamicProcess/mgmt/view/dpMgmtView.html', './viewModel/dpMgmtVM'],

    function(oj, ko, view, viewModel) {
        'use strict';
        // oj.Composite.register('pcs-dpmgmt', {
        //     view: {
        //         inline: view
        //     },
        //     viewModel: {
        //         inline: viewModel
        //     },
        //     metadata: {
        //         inline: JSON.parse(metadata)
        //     }
        // });


        if (!ko.components.isRegistered('pcs-dpmgmt')) {
            ko.components.register('pcs-dpmgmt', {
                template: view,
                viewModel: {
                    createViewModel: function(params, componentInfo) {
                        return new viewModel(params, componentInfo);
                    }
                }
            });
        }
    }
);


define('text!pcs/dynamicProcess/roles/view/dpRoles.html',[],function () { return '<div id="pcs-dp-roles-main-container" class="oj-flex oj-panel pcs-case-font "\n\t data-bind="css: {\'pcs-dp-roles-admincontainer\': consumerType() === \'admin_roles\', \'pcs-dp-roles-instancecontainer\': consumerType() === \'instance_roles\'} ">\n\n\t<div id="pcs-dp-roles-main" class="oj-flex oj-sm-12" data-bind="css: { \'pcs-dp-display-none\': selectedRole() != null }">\n\n\n\n\t\t<div class=" oj-flex-items-pad oj-panel pcs-dp-roles-navdiv">\n\t\t\t<div id="pcs-dp-roles-toolbar" data-bind="attr: {\'aria-label\' : bundle.pcs.dp.list.dpToolbar}"\n\t\t\t\t aria-controls="controlled" class="oj-flex oj-sm-flex-items-initial oj-sm-justify-content-space-between pcs-dp-roles-toolbar oj-sm-12">\n\n\t\t\t\t<div id="pcs-dp-roles-search-container" class="oj-flex pcs-dp-roles-search-container oj-md-down-12">\n\t\t\t\t\t<span class="oj-flex-item pcs-dp-roles-searchTxt-container">\n\t\t\t\t\t\t<span  class="oj-flex-item" >\n\t\t\t\t\t\t\t<input id="pcs-dp-roles-search-input" class="" type="text" data-bind="attr:{title: bundle.pcs.dp.common.search},\n\t\t\t\t\t\t\t\tojComponent:{\n\t\t\t\t\t\t\t\t\tcomponent: \'ojInputText\', rawValue: searchText, placeholder:bundle.pcs.dp.common.search,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tattr: {\'aria-label\' : bundle.pcs.dp.common.search}"/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="oj-flex-item pcs-dp-roles-search-btn-span">\n\t\t\t\t\t\t\t<!-- ko if: searchText().length === 0 -->\n\t\t\t\t\t\t\t<button id="pcs-dp-roles-search-btn" \tdata-bind="\n\t\t\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.search, display: \'icons\', disabled :true,\n\t\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon oj-fwk-icon-magnifier\'},\n\t\t\t\t\t\t\t\t\t\trootAttributes: {style:\'height:31px\'}\n\t\t\t\t\t\t\t\t\t}">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t\t<!-- ko if: searchText().length > 0 -->\n\t\t\t\t\t\t\t<button id="pcs-dp-roles-search-clear-btn" \tdata-bind="click: onSearchClearClick,\n\t\t\t\t\t\t\t\t\tojComponent: {\n\t\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.clearSearch, display: \'icons\',\n\t\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon oj-fwk-icon-cross\'},\n\t\t\t\t\t\t\t\t\t\trootAttributes: {style:\'height:31px\'}\n\t\t\t\t\t\t\t\t\t}">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="pcs-dp-roles-tools-right oj-flex-item oj-sm-align-content-flex-end oj-md-down-12">\n\t\t\t\t\t<div id="pcs-dp-roles-add-btnsrow" class="oj-flex oj-sm-flex-direction-row">\n\t\t\t\t\t\t<button id="pcs-dp-roles-refresh-btn" class="oj-flex-item pcs-dp-roles-refresh-btn" data-bind="visible: true, click: onRefreshBtnClick, ojComponent: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', chroming: \'half\', label: bundle.pcs.dp.common.refresh, display: \'icons\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-roles-refresh-icon\'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<!-- ko if: consumerType() === \'admin_roles\' && !readOnly() -->\n\t\t\t\t\t\t<!-- ko if: (roleListDS().totalSize() > 0 || searchText().length > 0)-->\n\t\t\t\t\t\t<div class="oj-flex-item pcs-dp-roles-btndiv1">\n\t\t\t\t\t\t\t<div class="pcs-dp-roles-add-role-btn-div">\n\t\t\t\t\t\t\t\t<button id="pcs-dp-roles-addRoleBtn"\n\t\t\t\t\t\t\t\t\t\tdata-bind="click : addNewRole,\n\t\t\t\t\t\t\t\t\t\t\t   ojComponent: {\n\t\t\t\t\t\t\t\t\t\t\t   component:\'ojButton\', label: bundle.pcs.dp.roles.create, display: \'both\', chroming: \'half\',\n\t\t\t\t\t\t\t\t\t\t\t   icons: {start:\'oj-fwk-icon pcs-dp-roles-add-icon\'}}">\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t\t<!-- /ko -->\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="oj-flex oj-sm-12 pcs-dp-roles-content-msg-container" id="pcs-dp-roles-content-msg-container"></div>\n\n\t\t\t<!-- ko if: (roleListDS().totalSize() > 0 || searchText().length > 0)-->\n\t\t\t<div id="pcs-dp-roles-view-wrapper" class="pcs-dp-roles-listviewdiv">\n\t\t\t\t<ul id="pcs-dp-roles-list" class="pcs-dp-roles-list"\n\t\t\t\t\tdata-bind="ojComponent: {component: \'ojListView\',\n\t\t\t\t\t\t\t\tdata: roleListDS,\n\t\t\t\t\t\t\t\titem: {template: \'pcs_dp_roles_template\'},\n\t\t\t\t\t\t\t\tselectionMode: \'single\',\n\t\t\t\t\t\t\t\ttranslations: { msgNoData : \'No role with current search criteria\', msgFetchingData : \'Loading\' },\n\t\t\t\t\t\t\t\trootAttributes: { style: \'overflow: hidden\'}}">\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\t\t</div>\n\n\t\t<!-- ko if: roleListDS().totalSize() === 0 && searchText().length === 0-->\n\t\t<div id="pcs-dp-roles-empty-container" class="pcs-dp-empty-watermark oj-flex oj-sm-12">\n\t\t\t<div class="oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center">\n\t\t\t\t<img class="pcs-dp-roles-img oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center"></img>\n\t\t\t\t<!-- ko if:consumerType() === \'admin_roles\' && !readOnly() -->\n\t\t\t\t<div class="oj-flex oj-sm-12 oj-sm-flex-items-initial oj-sm-justify-content-center" style="margin-left:-50px">\n\t\t\t\t\t<button id="pcs-dp-roles-empty-addRoleBtn" class="pcs-dp-roles-empty-role-add"\n\t\t\t\t\t\t\tdata-bind="click : addNewRole,\n\t\t\t\t\t\t\t\t\t\t   ojComponent: { component:\'ojButton\', label: bundle.pcs.dp.roles.create, display: \'both\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchroming: \'full\', icons: {start:\'oj-fwk-icon pcs-dp-roles-add-icon\'}}">\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<!-- /ko -->\n\t\t\t\t<!-- ko if:consumerType() === \'instance_roles\'-->\n\t\t\t\t<span data-bind="text: bundle.pcs.dp.roles.emptyText" class="pcs-dp-empty-watermark-text"></span>\n\t\t\t\t<!-- /ko -->\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- /ko -->\n\n\t</div>\n\n\t<!-- ko if: selectedRole() -->\n\t<pcs-dproles-details class="oj-flex oj-sm-12"\n\t\t\t\t\t\t params="consumerType: consumerType, role: selectedRole , instanceid: instanceId , processdefinitionid: processDefinitionId(), readonly : readOnly()"></pcs-dproles-details>\n\t<!-- /ko -->\n\n\t<div id="pcs-dp-roles-overlay"></div>\n</div>\n\n<script type="text/html" id="pcs_dp_roles_template">\n\t<li data-bind="attr: {id: \'pcs-dp-roles-role-\'+ $data.getRoleId()}" class="pcs-dp-roles-rolelistdiv">\n\t\t<div class="oj-flex">\n\n\t\t\t<div class="oj-lg-12 oj-md-12 oj-sm-12">\n\t\t\t\t<div class="pcs-dp-roles-roleitempadding">\n\t\t\t\t\t<div class="oj-sm-12">\n\n\t\t\t\t\t\t<span class="pcs-dp-roles-roleitemlabel" data-bind="text: getRoleDisplayName()"></span>\n\n\t\t\t\t\t\t<button class="pcs-dp-roles-editmenubtn" tabindex="0" data-bind="ojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\',\n\t\t\t\t\t\t\t\t\tchroming: \'half\',\n\t\t\t\t\t\t\t\t\tlabel: $parent.bundle.pcs.dp.roles.actions ,\n\t\t\t\t\t\t\t\t\tdisplay: \'icons\',\n\t\t\t\t\t\t\t\t\tmenu: \'#pcs-dp-roles-role-actionMenu-\' + $data.getRoleId(),\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon pcs-dp-roles-menuIcon\'},\n\t\t\t\t\t\t\t\t\trootAttributes:{style:\'outline:none\'}\n\t\t\t\t\t\t\t\t}, attr: {id: \'pcs-dp-roles-role-btn-\'+ $data.getRoleId()}">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="oj-sm-12">\n\t\t\t\t\t\t<!-- ko if: $data.getOverriddenRoleId() -->\n\t\t\t\t\t\t<span class="pcs-dp-info-text" data-bind="text:  $parent.bundle.pcs.dp.roles.override_note"></span>\n\t\t\t\t\t\t<!-- /ko-->\n\t\t\t\t\t\t<!-- ko if: $data.getScopeType() === \'DEFINITION\' && $parent.consumerType() === \'instance_roles\' -->\n\t\t\t\t\t\t<span class="pcs-dp-info-text" data-bind="text:  $parent.bundle.pcs.dp.roles.definition_note"></span>\n\t\t\t\t\t\t<!-- /ko-->\n\t\t\t\t\t\t<!-- ko if: $data.getScopeType() === \'INSTANCE\' -->\n\t\t\t\t\t\t<span class="pcs-dp-info-text" data-bind="text: $parent.bundle.pcs.dp.roles.instance_note"></span>\n\t\t\t\t\t\t<!-- /ko-->\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ul class="pcs-dp-roles-menu" data-bind="ojComponent: {component: \'ojMenu\'}, attr: {\'id\': \'pcs-dp-roles-role-actionMenu-\'+ $data.getRoleId()}">\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a href="#" data-bind="click :$parent.selectEditInMenu">\n\t\t\t\t\t\t\t\t<!-- ko if: $data.getScopeType() != \'DEFINITION\' || $parent.consumerType() != \'instance_roles\' -->\n\t\t\t\t\t\t\t\t<span data-bind="text: $parent.readOnly() ? $parent.bundle.pcs.dp.roles.view_role : $parent.bundle.pcs.dp.roles.edit_role"></span>\n\t\t\t\t\t\t\t\t<!-- /ko-->\n\t\t\t\t\t\t\t\t<!-- ko if: $data.getScopeType() === \'DEFINITION\' && $parent.consumerType() === \'instance_roles\' -->\n\t\t\t\t\t\t\t\t<span data-bind="text: $parent.readOnly() ? $parent.bundle.pcs.dp.roles.view_role : $parent.bundle.pcs.dp.roles.override_role"></span>\n\t\t\t\t\t\t\t\t<!-- /ko-->\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<!-- ko if: $parent.consumerType() === \'admin_roles\' || $data.getScopeType() === \'INSTANCE\' -->\n\t\t\t\t\t\t\t<!-- ko if: !$parent.readOnly() -->\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="#" data-bind="click :$parent.selectDeleteInMenu">\n\t\t\t\t\t\t\t\t\t<span data-bind="text: $parent.bundle.pcs.dp.roles.delete_role "></span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<!-- /ko-->\n\t\t\t\t\t\t<!-- /ko-->\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t</li>\n</script>\n';});

/**
 * Created by sheshash on 3/21/2017.
 */
define('pcs/dynamicProcess/model/DpRole',[],function() {
    'use strict';
    return function(data) {

		if(data.newRole){
			data.newRole= true;
		}else{
			data.newRole= false;
		}

		data.toString= data.displayName + data.id + data.scopeType + data.scopes;

        return {
            data: data,
            toString: function() {
                return data.toString;
            },
            getRoleDisplayName: function() {
                return data.displayName;
            },
            getRoleId: function() {
                return data.id;
            },
            getScopeType: function() {
                return data.scopeType;
            },
            getScopes: function() {
                return data.scopes;
            },
            getOverriddenRoleId: function() {
                return data.overriddenRoleId;
            },
			isNewRole: function(){
            	return data.newRole;
			}
        };
    };
});

/**
 * Created by sheshash on 3/24/2017.
 */

define('pcs/dynamicProcess/model/DpRoleMember',[],function() {
    'use strict';
    return function(data) {

    	data.toString = data.id + data.memberName + data.memberType;

        return {
            data: data,
            toString: function() {
                return data.toString;
            },
            getId: function() {
                return data.id;
            },
            getMemberName: function() {
                return data.memberName;
            },
            getMemberType: function() {
                return data.memberType;
            }
        };
    };

});

/**
 * Created by sheshash on 3/20/2017.
 */
define('pcs/dynamicProcess/services/DPRolesService',['jquery','pcs/data-services/DataServices',
		'pcs/dynamicProcess/model/DpRole','pcs/dynamicProcess/model/DpRoleMember' ],

	function($,DataServices, RoleItem,MemberItem ) {
	'use strict';
		var resourceUrlConfig = {
			'rolesList': '/dp-roles',
			'metadata': '/dp-definitions/{defId}/metadata',
			'permissions': '/dp-roles/{roleId}/permissions',
			'membersList': '/dp-roles/{roleId}/members'
		};

		var _state = {
			roleItemsMap: {},
			metadata: {}
		};

		//making it a singleton
		var instance;

		var dataServices = DataServices.getInstance();

		function createErrorResponse(error) {
			var msg;
			switch (error.status) {
				case 204:
					msg = 'Action completed successfully.';
					break;
				case 400:
					msg = 'Invalid Action Performed.';
					break;
				case 403:
					msg = 'Invalid Action Performed.';
					break;
				case 404:
					msg = 'Internal Error. Please contact the admin.';
					break;
			}
			return {
				'code': error.status,
				'message': msg
			};
		}

		function init(options) {

			// Do a server call to get the list
			return {
				//fetch a single role
				// getRole: function(refresh, roleId) {
				// 	var url = resourceUrlConfig.rolesList + '/' + roleId;
                //
				// 	var promise = $.Deferred();
                //
				// 	var options = {};
                //
				// 	if (!refresh) {
				// 		promise.resolve(_state.roleItemsMap[roleId]);
				// 		return promise;
				// 	}
                //
				// 	dataServices.get(url, options, 'dp').done(function(data) {
				// 		var roleItem = new RoleItem(data);
				// 		//put in cache
				// 		_state.roleItemsMap[data.id] = roleItem;
				// 		promise.resolve(roleItem);
				// 	}).fail(function(error) {
				// 		promise.reject(error);
				// 	});
				// 	return promise;
				// },

				//get existing role names
				getExistingRolesIdNameMap: function (){

					var roleItemsMap = {};

					Object.keys(_state.roleItemsMap).map(function(item) {
						var roleItems = _state.roleItemsMap[item];
						roleItemsMap[roleItems.getRoleId()] = roleItems.getRoleDisplayName();
					});

					return roleItemsMap;
				},

				//fetch all roles
				getRoles: function(refresh, params) {
					var url = resourceUrlConfig.rolesList;
					var promise = $.Deferred();
					var options = {
						queryParams: params
					};


					if (!refresh) {
						var roleItems = Object.keys(_state.roleItemsMap).map(function(item) {
							return _state.roleItemsMap[item]
						});
						promise.resolve(roleItems);
						return promise;
					}
					dataServices.get(url, options, 'dp').done(function(result) {
						_state.roleItemsMap ={};
						var roleItems = [];
						var data = result.items;
						for (var i = 0; i < data.length; i++) {
							var roleItem = new RoleItem(data[i]);
							roleItems.push(roleItem);
							_state.roleItemsMap[data[i].id] = roleItem;
						}

						promise.resolve(roleItems);
					}).fail(function(error) {
						promise.reject(error);
					});
					return promise;
				},

				//Do a client search search of the instance list
				searchRolesList: function(searchText) {
					var promise = $.Deferred();
					var list = _state.roleItemsMap;

					if (list === undefined) {
						return promise.resolve([]);
					}
					var prunedList = [];

					$.each(list, function(key, value) {
						if (value.toString().toLowerCase().indexOf(searchText.toLowerCase()) !== -1) {
							prunedList.push(value);
						}
					});
					promise.resolve(prunedList);
					return promise;
				},

				//add new role
				addNewRole: function(payloadData) {
					var promise = $.Deferred();

					var url = resourceUrlConfig.rolesList;

					var options = {
						contentType: 'application/json',
						payload: payloadData
					};
					dataServices.post(url, options, 'dp').done(function(data) {
						var roleItem = new RoleItem(data);
						_state.roleItemsMap[data.id] = roleItem;
						promise.resolve(roleItem);
					}).fail(function(error) {
						promise.reject(createErrorResponse(error));
					});

					return promise;
				},

				//update existing role
				updateRole: function(payloadData) {
					var promise = $.Deferred();

					var url = resourceUrlConfig.rolesList;

					url = url + '/' + payloadData.id;
					var options = {
						contentType: 'application/json',
						payload: payloadData
					};
					dataServices.put(url, options, 'dp').done(function(data) {

						var roleItem = new RoleItem(data);
						_state.roleItemsMap[data.id] = roleItem;

						promise.resolve(roleItem);
					}).fail(function(error) {
						promise.reject(createErrorResponse(error));
					});

					return promise;
				},

				// remove existing role
				removeRole: function(roleName) {
					var promise = $.Deferred();
					var url = resourceUrlConfig.rolesList;
					var options = {
						contentType: 'application/json',
						payload: roleName
					};
					dataServices.delete(url, options, 'dp').done(function() {
						delete _state.roleItemsMap[roleName];
						promise.resolve();
					}).fail(function(error) {
						promise.reject(createErrorResponse(error));
					});

					return promise;
				},

				// get process metadata
				getResources: function(defId) {
					var url = resourceUrlConfig.metadata.replace('{defId}', defId);

					var promise = $.Deferred();

					var options = {

					};
					if(_state.metadata[defId]){
						promise.resolve(_state.metadata[defId]);
					} else {
						dataServices.get(url, options, 'dp').done(function(data) {
							_state.metadata[defId] = data;
							promise.resolve(data);
						}).fail(function(error) {
							promise.reject(error);
						});
					}
					return promise;
				},

				//get role permission
				getRolePermissions: function(roleId) {
					var url = resourceUrlConfig.permissions.replace('{roleId}', roleId);

					var promise = $.Deferred();
					var options = {};

					dataServices.get(url, options, 'dp').done(function(data) {
						promise.resolve(data.items);
					}).fail(function(error) {
						promise.reject(error);
					});
					return promise;
				},

				//update permission
				updatePermission: function(roleId, payloadData) {
					var promise = $.Deferred();

					var url = resourceUrlConfig.permissions.replace('{roleId}', roleId);

					var options = {
						contentType: 'application/json',
						payload: payloadData
					};
					dataServices.post(url, options, 'dp').done(function(data) {
						promise.resolve(data.items);
					}).fail(function(error) {
						promise.reject(createErrorResponse(error));
					});

					return promise;
				},

				//get members
				getMembers: function(roleId) {

					var url = resourceUrlConfig.membersList.replace('{roleId}', roleId);

					var promise = $.Deferred();

					var options = {
						//queryParams: params
					};

					dataServices.get(url, options, 'dp').done(function(result) {
						var data = result.items;
						var memberItems = [];
						for (var i = 0; i < data.length; i++) {
							var memberItem = new MemberItem(data[i]);
							memberItems.push(memberItem);
						}
						promise.resolve(memberItems);
					}).fail(function(error) {
						promise.reject(error);
					});
					return promise;
				},

				//update Members
				updateMembers: function(roleId, payloadData) {
					var promise = $.Deferred();

					var url = resourceUrlConfig.membersList.replace('{roleId}', roleId);

					var options = {
						contentType: 'application/json',
						payload: payloadData
					};
					dataServices.post(url, options, 'dp').done(function(result) {
						var data = result.items;
						var memberItems = [];
						for (var i = 0; i < data.length; i++) {
							var memberItem = new MemberItem(data[i]);
							memberItems.push(memberItem);
						}
						promise.resolve(memberItems);
					}).fail(function(error) {
						promise.reject(createErrorResponse(error));
					});
					return promise;
				}

			}
		}


	return {
		// Get the Singleton instance if one exists
		// or create one if it doesn't
		getInstance: function () {
			if (!instance) {
				instance = init();
			}
			return instance;
		}
	};


});

/**
 * Created by nisabhar on 7/20/17.
 */

/**
 * Created by nisabhar on 3/11/2016.
 */

define('pcs/dynamicProcess/roles/util/dpRolesUtil',['ojs/ojcore', 'knockout', 'jquery'], function(oj,ko, $) {
	'use strict';

	return {

		/**
		 * iterate over plaItems
		 * @param planItem
		 * @param children
		 */
		setPlanItemResourceOptionsRecursively: function(planItem, children) {
			var dpRolesUtil =this;

			var nextChildren = [];
			if(planItem.childPlanItems.length > 0){
				children.push({value: planItem.id, label: planItem.displayName, children: nextChildren});
			} else {
				children.push({value: planItem.id, label: planItem.displayName});
			}

			$.each(planItem.childPlanItems, function(index,childPlanItem){
				dpRolesUtil.setPlanItemResourceOptionsRecursively(childPlanItem, nextChildren);
			});
		},

		/**
		 * Method to validate the tracker object
		 * and show its data
		 * @param tracker
		 */
		validateInvalidComponentTracker: function (tracker){
			var trackerObj = ko.utils.unwrapObservable(tracker);
			if (trackerObj === undefined)
				return true;
			else
			{
				if (trackerObj instanceof oj.InvalidComponentTracker)
				{
					// showMessages first (this will show any hidden messages)
					trackerObj.showMessages();
					trackerObj.focusOnFirstInvalid();

					if (tracker()['invalidShown']) {
						return false;
					}else {
						return true;
					}
				}
			}
			return true;
		},


		/**
		 * Method to create the payload of changed members
		 * @param initialMemberList
		 * @param selectedIdentities
		 */
		getChangedMembersPayload : function(initialMemberList, selectedIdentities) {
			var changedMembers = [];

			//TODO: CHECK for overrriden

			// the intital members list
			var initialObject = {};
			for (var j = 0; initialMemberList && j < initialMemberList.length; j++) {
				var memData = initialMemberList[j];
				var id = memData.getMemberName() + '_' + memData.getMemberType();
				initialObject[id.toUpperCase()] = memData;
			}

			//iterate through current selected identites list
			for (var i = 0; selectedIdentities && i < selectedIdentities.length; i++) {
				var selData = selectedIdentities[i];
				var selDataId = selData.id +  '_' + selData.type;
				if (initialObject.hasOwnProperty(selDataId.toUpperCase())) {
					//this member is not change remove from initialobjeect
					delete initialObject[selDataId.toUpperCase()];
				} else {
					var payload = {
						'object': {
							'memberName': selData.id,
							'memberType': selData.type.toUpperCase()
						},
						'type': 'INSERT'
					};
					changedMembers.push(payload);
				}
			}
			//remaining items in the list will have to be deleted
			for (var p in initialObject) {
				var payload = {
					'object': {
						'memberName': initialObject[p].getMemberName(),
						'memberType': initialObject[p].getMemberType(),
						'id': initialObject[p].getId()
					},
					'type': 'DELETE'
				};
				changedMembers.push(payload);
			}
			return changedMembers;
		},


		/**
		 * Method to create the payload of changed permissions
		 * @param initialPermissionList
		 * @param selectedPermissionList
		 * @param subResourceId
		 * @returns {Array}
		 */
		getChangedPermissionsPayload : function(initialPermissionList, selectedPermissionList,subResourceId , instancePermission) {
			var changedPermissions = [];

			// the intitial permissions list
			var initialObject = {};
			for (var j = 0;initialPermissionList && j < initialPermissionList.length; j++) {
				var permission = initialPermissionList[j];
				var id = permission.id;
				initialObject[id.toUpperCase()] = permission;
			}

			//TODO: CHECK for overrriden
			//iterate through current selected permissions list
			$.each(selectedPermissionList, function(index, permission) {
				// if the permission was always there see if we need to UPDATE
				if (permission.id && initialObject.hasOwnProperty(permission.id.toUpperCase())) {
					//this permission is not deleted remove from initialobjeect
					delete initialObject[permission.id.toUpperCase()];
				}

				// get the payload if its changed or if its new
				var payload = permission.getPayloadObject(subResourceId);
				if(payload){
					changedPermissions.push(payload);
				}
			});

			//remaining items in the initial list will have to be deleted
			for (var p in initialObject) {
				var payload = {
					'object': initialObject[p],
					'type': 'DELETE'
				};
				changedPermissions.push(payload);
			}

			//Add instance permission payload
			if(instancePermission){
				var payload = instancePermission.getPayloadObject(subResourceId);
				if(payload){
					changedPermissions.push(payload);
				}
			}


			return changedPermissions;
		},

		/**
		 *
		 * @returns {{condition: string, actions: Array, resources: [*]}}
		 */
		createInstancePermission : function(){
			var dpRolesUtil =this;

			var permission ={
					condition:'default',
					actions:[],
					resources:[
						{
							resourceId:'*',
							subResourceId:'*',
							resourceType: dpRolesUtil.const.RESOURCE_TYPE.CASE_INSTANCE
						}
					]
			};

			return permission
		},

		/**
		 * create new Role
		 */
		createNewRole: function(type){
			var newRole ={
				displayName: '',
				id: -1,
				newRole: true,
				scopes : []
			};

			newRole['scopeType'] = type;

			return newRole;
		},

		/**
		 * list of all constants used
		 */
		const : {
			SCOPE_TYPE :{
				GLOBAL : 'GLOBAL',
				INSTANCE : 'INSTANCE',
				DEFINITION : 'DEFINITION'
			},
			CONSUMER_TYPE :{
				instance_roles : 'instance_roles',
				admin_roles : 'admin_roles'
			},
			RESOURCE_TYPE :{
				CASE_INSTANCE :'CASE_INSTANCE',
				CASE_DOCUMENT_FOLDER : 'CASE_DOCUMENT_FOLDER',
				CASE_EXECUTION : 'CASE_EXECUTION',
				CASE_DATA : 'CASE_DATA'
			}
		}
	};
});

/**
 * Created by nisabhar on 7/18/17.
 */


define('pcs/dynamicProcess/roles/viewModel/dpRolesVM',['ojs/ojcore', 'knockout', 'jquery', 'pcs/dynamicProcess/services/DPRolesService',
		'pcs/dynamicProcess/services/DPInstanceService','pcs/dynamicProcess/model/DpRole' ,
		'pcs/dynamicProcess/roles/util/dpRolesUtil', 'pcs/util/pcsUtil', 'ojL10n!pcs/resources/nls/pcsSnippetsResource',
		'ojs/ojmenu', 'ojs/ojknockout','promise', 'ojs/ojlistview', 'ojs/ojinputtext', 'ojs/ojarraytabledatasource', 'ojs/ojtoolbar', 'ojs/ojselectcombobox', 'ojs/ojdialog'
	],
	function(oj, ko, $, DPRolesService, InstanceService, DpRole, dpRolesUtil,  pcsUtil) {

		'use strict';

		return function(params, componentInfo) {
			var self = this,
				roleService,
				element = componentInfo.element;

			var loggerUtil =  require('pcs/util/loggerUtil');

			//store the params
			self.properties = params;

			//Set the resourcebundle
			self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

			// for searching text
			self.searchText = ko.observable('');

			// type of consumer
			self.consumerType = ko.observable(dpRolesUtil.const.CONSUMER_TYPE.admin_roles);

			// list of roles
			self.roleListDS = ko.observable(new oj.ArrayTableDataSource([]));
			//Improves performance by executing subscribed function after a specified period of time
			self.roleListDS.extend({rateLimit: {timeout: 250, method: "notifyWhenChangesStop"}});

			// list of process definitions
			self.processDefinitionList= ko.observableArray([]);

			//Instance roles atributes
			self.instanceId = ko.observable();
			self.processDefinitionId = ko.observable();
			self.readOnly = ko.observable(false); // for instance roles which are readOnly

			//current selected Role Id
			self.selectedRole = ko.observable(null);

			/**
			 * the first method call to set up the Component
			 */
			self.initContext = function() {
				roleService = DPRolesService.getInstance();

				if(self.properties.hasOwnProperty('consumerType')){
					self.consumerType(ko.utils.unwrapObservable(self.properties.consumerType));
				}

				if (self.properties.hasOwnProperty('instanceid') ) {
					self.instanceId(ko.utils.unwrapObservable(self.properties.instanceid));
				}

				if (self.properties.hasOwnProperty('processdefinitionid') ) {
					self.processDefinitionId(ko.utils.unwrapObservable(self.properties.processdefinitionid));
				}

				if (self.properties.hasOwnProperty('readonly') ) {
					self.readOnly(ko.utils.unwrapObservable(self.properties.readonly));
				}

				//load process def
				self.fetchProcessDefinitions();

				// fetch roles
				self.fetchDPRoles();

			};


			/**
			 * method to fetch process definitions
			 */
			self.fetchProcessDefinitions = function(){
				if(self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.admin_roles){
					var instanceService = InstanceService.getInstance();

					//clear old defintition list
					self.processDefinitionList.removeAll();
					instanceService.fetchProcessDefinitions(false,'update').then(function(data) {
						for (var i = 0; data && i < data.length; i++) {
							self.processDefinitionList.push({
								'label': data[i].displayName,
								'value': data[i].id
							});
						}
					}).fail(function(error) {
						var msg = self.bundle.pcs.dp.roles.def_list_error;
						self.showContentErrorRegion(msg);
					});
				}
			};


			/**
			 * method to fetch role list
			 */
			self.fetchDPRoles = function (){
				//Start the loading indicator
				$('#pcs-dp-roles-overlay', element).addClass('pcs-common-load-overlay');

				var params = {};
				if (self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.instance_roles) {
					params =
						{
							processInstanceId: self.instanceId(),
							processDefinitionId: self.processDefinitionId()
						};
				}

				roleService.getRoles(true, params).then(function(roleItemsList) {
					self.populateRolesData(roleItemsList);

					//stop the loading indicator
					setTimeout(function(){
						$('#pcs-dp-roles-overlay', element).removeClass('pcs-common-load-overlay');
					},500);

				}).fail(function(error) {
					var msg = self.bundle.pcs.dp.roles.list_error;
					self.showContentErrorRegion(msg);
				});
			};


			/**
			 * method to populate Role List
			 */
			self.populateRolesData = function(roleItemsList) {

				var arr = [];

				for (var i = 0; roleItemsList && i < roleItemsList.length; i++) {
					if (self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.admin_roles) {
						if (roleItemsList[i].getScopeType() ===  dpRolesUtil.const.SCOPE_TYPE.INSTANCE || roleItemsList[i].getScopeType() === dpRolesUtil.const.SCOPE_TYPE.GLOBAL) {
							continue;
						}
					}
					//TODO: add appropriate logic here else remove the empty loop
					if(self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.instance_roles && roleItemsList[i].getScopeType() ===  dpRolesUtil.const.SCOPE_TYPE.DEFINITION) {

					}

					arr.push(roleItemsList[i]);
				}

				self.roleListDS( new oj.ArrayTableDataSource(arr, {
					idAttribute: 'getRoleId'
				}));
			};


			/**
			 * method to add a new role, called when add button is clicked
			 */
			self.addNewRole = function() {
				var role = new DpRole(dpRolesUtil.createNewRole(dpRolesUtil.const.SCOPE_TYPE.DEFINITION));
				self.selectedRole(role);
			};


			/**
			 * method called when user selects edit role
			 * @param data
			 * @param event
			 */
			self.selectEditInMenu = function(data,event){
				self.selectedRole(data);
			};

			/**
			 * method called when user selects delete role
			 * @param data
			 * @param event
			 */
			self.selectDeleteInMenu = function(data,event){
				self.deleteRole(data);
			};


			/**
			 * delete the required role
			 * @param role
			 */
			self.deleteRole = function(role) {

				// var index = -1;
				// for(var i = 0; self.roleList() && i < self.roleList().length; i++) {
				// 	if(self.roleList()[i].getRoleId() === role.getRoleId()){
				// 		index = i;
				// 	}
				// }

				var successMsg = self.bundle.pcs.dp.roles.delete_role_success.replace('{0}', role.getRoleDisplayName());

				// add loading indicator
				$('#pcs-dp-roles-overlay', element).addClass('pcs-common-load-overlay');
				roleService.removeRole(role.getRoleId()).then(function() {

					self.showContentSuccessRegion(successMsg);

					//fetch roles again from backend
					self.fetchDPRoles();

					// //if we are deleting a instannce role which has overriden
					// // the overridden role should show back again
					// if (self.consumerType()=== dpRolesUtil.const.CONSUMER_TYPE.instance_roles  && role.getOverriddenRoleId()){
					// 	roleService.getRole(true, role.getOverriddenRoleId()).then(function(parentRole) {
					// 		//remove the item from the list and replace with the new role
					// 		self.roleList.splice(index, 1, parentRole);
					// 		self.showContentSuccessRegion(successMsg);
                    //
					// 	}).fail(function(error) {
					// 		//remove the old item from the list
					// 		self.roleList.splice(index, 1);
					// 		self.showContentSuccessRegion(successMsg);
					// 	});
					// }else{
					// 	//remove the old item from the list
					// 	self.roleList.splice(index, 1);
					// 	self.showContentSuccessRegion(successMsg);
					// }
				}).fail(function(error) {

					var msg = self.bundle.pcs.dp.roles.delete_role_error.replace('{0}', role.getRoleDisplayName());
					self.showContentErrorRegion(msg);
				});

			};


			//method to search as soon as user type
			function searchRolesList(searchtext) {
				var promise = $.Deferred();
				roleService.searchRolesList(searchtext).then(function(roleItemsObj) {
					self.populateRolesData(roleItemsObj);
					promise.resolve();
				});
				return promise;
			}

			//method to search as soon as user type
			self.searchTextSubscription = self.searchText.subscribe(function(newValue) {

				searchRolesList(newValue);
			});

			/**
			 * method to clear search Text
			 */
			self.onSearchClearClick = function(){
				//Updating the observable doesnt clear text for rawValue, hence use OJ to set value
				$('#pcs-dp-roles-search-input', element).ojInputText({'value': ''});
			};


			/**
			 * method for error msg containor
			 * @param msg
			 */
			self.showContentErrorRegion = function(msg) {
				self.showContentMsgRegion (msg,false);
				$('#pcs-dp-roles-overlay', element).removeClass('pcs-common-load-overlay');

			};

			/**
			 * method for success msg containor
			 * @param msg
			 */
			self.showContentSuccessRegion = function (msg){
				self.showContentMsgRegion (msg,true);
				$('#pcs-dp-roles-overlay', element).removeClass('pcs-common-load-overlay');
			};

			/**
			 * method to show message containor
			 * @param msg
			 * @param success
			 */
			self.showContentMsgRegion = function(msg,success) {
				var successIcon ='';
				var addClass ='';
				var removeClass = '';
				if (success){
					successIcon = 'pcs-dp-roles-content-success-icon';
					addClass ='pcs-dp-roles-content-success';
					removeClass = 'pcs-dp-roles-content-error';
				}
				else{
					successIcon = 'pcs-dp-roles-content-error-icon';
					addClass = 'pcs-dp-roles-content-error';
					removeClass ='pcs-dp-roles-content-success';
				}

				var html ='<span class=\''+successIcon +'\' style=\'margin:20px\'>'+ msg + '</span>';
				$('#pcs-dp-roles-content-msg-container',element).show(0).html(html).addClass(addClass).removeClass(removeClass).delay(5000).hide(0);

			};


			/**
			 * event listener method called when role details is closed
			 * @param event
			 */
			self.closeDetails = function(event) {
				var data = event.detail;


				//get roles again from cache
				roleService.getRoles(false).then(function(roleItemsList) {
					self.populateRolesData(roleItemsList);

					//make selected Role as null
					self.selectedRole(null);

					$('#pcs-dp-roles-list',element).ojListView('refresh');
				});

			};


			/**
			 * event listener  method called when a new role save is success
			 * @param event
			 */
			self.addRoleCallback = function (event){
				var data = event.detail;
				var role = data.role;

				//make selected Role as null
				self.selectedRole(null);

				var successMsg = self.bundle.pcs.dp.roles.create_role_success.replace('{0}', role.getRoleDisplayName());
				self.showContentSuccessRegion(successMsg);

				//fetch roles again from backend
				self.fetchDPRoles();

				// //get roles again from cache
				// roleService.getRoles(false).then(function(roleItemsList) {
				// 	self.populateRolesData(roleItemsList);
                //
				// 	//remove the overridenId from the list if it exists
				// 	if(self.consumerType()=== dpRolesUtil.const.CONSUMER_TYPE.instance_roles && role.getOverriddenRoleId()){
				// 		var currentPosition = -1;
				// 		$.each(self.roleList(), function(index,item){
				// 			if(item.getRoleId() === role.getOverriddenRoleId()){
				// 				currentPosition = index;
				// 				return false;
				// 			}
				// 		});
				// 		if (currentPosition != -1){
				// 			//deleted the
				// 			self.roleList.splice(currentPosition, 1 );
				// 		}
				// 	}
                //
				// 	//make selected Role as null
				// 	self.selectedRole(null);
                //
				// 	$('#pcs-dp-roles-list',element).ojListView('refresh');
                //
				// 	var msg = self.bundle.pcs.dp.roles.create_role_success.replace('{0}', role.getRoleDisplayName());
				// 	self.showContentSuccessRegion(msg);
				// });
			};


			/**
			 * event listener  method called when a updating a role  is success
			 * @param event
			 */
			self.editRoleCallback = function (event){
				var data = event.detail;
				var role = data.role;

				//get roles again from cache
				roleService.getRoles(false ,null).then(function(roleItemsList) {
					self.populateRolesData(roleItemsList);

					//make selected Role as null
					self.selectedRole(null);

					$('#pcs-dp-roles-list',element).ojListView('refresh');

					var msg = self.bundle.pcs.dp.roles.edit_role_success.replace('{0}', role.getRoleDisplayName());
					self.showContentSuccessRegion(msg);
				});
			};


			//Handle on click of refresh button
			self.onRefreshBtnClick = function() {
				self.fetchDPRoles();
			};

			self.bindingsApplied = function() {
				//temp for Knockoutcomponet
				self.initContext();

				//Subscribe to the events
				pcsUtil.eventHandler.addHandler(element,'dproledetail:close', self.closeDetails);
				pcsUtil.eventHandler.addHandler(element,'dproledetail:addrole', self.addRoleCallback);
				pcsUtil.eventHandler.addHandler(element,'dproledetail:editrole', self.editRoleCallback);

			};

			/**
			 * Method to dispose the ocmponent
			 */
			self.dispose = function(){
				loggerUtil.log('dispose in case roles');
				self.searchTextSubscription.dispose();

				pcsUtil.eventHandler.removeHandler(element,'dproledetail:close', self.closeDetails);
				pcsUtil.eventHandler.removeHandler(element,'dproledetail:addrole', self.addRoleCallback);
				pcsUtil.eventHandler.removeHandler(element,'dproledetail:editrole', self.editRoleCallback);
			};

			self.bindingsApplied();
		}
	}
);

/**
 * Created by nisabhar on 7/19/17.
 */

define('pcs/dynamicProcess/roles/viewModel/dpRolesPermissionVM',['knockout', 'jquery', 'pcs/dynamicProcess/roles/util/dpRolesUtil', 'pcs/util/pcsUtil', 'ojs/ojknockout', 'promise', 'ojL10n!pcs/resources/nls/pcsSnippetsResource',],
	function(ko, $,  dpRolesUtil ,pcsUtil ) {

		//Set the resourcebundle
		var bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

		'use strict';

		return function(permission) {
			var self = this;
			//id of the permission
			self.id = permission.hasOwnProperty('id') ? permission.id : null;

			//selected actions of the permissison
			self.selectedActions = ko.observableArray([]);

			//selected resources of the permissison
			self.selectedResources = ko.observableArray([]);

			//selected condition of the permissison
			self.selectedCondition = ko.observable(permission.hasOwnProperty('condition') ? permission.condition : 'default');

			//selected resource type
			self.selectedResourceType = ko.observableArray([dpRolesUtil.const.RESOURCE_TYPE.CASE_EXECUTION]);

			//condition info text
			self.conditionText =  ko.observable('');

			//ui id
			self.randomId = pcsUtil.getRandomInt(0,1000);


			//set the selected actions
			if(permission.hasOwnProperty('id')){
				self.selectedActions.removeAll();
				for (var i = 0; permission.actions && i < permission.actions.length; i++) {
					self.selectedActions.push(permission.actions[i]);
				}
			}

			//set the selectesResource
			if(permission.hasOwnProperty('resources')) {
				//take the resource type of first element
				self.selectedResourceType([permission.resources[0].resourceType]);
				for (var i = 0; permission.resources && i < permission.resources.length; i++) {
					// add only same type of resource
					if (self.selectedResourceType()[0] === permission.resources[i].resourceType){
						self.selectedResources.push(permission.resources[i].resourceId);
					}
				}
			}

			//set the condition text
			if(permission.hasOwnProperty('condition')) {
				var condition = permission.condition ;
				var text = bundle.pcs.dp.roles.condition_info.replace('{0}', condition);
				self.conditionText(text);
			}

			/**
			 * when resource type option is cahnged
			 * @param event
			 * @param data
			 */
			self.resourceTypeOptionChangeHandler = function(event, data) {
				if (data.option == 'value') {
					//clear the selected resoures as type has changed
					self.selectedResources.removeAll();

					//clear the actions
					self.selectedActions.removeAll();

					var idIndex = event.currentTarget.id.lastIndexOf('-');    //pcs-dp-roles-perm-res-type-1
					var id = event.currentTarget.id.substring(idIndex+1);
					// Refresh the JEt bindings
					$('#pcs-dp-roles-perm-actions-chkbox-'+id).ojCheckboxset('refresh');
				}
			};


			/**
			 * when resource   is cahnged
			 * @param event
			 * @param data
			 */
			self.resourceOptionChangeHandler = function(event, data) {
				if (data.option == 'value') {
					// if the seleted values has fields other than * , replace all with just *
					if(data.value.indexOf('*') >= 0 && data.value.length > 1){
						self.selectedResources(['*']);
					}
				}
			};

			/**
			 * when action is cahnged
			 * @param event
			 * @param data
			 */
			self.actionChangeHandler = function(event, data) {
				if (data.option == 'value') {
					//when update is added , add read by default
					if(data.value.indexOf('UPDATE') >= 0 && data.previousValue.indexOf('UPDATE') === -1 && data.value.indexOf('READ') === -1){
						self.selectedActions.push('READ');
					}
					if(data.value.indexOf('CREATE') >= 0 && data.previousValue.indexOf('CREATE') === -1 && data.value.indexOf('READ') === -1 ){
						self.selectedActions.push('READ');
					}
				}
			};


			/**
			 * method to get the payload object for the current permission
			 * @param subResId
			 * @param operationType
			 * @returns {*}
			 */
			self.getPayloadObject = function(subResId) {
				var operationType;
				if(self.id){
					operationType= 'UPDATE';

					// if action list is removed it means delete the permission (mainly for instance permission)
					if(self.selectedActions().length === 0){
						operationType= 'DELETE';
					}
				}else{
					operationType= 'INSERT';

					//if actionList is empty , make NON as default
					if(self.selectedActions().length === 0 ){
						self.selectedActions(['NONE']);
					}
				}

				var payload = {
					object: {
						condition: self.selectedCondition(),
						actions: self.selectedActions(),
						resources: self.getResourcesPayloadObject(subResId)
					},
					type: operationType
				};

				if (operationType === 'UPDATE' || operationType === 'DELETE') {
					payload.object['id'] = self.id;
				}

				return payload;

			};

			self.getResourcesPayloadObject = function(subResId) {
				var retObj = [];
				$.each(self.selectedResources(), function(index,resource) {
					retObj.push({
						resourceId: resource,
						subResourceId: subResId,
						resourceType: self.selectedResourceType()[0]
					});
				});
				return retObj;
			};
		}
	}
);

/**
 * Created by nisabhar on 7/18/17.
 */


define('pcs/dynamicProcess/roles/viewModel/dpRolesDetailVM',['ojs/ojcore', 'knockout', 'jquery', 'pcs/dynamicProcess/services/DPRolesService',
		'pcs/dynamicProcess/services/DPInstanceService','pcs/dynamicProcess/model/DpRole' ,
		'pcs/dynamicProcess/model/DpRoleMember', 'pcs/dynamicProcess/roles/viewModel/dpRolesPermissionVM',
		'pcs/dynamicProcess/roles/util/dpRolesUtil', 'pcs/util/pcsUtil', 'ojs/ojknockout-validation', 'ojL10n!pcs/resources/nls/pcsSnippetsResource',
		'ojs/ojmenu','ojs/ojknockout','promise', 'ojs/ojinputtext', 'ojs/ojselectcombobox', 'ojs/ojdialog' , 'ojs/ojcheckboxset'
	],
	function(oj, ko, $, CaseRolesService, InstanceService,DpRole, DpRoleMember, PermissionVM, dpRolesUtil,  pcsUtil) {

		'use strict';

		return function (params, componentInfo) {
			var self = this,
				roleService,
				element = componentInfo.element;

			var loggerUtil =  require('pcs/util/loggerUtil');

			//store the params
			self.properties = params;

			//Set the resourcebundle
			self.bundle = require('ojL10n!pcs/resources/nls/pcsSnippetsResource');

			//Component Params
			self.consumerType = ko.observable(dpRolesUtil.const.CONSUMER_TYPE.admin_roles); // type of consumer
			self.instanceId = ''; //Instance roles atributes
			self.instanceProcessDefinitionId = '';
			self.readOnly = ko.observable(false); // for instance roles which are readOnly

			//VM state attributes
			self.selectedRole = ko.observable(); //current selected Role Id
			self.editPermissionEnabled = ko.observable(false); //to control detail permissions
			self.displayName = ko.observable('');  // Role display name
			self.selectedProcessDef = ko.observableArray(); // selected Process def
			self.tracker = ko.observable(); // ERROR TRACKER

			// list of process definitions
			self.processDefinitionList= ko.observableArray([]);

			//Member related
			self.selectedIdentities = ko.observableArray([]);  // currently selected members
			self.initialMemberList = []; 	// to hold initital member list

			//Permissions related
			self.initialPermissionList = []; // to hold initial permissionList
			self.instancePermission = ko.observable(); //to hold instance permission
			self.selectedPermissionList= ko.observableArray([]); // to hold the detail permissions

			var resourceOptionsVar = {};
			resourceOptionsVar[dpRolesUtil.const.RESOURCE_TYPE.CASE_DATA] =ko.observableArray();
			resourceOptionsVar[dpRolesUtil.const.RESOURCE_TYPE.CASE_EXECUTION] =ko.observableArray();
			resourceOptionsVar[dpRolesUtil.const.RESOURCE_TYPE.CASE_DOCUMENT_FOLDER] =ko.observableArray();
			self.resourceOptions = ko.observable(resourceOptionsVar);

			self.resourceTypeOptions =[
				{value: dpRolesUtil.const.RESOURCE_TYPE.CASE_DOCUMENT_FOLDER, label: self.bundle.pcs.dp.roles.documents_label},
				{value: dpRolesUtil.const.RESOURCE_TYPE.CASE_DATA, label: self.bundle.pcs.dp.roles.data_label},
				{value: dpRolesUtil.const.RESOURCE_TYPE.CASE_EXECUTION, label: self.bundle.pcs.dp.roles.activities_label}
			];

			// different action list for different ResoirceType
			self.permissionsActionList = {};

			self.permissionsActionList[dpRolesUtil.const.RESOURCE_TYPE.CASE_EXECUTION] =
				[
					{value: 'READ', label: self.bundle.pcs.dp.roles.view_label, id: 'pcs-dp-roles-exec-perm-act-read'},
					{value: 'UPDATE', label: self.bundle.pcs.dp.roles.update_label, id: 'pcs-dp-roles-exec-perm-act-update'},
					// {value: 'ALL' , label : 'All' , id: 'pcs-dp-roles-exec-perm-act-all'},
					// {value: 'NONE' , label : 'None' , id: 'pcs-dp-roles-exec-perm-act-none'}
				];
			self.permissionsActionList[dpRolesUtil.const.RESOURCE_TYPE.CASE_DATA] =
				[
					{value: 'READ', label: self.bundle.pcs.dp.roles.view_label, id: 'pcs-dp-roles-data-perm-act-read'},
					{value: 'UPDATE', label: self.bundle.pcs.dp.roles.update_label, id: 'pcs-dp-roles-data-perm-act-update'},
					// {value: 'ALL' , label : 'All' , id: 'pcs-dp-roles-data-perm-act-all'},
					// {value: 'NONE' , label : 'None' , id: 'pcs-dp-roles-data-perm-act-none'}
				];
			self.permissionsActionList[dpRolesUtil.const.RESOURCE_TYPE.CASE_DOCUMENT_FOLDER] =
				[
					{value: 'ACCESS' , label : self.bundle.pcs.dp.roles.view_label , id: 'pcs-dp-roles-doc-perm-act-contr'},
					{value: 'DOCUMENT_DOWNLOAD' , label :self.bundle.pcs.dp.roles.download_label, id: 'pcs-dp-roles-doc-perm-act-down'},
					{value: 'DOCUMENT_CONTRIBUTE' , label : self.bundle.pcs.dp.roles.contribute_label , id: 'pcs-dp-roles-doc-perm-act-all'},
					// {value: 'NONE' , label : 'None' , id: 'pcs-dp-roles-doc-perm-act-none'}
				];

			self.permissionsActionList[dpRolesUtil.const.RESOURCE_TYPE.CASE_INSTANCE] =
				[
					{value: 'CREATE' , label : self.bundle.pcs.dp.roles.inst_create_label , id: 'pcs-dp-roles-inst-perm-act-create'},
					{value: 'READ' , label : self.bundle.pcs.dp.roles.inst_read_label , id: 'pcs-dp-roles-inst-perm-act-read'},
					{value: 'UPDATE' , label :self.bundle.pcs.dp.roles.inst_update_label  , id: 'pcs-dp-roles-inst-perm-act-update'},
					{value: 'ACCESS' , label : self.bundle.pcs.dp.roles.inst_access_label  , id: 'pcs-dp-roles-inst-perm-act-access'},
					{value: 'DOCUMENT_DOWNLOAD' , label : self.bundle.pcs.dp.roles.inst_download_label  , id: 'pcs-dp-roles-inst-perm-act-down'},
					{value: 'DOCUMENT_CONTRIBUTE' , label : self.bundle.pcs.dp.roles.inst_contribute_label  , id: 'pcs-dp-roles-inst-perm-act-contr'}
				];


			//subscript for ProcessDef changes
			self.selectedProcessDefSubscription = self.selectedProcessDef.subscribe(function() {
				if(self.selectedProcessDef() && self.selectedProcessDef().length === 1) {
					var defId = self.selectedProcessDef()[0];

					// fetch the new metadata
					self.fetchProcessDefinitionMetadata(defId);


					if(self.selectedRole().getRoleId() === -1){
						//if its a new role clean out the saved permissionList as definition changed
						self.selectedPermissionList.removeAll();
					}
				}
			});

			//Label for saveButton
			self.saveLabel = ko.pureComputed(function(){
				//its a new role being created
				if(self.selectedRole().getRoleId() === -1){
					return self.bundle.pcs.dp.roles.create_label;
				}
				// instance is overriding a role
				if(self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.instance_roles && !self.selectedRole().getOverriddenRoleId()){
					return self.bundle.pcs.dp.roles.override_label;
				}
				// editing an existing role
				return self.bundle.pcs.dp.roles.save_label;
			});


			/**
			 * the first method call to set up the Component
			 */
			self.initContext = function() {
				roleService = CaseRolesService.getInstance();

				if(self.properties.hasOwnProperty('consumerType')){
					self.consumerType (ko.utils.unwrapObservable(self.properties.consumerType));
				}

				if (self.properties.hasOwnProperty('instanceid') ) {
					self.instanceId =ko.utils.unwrapObservable(self.properties.instanceid);
				}

				if (self.properties.hasOwnProperty('role') ) {
					self.selectedRole(ko.utils.unwrapObservable(self.properties.role));
				}

				if (self.properties.hasOwnProperty('processdefinitionid') ) {
					self.instanceProcessDefinitionId = ko.utils.unwrapObservable(self.properties.processdefinitionid);
				}

				if (self.properties.hasOwnProperty('readonly') ) {
					self.readOnly(ko.utils.unwrapObservable(self.properties.readonly));
				}

				//load process def
				self.fetchProcessDefinitions();

				// populate roles data
				self.populateDPRoleData();
			};


			/**
			 * method to fetch process definitions
			 */
			self.fetchProcessDefinitions = function(){
				if(self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.admin_roles){
					var instanceService = InstanceService.getInstance();

					//clear old defintition list
					self.processDefinitionList.removeAll();
					instanceService.fetchProcessDefinitions(false,'update').then(function(data) {
						for (var i = 0; data && i < data.length; i++) {

							self.processDefinitionList.push({
								'label': data[i].displayName,
								'value': data[i].id
							});

						}
					}).fail(function(error) {
						var msg = self.bundle.pcs.dp.roles.def_list_error;
						self.showContentErrorRegion(msg);
					});
				}
			};


			/**
			 * method to populate DP role
			 */
			self.populateDPRoleData = function(){

				//set the displayName
				var name = self.selectedRole().getRoleDisplayName();
				// if we are overrding the role , modify the display name
				if(self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.instance_roles && self.selectedRole().getScopeType() === dpRolesUtil.const.SCOPE_TYPE.DEFINITION ){
					name = name +"_overridden"
				}
				self.displayName (name);

				//set selectedProcessDef
				if (self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.admin_roles){
					self.selectedProcessDef(self.selectedRole().getScopes());
				}else{
					self.selectedProcessDef([self.instanceProcessDefinitionId]);
				}


				if(self.selectedRole().getRoleId() != -1){
					//fetch members
					self.fetchRoleMembers(self.selectedRole().getRoleId());

					//fetch permissions
					self.fetchRolePermissions(self.selectedRole().getRoleId());
				}else{

					// add the instance permission
					self.instancePermission(new PermissionVM (dpRolesUtil.createInstancePermission()));
				}
			};


			/**
			 * method to fetch the process metadata
			 */
			self.fetchProcessDefinitionMetadata = function (defId){

				//Start the loading indicator
				$('#pcs-dp-roles-detail-overlay', element).addClass('pcs-common-load-overlay');

				roleService.getResources(defId).then(function(resourceData) {

					// iterate Data objects
					var optionObj = {value: '*', label: self.bundle.pcs.dp.roles.all_label, children: []};
					$.each(resourceData.dataObjects, function(index,data){
						optionObj.children.push({value: data.id, label: data.displayName});
					});

					//remove the old data
					self.resourceOptions()[dpRolesUtil.const.RESOURCE_TYPE.CASE_DATA].removeAll();
					//push new data
					self.resourceOptions()[dpRolesUtil.const.RESOURCE_TYPE.CASE_DATA].push(optionObj);

					// iterate folders
					var optionObj = {value: '*', label: self.bundle.pcs.dp.roles.all_label, children: []};
					if(resourceData.documents){
						$.each(resourceData.documents.documentDefinitions, function(index,folder){
							optionObj.children.push({value: folder.name, label: folder.name});
						});
					}
					//remove the old data
					self.resourceOptions()[dpRolesUtil.const.RESOURCE_TYPE.CASE_DOCUMENT_FOLDER].removeAll();
					//push new data
					self.resourceOptions()[dpRolesUtil.const.RESOURCE_TYPE.CASE_DOCUMENT_FOLDER].push(optionObj);


					// iterate plaItems
					$.each(resourceData.planItems, function(index,planItemJSON) {
						var optionObj = {value: '*', label: self.bundle.pcs.dp.roles.all_label, children: []};
						//self.setPlanItemResourceOptionsRecursively(planItemJSON, optionObj.children);
						$.each(planItemJSON.childPlanItems, function(index,childPlanItem){
							dpRolesUtil.setPlanItemResourceOptionsRecursively(childPlanItem, optionObj.children);
						});
						//remove the old data
						self.resourceOptions()[dpRolesUtil.const.RESOURCE_TYPE.CASE_EXECUTION].removeAll();
						//push new data
						self.resourceOptions()[dpRolesUtil.const.RESOURCE_TYPE.CASE_EXECUTION].push(optionObj);
					});

					self.showContentSuccessRegion();

				}).fail(function(error) {
					var msg = self.bundle.pcs.dp.roles.metadata_fetch_error;
					self.showContentErrorRegion(msg);
				});

			};


			/**
			 * method to fetch role members
			 * @param roleId
			 */
			self.fetchRoleMembers = function (roleId){
				//Start the loading indicator
				$('#pcs-dp-roles-detail-overlay', element).addClass('pcs-common-load-overlay');

				roleService.getMembers(roleId).then(function(membersList) {
					var tmp =[];
					self.initialMemberList = [];
					for (var i = 0; i < membersList.length; i++) {
						var selMember = membersList[i];
						tmp.push({
							'id': selMember.getMemberName(),
							'type': selMember.getMemberType().toLowerCase()
						});
						if(self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.instance_roles && self.selectedRole().getScopeType() === dpRolesUtil.const.SCOPE_TYPE.DEFINITION ){
							// if the instance is loading , a definition scope role , we will create a new member
						}else{
							self.initialMemberList.push(selMember);
						}

					}
					self.selectedIdentities(tmp);
					self.showContentSuccessRegion();
				}).fail(function(error) {
					var msg = self.bundle.pcs.dp.roles.members_fetch_error;
					self.showContentErrorRegion(msg);
				});
			};


			/**
			 * method to fetch role permissions
			 * @param roleId
			 */
			self.fetchRolePermissions = function (roleId){
				//Start the loading indicator
				$('#pcs-dp-roles-detail-overlay', element).addClass('pcs-common-load-overlay');

				roleService.getRolePermissions(roleId).then(function(permData) {
					self.populatePermissions(permData);
					self.showContentSuccessRegion();
				}).fail(function(error) {
					var msg = self.bundle.pcs.dp.roles.perm_fetch_error;
					self.showContentErrorRegion(msg);
				});
			};


			/**
			 * method to populate permissions
			 */
			self.populatePermissions = function (permData){
				//clean old list
				self.initialPermissionList = [];
				self.selectedPermissionList.removeAll();

				$.each(permData, function(index,permission) {

					if(self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.instance_roles && self.selectedRole().getScopeType() === dpRolesUtil.const.SCOPE_TYPE.DEFINITION ){
						// if the instance is loading , a definition scope role , we will create a new member
						permission.id = null;
					}

					var permissionVM = new PermissionVM(permission);
					if(permission.resources.length > 0 &&
						permission.resources[0].resourceType === dpRolesUtil.const.RESOURCE_TYPE.CASE_INSTANCE){
						self.instancePermission(permissionVM);
					} else {
						self.selectedPermissionList.push(permissionVM);
						// add it in local cache to be used later for saving
						self.initialPermissionList.push(permission);
					}
				});

				// if instance permission is not set add a dummy permission
				if(!self.instancePermission()){
					// add the instance permission
					self.instancePermission(new PermissionVM (dpRolesUtil.createInstancePermission()));
				}

			};


			/**
			 * method to delete a permission
			 */
			self.deletePermission = function (data,event){
				//remove the permission from the list
				self.selectedPermissionList.remove(data);
			};


			/**
			 * method to add a new permission
			 * in the perission detail section
			 */
			self.addNewPermission = function (){
				//Add the new item at the top
				self.selectedPermissionList.unshift(new PermissionVM ({}));
			};


			/**
			 * to cancel local permission changes
			 */
			self.cancelPermissionChanges = function(){
				//reload the original permission set
				self.populatePermissions(self.initialPermissionList.slice());
			};


			/**
			 * method to show detail permission
			 * @param data
			 * @param event
			 */
			self.showDetailPermissionUI = function(data,event) {
				self.editPermissionEnabled(true);
			};


			/**
			 * to close the role detail
			 */
			self.goBackButton = function() {
				if(self.editPermissionEnabled()){
					// don't let user close the ui if the data is invalid
					if(self.validateData()){
						self.editPermissionEnabled(false);
					}
				} else {
					self.discardRoleChanges();
				}
			};



			/**
			 * method to validate the data
			 */
			self.validateData = function (){
				return dpRolesUtil.validateInvalidComponentTracker(self.tracker);
			};


			/**
			 * Method called when  save role changes button is clocked
			 */
			self.saveRoleChanges = function() {
				//validate the data
				if(!self.validateData()){
					return;
				}

				var payload = {
					displayName: self.displayName(),
					scopes: self.selectedProcessDef(),
					scopeType: self.selectedRole().getScopeType()
				};

				if(self.selectedRole().getRoleId() === -1){
					self.saveNewRole(payload);
				}else{
					if(self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.instance_roles && self.selectedRole().getScopeType() === dpRolesUtil.const.SCOPE_TYPE.DEFINITION ){
						// create a new instance level role
						payload.scopeType = dpRolesUtil.const.SCOPE_TYPE.INSTANCE;
						payload.overriddenRoleId = self.selectedRole().getRoleId();
						payload.scopes = [self.selectedProcessDef()[0]+'.'+self.instanceId];
						self.saveNewRole(payload);
					}
					else if(self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.instance_roles && self.selectedRole().getScopeType() === dpRolesUtil.const.SCOPE_TYPE.INSTANCE){
						//set the existing roleID
						payload.id =self.selectedRole().getRoleId();
						payload.scopes = [self.selectedProcessDef()[0]+'.'+self.instanceId];
						self.saveExistingRole(payload);
					}
					else{
						//set the existing roleID
						payload.id =self.selectedRole().getRoleId();
						self.saveExistingRole(payload);
					}
				}
			};


			/**
			 * method to check if the role with givenName with different roleID already exist
			 * @param payload
			 * @returns {boolean}
			 */
			self.isDuplicateName= function(payload){

				var isDuplicate = false;

				//check if the changed name already exist . DO not create a new role with same name
				var existingRoles = roleService.getExistingRolesIdNameMap();

				for (var roleId in  existingRoles){

					if(existingRoles[roleId] === payload.displayName && roleId != payload.id){
						var msg = self.bundle.pcs.dp.roles.duplicate_role_name_error;
						self.showContentErrorRegion(msg);
						isDuplicate =true;
						break;
					}

				}

				return isDuplicate
			};


			/**
			 * method to update an existing role
			 * @param payload
			 */
			self.saveExistingRole = function (payload){

				//check if the changed name already exist . Do not save the role with same name
				if(self.isDuplicateName(payload)){
					return;
				}

				//if displayName has changed save the role first
				if(self.displayName() != self.selectedRole().getRoleDisplayName()){
					//Start the loading indicator
					$('#pcs-dp-roles-detail-overlay', element).addClass('pcs-common-load-overlay');
					//update the role
					roleService.updateRole(payload).then(function(role) {

						self.addOrEditRoleSuccess(role,'editrole');

					}).fail(function(error) {
						var msg = self.bundle.pcs.dp.roles.edit_role_error;
						self.showContentErrorRegion(msg);
					});
				}else{
					self.addOrEditRoleSuccess(self.selectedRole(),'editrole');
				}

			};

			/**
			 * method to add a new Role
			 * @param payload
			 */
			self.saveNewRole = function (payload){

				//check if the changed name already exist . Do not create a new role with same name
				if(self.isDuplicateName(payload)){
					return;
				}


				//Start the loading indicator
				$('#pcs-dp-roles-detail-overlay', element).addClass('pcs-common-load-overlay');
				roleService.addNewRole(payload).then(function(role) {

					self.addOrEditRoleSuccess(role,'addrole');

				}).fail(function(error) {
					var msg = self.bundle.pcs.dp.roles.create_role_error;
					self.showContentErrorRegion(msg);
				});
			};


			/**
			 * call back success method of add/edit role
			 * it saves the members and call permission save
			 * @param msg
			 */
			self.addOrEditRoleSuccess = function (role,type){

				var membersSavePromise = self.saveMembers(role.getRoleId());

				if(membersSavePromise){
					membersSavePromise.then(function(){
						self.addOrEditMemberSuccess(role,type);
					}).
					fail(function(error) {
						var msg = self.bundle.pcs.dp.roles.members_save_error;
						self.showContentErrorRegion(msg);
					});
				}else{
					self.addOrEditMemberSuccess(role,type);
				}
			};


			/**
			 * method called when member adding is saved
			 * it saves the permissions and dispatches save event
			 * @param role
			 * @param type
			 */
			self.addOrEditMemberSuccess = function (role,type){

				var permissionsSavePromise = self.savePermissions(role.getRoleId());

				if(permissionsSavePromise){
					permissionsSavePromise.then(function(){
						self.dispatchSaveEvent(role,type);
					}).
					fail(function(error) {
						var msg = self.bundle.pcs.dp.roles.perm_save_error;
						self.showContentErrorRegion(msg);
					});
				}else{
					self.dispatchSaveEvent(role,type);
				}
			};


			/**
			 * method to save members for the given role
			 */
			self.saveMembers = function(roleId){
				var promise = $.Deferred();

				var changedMembers = dpRolesUtil.getChangedMembersPayload(self.initialMemberList, self.selectedIdentities());
				if (changedMembers.length > 0) {
					//Start the loading indicator
					$('#pcs-dp-roles-detail-overlay', element).addClass('pcs-common-load-overlay');
					var payload = {actions : changedMembers};

					roleService.updateMembers(roleId, payload).then(function(data) {
						self.initialMemberList = data.slice();
						promise.resolve();
					}).fail(function(error) {
						promise.reject();
					});
				} else {
					return;
				}
				return promise;
			};


			/**
			 *  method to save the permissions
			 * @param role
			 * @param type
			 */
			self.savePermissions = function (roleId){
				var promise = $.Deferred();

				var initialPermissionList =self.initialPermissionList.slice();

				if(self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.instance_roles && self.selectedRole().getScopeType() === dpRolesUtil.const.SCOPE_TYPE.DEFINITION ){
					// if the instance is loading , a definition scope role , we will create a new member
					initialPermissionList = [];
				}

				// set the subresourceId in case of instance roles
				var subResourceId = self.consumerType() === dpRolesUtil.const.CONSUMER_TYPE.admin_roles ? '*': self.instanceId;
				var changedPermissions = dpRolesUtil.getChangedPermissionsPayload(initialPermissionList, self.selectedPermissionList(), subResourceId ,self.instancePermission());

				if (changedPermissions.length > 0) {
					//Start the loading indicator
					$('#pcs-dp-roles-detail-overlay', element).addClass('pcs-common-load-overlay');

					var payload = {actions : changedPermissions};

					roleService.updatePermission(roleId, payload).then(function(data) {

						//No need to update local permissions, as Ui will be closed now
						//self.populatePermissions(data);

						promise.resolve();
					}).fail(function(error) {
						promise.reject();
					});
				} else {
					return;
				}
				return promise;
			};


			/**
			 * method to show error region
			 * @param msg
			 */
			self.showContentErrorRegion = function(msg){
				//stop the loading indicator
				$('#pcs-dp-roles-detail-overlay', element).removeClass('pcs-common-load-overlay');

				$('#pcs-dp-roles-content-error-text',element).html(msg);
				$('#pcs-dp-roles-detail-error-containor',element).show().delay(8000).hide(0);
			};


			/**
			 * method to show success region
			 * @param msg
			 */
			self.showContentSuccessRegion = function(msg){
				//stop the loading indicator
				$('#pcs-dp-roles-detail-overlay', element).removeClass('pcs-common-load-overlay');

			};

			/**
			 * to sent the save message to parent
			 * @param role
			 * @param type
			 */
			self.dispatchSaveEvent = function(role,type){
				//stop the loading indicator
				$('#pcs-dp-roles-detail-overlay', element).removeClass('pcs-common-load-overlay');

				var params = {
					'bubbles': true,
					'detail': {
						'id': role.getRoleId(),
						'role' : role
					}
				};
				// loggerUtil.log('firing event for drilldown');
				element.dispatchEvent(new CustomEvent('dproledetail:'+ type, params));
			};




			/**
			 * Method to discard changes
			 */
			self.discardRoleChanges = function() {
				var params = {
					'bubbles': true,
					'detail': {
						'id': self.selectedRole().getRoleId()
					}
				};
				// loggerUtil.log('firing event for drilldown');
				element.dispatchEvent(new CustomEvent('dproledetail:close', params));
			};


			/**
			 * Method to dispose the ocmponent
			 */
			self.dispose = function(){
				loggerUtil.log('dispose in case roles details');

				if(self.selectedProcessDefSubscription){
					self.selectedProcessDefSubscription.dispose();
				}

				self.saveLabel.dispose();
			};

			self.bindingsApplied = function() {
				//temp for Knockoutcomponet
				self.initContext();
			};

			self.bindingsApplied();
		}
	}
);


define('text!pcs/dynamicProcess/roles/view/dpRolesDetail.html',[],function () { return '<div class="demo-flex-display oj-flex-items-pad oj-panel pcs-dp-roles-navdiv">\n\t<!-- ko if: selectedRole() -->\n\t<div class="oj-flex-items-pad oj-panel pcs-dp-roles-detailpaneldiv">\n\t\t<button id="pcs-dp-roles-detail-back-btn"\n\t\t\t\tdata-bind="click: goBackButton,\n\t\t\t\t\t\t\t\t   ojComponent: {\n\t\t\t\t\t\t\t\t   component:\'ojButton\', label: bundle.pcs.dp.roles.back_label, display: \'icons\', chroming: \'half\',\n\t\t\t\t\t\t\t\t   icons: {start:\'demo-icon-font pcs-dp-roles-back-icon\'}}">\n\t\t</button>\n\n\t\t<span class="pcs-dp-roles-name-main-label" data-bind="text: displayName"></span>\n\n\t\t<div id="pcs-dp-roles-detail-error-containor" class="pcs-dp-roles-content-error pcs-dp-display-none">\n\t\t\t<span class="pcs-dp-roles-content-error-icon"></span>\n\t\t\t<span id="pcs-dp-roles-content-error-text"></span>\n\t\t</div>\n\n\t\t<!-- ko if: !editPermissionEnabled() -->\n\t\t<div class="oj-flex oj-sm-flex-direction-column pcs-dp-roles-detailpaneldiv_1">\n\t\t\t<label for="pcs-dp-roles-selectedrole" data-bind="text: bundle.pcs.dp.roles.name_label"></label>\n\t\t\t<input id="pcs-dp-roles-selectedrole" class="pcs-dp-role-name-input" type="text"\n\t\t\t\t   data-bind="attr:{placeholder: bundle.pcs.dp.roles.untitled},\n               \t\t\t\t\tojComponent:{component: \'ojInputText\',required:true, invalidComponentTracker: tracker, value: displayName , disabled : readOnly()}"/>\n\n\t\t</div>\n\n\t\t<div>\n\t\t\t<!-- ko if: consumerType() === \'admin_roles\' -->\n\t\t\t<div class="pcs-dp-roles-processdefinition-div">\n\t\t\t\t<!-- ko if: selectedRole().getScopeType() === \'DEFINITION\' -->\n\t\t\t\t<label for="pcs-dp-roles-processdeflist" data-bind="text: bundle.pcs.dp.roles.process_def_label"></label>\n\t\t\t\t<input id="pcs-dp-roles-processdeflist"\n\t\t\t\t\t   data-bind="ojComponent: {component: \'ojCombobox\',\n\t\t\t\t\t\t\t\t\t\t\tvalue: selectedProcessDef,\n\t\t\t\t\t\t\t\t\t\t\toptions: processDefinitionList,\n\t\t\t\t\t\t\t\t\t\t\tmultiple: false, required:true,\n\t\t\t\t\t\t\t\t\t\t\tdisabled: !selectedRole().isNewRole(),\n\t\t\t\t\t\t\t\t\t\t\tinvalidComponentTracker: tracker,\n\t\t\t\t\t\t\t\t\t\t\trootAttributes: {style:\'width: 500px;\'}}"/>\n\t\t\t\t<!-- /ko -->\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\t\t\t<label for="pcs-dp-roles-role-user-name" class="oj-label" data-bind="text: bundle.pcs.dp.roles.members_label"></label>\n\t\t\t<!-- ko ifnot: readOnly() -->\n\t\t\t<div id="pcs-dp-roles-role-user-name"\n\t\t\t\t class="pcs-dp-roles-idbClass"\n\t\t\t\t data-bind=\'component: {name: "pcs-identity-browser" ,\n\t\t\t\t\tparams: {multiple: true, value: selectedIdentities,\n\t\t\t\t\tselectLabel: bundle.pcs.dp.roles.select_all_id , placehoderTxt: bundle.pcs.dp.roles.searchUsers , disabled : readOnly(),\n\t\t\t\t\tscope: ["user","group"], idbID: "pcs-dp-roles-idb"}}\'>\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\t\t\t<!-- ko if: readOnly()  -->\n\t\t\t<div id="pcs-dp-roles-user-name-ro"  class="pcs-dp-roles-idbClass" style="margin-top:10px">\n\t\t\t\t<!-- ko foreach: selectedIdentities() -->\n\t\t\t\t\t<span style="margin-right:10px" data-bind="text : $data.id"></span>\n\t\t\t\t<!-- /ko -->\n\t\t\t</div>\n\t\t\t<!-- /ko -->\n\n\n\t\t\t<div class="pcs-dp-roles-perm-div">\n\t\t\t\t<span class="pcs-dp-roles-perm-label"  data-bind="text: bundle.pcs.dp.roles.permissions_label"></span>\n\t\t\t</div>\n\t\t\t<span class="pcs-dp-roles-info-label"  data-bind="text: bundle.pcs.dp.roles.instance_perm_info"></span>\n\t\t\t<span data-bind="attr: { title: $parent.bundle.pcs.dp.roles.instance_perm_help} " role="img" class="oj-fwk-icon-status-info oj-fwk-icon"></span>\n\t\t\t<div class="pcs-dp-info-text" data-bind="text: $parent.bundle.pcs.dp.roles.detail_perm_info_note"></div>\n\t\t\t<div class="pcs-dp-roles-permtemplatediv" data-bind="template: {name: \'dp-roles-instance-permissions\'}"></div>\n\t\t\t<div>\n\t\t\t\t<button id="pcs-dp-roles-enablepermbtn" class="pcs-dp-roles-editpermbtndiv"\n\t\t\t\t\t\tdata-bind="click: showDetailPermissionUI, ojComponent: {\n                    component:\'ojButton\', label: bundle.pcs.dp.roles.advanced_perm +\' (\' + selectedPermissionList().length +\')\', chroming: \'full\',\n                    disabled : selectedProcessDef().length === 0,\n                    icons: {start:\'oj-fwk-icon\'}}">\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- /ko -->\n\n\t\t<!-- ko if: editPermissionEnabled() -->\n\t\t\t<div class="pcs-dp-info-text" data-bind="text: $parent.bundle.pcs.dp.roles.detail_perm_task_info_note"></div>\n\t\t\t<!-- ko ifnot: readOnly() -->\n\t\t\t\t<button id="pcs-dp-roles-addPermBtn" class="pcs-dp-roles-add-perm-btn"\n\t\t\t\t\t\tdata-bind="click : addNewPermission, ojComponent: {\n\t\t\t\t\t\t\t\t\t   component:\'ojButton\', label:bundle.pcs.dp.roles.add_perm, display: \'both\', chroming: \'full\',\n\t\t\t\t\t\t\t\t\t   icons: {start:\'demo-icon-font pcs-dp-roles-add-icon\'}}">\n\t\t\t\t</button>\n\t\t\t<!-- /ko -->\n\t\t\t<div style="margin-left: 0px !important">\n\t\t\t\t<div class="pcs-dp-roles-perm-parent-div oj-flex oj-sm-12" data-bind="template: {name: \'dp-roles-detail-permissions\'}"></div>\n\t\t\t</div>\n\t\t<!-- /ko -->\n\t</div>\n\n\t<div class="pcs-dp-roles-main-btns-div">\n\t\t<!-- ko if: !editPermissionEnabled() -->\n\t\t\t<button id="pcs-dp-roles-main-btns-cancel" class="pcs-dp-roles-bar-btn"\n\t\t\t\t\tdata-bind="click: discardRoleChanges, ojComponent: {\n\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', label: bundle.pcs.dp.roles.cancel_label, chroming: \'full\',\n\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon\'}}">\n\t\t\t</button>\n\t\t\t<!-- ko ifnot: readOnly() -->\n\t\t\t\t<button id="pcs-dp-roles-main-btns-save" class="pcs-dp-roles-bar-btn"\n\t\t\t\t\t\tdata-bind="click: saveRoleChanges, ojComponent: {\n\t\t\t\t\t\t\t\t\t\t   component:\'ojButton\', label: saveLabel, chroming: \'full\',\n\t\t\t\t\t\t\t\t\t\t   icons: {start:\'oj-fwk-icon\'}}">\n\t\t\t\t</button>\n\t\t\t<!-- /ko -->\n\t\t<!-- /ko -->\n\t\t<!-- ko if: editPermissionEnabled() -->\n\t\t\t<!-- ko ifnot: readOnly() -->\n\t\t\t\t<button id="pcs-dp-roles-main-btns-perm-cancel" class="pcs-dp-roles-bar-btn"\n\t\t\t\t\t\tdata-bind="click: cancelPermissionChanges, ojComponent: {\n\t\t\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', label: bundle.pcs.dp.roles.revert_label, chroming: \'full\',\n\t\t\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon\'}}">\n\t\t\t\t</button>\n\t\t\t<!-- /ko -->\n\t\t\t<button id="pcs-dp-roles-main-btns-perm-done" class="pcs-dp-roles-bar-btn"\n\t\t\t\t\tdata-bind="click: goBackButton, ojComponent: {\n\t\t\t\t\t\t\t\t\t\tcomponent:\'ojButton\', label: bundle.pcs.dp.roles.back_label, chroming: \'full\',\n\t\t\t\t\t\t\t\t\t\ticons: {start:\'oj-fwk-icon\'}}">\n\t\t\t</button>\n\t\t<!-- /ko -->\n\t</div>\n\t<!-- /ko -->\n\n\t<div id="pcs-dp-roles-detail-overlay"></div>\n</div>\n\n\n<script type="text/html" id="dp-roles-instance-permissions">\n\n\t<!-- ko if: instancePermission() -->\n\t<div id="pcs-dp-roles-perm-main-container" data-bind="with: instancePermission()" class="pcs-dp-roles-perm-topcontainer">\n\n\t\t<div class="pcs-dp-roles-actionschkbox"\n\t\t\t data-bind="ojComponent: {\n          \t\t\t\tcomponent: \'ojCheckboxset\', disabled: $parent.readOnly(),\n          \t\t\t\toptionChange: actionChangeHandler,\n          \t\t\t\tvalue: selectedActions}" >\n\n\t\t\t<!-- ko foreach: $parent.permissionsActionList.CASE_INSTANCE -->\n\t\t\t<span class="oj-choice-item pcs-dp-roles-perm-label-span">\n\t\t\t\t<input data-bind="attr: { value: $data.value , id: $data.id }, disable : $parents[1].consumerType() === \'instance_roles\' && $data.value === \'CREATE\'" type="checkbox">\n\t\t\t\t<label class="pcs-dp-roles-perm-label-options" data-bind="attr: { for: $data.id }, text :$data.label"></label>\n\t\t\t</span>\n\t\t\t<!-- /ko  -->\n\n\t\t</div>\n\t</div>\n\t<!-- /ko -->\n\n</script>\n\n\n<script type="text/html" id="dp-roles-detail-permissions">\n\n\t<div class="oj-flex-items-pad oj-flex oj-sm-12" style="min-height:300px">\n\t\t<!-- ko foreach: selectedPermissionList -->\n\t\t<div class="oj-flex-item oj-sm-12 oj-md-10 oj-lg-8">\n\t\t\t<div class="pcs-dp-roles-collapsiblediv"\n\t\t\t\t data-bind="ojComponent: {component: \'ojCollapsible\', expanded: true}">\n\n\t\t\t\t<h3  class="pcs-dp-roles-permheaderlabel oj-header-border">\n\t\t\t\t\t<span data-bind="text: $parent.bundle.pcs.dp.roles.permission_label"></span>\n\n\t\t\t\t\t<!-- ko if: selectedCondition() && selectedCondition() != \'default\' -->\n\t\t\t\t\t\t<span data-bind="attr: { title: conditionText} " role="img" class="oj-fwk-icon-status-info oj-fwk-icon"></span>\n\t\t\t\t\t<!-- /ko -->\n\n\t\t\t\t\t<!-- ko ifnot: $parent.readOnly() -->\n\t\t\t\t\t\t<button  class="pcs-dp-roles-del-perm-btn"\n\t\t\t\t\t\t\t\tdata-bind="click : $parent.deletePermission, ojComponent: {\n\t\t\t\t\t\t\t\t\t\t\t   component:\'ojButton\', label: $parent.bundle.pcs.dp.roles.perm_delete_label, display: \'icons\', chroming: \'half\',\n\t\t\t\t\t\t\t\t\t\t\t   icons: {start:\'demo-icon-font pcs-dp-roles-del-perm-icon\'}}">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t<!-- /ko -->\n\t\t\t\t</h3>\n\n\n\t\t\t\t<div>\n\n\t\t\t\t\t<div class="oj-row pcs-dp-roles-perm-info-label-row">\n\t\t\t\t\t\t<div class="oj-col pcs-dp-roles-perm-info-label">\n\t\t\t\t\t\t\t<span data-bind="text: $parent.bundle.pcs.dp.roles.detail_resource_info"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="oj-row pcs-dp-roles-res-type-row">\n\t\t\t\t\t\t<div class="oj-col">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t   data-bind="attr: { id: \'pcs-dp-roles-perm-res-type-\' + $data.randomId },\n\t\t\t\t\t\t\t\t   ojComponent: {\n\t\t\t\t\t\t\t           component: \'ojSelect\',\n\t\t\t\t\t\t\t           value: selectedResourceType, disabled: $parent.readOnly(),\n\t\t\t\t\t\t\t           optionChange: resourceTypeOptionChangeHandler,\n\t\t\t\t\t\t\t           options: $parent.resourceTypeOptions,\n\t\t\t\t\t\t\t           invalidComponentTracker: $parent.tracker,\n\t\t\t\t\t\t\t           required: true}"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="oj-row pcs-dp-roles-res-row">\n\t\t\t\t\t\t<div class="oj-col">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t   data-bind=" attr: { id: \'pcs-dp-roles-perm-res-\' + $data.randomId },\n\t\t\t\t\t\t\t\t   ojComponent: {\n\t\t\t\t\t\t\t           component: \'ojSelect\',\n\t\t\t\t\t\t\t           multiple: \'true\',\n\t\t\t\t\t\t\t           placeholder : $parent.bundle.pcs.dp.roles.resouce_placeholder ,\n\t\t\t\t\t\t\t           value: selectedResources,\n\t\t\t\t\t\t\t           options: $parent.resourceOptions()[$data.selectedResourceType()[0]](),\n\t\t\t\t\t\t\t           optionChange: resourceOptionChangeHandler,\n\t\t\t\t\t\t\t           invalidComponentTracker: $parent.tracker,\n\t\t\t\t\t\t\t           required: true,\n\t\t\t\t\t\t\t           disabled: $parent.readOnly(),\n\t\t\t\t\t\t\t           rootAttributes: {style:\'max-width:30em\'}}"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="oj-row pcs-dp-roles-act-label-row">\n\t\t\t\t\t\t<div class="oj-col pcs-dp-roles-perm-act-label">\n\t\t\t\t\t\t\t<span data-bind="text: $parent.bundle.pcs.dp.roles.detail_perm_info"></span>\n\t\t\t\t\t\t\t<div class="pcs-dp-info-text" data-bind="text: $parent.bundle.pcs.dp.roles.detail_perm_info_note"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="oj-row pcs-dp-roles-act-type-row">\n\t\t\t\t\t\t<div class="oj-col">\n\t\t\t\t\t\t\t<div aria-label="Actions" class="pcs-dp-roles-actionschkbox"\n\t\t\t\t\t\t\t\t data-bind="attr: { id: \'pcs-dp-roles-perm-actions-chkbox-\' + $data.randomId },\n\t\t\t\t\t\t\t\t \t\t\tojComponent: {\n          \t\t\t\t\t\t\t\t\tcomponent: \'ojCheckboxset\',\n          \t\t\t\t\t\t\t\t\toptionChange: actionChangeHandler,\n          \t\t\t\t\t\t\t\t\tdisabled: $parent.readOnly(),\n          \t\t\t\t\t\t\t\t\tvalue: selectedActions}" >\n\n\t\t\t\t\t\t\t\t<!-- ko foreach: $parent.permissionsActionList[$data.selectedResourceType()[0]] -->\n\t\t\t\t\t\t\t\t<span class="oj-choice-item pcs-dp-roles-perm-label-span">\n\t\t\t\t\t\t\t\t\t<input style="margin-right:0.75rem;margin-top:10px" data-bind="attr: { value: $data.value , id: $data.id + \'-\' + $parent.randomId }" type="checkbox">\n\t\t\t\t\t\t\t\t\t<label class="pcs-dp-roles-perm-label-options" data-bind="attr: { for: $data.id + \'-\' + $parent.randomId }, text :$data.label"></label>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<!-- /ko  -->\n\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- /ko -->\n\t</div>\n\n</script>\n';});

define('pcs/dynamicProcess/roles/loader',['ojs/ojcore','knockout', '!text!pcs/dynamicProcess/roles/view/dpRoles.html',
		'./viewModel/dpRolesVM', './viewModel/dpRolesDetailVM', '!text!pcs/dynamicProcess/roles/view/dpRolesDetail.html'],

    function(oj, ko, rolesView, rolesViewModel, rolesDetailVM,rolesDetailView) {
        'use strict';
        //oj.Composite.register('pcs-dproles', {
        //    view: {
        //        inline: view
        //    },
        //    viewModel: {
        //        inline: viewModel
        //    },
        //    metadata: {
        //        inline: JSON.parse(metadata)
        //    }
        //});

		// register the details
		if (!ko.components.isRegistered('pcs-dproles-details')) {
			ko.components.register('pcs-dproles-details', {
				template: rolesDetailView,
				viewModel: {
					createViewModel: function(params, componentInfo) {
						return new rolesDetailVM(params, componentInfo);
					}
				}
			});
		}


		if (!ko.components.isRegistered('pcs-dproles')) {
			ko.components.register('pcs-dproles', {
				template: rolesView,
				viewModel: {
					createViewModel: function(params, componentInfo) {
						return new rolesViewModel(params, componentInfo);
					}
				}
			});
		}


    }
);

/**
 * Created by nisabhar on 11/28/2016.
 */




define('pcs/pcs.dynamicProcess',['ojs/ojcore', 'knockout', 'jquery', 'ojL10n!pcs/resources/nls/pcsSnippetsResource',
        'ojs/ojknockout',
        'pcs/pcs.identitybrowser',
        'pcs/dynamicProcess/status/loader',
        'pcs/dynamicProcess/activity/loader',
        'pcs/dynamicProcess/data/loader',
        'pcs/dynamicProcess/history/loader',
        'pcs/dynamicProcess/list/loader',
        'pcs/dynamicProcess/detail/loader',
        'pcs/dynamicProcess/mgmt/loader',
		'pcs/dynamicProcess/roles/loader',
		'pcs/util/loggerUtil'
    ],

    function(oj) {
        'use strict';
        //loggerUtil.log('loaded dynamic process file');
    }
);


//# sourceMappingURL=pcs.dynamicProcess.js.map